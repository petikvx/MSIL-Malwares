// Decompiled with JetBrains decompiler
// Type: a6iq6hq.kEYSloN
// Assembly: gO77Fih, Version=16.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: F43F05C3-DF79-4EF2-8C94-619BF1ED6D3E
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Gorgon.gen-83f6c309f411e1aebbdf75c62f67f163231f1b0ee065936230741272cda1cb9a.exe

using \u0030aaYmlN;
using \u0032xpwO2w;
using \u0039XQfkTy;
using cUJC88d;
using gERM8cd;
using li9OdoS;
using NFHp96i;
using OgtMi7w;
using Qh2rMXd;
using System;
using System.Collections.Generic;
using System.ComponentModel.Composition;
using System.ComponentModel.Composition.Primitives;
using System.ComponentModel.Composition.ReflectionModel;
using System.Linq;
using System.Reflection;
using TEpY6aq;
using ThTI8Bk;
using yAhKu3H;

namespace a6iq6hq
{
  internal class kEYSloN
  {
    public static nXnptVy Q5Bonfb(ComposablePartDefinition Yjyzbdk, ExportDefinition _param1)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      kEYSloN.VA0LzsW va0LzsW = (kEYSloN.VA0LzsW) new U2f7y6K.dZ1oJSb();
      Q3QfRgO.CYK6tK8<ComposablePartDefinition>(Yjyzbdk);
      Q3QfRgO.CYK6tK8<ExportDefinition>(_param1);
      LazyMemberInfo exportingMember = ReflectionModelServices.GetExportingMember(_param1);
      ((IrhEONn.by9c1RU) va0LzsW).F1R4qUk = new nXnptVy();
      ((IrhEONn.by9c1RU) va0LzsW).F1R4qUk.olpfntE = _param1.ContractName;
      ((IrhEONn.by9c1RU) va0LzsW).F1R4qUk.mO0iTEA = (int) exportingMember.MemberType;
      // ISSUE: reference to a compiler-generated method
      ((IrhEONn.by9c1RU) va0LzsW).F1R4qUk.\u0036D0k2Am = _param1.Metadata.Where<KeyValuePair<string, object>>(new Func<KeyValuePair<string, object>, bool>(va0LzsW.rlya1GE)).nNfBPcq(_param1.Metadata.Count - 1);
      IReadOnlyCollection<EDokEXf> UBDh8G5;
      ((IrhEONn.by9c1RU) va0LzsW).F1R4qUk.ot55hlI = \u0036HFRYLK.\u0032Gq7BZC(exportingMember.GetAccessors(), ReflectionModelServices.GetPartType(Yjyzbdk).Value, out UBDh8G5);
      ((IrhEONn.by9c1RU) va0LzsW).F1R4qUk.SymlqDC = UBDh8G5;
      return ((IrhEONn.by9c1RU) va0LzsW).F1R4qUk;
    }

    public static ExportDefinition QZ3y1Wa(
      ComposablePartDefinition nXEzOZY,
      nXnptVy xNUXtwh)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      kEYSloN.xJDKHnv xJdkHnv = (kEYSloN.xJDKHnv) new kEYSloN.VA0LzsW();
      Q3QfRgO.CYK6tK8<ComposablePartDefinition>(nXEzOZY);
      Q3QfRgO.CYK6tK8<nXnptVy>(xNUXtwh);
      Func<MemberInfo[]> accessorsCreator = \u0036HFRYLK.y8Nilzy(xNUXtwh.ot55hlI, xNUXtwh.SymlqDC, ReflectionModelServices.GetPartType(nXEzOZY));
      LazyMemberInfo exportingMember = new LazyMemberInfo((MemberTypes) xNUXtwh.mO0iTEA, accessorsCreator);
      // ISSUE: reference to a compiler-generated field
      ((kEYSloN.VA0LzsW) xJdkHnv).\u0034XRwv2s = xNUXtwh.oyCIT3O;
      // ISSUE: reference to a compiler-generated field
      if (!((kEYSloN.VA0LzsW) xJdkHnv).\u0034XRwv2s.ContainsKey("ExportTypeIdentity"))
      {
        // ISSUE: reference to a compiler-generated field
        if (((kEYSloN.VA0LzsW) xJdkHnv).\u0034XRwv2s.Count == 0)
        {
          // ISSUE: reference to a compiler-generated field
          ((kEYSloN.VA0LzsW) xJdkHnv).\u0034XRwv2s = (IDictionary<string, object>) new Wpvksmm(xNUXtwh.olpfntE);
        }
        else
        {
          // ISSUE: reference to a compiler-generated field
          ((kEYSloN.VA0LzsW) xJdkHnv).\u0034XRwv2s = xNUXtwh.\u0036D0k2Am;
          // ISSUE: reference to a compiler-generated field
          ((kEYSloN.VA0LzsW) xJdkHnv).\u0034XRwv2s.Add("ExportTypeIdentity", (object) xNUXtwh.olpfntE);
        }
      }
      else
      {
        // ISSUE: reference to a compiler-generated field
        if (((kEYSloN.VA0LzsW) xJdkHnv).\u0034XRwv2s.Count == 1)
        {
          // ISSUE: reference to a compiler-generated field
          // ISSUE: reference to a compiler-generated field
          ((kEYSloN.VA0LzsW) xJdkHnv).\u0034XRwv2s = (IDictionary<string, object>) new Wpvksmm(((kEYSloN.VA0LzsW) xJdkHnv).\u0034XRwv2s.CjJwvq6<string>("ExportTypeIdentity"));
        }
      }
      string olpfntE = xNUXtwh.olpfntE;
      // ISSUE: reference to a compiler-generated method
      Lazy<IDictionary<string, object>> metadata = jo5n1dw.DR2z1ms<IDictionary<string, object>>(new Func<IDictionary<string, object>>(xJdkHnv.ax4fUrN));
      ICompositionElement origin = nXEzOZY as ICompositionElement;
      return ReflectionModelServices.CreateExportDefinition(exportingMember, olpfntE, metadata, origin);
    }

    public static bYYkkdb EyalNf1(
      ComposablePartDefinition YR2RQdx,
      ContractBasedImportDefinition kHwvO1q)
    {
      Q3QfRgO.CYK6tK8<ComposablePartDefinition>(YR2RQdx);
      Q3QfRgO.CYK6tK8<ContractBasedImportDefinition>(kHwvO1q);
      bYYkkdb bYykkdb = new bYYkkdb();
      ContractBasedImportDefinition importDefinition = kHwvO1q;
      if (ReflectionModelServices.IsExportFactoryImportDefinition((ImportDefinition) kHwvO1q))
      {
        kHwvO1q = ReflectionModelServices.GetExportFactoryProductImportDefinition((ImportDefinition) kHwvO1q);
        bYykkdb.i7indVF = true;
      }
      else
        bYykkdb.i7indVF = false;
      bYykkdb.NOv4Hae = kHwvO1q.ContractName;
      bYykkdb.j0GlnAg = (int) kHwvO1q.RequiredCreationPolicy;
      bYykkdb.j4l6h9L = (int) kHwvO1q.Cardinality;
      if (kHwvO1q.RequiredTypeIdentity != null)
      {
        if (!kHwvO1q.RequiredTypeIdentity.Equals(kHwvO1q.ContractName, StringComparison.Ordinal))
          bYykkdb.Kkkng0a = kHwvO1q.RequiredTypeIdentity;
      }
      else
        bYykkdb.Kkkng0a = string.Empty;
      if (kHwvO1q.RequiredMetadata != null && kHwvO1q.RequiredMetadata.Count<KeyValuePair<string, Type>>() > 0)
        bYykkdb.MPf9i6A = new Q9s0CAh(kHwvO1q.RequiredMetadata);
      Lazy<Type> partType = ReflectionModelServices.GetPartType(YR2RQdx);
      if (ReflectionModelServices.IsImportingParameter((ImportDefinition) importDefinition))
      {
        ParameterInfo parameterInfo = ReflectionModelServices.GetImportingParameter((ImportDefinition) importDefinition).Value;
        bYykkdb.\u0038dCWJuy = true;
        bYykkdb.bgncPRo = parameterInfo.Position;
        bYykkdb.cOSrJP4 = \u0036HFRYLK.y8jQA1e(parameterInfo.Member, partType.Value);
      }
      else
      {
        LazyMemberInfo importingMember = ReflectionModelServices.GetImportingMember((ImportDefinition) importDefinition);
        bYykkdb.UrzeXpH = kHwvO1q.IsRecomposable;
        bYykkdb.\u00363g6M4R = (int) importingMember.MemberType;
        IReadOnlyCollection<EDokEXf> UBDh8G5;
        bYykkdb.CDmON7J = \u0036HFRYLK.\u0032Gq7BZC(importingMember.GetAccessors(), partType.Value, out UBDh8G5);
        bYykkdb.SymlqDC = UBDh8G5;
      }
      bYykkdb.\u0036D0k2Am = kHwvO1q.Metadata;
      return bYykkdb;
    }

    public static ContractBasedImportDefinition yCZzTYp(
      ComposablePartDefinition UILrSSB,
      bYYkkdb ik8EYtn)
    {
      Q3QfRgO.CYK6tK8<ComposablePartDefinition>(UILrSSB);
      Q3QfRgO.CYK6tK8<bYYkkdb>(ik8EYtn);
      Lazy<Type> partType = ReflectionModelServices.GetPartType(UILrSSB);
      ICompositionElement origin = UILrSSB as ICompositionElement;
      string requiredTypeIdentity = ik8EYtn.Kkkng0a;
      if (requiredTypeIdentity == null)
        requiredTypeIdentity = ik8EYtn.NOv4Hae;
      else if (requiredTypeIdentity.Length == 0)
        requiredTypeIdentity = (string) null;
      IEnumerable<KeyValuePair<string, Type>> requiredMetadata = (IEnumerable<KeyValuePair<string, Type>>) ik8EYtn.MPf9i6A ?? Enumerable.Empty<KeyValuePair<string, Type>>();
      if (ik8EYtn.\u0038dCWJuy)
        return ReflectionModelServices.CreateImportDefinition(\u0036HFRYLK.MICFmX6(ik8EYtn.bgncPRo, ik8EYtn.cOSrJP4, partType), ik8EYtn.NOv4Hae, requiredTypeIdentity, requiredMetadata, (ImportCardinality) ik8EYtn.j4l6h9L, (CreationPolicy) ik8EYtn.j0GlnAg, ik8EYtn.oyCIT3O, ik8EYtn.i7indVF, origin);
      Func<MemberInfo[]> accessorsCreator = \u0036HFRYLK.y8Nilzy(ik8EYtn.CDmON7J, ik8EYtn.SymlqDC, partType);
      return ReflectionModelServices.CreateImportDefinition(new LazyMemberInfo((MemberTypes) ik8EYtn.\u00363g6M4R, accessorsCreator), ik8EYtn.NOv4Hae, requiredTypeIdentity, requiredMetadata, (ImportCardinality) ik8EYtn.j4l6h9L, ik8EYtn.UrzeXpH, (CreationPolicy) ik8EYtn.j0GlnAg, ik8EYtn.oyCIT3O, ik8EYtn.i7indVF, origin);
    }

    public static VoF5cMP \u0030tkZh8h(ComposablePartDefinition HpYUAEI)
    {
      Q3QfRgO.CYK6tK8<ComposablePartDefinition>(HpYUAEI);
      VoF5cMP voF5cMp = new VoF5cMP();
      voF5cMp.\u0036D0k2Am = HpYUAEI.Metadata;
      voF5cMp.\u0031HuvBXV = ReflectionModelServices.GetPartType(HpYUAEI).Value.MetadataToken;
      voF5cMp.WGX9nDj = ReflectionModelServices.IsDisposalRequired(HpYUAEI);
      return voF5cMp;
    }

    public static ComposablePartDefinition \u003452v0hw(
      VoF5cMP jIq3Lft,
      Func<ComposablePartDefinition, IEnumerable<ImportDefinition>> KdqlNKG,
      Func<ComposablePartDefinition, IEnumerable<ExportDefinition>> _param2,
      Func<Assembly> wlpsnTf)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      kEYSloN.NX4fypY nx4fypY = (kEYSloN.NX4fypY) new kEYSloN.xJDKHnv();
      // ISSUE: reference to a compiler-generated field
      ((kEYSloN.xJDKHnv) nx4fypY).SSxUrzu = KdqlNKG;
      // ISSUE: reference to a compiler-generated field
      nx4fypY.hGqoixJ = _param2;
      // ISSUE: reference to a compiler-generated field
      nx4fypY.kN73yXq = jIq3Lft;
      // ISSUE: reference to a compiler-generated field
      Q3QfRgO.CYK6tK8<VoF5cMP>(nx4fypY.kN73yXq);
      // ISSUE: reference to a compiler-generated field
      Lazy<Type> partType = \u0036HFRYLK.umkaDyw(wlpsnTf, nx4fypY.kN73yXq.\u0031HuvBXV);
      // ISSUE: reference to a compiler-generated field
      nx4fypY.\u0032T3njTb = (ComposablePartDefinition) null;
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated method
      // ISSUE: reference to a compiler-generated method
      // ISSUE: reference to a compiler-generated method
      nx4fypY.\u0032T3njTb = ReflectionModelServices.CreatePartDefinition(partType, nx4fypY.kN73yXq.WGX9nDj, jo5n1dw.DR2z1ms<IEnumerable<ImportDefinition>>(new Func<IEnumerable<ImportDefinition>>(nx4fypY.\u0032qZcYaj)), jo5n1dw.DR2z1ms<IEnumerable<ExportDefinition>>(new Func<IEnumerable<ExportDefinition>>(nx4fypY.bkCmyuS)), jo5n1dw.DR2z1ms<IDictionary<string, object>>(new Func<IDictionary<string, object>>(nx4fypY.HQbkEX1)), (ICompositionElement) null);
      // ISSUE: reference to a compiler-generated field
      return nx4fypY.\u0032T3njTb;
    }

    private static bool t4TdEuN(KeyValuePair<string, object> _param0, nXnptVy LmHFqYs) => !(_param0.Key == "ExportTypeIdentity") || !string.Equals(LmHFqYs.olpfntE, _param0.Value as string, StringComparison.Ordinal);
  }
}
