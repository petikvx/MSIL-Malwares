// Decompiled with JetBrains decompiler
// Type: whIM3HZMjCRJVuI7h.l3w364QsSvhvwE469
// Assembly: bouNMGxVgGi4SRgWO, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60
// MVID: 3F6A2AF1-3CCB-4F01-AA36-FA31C2E4CFE8
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Backdoor.MSIL.Agent.gen-bc408b9f362db28b2e931ff336ec5661cc0ce27b0cdc0ce215fec1b7381aca7f.exe

using \u0033eVYd5LIQhZ7rzGZ2;
using aF1EEljJMevbc0dQO;
using fcxTd0CgJgB8stQvj;
using GUxwlAGXtz8Biqdzq;
using jlhFNVXvwEp5FRUh5;
using Microsoft.TemplateEngine.Abstractions;
using Microsoft.TemplateEngine.Core.Contracts;
using Newtonsoft.Json.Linq;
using PgLEPpSpDk54KWT6E;
using System;
using System.Collections.Generic;
using zjOMGQo4U7RNSpo2h;

namespace whIM3HZMjCRJVuI7h
{
  public class l3w364QsSvhvwE469 : IIdentifiedComponent, IDeferredMacro, IMacro
  {
    private static readonly int LKEK5Gj1KdTHwDyED = 1024;
    private static readonly int \u0034ucXwFx54jD9JJSC0 = (int) ushort.MaxValue;

    public Guid g7rQFk5Ww8qyLOnfz => new Guid("D49B3690-B1E5-410F-A260-E1D7E873D8B2");

    public string \u0035jC3inr5AGiZJpkPv => "port";

    public void t1l7jXPjBIpt0EHWx(
      IEngineEnvironmentSettings _param1,
      IVariableCollection _param2,
      IMacroConfig _param3,
      IParameterSet _param4,
      eudKo284TuJqIEahM Bprbdt8Z0aV9BmZHZ)
    {
      if (!(_param3 is HkH5KWgtmZX8ggIbB hkH5KwgtmZx8ggIbB))
        throw new InvalidCastException("Couldn't cast the rawConfig as EvaluateMacroConfig");
      hkH5KwgtmZx8ggIbB.Q1xAmrqezAchNDevY?.Dispose();
      ITemplateParameter itemplateParameter;
      ckgfOYwQVcmI3lHXN parameter;
      if (_param4.TryGetParameterDefinition(hkH5KwgtmZx8ggIbB.wTOeacyfwkx9G0jHg, ref itemplateParameter))
      {
        parameter = (ckgfOYwQVcmI3lHXN) itemplateParameter;
        parameter.Cg57rESMJLQIVeHLw = true;
        if (string.IsNullOrEmpty(parameter.\u0038DBEv3DWcN5nNg1o1))
          parameter.\u0038DBEv3DWcN5nNg1o1 = hkH5KwgtmZx8ggIbB.QyQqub4eaL3kP16kO;
      }
      else
        parameter = new ckgfOYwQVcmI3lHXN()
        {
          Cg57rESMJLQIVeHLw = true,
          RWvAX7XIWjB7LsE1n = hkH5KwgtmZx8ggIbB.wTOeacyfwkx9G0jHg,
          \u0038DBEv3DWcN5nNg1o1 = hkH5KwgtmZx8ggIbB.QyQqub4eaL3kP16kO
        };
      ((IDictionary<string, object>) _param2)[hkH5KwgtmZx8ggIbB.wTOeacyfwkx9G0jHg] = (object) hkH5KwgtmZx8ggIbB.Z93FoytMLKJBAAzGs.ToString();
      Bprbdt8Z0aV9BmZHZ((ITemplateParameter) parameter, hkH5KwgtmZx8ggIbB.Z93FoytMLKJBAAzGs.ToString());
    }

    public IMacroConfig uqvXdnGGbJNVSFMfA(
      IEngineEnvironmentSettings AGa4yvx8oAyAh1gRc,
      IMacroConfig jFgN8infZbR7CTeDZ)
    {
      if (!(jFgN8infZbR7CTeDZ is KZUSKKOdswxWjB6He kzuskkOdswxWjB6He))
        throw new InvalidCastException("Couldn't cast the rawConfig as a GeneratedSymbolDeferredMacroConfig");
      JToken jtoken1;
      int low;
      if (!kzuskkOdswxWjB6He.dYZjsKaakeS43shkR.TryGetValue("low", out jtoken1) || jtoken1.Type != 6)
      {
        low = l3w364QsSvhvwE469.LKEK5Gj1KdTHwDyED;
      }
      else
      {
        low = Extensions.Value<int>((IEnumerable<JToken>) jtoken1);
        if (low < l3w364QsSvhvwE469.LKEK5Gj1KdTHwDyED)
          low = l3w364QsSvhvwE469.LKEK5Gj1KdTHwDyED;
      }
      JToken jtoken2;
      int high;
      if (!kzuskkOdswxWjB6He.dYZjsKaakeS43shkR.TryGetValue("high", out jtoken2) || jtoken2.Type != 6)
      {
        high = l3w364QsSvhvwE469.\u0034ucXwFx54jD9JJSC0;
      }
      else
      {
        high = Extensions.Value<int>((IEnumerable<JToken>) jtoken2);
        if (high > l3w364QsSvhvwE469.\u0034ucXwFx54jD9JJSC0)
          high = l3w364QsSvhvwE469.\u0034ucXwFx54jD9JJSC0;
      }
      if (low > high)
      {
        low = l3w364QsSvhvwE469.LKEK5Gj1KdTHwDyED;
        high = l3w364QsSvhvwE469.\u0034ucXwFx54jD9JJSC0;
      }
      int fallback = 0;
      JToken kJhqeKXTLX1Mpl00U;
      if (kzuskkOdswxWjB6He.dYZjsKaakeS43shkR.TryGetValue("fallback", out kJhqeKXTLX1Mpl00U) && kJhqeKXTLX1Mpl00U.Type == 6)
        fallback = kJhqeKXTLX1Mpl00U.MH0EwtMWWvNiWW3pQ();
      return (IMacroConfig) new HkH5KWgtmZX8ggIbB(kzuskkOdswxWjB6He.\u0036gh4E6uhQGL10SKFe, kzuskkOdswxWjB6He.xbfbgFpF57ZJB3TfG, fallback, low, high);
    }
  }
}
