// Decompiled with JetBrains decompiler
// Type: <Module>
// Assembly: ReadLineS0SAT, Version=2.0.8.1, Culture=neutral, PublicKeyToken=null
// MVID: 826822DE-6F21-4D67-9238-0DAF50EB618B
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.Win32.Generic-9ec8f988ff41765b68c6a4d29d259fafb62e97ad2d3633c43fbe0ab0dd12518d.exe

using System;
using System.Diagnostics;
using System.Reflection;
using System.Runtime.InteropServices;
using System.Threading;

internal class \u003CModule\u003E
{
  static \u003CModule\u003E()
  {
    MethodInfo method = typeof (Environment).GetMethod("GetEnvironmentVariable", new Type[1]
    {
      typeof (string)
    });
    if ((object) method != null)
    {
      if ("1".Equals(method.Invoke((object) null, new object[1]
      {
        (object) "COR_ENABLE_PROFILING"
      })))
        Environment.FailFast((string) null);
    }
    new Thread(new ParameterizedThreadStart(\u003CModule\u003E.\u206F‪⁮‭⁪‪‫⁭‏​‫‪‌‪‪⁮⁬‌‪​⁫⁪‫‪⁭‬‌‍⁪‏⁫⁬⁫‬‮‭⁭⁮‫‭‮))
    {
      IsBackground = true
    }.Start((object) null);
  }

  private static void \u206F‪⁮‭⁪‪‫⁭‏​‫‪‌‪‪⁮⁬‌‪​⁫⁪‫‪⁭‬‌‍⁪‏⁫⁬⁫‬‮‭⁭⁮‫‭‮([In] object obj0)
  {
    if (!(obj0 is Thread thread))
    {
      thread = new Thread(new ParameterizedThreadStart(\u003CModule\u003E.\u206F‪⁮‭⁪‪‫⁭‏​‫‪‌‪‪⁮⁬‌‪​⁫⁪‫‪⁭‬‌‍⁪‏⁫⁬⁫‬‮‭⁭⁮‫‭‮));
      thread.IsBackground = true;
      thread.Start((object) Thread.CurrentThread);
      Thread.Sleep(500);
    }
    while (true)
    {
      if (Debugger.IsAttached || Debugger.IsLogging())
        Environment.FailFast((string) null);
      if (!thread.IsAlive)
        Environment.FailFast((string) null);
      Thread.Sleep(1000);
    }
  }
}
