// Decompiled with JetBrains decompiler
// Type: BlackJackConsole.Hand
// Assembly: RuntimeFieldHandleInter, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B77E6DA1-3105-41CC-BF61-BF72DE43E45D
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.05\Backdoor.Win32.Blakken.vqi-ee87094c1f1aa17c4fa85f40bcc253e02ed4b5cac439d8f5091ebfc3b4d242c1.exe

using System.Collections.Generic;

namespace BlackJackConsole
{
  internal class Hand
  {
    private int _score;
    private List<Card> _cardsInHand;

    public Hand(Card firstcard)
    {
      this._cardsInHand = new List<Card>();
      this._cardsInHand.Add(firstcard);
      this._score = 0;
    }

    public bool checkNatural21() => this._score == 21 && this._cardsInHand.Count == 2;

    private void updateScore()
    {
      int num = 0;
      this._score = 0;
      foreach (Card card in this._cardsInHand)
      {
        if (card.getValue == 1)
        {
          ++num;
          this._score += 11;
        }
        else if (card.getValue >= 10)
          this._score += 10;
        else
          this._score += card.getValue;
      }
      for (; this._score > 21 && num > 0; --num)
        this._score -= 10;
    }

    public void addCardToHand(Card addedCard)
    {
      this._cardsInHand.Add(addedCard);
      this.updateScore();
    }
  }
}
