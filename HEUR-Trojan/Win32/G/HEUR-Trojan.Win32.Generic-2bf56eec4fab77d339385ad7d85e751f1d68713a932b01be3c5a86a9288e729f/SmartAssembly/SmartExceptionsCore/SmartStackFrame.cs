// Decompiled with JetBrains decompiler
// Type: SmartAssembly.SmartExceptionsCore.SmartStackFrame
// Assembly: serLoader, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: EB10F7D0-661D-4A45-B90F-D464336E900E
// Assembly location: C:\Users\Administrateur\Downloads\VirusShare_CryptoRansom_20160715-msil\HEUR-Trojan.Win32.Generic-2bf56eec4fab77d339385ad7d85e751f1d68713a932b01be3c5a86a9288e729f.exe

using \u0001;
using System;
using System.Runtime.InteropServices;
using System.Runtime.Serialization;

namespace SmartAssembly.SmartExceptionsCore
{
  [Serializable]
  public sealed class SmartStackFrame : ISerializable
  {
    public const string NotSerializable = "Non-serializable object's string representation: '{0}'";
    public readonly int MethodID;
    public readonly object[] Objects;
    public readonly int ILOffset;
    public readonly int ExceptionStackDepth;

    public virtual void GetObjectData([In] SerializationInfo obj0, [In] StreamingContext obj1)
    {
      obj0.AddValue(\u0008.\u0002(4546), (object) this.MethodID, typeof (int));
      // ISSUE: type reference
      \u0005\u0005.\u007E\u0002\u0006((object) obj0, \u0008.\u0002(4583), (object) this.ILOffset, \u0084\u0004.\u008E\u0003(__typeref (int)));
      // ISSUE: type reference
      \u0005\u0005.\u007E\u0002\u0006((object) obj0, \u0008.\u0002(4620), (object) this.ExceptionStackDepth, \u0084\u0004.\u008E\u0003(__typeref (int)));
      int num1 = this.Objects == null ? 0 : this.Objects.Length;
      if (true)
        goto label_8;
label_1:
      int num2;
      // ISSUE: type reference
      \u0005\u0005.\u007E\u0002\u0006((object) obj0, \u0008.\u0002(4673), (object) num2, \u0084\u0004.\u008E\u0003(__typeref (int)));
      if (true)
        goto label_9;
label_7:
      int index;
      for (; index < num2; ++index)
      {
        string str1 = \u008C\u0003.\u0003\u0002(\u0008.\u0002(4718), (object) index);
        if (true)
          goto label_10;
label_4:
        string str2;
        try
        {
          SmartStackFrame.\u0002(obj0, str2, this.Objects[index]);
          continue;
        }
        catch (Exception ex)
        {
          object obj = (object) \u0008.\u0002(4763);
          SmartStackFrame.\u0002(obj0, str2, obj);
          continue;
        }
label_10:
        str2 = str1;
        goto label_4;
      }
      return;
label_9:
      index = 0;
      goto label_7;
label_8:
      num2 = num1;
      goto label_1;
    }

    private static void \u0002([In] SerializationInfo obj0, [In] string obj1, [In] object obj2)
    {
      try
      {
        if (obj2.GetType().IsSerializable)
          goto label_3;
label_2:
        obj2 = (object) \u008C\u0003.\u0003\u0002(\u0008.\u0002(4864), obj2);
label_3:
        if (true)
        {
          // ISSUE: type reference
          \u0005\u0005.\u007E\u0002\u0006((object) obj0, obj1, obj2, \u0084\u0004.\u008E\u0003(__typeref (object)));
        }
        else
          goto label_2;
      }
      catch (SerializationException ex)
      {
        do
        {
          // ISSUE: type reference
          \u0005\u0005.\u007E\u0002\u0006((object) obj0, obj1, (object) \u008C\u0003.\u0003\u0002(\u0008.\u0002(4864), obj2), \u0084\u0004.\u008E\u0003(__typeref (object)));
        }
        while (false);
      }
    }

    internal SmartStackFrame([In] SerializationInfo obj0, [In] StreamingContext obj1)
    {
      this.MethodID = \u0089\u0003.\u007E\u0004\u0006((object) obj0, \u0008.\u0002(4546));
      this.ILOffset = \u0089\u0003.\u007E\u0004\u0006((object) obj0, \u0008.\u0002(4583));
      this.ExceptionStackDepth = \u0089\u0003.\u007E\u0004\u0006((object) obj0, \u0008.\u0002(4620));
      int length = \u0089\u0003.\u007E\u0004\u0006((object) obj0, \u0008.\u0002(4673));
      this.Objects = new object[length];
      for (int index = 0; index < length; ++index)
      {
        try
        {
          // ISSUE: type reference
          this.Objects[index] = \u0006\u0005.\u007E\u0003\u0006((object) obj0, \u008C\u0003.\u0003\u0002(\u0008.\u0002(4718), (object) index), \u0084\u0004.\u008E\u0003(__typeref (object)));
        }
        catch (Exception ex)
        {
          this.Objects[index] = (object) \u0008.\u0002(4937);
        }
      }
    }

    internal SmartStackFrame([In] int obj0, [In] object[] obj1, [In] int obj2, [In] int obj3)
    {
      this.MethodID = obj0;
      this.ExceptionStackDepth = obj3;
      this.ILOffset = obj2;
      this.Objects = obj1;
    }
  }
}
