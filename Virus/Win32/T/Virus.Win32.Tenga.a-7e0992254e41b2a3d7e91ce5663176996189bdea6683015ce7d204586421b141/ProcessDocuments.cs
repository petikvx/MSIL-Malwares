// Decompiled with JetBrains decompiler
// Type: Wrox.ProCSharp.Collections.ProcessDocuments
// Assembly: QueueSample, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B5D1CCEA-72B2-4FFE-A2A0-223BA2BFFCD5
// Assembly location: C:\Users\Administrateur\Desktop\Virusshare-00005-msil\Virus.Win32.Tenga.a-7e0992254e41b2a3d7e91ce5663176996189bdea6683015ce7d204586421b141.exe

using System;
using System.Threading;

namespace Wrox.ProCSharp.Collections
{
  public class ProcessDocuments
  {
    private DocumentManager documentManager;

    public static void Start(DocumentManager dm) => new Thread(new ThreadStart(new ProcessDocuments(dm).Run)).Start();

    protected ProcessDocuments(DocumentManager dm) => this.documentManager = dm;

    protected void Run()
    {
      while (true)
      {
        if (this.documentManager.IsDocumentAvailable)
          Console.WriteLine("Processing document {0}", (object) this.documentManager.GetDocument().Title);
        Thread.Sleep(new Random().Next(20));
      }
    }
  }
}
