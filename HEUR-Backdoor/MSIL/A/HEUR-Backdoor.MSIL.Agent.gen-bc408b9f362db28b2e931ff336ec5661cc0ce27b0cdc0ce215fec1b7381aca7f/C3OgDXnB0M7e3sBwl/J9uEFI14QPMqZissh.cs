// Decompiled with JetBrains decompiler
// Type: C3OgDXnB0M7e3sBwl.J9uEFI14QPMqZissh
// Assembly: bouNMGxVgGi4SRgWO, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60
// MVID: 3F6A2AF1-3CCB-4F01-AA36-FA31C2E4CFE8
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Backdoor.MSIL.Agent.gen-bc408b9f362db28b2e931ff336ec5661cc0ce27b0cdc0ce215fec1b7381aca7f.exe

using \u0032seD57Wedn7pxNiu4;
using \u0033EQEv1nUih3i7RlwD;
using \u0039bLAsx6l855I1cqbt;
using abIg3qdW3UpZqiLUe;
using b2PPeUoEJltQsXl9C;
using f8MTx7wFiNqHdp2Y9;
using HNxPOFDg1ZHjVh2zY;
using hOojaF8f1QFT2ayHU;
using kioocZmFD7GzwMLcO;
using Microsoft.TemplateEngine.Abstractions;
using Microsoft.TemplateEngine.Abstractions.Mount;
using Microsoft.TemplateEngine.Abstractions.PhysicalFileSystem;
using Microsoft.TemplateEngine.Core;
using Microsoft.TemplateEngine.Core.Contracts;
using Microsoft.TemplateEngine.Core.Util;
using Microsoft.TemplateEngine.Utils;
using Newtonsoft.Json;
using Newtonsoft.Json.Linq;
using PgLEPpSpDk54KWT6E;
using S5rLCBT4dvZbpILSB;
using saoIRJkbshzEOA30R;
using System;
using System.Collections.Generic;
using System.Globalization;
using System.IO;
using System.Linq;
using System.Text.RegularExpressions;
using System.Threading.Tasks;
using TfjrOj8JnuRYvOsMN;
using wbCFwXZgvNBJLcf8I;
using zjOMGQo4U7RNSpo2h;

namespace C3OgDXnB0M7e3sBwl
{
  public class J9uEFI14QPMqZissh : IGenerator, IIdentifiedComponent
  {
    private static readonly Guid hmcrAFb1vbIH1Hi9w = new Guid("0C434DF7-E2CB-4DEE-B216-D7C58C8EB4B3");
    private static readonly string MqsWN0aL49HgZw871 = "1.0.0.0";
    public static readonly string Jc0C6x1Tydh0CwTLO = ".template.config";
    public static readonly string jZjzFxk3lBZGzibR6 = "template.json";
    private static readonly string ErTi7r9EAMe0Uxx7V = "AdditionalConfigFiles";

    public Guid euRQCy5PTYML5uSSP => J9uEFI14QPMqZissh.hmcrAFb1vbIH1Hi9w;

    public Task<ICreationResult> IckAVZvoTI9RMFTmc(
      IEngineEnvironmentSettings KIiZXnzrLKaPyTZEs,
      ITemplate DU5QyEO3If9e2jRQT,
      IParameterSet H4PLctxtJqDFgBCRU,
      IComponentManager _param4,
      string L9Q2XC3NhAWEYcamJ)
    {
      \u0034nbeWlB8uPWaaI8sS obj = (\u0034nbeWlB8uPWaaI8sS) DU5QyEO3If9e2jRQT;
      J9uEFI14QPMqZissh.Z6mXzsOgCXVoUrFJo(KIiZXnzrLKaPyTZEs, _param4, obj.urjCr6Veu08qPufws.OperationConfig, H4PLctxtJqDFgBCRU);
      IVariableCollection ivariableCollection = VariableCollection.SetupVariables(KIiZXnzrLKaPyTZEs, H4PLctxtJqDFgBCRU, obj.urjCr6Veu08qPufws.OperationConfig.VariableSetup);
      obj.urjCr6Veu08qPufws.Evaluate(H4PLctxtJqDFgBCRU, ivariableCollection, (IFileSystemInfo) obj.pvwjShE6JXFOLl5r9);
      aE1IdqWEXXn1tBCIS e1IdqWexXn1tBcis = new aE1IdqWEXXn1tBCIS((IOrchestrator2) new Orchestrator());
      FaEMjp17NWfxHKRk4 PaQdJcFlQuZpUO3Uc = new FaEMjp17NWfxHKRk4(obj.iTZ8Vro86iNwqHvPi, _param4, H4PLctxtJqDFgBCRU, ivariableCollection, obj.urjCr6Veu08qPufws.OperationConfig, obj.urjCr6Veu08qPufws.SpecialOperationConfig, obj.urjCr6Veu08qPufws.LocalizationOperations, obj.urjCr6Veu08qPufws.IgnoreFileNames);
      foreach (N19aXVav6htZ8iWZQ source in (IEnumerable<N19aXVav6htZ8iWZQ>) obj.urjCr6Veu08qPufws.Sources)
      {
        PaQdJcFlQuZpUO3Uc.Mh2GMHzNnpvp0MNZ8(source);
        string zM9STZdIObNhcL93s = Path.Combine(L9Q2XC3NhAWEYcamJ, source.\u00367cizuFxC3goHDmcq);
        e1IdqWexXn1tBcis.IJByoh4PgseEfgtTo((IGlobalRunSpec) PaQdJcFlQuZpUO3Uc, FileSystemInfoExtensions.DirectoryInfo((IFileSystemInfo) obj.iTZ8Vro86iNwqHvPi, source.p3Wx9mkFoVyujw3Zv), zM9STZdIObNhcL93s);
      }
      return Task.FromResult<ICreationResult>(J9uEFI14QPMqZissh.siHL1WIR1aUXsAvGl(KIiZXnzrLKaPyTZEs, obj, ivariableCollection));
    }

    private static ICreationResult siHL1WIR1aUXsAvGl(
      IEngineEnvironmentSettings CsreE8OVq2WE3Jie7,
      \u0034nbeWlB8uPWaaI8sS _param1,
      IVariableCollection qtDcyEwqafiEtg3Cd)
    {
      return (ICreationResult) new dPYa5TvqAaYb1Nk8M()
      {
        SpNRU7sciLto8INed = (IReadOnlyList<IPostAction>) \u00327PL5ZSxAjXHPaM8x.\u0032OggCapyVfkpFfajn(CsreE8OVq2WE3Jie7, _param1.urjCr6Veu08qPufws.PostActionModel, qtDcyEwqafiEtg3Cd),
        aKWGPETPXSmACBfRe = rfCZg9vkpgfmsy6bg.GGaTRiU8dLzHvDnEE(CsreE8OVq2WE3Jie7, _param1.urjCr6Veu08qPufws.PrimaryOutputs, qtDcyEwqafiEtg3Cd)
      };
    }

    private static void Z6mXzsOgCXVoUrFJo(
      IEngineEnvironmentSettings ebw475VzVaCysuBBB,
      IComponentManager _param1,
      IGlobalRunConfig FiMvgCaYsmJpJFrco,
      IParameterSet MSsjbJoQLCiMaOmdd)
    {
      if (FiMvgCaYsmJpJFrco.Macros != null)
      {
        IVariableCollection FCBpmrfSqvVznDPK6 = VariableCollection.SetupVariables(ebw475VzVaCysuBBB, MSsjbJoQLCiMaOmdd, FiMvgCaYsmJpJFrco.VariableSetup);
        new DqQ6EXznKrtkI4Gcq().ZwryX5oP3Y2mZka5w(ebw475VzVaCysuBBB, _param1, FiMvgCaYsmJpJFrco.Macros, FCBpmrfSqvVznDPK6, MSsjbJoQLCiMaOmdd);
      }
      if (FiMvgCaYsmJpJFrco.ComputedMacros == null)
        return;
      IVariableCollection FCBpmrfSqvVznDPK6_1 = VariableCollection.SetupVariables(ebw475VzVaCysuBBB, MSsjbJoQLCiMaOmdd, FiMvgCaYsmJpJFrco.VariableSetup);
      new DqQ6EXznKrtkI4Gcq().ZwryX5oP3Y2mZka5w(ebw475VzVaCysuBBB, _param1, FiMvgCaYsmJpJFrco.ComputedMacros, FCBpmrfSqvVznDPK6_1, MSsjbJoQLCiMaOmdd);
    }

    public IParameterSet ImJUyqleSq8ZQmFwV(
      IEngineEnvironmentSettings fAgzrisCuD58EkHbJ,
      ITemplate GnLe3KL77PpvLpmIK)
    {
      // ISSUE: object of a compiler-generated type is created
      return (IParameterSet) new FaEMjp17NWfxHKRk4.KY94jp1YfJgUJpM8l(((\u0034nbeWlB8uPWaaI8sS) GnLe3KL77PpvLpmIK).urjCr6Veu08qPufws);
    }

    private bool t29Tzt4Ghn9AL7WDQ(IFile _param1, out ILocalizationModel _param2)
    {
      if (_param1 == null)
      {
        _param2 = (ILocalizationModel) null;
        return false;
      }
      try
      {
        JObject Z8e6D5809GzOjElDi = this.K72YxB24U5PUzxQe3(_param1);
        _param2 = \u0038AJf1ewgH7Z4Yl8A7.px72icLwx1bqyb9cq(Z8e6D5809GzOjElDi);
        return true;
      }
      catch (Exception ex)
      {
        ((IFileSystemInfo) _param1).MountPoint.EnvironmentSettings.Host.LogMessage("Error reading Langpack from file: " + ((IFileSystemInfo) _param1).FullPath + " | Error = " + ex.ToString());
      }
      _param2 = (ILocalizationModel) null;
      return false;
    }

    public IList<ITemplate> WBN3tKVgihQBZTDad(
      IMountPoint isVtt3Jy3N2wxO65a,
      out IList<ILocalizationLocator> DlptRe80pUW0TqvRb)
    {
      IDirectory root = isVtt3Jy3N2wxO65a.Root;
      Regex regex = new Regex("\r\n                ^\r\n                (?<locale>\r\n                    [a-z]{2}\r\n                    (?:-[A-Z]{2})?\r\n                )\r\n                \\." + Regex.Escape(J9uEFI14QPMqZissh.jZjzFxk3lBZGzibR6) + "$", RegexOptions.IgnorePatternWhitespace);
      IList<ITemplate> itemplateList = (IList<ITemplate>) new List<ITemplate>();
      DlptRe80pUW0TqvRb = (IList<ILocalizationLocator>) new List<ILocalizationLocator>();
      string str1 = "*" + J9uEFI14QPMqZissh.jZjzFxk3lBZGzibR6;
      foreach (IFile enumerateFile in root.EnumerateFiles(str1, SearchOption.AllDirectories))
      {
        if (string.Equals(((IFileSystemInfo) enumerateFile).Name, J9uEFI14QPMqZissh.jZjzFxk3lBZGzibR6, StringComparison.OrdinalIgnoreCase))
        {
          IFile templateConfigFile = ((IFileSystemInfo) enumerateFile).MountPoint.EnvironmentSettings.SettingsLoader.FindBestHostTemplateConfigFile((IFileSystemInfo) enumerateFile);
          ITemplate jyNUBr75iaSCXiosc;
          if (this.VLgr4ltymKZ8WyqAm((IFileSystemInfo) enumerateFile, out jyNUBr75iaSCXiosc, H4IeKfxSw96IyAWdj: templateConfigFile))
            ((ICollection<ITemplate>) itemplateList).Add(jyNUBr75iaSCXiosc);
        }
        else
        {
          Match match = regex.Match(((IFileSystemInfo) enumerateFile).Name);
          if (match.Success)
          {
            string str2 = match.Groups["locale"].Value;
            ILocalizationModel ilocalizationModel;
            if (this.t29Tzt4Ghn9AL7WDQ(enumerateFile, out ilocalizationModel))
            {
              ILocalizationLocator ilocalizationLocator = (ILocalizationLocator) new LocalizationLocator()
              {
                Locale = str2,
                MountPointId = isVtt3Jy3N2wxO65a.Info.MountPointId,
                ConfigPlace = ((IFileSystemInfo) enumerateFile).FullPath,
                Identity = ilocalizationModel.Identity,
                Author = ilocalizationModel.Author,
                Name = ilocalizationModel.Name,
                Description = ilocalizationModel.Description,
                ParameterSymbols = ilocalizationModel.ParameterSymbols
              };
              ((ICollection<ILocalizationLocator>) DlptRe80pUW0TqvRb).Add(ilocalizationLocator);
            }
          }
        }
      }
      return itemplateList;
    }

    internal bool GH4t9VpExIXmn4gth(
      IRunnableProjectConfig _param1,
      \u0034nbeWlB8uPWaaI8sS OvnbOnENFJvW9LzLe)
    {
      ITemplateEngineHost host = OvnbOnENFJvW9LzLe.JkLe0G7hR0qhDVWg9.EnvironmentSettings.Host;
      if (OvnbOnENFJvW9LzLe.iTZ8Vro86iNwqHvPi == null)
      {
        host.LogDiagnosticMessage(string.Empty, "Authoring", new string[0]);
        host.LogDiagnosticMessage(string.Format(ZF0BEIzg49cvah6mJ.usK0TOrQL7E1SpSS7, (object) OvnbOnENFJvW9LzLe.ID2feswsrLlSGKIlu), "Authoring", new string[0]);
        return false;
      }
      bool flag = true;
      foreach (N19aXVav6htZ8iWZQ source in (IEnumerable<N19aXVav6htZ8iWZQ>) _param1.Sources)
      {
        try
        {
          IFile ifile = FileSystemInfoExtensions.FileInfo((IFileSystemInfo) OvnbOnENFJvW9LzLe.iTZ8Vro86iNwqHvPi, source.p3Wx9mkFoVyujw3Zv);
          if ((ifile != null ? (((IFileSystemInfo) ifile).Exists ? 1 : 0) : 0) != 0)
          {
            flag = false;
            host.LogDiagnosticMessage(string.Empty, "Authoring", new string[0]);
            host.LogDiagnosticMessage(string.Format(ZF0BEIzg49cvah6mJ.\u0032k68pOXJou9y6x5CC, (object) OvnbOnENFJvW9LzLe.ID2feswsrLlSGKIlu), "Authoring", new string[0]);
            host.LogDiagnosticMessage(string.Format(ZF0BEIzg49cvah6mJ.Xmv8v00heyes43bIV, (object) ((IFileSystemInfo) OvnbOnENFJvW9LzLe.iTZ8Vro86iNwqHvPi).FullPath), "Authoring", new string[0]);
            host.LogDiagnosticMessage(string.Format(ZF0BEIzg49cvah6mJ.\u00335oMJPy4AVmYva8ZR, (object) source.p3Wx9mkFoVyujw3Zv), "Authoring", new string[0]);
          }
          else
          {
            IDirectory idirectory = FileSystemInfoExtensions.DirectoryInfo((IFileSystemInfo) OvnbOnENFJvW9LzLe.iTZ8Vro86iNwqHvPi, source.p3Wx9mkFoVyujw3Zv);
            if (idirectory != null)
            {
              if (((IFileSystemInfo) idirectory).Exists)
                continue;
            }
            flag = false;
            host.LogDiagnosticMessage(string.Empty, "Authoring", new string[0]);
            host.LogDiagnosticMessage(string.Format(ZF0BEIzg49cvah6mJ.\u0032k68pOXJou9y6x5CC, (object) OvnbOnENFJvW9LzLe.ID2feswsrLlSGKIlu), "Authoring", new string[0]);
            host.LogDiagnosticMessage(string.Format(ZF0BEIzg49cvah6mJ.Xmv8v00heyes43bIV, (object) ((IFileSystemInfo) OvnbOnENFJvW9LzLe.iTZ8Vro86iNwqHvPi).FullPath), "Authoring", new string[0]);
            host.LogDiagnosticMessage(string.Format(ZF0BEIzg49cvah6mJ.\u0038Ol5SMeJ2QxtL6P5C, (object) source.p3Wx9mkFoVyujw3Zv), "Authoring", new string[0]);
            host.LogDiagnosticMessage(string.Format(ZF0BEIzg49cvah6mJ.\u00308NbUqWerIId1tdwq, (object) ((IFileSystemInfo) idirectory).FullPath), "Authoring", new string[0]);
          }
        }
        catch
        {
          flag = false;
          host.LogDiagnosticMessage(string.Empty, "Authoring", new string[0]);
          host.LogDiagnosticMessage(string.Format(ZF0BEIzg49cvah6mJ.\u0032k68pOXJou9y6x5CC, (object) OvnbOnENFJvW9LzLe.ID2feswsrLlSGKIlu), "Authoring", new string[0]);
          host.LogDiagnosticMessage(string.Format(ZF0BEIzg49cvah6mJ.Xmv8v00heyes43bIV, (object) ((IFileSystemInfo) OvnbOnENFJvW9LzLe.iTZ8Vro86iNwqHvPi).FullPath), "Authoring", new string[0]);
          host.LogDiagnosticMessage(string.Format(ZF0BEIzg49cvah6mJ.usK0TOrQL7E1SpSS7, (object) source.p3Wx9mkFoVyujw3Zv), "Authoring", new string[0]);
        }
      }
      return flag;
    }

    public bool VLgr4ltymKZ8WyqAm(
      IFileSystemInfo fd91aaUqtDtyoh4iU,
      out ITemplate jyNUBr75iaSCXiosc,
      IFileSystemInfo lrIgJbrTP8aIQ5ovZ = null,
      IFile H4IeKfxSw96IyAWdj = null,
      string iTxFxXcPlPBi5JLw1 = null)
    {
      if (!(fd91aaUqtDtyoh4iU is IFile ifile1))
      {
        jyNUBr75iaSCXiosc = (ITemplate) null;
        return false;
      }
      IFile ifile2 = lrIgJbrTP8aIQ5ovZ as IFile;
      ITemplateEngineHost host = fd91aaUqtDtyoh4iU.MountPoint.EnvironmentSettings.Host;
      try
      {
        JObject jobject1 = this.sGlEnQdljyQuxHRGh(this.K72YxB24U5PUzxQe3(ifile1), fd91aaUqtDtyoh4iU);
        JObject jobject2 = (JObject) null;
        if (ifile2 != null)
          jobject2 = this.K72YxB24U5PUzxQe3(ifile2);
        ISimpleConfigModifiers CkADq8wwH8O8917oS = (ISimpleConfigModifiers) new SimpleConfigModifiers()
        {
          BaselineName = iTxFxXcPlPBi5JLw1
        };
        \u0038AJf1ewgH7Z4Yl8A7 ajf1ewgH7Z4Yl8A7 = \u0038AJf1ewgH7Z4Yl8A7.KwfY8n5FtXMSCU67b(((IFileSystemInfo) ifile1).MountPoint.EnvironmentSettings, jobject1, CkADq8wwH8O8917oS, jobject2);
        if (!this.wNfO1xXzWY8yMO0m0(ajf1ewgH7Z4Yl8A7, ifile1, host))
        {
          jyNUBr75iaSCXiosc = (ITemplate) null;
          return false;
        }
        if (!this.TbF24IROcpJhEteQc(ajf1ewgH7Z4Yl8A7.A8LjIluhpyXzRB7eP))
        {
          jyNUBr75iaSCXiosc = (ITemplate) null;
          return false;
        }
        \u0034nbeWlB8uPWaaI8sS OvnbOnENFJvW9LzLe = new \u0034nbeWlB8uPWaaI8sS(jobject1, (IGenerator) this, ifile1, (IRunnableProjectConfig) ajf1ewgH7Z4Yl8A7, (IFile) null, H4IeKfxSw96IyAWdj);
        if (!this.GH4t9VpExIXmn4gth((IRunnableProjectConfig) ajf1ewgH7Z4Yl8A7, OvnbOnENFJvW9LzLe))
        {
          jyNUBr75iaSCXiosc = (ITemplate) null;
          return false;
        }
        if (host.FileSystem is IFileLastWriteTimeSource fileSystem)
          OvnbOnENFJvW9LzLe.OzUm1SvnvpGbO7iim = new DateTime?(fileSystem.GetLastWriteTimeUtc(((IFileSystemInfo) ifile1).FullPath));
        jyNUBr75iaSCXiosc = (ITemplate) OvnbOnENFJvW9LzLe;
        return true;
      }
      catch (Exception ex)
      {
        host.LogMessage("Error reading template from file: " + ((IFileSystemInfo) ifile1).FullPath + " | Error = " + ex.Message);
      }
      jyNUBr75iaSCXiosc = (ITemplate) null;
      return false;
    }

    private bool wNfO1xXzWY8yMO0m0(
      \u0038AJf1ewgH7Z4Yl8A7 wXVr6g9Lqpb9jtdet,
      IFile LxnkbULYLCbyJMgYv,
      ITemplateEngineHost VoER0s8fJNZOmIeu7)
    {
      List<string> stringList1 = new List<string>();
      List<string> stringList2 = new List<string>();
      if (string.IsNullOrEmpty(wXVr6g9Lqpb9jtdet.TItU6zjdI298EF31A))
        stringList1.Add(string.Format(ZF0BEIzg49cvah6mJ.WA3KOO1lXLDofaKAU, (object) "identity", (object) ((IFileSystemInfo) LxnkbULYLCbyJMgYv).FullPath));
      if (string.IsNullOrEmpty(wXVr6g9Lqpb9jtdet.v1IrBkTR8ZNLrJQiO))
        stringList1.Add(string.Format(ZF0BEIzg49cvah6mJ.WA3KOO1lXLDofaKAU, (object) "name", (object) ((IFileSystemInfo) LxnkbULYLCbyJMgYv).FullPath));
      IReadOnlyList<string> srifDqtvx5eVhTny4 = wXVr6g9Lqpb9jtdet.SRifDqtvx5eVHTny4;
      if ((srifDqtvx5eVhTny4 != null ? srifDqtvx5eVhTny4.Count : 0) == 0)
        stringList1.Add(string.Format(ZF0BEIzg49cvah6mJ.WA3KOO1lXLDofaKAU, (object) "shortName", (object) ((IFileSystemInfo) LxnkbULYLCbyJMgYv).FullPath));
      if (string.IsNullOrEmpty(wXVr6g9Lqpb9jtdet.VRh4DqSaeihGnT5ue))
        stringList2.Add(string.Format(ZF0BEIzg49cvah6mJ.WA3KOO1lXLDofaKAU, (object) "sourceName", (object) ((IFileSystemInfo) LxnkbULYLCbyJMgYv).FullPath));
      if (string.IsNullOrEmpty(wXVr6g9Lqpb9jtdet.ibKDX2zYwgtXGxLMk))
        stringList2.Add(string.Format(ZF0BEIzg49cvah6mJ.WA3KOO1lXLDofaKAU, (object) "author", (object) ((IFileSystemInfo) LxnkbULYLCbyJMgYv).FullPath));
      if (string.IsNullOrEmpty(wXVr6g9Lqpb9jtdet.uRzQLxcwzvZdNYoyz))
        stringList2.Add(string.Format(ZF0BEIzg49cvah6mJ.WA3KOO1lXLDofaKAU, (object) "groupIdentity", (object) ((IFileSystemInfo) LxnkbULYLCbyJMgYv).FullPath));
      if (string.IsNullOrEmpty(wXVr6g9Lqpb9jtdet.A8LjIluhpyXzRB7eP))
        stringList2.Add(string.Format(ZF0BEIzg49cvah6mJ.WA3KOO1lXLDofaKAU, (object) "generatorVersions", (object) ((IFileSystemInfo) LxnkbULYLCbyJMgYv).FullPath));
      if (wXVr6g9Lqpb9jtdet.z2E9H75Ng1mR4xLjc == 0)
        stringList2.Add(string.Format(ZF0BEIzg49cvah6mJ.WA3KOO1lXLDofaKAU, (object) "precedence", (object) ((IFileSystemInfo) LxnkbULYLCbyJMgYv).FullPath));
      IReadOnlyList<string> g9tYuQ5xsbIhTd6Fc = wXVr6g9Lqpb9jtdet.G9tYuQ5xsbIhTD6Fc;
      if ((g9tYuQ5xsbIhTd6Fc != null ? g9tYuQ5xsbIhTd6Fc.Count : 0) == 0)
        stringList2.Add(string.Format(ZF0BEIzg49cvah6mJ.WA3KOO1lXLDofaKAU, (object) "classifications", (object) ((IFileSystemInfo) LxnkbULYLCbyJMgYv).FullPath));
      if (wXVr6g9Lqpb9jtdet.\u0033ZZGmmOT0rBjlIujs != null && wXVr6g9Lqpb9jtdet.\u0033ZZGmmOT0rBjlIujs.Any<IPostActionModel>((Func<IPostActionModel, bool>) (brSefRGiM8SwMFnvn => brSefRGiM8SwMFnvn.ManualInstructionInfo == null || brSefRGiM8SwMFnvn.ManualInstructionInfo.Count == 0)))
        stringList2.Add(string.Format(ZF0BEIzg49cvah6mJ.zh4cUqhRRmKMypv0A, (object) ((IFileSystemInfo) LxnkbULYLCbyJMgYv).FullPath));
      if (stringList2.Count > 0)
      {
        VoER0s8fJNZOmIeu7.LogDiagnosticMessage(string.Format(ZF0BEIzg49cvah6mJ.u7HnZp4RdCEbrX2y4, (object) ((IFileSystemInfo) LxnkbULYLCbyJMgYv).FullPath), "Authoring", new string[0]);
        foreach (string str in stringList2)
          VoER0s8fJNZOmIeu7.LogDiagnosticMessage("    " + str, "Authoring", new string[0]);
      }
      if (stringList1.Count <= 0)
        return true;
      VoER0s8fJNZOmIeu7.LogDiagnosticMessage(string.Format(ZF0BEIzg49cvah6mJ.Iy2Bx4Jmp2H0DARmN, (object) ((IFileSystemInfo) LxnkbULYLCbyJMgYv).FullPath), "Authoring", new string[0]);
      foreach (string str in stringList1)
        VoER0s8fJNZOmIeu7.LogDiagnosticMessage("    " + str, "Authoring", new string[0]);
      return false;
    }

    private bool TbF24IROcpJhEteQc(string tn8gCL8n1O5ZWOnlk)
    {
      if (string.IsNullOrEmpty(tn8gCL8n1O5ZWOnlk))
        return true;
      IVersionSpecification iversionSpecification;
      return VersionStringHelpers.TryParseVersionSpecification(tn8gCL8n1O5ZWOnlk, ref iversionSpecification) && iversionSpecification.CheckIfVersionIsValid(J9uEFI14QPMqZissh.MqsWN0aL49HgZw871);
    }

    private JObject sGlEnQdljyQuxHRGh(
      JObject QQmjl19iIwSqWrnxm,
      IFileSystemInfo Ejsj9TWbm2roIe3ln)
    {
      IReadOnlyList<string> source = ((JToken) QQmjl19iIwSqWrnxm).Jlc634pwsmus3l0Qh(J9uEFI14QPMqZissh.ErTi7r9EAMe0Uxx7V);
      if (!source.Any<string>())
        return QQmjl19iIwSqWrnxm;
      JObject jobject1 = (JObject) ((JToken) QQmjl19iIwSqWrnxm).DeepClone();
      foreach (string str in (IEnumerable<string>) source)
      {
        // ISSUE: object of a compiler-generated type is created
        // ISSUE: variable of a compiler-generated type
        J9uEFI14QPMqZissh.usg8hiNdS19oe5cBx usg8hiNdS19oe5cBx = (J9uEFI14QPMqZissh.usg8hiNdS19oe5cBx) new J9uEFI14QPMqZissh.Uh7Ki7sFAw9I0heHZ();
        // ISSUE: reference to a compiler-generated field
        ((J9uEFI14QPMqZissh.Uh7Ki7sFAw9I0heHZ) usg8hiNdS19oe5cBx).Jn3O08usgMVMTjfg3 = str;
        // ISSUE: reference to a compiler-generated field
        if (!((J9uEFI14QPMqZissh.Uh7Ki7sFAw9I0heHZ) usg8hiNdS19oe5cBx).Jn3O08usgMVMTjfg3.EndsWith("." + J9uEFI14QPMqZissh.jZjzFxk3lBZGzibR6))
        {
          // ISSUE: reference to a compiler-generated field
          // ISSUE: reference to a compiler-generated field
          throw new TemplateAuthoringException("Split configuration error with file [" + ((J9uEFI14QPMqZissh.Uh7Ki7sFAw9I0heHZ) usg8hiNdS19oe5cBx).Jn3O08usgMVMTjfg3 + "]. Additional configuration file names must end with '." + J9uEFI14QPMqZissh.jZjzFxk3lBZGzibR6 + "'.", ((J9uEFI14QPMqZissh.Uh7Ki7sFAw9I0heHZ) usg8hiNdS19oe5cBx).Jn3O08usgMVMTjfg3);
        }
        // ISSUE: reference to a compiler-generated field
        // ISSUE: reference to a compiler-generated method
        // ISSUE: reference to a compiler-generated field
        // ISSUE: reference to a compiler-generated field
        JObject jobject2 = this.K72YxB24U5PUzxQe3(Ejsj9TWbm2roIe3ln.Parent.EnumerateFiles(((J9uEFI14QPMqZissh.Uh7Ki7sFAw9I0heHZ) usg8hiNdS19oe5cBx).Jn3O08usgMVMTjfg3, SearchOption.TopDirectoryOnly).FirstOrDefault<IFile>(new Func<IFile, bool>(usg8hiNdS19oe5cBx.Wxt3OOuvkFHpSF27D)) ?? throw new TemplateAuthoringException("Split configuration file [" + ((J9uEFI14QPMqZissh.Uh7Ki7sFAw9I0heHZ) usg8hiNdS19oe5cBx).Jn3O08usgMVMTjfg3 + "] could not be found.", ((J9uEFI14QPMqZissh.Uh7Ki7sFAw9I0heHZ) usg8hiNdS19oe5cBx).Jn3O08usgMVMTjfg3));
        ((JContainer) jobject1).Merge((object) jobject2);
      }
      return jobject1;
    }

    internal JObject K72YxB24U5PUzxQe3(IFile _param1)
    {
      using (Stream stream = _param1.OpenRead())
      {
        using (TextReader textReader = (TextReader) new StreamReader(stream, true))
        {
          using (JsonReader jsonReader = (JsonReader) new JsonTextReader(textReader))
            return JObject.Load(jsonReader);
        }
      }
    }

    public object cLUNYvgS9N9BBuYoP(
      IEngineEnvironmentSettings UMVSZpYvIa1VszoR9,
      ITemplateParameter wBilloYdY9b9lsKXI,
      string D7DCjr5y3UxxLUp7r,
      out bool UVgzjIwtRSzsmxMkd)
    {
      return J9uEFI14QPMqZissh.L8QS419awhT6O6ljt(UMVSZpYvIa1VszoR9, wBilloYdY9b9lsKXI, D7DCjr5y3UxxLUp7r, out UVgzjIwtRSzsmxMkd);
    }

    internal static object L8QS419awhT6O6ljt(
      IEngineEnvironmentSettings pKAqziBd6LbtZkRfI,
      ITemplateParameter fLmEwDVMFjGvmN0gC,
      string IubL666zt51sXWyod,
      out bool vNIUNzgECb4KGWqFI)
    {
      if (IubL666zt51sXWyod == null)
      {
        vNIUNzgECb4KGWqFI = false;
        return (object) null;
      }
      if (!string.IsNullOrEmpty(fLmEwDVMFjGvmN0gC.DataType))
        return J9uEFI14QPMqZissh.b6BOBwl4yDX2pK7G6(pKAqziBd6LbtZkRfI, fLmEwDVMFjGvmN0gC, IubL666zt51sXWyod, out vNIUNzgECb4KGWqFI);
      vNIUNzgECb4KGWqFI = false;
      return J9uEFI14QPMqZissh.oUkkxTpYMfLASQG0b(IubL666zt51sXWyod);
    }

    internal static object b6BOBwl4yDX2pK7G6(
      IEngineEnvironmentSettings _param0,
      ITemplateParameter FDgwwH0hpTclrFFNi,
      string _param2,
      out bool hOhfe3JH7OrWpObbm)
    {
      hOhfe3JH7OrWpObbm = false;
      if (string.Equals(FDgwwH0hpTclrFFNi.DataType, "bool", StringComparison.OrdinalIgnoreCase))
      {
        if (string.Equals(_param2, "true", StringComparison.OrdinalIgnoreCase))
          return (object) true;
        if (string.Equals(_param2, "false", StringComparison.OrdinalIgnoreCase))
          return (object) false;
        bool result = false;
        string str;
        do
          ;
        while (_param0.Host.OnParameterError(FDgwwH0hpTclrFFNi, (string) null, "ParameterValueNotSpecified", ref str) && !bool.TryParse(str, out result));
        hOhfe3JH7OrWpObbm = !bool.TryParse(str, out result);
        return (object) result;
      }
      if (string.Equals(FDgwwH0hpTclrFFNi.DataType, "choice", StringComparison.OrdinalIgnoreCase))
      {
        string xJnoYcU52UAIaUGpS1;
        if (J9uEFI14QPMqZissh.r6e08uTujwfcmqi8v(_param2, FDgwwH0hpTclrFFNi, out xJnoYcU52UAIaUGpS1))
          return (object) xJnoYcU52UAIaUGpS1;
        if (_param2 == null && FDgwwH0hpTclrFFNi.Priority != null)
          return (object) FDgwwH0hpTclrFFNi.DefaultValue;
        string xJnoYcU52UAIaUGpS2;
        do
          ;
        while (_param0.Host.OnParameterError(FDgwwH0hpTclrFFNi, (string) null, "ValueNotValid:" + string.Join(",", FDgwwH0hpTclrFFNi.Choices.Keys), ref xJnoYcU52UAIaUGpS2) && !J9uEFI14QPMqZissh.r6e08uTujwfcmqi8v(_param2, FDgwwH0hpTclrFFNi, out xJnoYcU52UAIaUGpS2));
        hOhfe3JH7OrWpObbm = xJnoYcU52UAIaUGpS2 == null;
        return (object) xJnoYcU52UAIaUGpS2;
      }
      if (string.Equals(FDgwwH0hpTclrFFNi.DataType, "float", StringComparison.OrdinalIgnoreCase))
      {
        double result;
        if (double.TryParse(_param2, out result))
          return (object) result;
        string s;
        do
          ;
        while (_param0.Host.OnParameterError(FDgwwH0hpTclrFFNi, (string) null, "ValueNotValidMustBeFloat", ref s) && (s == null || !double.TryParse(s, out result)));
        hOhfe3JH7OrWpObbm = !double.TryParse(s, out result);
        return (object) result;
      }
      if (string.Equals(FDgwwH0hpTclrFFNi.DataType, "int", StringComparison.OrdinalIgnoreCase) || string.Equals(FDgwwH0hpTclrFFNi.DataType, "integer", StringComparison.OrdinalIgnoreCase))
      {
        long result;
        if (long.TryParse(_param2, out result))
          return (object) result;
        string s;
        do
          ;
        while (_param0.Host.OnParameterError(FDgwwH0hpTclrFFNi, (string) null, "ValueNotValidMustBeInteger", ref s) && (s == null || !long.TryParse(s, out result)));
        hOhfe3JH7OrWpObbm = !long.TryParse(s, out result);
        return (object) result;
      }
      if (string.Equals(FDgwwH0hpTclrFFNi.DataType, "hex", StringComparison.OrdinalIgnoreCase))
      {
        long result;
        if (long.TryParse(_param2.Substring(2), NumberStyles.HexNumber, (IFormatProvider) CultureInfo.InvariantCulture, out result))
          return (object) result;
        string str;
        do
          ;
        while (_param0.Host.OnParameterError(FDgwwH0hpTclrFFNi, (string) null, "ValueNotValidMustBeHex", ref str) && (str == null || str.Length < 3 || !long.TryParse(str.Substring(2), NumberStyles.HexNumber, (IFormatProvider) CultureInfo.InvariantCulture, out result)));
        hOhfe3JH7OrWpObbm = !long.TryParse(str.Substring(2), NumberStyles.HexNumber, (IFormatProvider) CultureInfo.InvariantCulture, out result);
        return (object) result;
      }
      if (!string.Equals(FDgwwH0hpTclrFFNi.DataType, "text", StringComparison.OrdinalIgnoreCase))
        string.Equals(FDgwwH0hpTclrFFNi.DataType, "string", StringComparison.OrdinalIgnoreCase);
      return (object) _param2;
    }

    private static bool r6e08uTujwfcmqi8v(
      string umgGCKiS4wxbOKGbN,
      ITemplateParameter _param1,
      out string xJnoYcU52UAIaUGpS)
    {
      if (umgGCKiS4wxbOKGbN == null)
      {
        xJnoYcU52UAIaUGpS = (string) null;
        return false;
      }
      string str = (string) null;
      foreach (string key in _param1.Choices.Keys)
      {
        if (string.Equals(key, umgGCKiS4wxbOKGbN, StringComparison.OrdinalIgnoreCase))
        {
          xJnoYcU52UAIaUGpS = key;
          return true;
        }
        if (key.StartsWith(umgGCKiS4wxbOKGbN, StringComparison.OrdinalIgnoreCase))
        {
          if (str == null)
          {
            str = key;
          }
          else
          {
            xJnoYcU52UAIaUGpS = (string) null;
            return false;
          }
        }
      }
      xJnoYcU52UAIaUGpS = str;
      return xJnoYcU52UAIaUGpS != null;
    }

    internal static object oUkkxTpYMfLASQG0b(string nms33ZCkzWlUPZisM)
    {
      if (nms33ZCkzWlUPZisM == null)
        return (object) null;
      if (!nms33ZCkzWlUPZisM.Contains("\""))
      {
        if (string.Equals(nms33ZCkzWlUPZisM, "true", StringComparison.OrdinalIgnoreCase))
          return (object) true;
        if (string.Equals(nms33ZCkzWlUPZisM, "false", StringComparison.OrdinalIgnoreCase))
          return (object) false;
        if (string.Equals(nms33ZCkzWlUPZisM, "null", StringComparison.OrdinalIgnoreCase))
          return (object) null;
        double result1;
        if (nms33ZCkzWlUPZisM.Contains(".") && double.TryParse(nms33ZCkzWlUPZisM, out result1))
          return (object) result1;
        long result2;
        if (long.TryParse(nms33ZCkzWlUPZisM, out result2))
          return (object) result2;
        if (nms33ZCkzWlUPZisM.StartsWith("0x", StringComparison.OrdinalIgnoreCase) && long.TryParse(nms33ZCkzWlUPZisM.Substring(2), NumberStyles.HexNumber, (IFormatProvider) CultureInfo.InvariantCulture, out result2))
          return (object) result2;
      }
      return (object) nms33ZCkzWlUPZisM;
    }

    public ICreationEffects Qw2QaBtJE0HyfgMOu(
      IEngineEnvironmentSettings m0Ezzclj8bgax76On,
      ITemplate nEBTk7Usl7Hn3k1p2,
      IParameterSet _param3,
      IComponentManager dGUueBN7aqQvPO1mu,
      string cA1tusDzFhgJGJHhR)
    {
      \u0034nbeWlB8uPWaaI8sS obj = (\u0034nbeWlB8uPWaaI8sS) nEBTk7Usl7Hn3k1p2;
      J9uEFI14QPMqZissh.Z6mXzsOgCXVoUrFJo(m0Ezzclj8bgax76On, dGUueBN7aqQvPO1mu, obj.urjCr6Veu08qPufws.OperationConfig, _param3);
      IVariableCollection ivariableCollection = VariableCollection.SetupVariables(m0Ezzclj8bgax76On, _param3, obj.urjCr6Veu08qPufws.OperationConfig.VariableSetup);
      obj.urjCr6Veu08qPufws.Evaluate(_param3, ivariableCollection, (IFileSystemInfo) obj.pvwjShE6JXFOLl5r9);
      aE1IdqWEXXn1tBCIS e1IdqWexXn1tBcis = new aE1IdqWEXXn1tBCIS((IOrchestrator2) new Orchestrator());
      FaEMjp17NWfxHKRk4 UYeeMN4OH3nVNpdrb = new FaEMjp17NWfxHKRk4(obj.iTZ8Vro86iNwqHvPi, dGUueBN7aqQvPO1mu, _param3, ivariableCollection, obj.urjCr6Veu08qPufws.OperationConfig, obj.urjCr6Veu08qPufws.SpecialOperationConfig, obj.urjCr6Veu08qPufws.LocalizationOperations, obj.urjCr6Veu08qPufws.IgnoreFileNames);
      List<IFileChange2> ifileChange2List = new List<IFileChange2>();
      foreach (N19aXVav6htZ8iWZQ source in (IEnumerable<N19aXVav6htZ8iWZQ>) obj.urjCr6Veu08qPufws.Sources)
      {
        UYeeMN4OH3nVNpdrb.Mh2GMHzNnpvp0MNZ8(source);
        string qDysYzWBd46HmRGuX = Path.Combine(cA1tusDzFhgJGJHhR, source.\u00367cizuFxC3goHDmcq);
        ifileChange2List.AddRange((IEnumerable<IFileChange2>) e1IdqWexXn1tBcis.gmqvUIVZjb6jGZvjU((IGlobalRunSpec) UYeeMN4OH3nVNpdrb, FileSystemInfoExtensions.DirectoryInfo((IFileSystemInfo) obj.iTZ8Vro86iNwqHvPi, source.p3Wx9mkFoVyujw3Zv), qDysYzWBd46HmRGuX));
      }
      return (ICreationEffects) new \u0032rUR8pSHD4g48FOgp()
      {
        fhFjoJv6HZkfBDqeX = (IReadOnlyList<IFileChange2>) ifileChange2List,
        Pgyn3egzY3e7BWx7V = J9uEFI14QPMqZissh.siHL1WIR1aUXsAvGl(m0Ezzclj8bgax76On, obj, ivariableCollection)
      };
    }

    internal class ykTFIUO4KlN12TOWA : IParameterSet
    {
      public static readonly J9uEFI14QPMqZissh.Uh7Ki7sFAw9I0heHZ AXyjBLdR1F68QPNtv = new J9uEFI14QPMqZissh.Uh7Ki7sFAw9I0heHZ();

      public IEnumerable<ITemplateParameter> \u0031p9rma1QDmv5rGEAG => (IEnumerable<ITemplateParameter>) ((FaEMjp17NWfxHKRk4.KY94jp1YfJgUJpM8l) this).eZLYq7XByG9YULy0C.Values;

      public IDictionary<ITemplateParameter, object> hKeiFFtmN15WBxzO5 { get; }

      public IEnumerable<string> Gooss1I0lqetc1tcd => Enumerable.Empty<string>();

      public void jRVPsdWjtfqWq4uo8(ITemplateParameter GQ4BCw2xbKrqFiQFF) => ((FaEMjp17NWfxHKRk4.KY94jp1YfJgUJpM8l) this).eZLYq7XByG9YULy0C[GQ4BCw2xbKrqFiQFF.Name] = GQ4BCw2xbKrqFiQFF;

      public bool \u0039fK40m3Hma9kujaFj(string _param1, out ITemplateParameter ivkpfDim5ytCTCghE)
      {
        // ISSUE: reference to a compiler-generated field
        if (((FaEMjp17NWfxHKRk4.KY94jp1YfJgUJpM8l) this).eZLYq7XByG9YULy0C.TryGetValue(_param1, out ivkpfDim5ytCTCghE))
          return true;
        ivkpfDim5ytCTCghE = (ITemplateParameter) new ckgfOYwQVcmI3lHXN()
        {
          RWvAX7XIWjB7LsE1n = _param1,
          CTzAIxENljW4eEwD3 = (TemplateParameterPriority) 2,
          Cg57rESMJLQIVeHLw = true,
          vJZmzDmaRM5k1Uddb = "string"
        };
        return true;
      }
    }
  }
}
