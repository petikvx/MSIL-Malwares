// Decompiled with JetBrains decompiler
// Type: SmartAssembly.SmartExceptionsCore.SmartStackFrame
// Assembly: file, Version=11.0.0.0, Culture=neutral, PublicKeyToken=71f2cf7c2509b8fe
// MVID: 1F473243-1123-401F-8099-7648B7C34C41
// Assembly location: C:\Users\Administrateur\Desktop\Virusshare-00005-msil\Trojan-Dropper.Win32.Injector.deqx-3dcf304237ebec8756d9362ccf0259126c1c62ff5c0b09096876be2cdc64ae5a.exe

using \u0001;
using System;
using System.Runtime.Serialization;

namespace SmartAssembly.SmartExceptionsCore
{
  [Serializable]
  public class SmartStackFrame : ISerializable
  {
    [NonSerialized]
    internal static \u0001.\u0001 \u0001;
    public const string NotSerializable = "Non-serializable object's string representation: '{0}'";
    public readonly int MethodID;
    public readonly object[] Objects;
    public readonly int ILOffset;
    public readonly int ExceptionStackDepth;

    static SmartStackFrame() => \u0003.\u0002(typeof (SmartStackFrame));

    public virtual void GetObjectData(SerializationInfo info, StreamingContext context)
    {
      // ISSUE: type reference
      \u0008\u0006.\u007E\u0013\u0007((object) info, SmartStackFrame.\u0001(4740), (object) this.MethodID, \u0087\u0005.\u0092\u0004(__typeref (int)));
label_1:
      // ISSUE: type reference
      \u0008\u0006.\u007E\u0013\u0007((object) info, SmartStackFrame.\u0001(4777), (object) this.ILOffset, \u0087\u0005.\u0092\u0004(__typeref (int)));
      // ISSUE: type reference
      \u0008\u0006.\u007E\u0013\u0007((object) info, SmartStackFrame.\u0001(4814), (object) this.ExceptionStackDepth, \u0087\u0005.\u0092\u0004(__typeref (int)));
      int num1 = this.Objects == null ? 0 : this.Objects.Length;
      if (true)
        goto label_17;
label_2:
      int num2;
      // ISSUE: type reference
      \u0008\u0006.\u007E\u0013\u0007((object) info, SmartStackFrame.\u0001(4867), (object) num2, \u0087\u0005.\u0092\u0004(__typeref (int)));
      int index;
      if (true)
      {
        if (true)
        {
          index = 0;
          goto label_12;
        }
        else
          goto label_12;
      }
label_11:
      int num3 = index + 1;
      if (true)
        index = num3;
label_12:
      if (index >= num2)
        return;
      string str1 = \u008E\u0004.\u0003\u0003(SmartStackFrame.\u0001(4912), (object) index);
      if (true)
        goto label_14;
label_5:
      string str2;
      do
      {
        try
        {
          SmartStackFrame.\u0002(info, str2, this.Objects[index]);
        }
        catch (Exception ex)
        {
          object o;
          if (true)
            o = (object) SmartStackFrame.\u0001(4957);
          SmartStackFrame.\u0002(info, str2, o);
        }
        if (false)
          goto label_1;
      }
      while (false);
      goto label_11;
label_14:
      str2 = str1;
      goto label_5;
label_17:
      num2 = num1;
      goto label_2;
    }

    private static void \u0002(SerializationInfo info, string str, object o)
    {
      try
      {
        if (\u000F\u0004.\u007E\u009F\u0004((object) \u001C\u0004.\u007E\u0082\u0002(o)))
          goto label_3;
label_1:
        if (true)
          o = (object) \u008E\u0004.\u0003\u0003(SmartStackFrame.\u0001(5058), o);
label_3:
        if (true)
        {
          // ISSUE: type reference
          \u0008\u0006.\u007E\u0013\u0007((object) info, str, o, \u0087\u0005.\u0092\u0004(__typeref (object)));
        }
        else
          goto label_1;
      }
      catch (SerializationException ex)
      {
        do
        {
          // ISSUE: type reference
          \u0008\u0006.\u007E\u0013\u0007((object) info, str, (object) \u008E\u0004.\u0003\u0003(SmartStackFrame.\u0001(5058), o), \u0087\u0005.\u0092\u0004(__typeref (object)));
        }
        while (false);
      }
    }

    internal SmartStackFrame(SerializationInfo info, StreamingContext context)
    {
      this.MethodID = \u008B\u0004.\u007E\u0015\u0007((object) info, SmartStackFrame.\u0001(4740));
      this.ILOffset = \u008B\u0004.\u007E\u0015\u0007((object) info, SmartStackFrame.\u0001(4777));
      this.ExceptionStackDepth = \u008B\u0004.\u007E\u0015\u0007((object) info, SmartStackFrame.\u0001(4814));
      int length = \u008B\u0004.\u007E\u0015\u0007((object) info, SmartStackFrame.\u0001(4867));
      this.Objects = new object[length];
      for (int index = 0; index < length; ++index)
      {
        try
        {
          // ISSUE: type reference
          this.Objects[index] = \u000E\u0006.\u007E\u0014\u0007((object) info, \u008E\u0004.\u0003\u0003(SmartStackFrame.\u0001(4912), (object) index), \u0087\u0005.\u0092\u0004(__typeref (object)));
        }
        catch (Exception ex)
        {
          this.Objects[index] = (object) SmartStackFrame.\u0001(5131);
        }
      }
    }

    internal SmartStackFrame(
      int methodID,
      object[] objects,
      int ilOffset,
      int exceptionStackDepth)
    {
      this.MethodID = methodID;
      this.ExceptionStackDepth = exceptionStackDepth;
      this.ILOffset = ilOffset;
      this.Objects = objects;
    }
  }
}
