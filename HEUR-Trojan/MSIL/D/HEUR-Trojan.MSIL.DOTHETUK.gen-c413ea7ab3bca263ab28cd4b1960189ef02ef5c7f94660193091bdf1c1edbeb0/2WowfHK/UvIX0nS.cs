// Decompiled with JetBrains decompiler
// Type: 2WowfHK.UvIX0nS
// Assembly: VMhE6rW, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B5BD6AAE-8F60-4702-9F4C-7D1F52881D1D
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.DOTHETUK.gen-c413ea7ab3bca263ab28cd4b1960189ef02ef5c7f94660193091bdf1c1edbeb0.exe

using \u0032WowfHK;
using Microsoft.Ingestion.Shared.Metrics;
using System;
using System.Collections.Generic;
using System.Net.Http;

namespace \u0032WowfHK
{
  public static class UvIX0nS
  {
    private const string W4cusHB = "__Metrics";
    private const string c9YpBZ9 = "__Service";
    private const string UMvFwDJ = "__Api";
    private const string uiFundL = "__MessageHandlerInvoked";
    private const string JcetZwW = "__CustomMetricsProperties";
    private const string Wh2wfZy = "Unknown";

    public static IDictionary<string, string> pmBPL5z(this HttpRequestMessage jVjliiE) => (IDictionary<string, string>) new Dictionary<string, string>(jVjliiE.ibWKwbi<IDictionary<string, string>>("__CustomMetricsProperties", (Func<IDictionary<string, string>>) (() => (IDictionary<string, string>) new Dictionary<string, string>())));

    public static void HwXPX94(this HttpRequestMessage kOHPybh, string gpQWX4R, string mCy9Kwy)
    {
      IDictionary<string, string> dictionary = kOHPybh.ibWKwbi<IDictionary<string, string>>("__CustomMetricsProperties", (Func<IDictionary<string, string>>) (() => (IDictionary<string, string>) new Dictionary<string, string>()));
      if (dictionary.ContainsKey(gpQWX4R))
        dictionary[gpQWX4R] = mCy9Kwy;
      else
        dictionary.Add(gpQWX4R, mCy9Kwy);
      kOHPybh.\u0036fFKeW4<IDictionary<string, string>>("__CustomMetricsProperties", dictionary);
    }

    public static IDependentServiceMetrics QZ4tJhZ(
      this HttpRequestMessage KeNccPW)
    {
      return KeNccPW.ibWKwbi<IDependentServiceMetrics>("__Metrics", (Func<IDependentServiceMetrics>) (() => (IDependentServiceMetrics) new NoOpsDependentServiceMetrics(ServiceMetricsManager.Instance, "Unknown", "Unknown")));
    }

    internal static void QJzAD3A(this HttpRequestMessage jbkrLub, IDependentServiceMetrics fmgFQM8) => jbkrLub.\u0036fFKeW4<IDependentServiceMetrics>("__Metrics", fmgFQM8);

    public static string Xd36hxH(this HttpRequestMessage m2K6ohQ) => m2K6ohQ.ibWKwbi<string>("__Service", (Func<string>) (() => "Unknown"));

    public static void sNM5h6T(this HttpRequestMessage _param0, string Scke9xW) => _param0.\u0036fFKeW4<string>("__Service", Scke9xW);

    public static string \u0036grCyBU(this HttpRequestMessage _param0) => _param0.ibWKwbi<string>("__Api", (Func<string>) (() => "Unknown"));

    public static void Eb1zOOx(this HttpRequestMessage qJgIQ7r, string MO00LiI) => qJgIQ7r.\u0036fFKeW4<string>("__Api", MO00LiI);

    public static bool q2ZDxBR(this HttpRequestMessage Utmqazk) => bool.Parse(Utmqazk.ibWKwbi<string>("__MessageHandlerInvoked", (Func<string>) (() => bool.FalseString)));

    public static void \u0031ShICrZ(this HttpRequestMessage c0rjMv0, bool vIuBh9m) => c0rjMv0.\u0036fFKeW4<string>("__MessageHandlerInvoked", vIuBh9m ? bool.TrueString : bool.FalseString);

    private static void \u0036fFKeW4<T>(this HttpRequestMessage wke0AlE, string szQt7BI, T _param2) where T : class
    {
      if (wke0AlE == null)
        return;
      wke0AlE.Properties[szQt7BI] = (object) _param2;
    }

    private static T ibWKwbi<T>(this HttpRequestMessage DYSWEnb, string JGnQWEV, Func<T> d2B3J4r) where T : class => DYSWEnb == null || !DYSWEnb.Properties.ContainsKey(JGnQWEV) || !(DYSWEnb.Properties[JGnQWEV] is T property) ? d2B3J4r() : property;
  }
}
