// Decompiled with JetBrains decompiler
// Type: SmartAssembly.SmartExceptionsCore.UI.AutoHeightLabel1
// Assembly: o4tdggb3, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: FA0844EB-EF82-404C-B76C-C092ABDB9392
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00090-msil\Trojan-Ransom.Win32.Blocker.bzqq-b74e3dc76fae79b75c26f27ecb85aae1eae4082a42bfa080f7805f32dedc9d67.exe

using System;
using System.ComponentModel;
using System.Drawing;
using System.Windows.Forms;

namespace SmartAssembly.SmartExceptionsCore.UI
{
  [DesignerCategory("Code")]
  public class AutoHeightLabel1 : Label
  {
    private void DoAutoHeight()
    {
      try
      {
        using (Graphics graphics = this.CreateGraphics())
        {
          int textHeight = Win321.GetTextHeight(graphics, this.Text, this.Font, this.Width);
          if (textHeight <= 0)
            return;
          this.Height = textHeight;
        }
      }
      catch
      {
      }
    }

    protected override void OnFontChanged(EventArgs e)
    {
      base.OnFontChanged(e);
      this.DoAutoHeight();
    }

    protected override void OnResize(EventArgs e)
    {
      base.OnResize(e);
      this.DoAutoHeight();
    }

    protected override void OnTextChanged(EventArgs e)
    {
      base.OnTextChanged(e);
      this.DoAutoHeight();
    }

    public AutoHeightLabel1()
    {
      this.FlatStyle = FlatStyle.System;
      this.UseMnemonic = false;
    }
  }
}
