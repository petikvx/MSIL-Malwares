// Decompiled with JetBrains decompiler
// Type: TslEqYYYkidMRn3Gw.nfBi18O9r1vvTAiZc
// Assembly: Q7jU8zFqbfRJyQUdT, Version=5.6.0.5, Culture=neutral, PublicKeyToken=31bf3856ad364e35
// MVID: 36427E73-5524-420A-9724-276045DDB54E
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Crypt.gen-bda7803bc6a630ed5997870eb0b102e590d6f584b11699fb76781564debe9921.exe

using EDd9mY3gzGjg8eblj;
using NuGet.DependencyResolver;
using NuGet.Frameworks;
using NuGet.LibraryModel;
using NuGet.Packaging.Core;
using NuGet.Versioning;
using smgxjdJSuMyx2Uyof;
using System;
using System.Collections.Generic;
using System.Linq;
using V51nPTz4pVJEU2YAI;
using wax0b4REFeuj8aIQM;

namespace TslEqYYYkidMRn3Gw
{
  public class nfBi18O9r1vvTAiZc : IDependencyProvider
  {
    private readonly IDictionary<Tuple<NuGetFramework, string>, sWvMfcp12Hof8oJwI> \u0033Pal1Min7fLANKFpM;
    private readonly IDictionary<Tuple<string, NuGetVersion>, BhH55SVVNurv1Vqbm> \u0039yAJqPl0GCCUxUxW1;

    public nfBi18O9r1vvTAiZc(sa5EkfLbeO57XvEh8 lockFile)
    {
      this.\u0039yAJqPl0GCCUxUxW1 = (IDictionary<Tuple<string, NuGetVersion>, BhH55SVVNurv1Vqbm>) lockFile.jWfRjDkl8RwmfLXN5.ToDictionary<BhH55SVVNurv1Vqbm, Tuple<string, NuGetVersion>>((Func<BhH55SVVNurv1Vqbm, Tuple<string, NuGetVersion>>) (stRynyv5MTjNxj50C => Tuple.Create<string, NuGetVersion>(stRynyv5MTjNxj50C.\u0035hV84iv1ROTk5stkA, stRynyv5MTjNxj50C.yH3wcFbsENknp7K2l)));
      this.\u0033Pal1Min7fLANKFpM = (IDictionary<Tuple<NuGetFramework, string>, sWvMfcp12Hof8oJwI>) new Dictionary<Tuple<NuGetFramework, string>, sWvMfcp12Hof8oJwI>();
      foreach (xJMYruYEWMeXylkk9 jmYruYewMeXylkk9 in (IEnumerable<xJMYruYEWMeXylkk9>) lockFile.nQ435cC1CNyzXaRBq)
      {
        if (string.IsNullOrEmpty(jmYruYewMeXylkk9.x7dnuZFfotPi2FD56))
        {
          foreach (sWvMfcp12Hof8oJwI wvMfcp12Hof8oJwI in (IEnumerable<sWvMfcp12Hof8oJwI>) jmYruYewMeXylkk9.GvolXKj1s4tqdZyxO)
            this.\u0033Pal1Min7fLANKFpM[Tuple.Create<NuGetFramework, string>(jmYruYewMeXylkk9.itwj8LZhjFthV8syd, wvMfcp12Hof8oJwI.CQm3fIjNWEiIJuDYU)] = wvMfcp12Hof8oJwI;
        }
      }
    }

    public bool Pqlkdtj0jILJdEi5z(LibraryDependencyTarget rksqU7IuxvaAdJGBi) => (rksqU7IuxvaAdJGBi & 1) == 1;

    public Library GUeOoFfPnMXZHYlla(
      LibraryRange ZNE0LGxD0Y1nod0Zw,
      NuGetFramework lu2OKUfSUm5iydGtJ)
    {
      sWvMfcp12Hof8oJwI g9F5R3e0ZgT1tIrqX;
      if (!this.\u0033Pal1Min7fLANKFpM.TryGetValue(Tuple.Create<NuGetFramework, string>(lu2OKUfSUm5iydGtJ, ZNE0LGxD0Y1nod0Zw.Name), out g9F5R3e0ZgT1tIrqX) || !ZNE0LGxD0Y1nod0Zw.VersionRange.IsBetter((NuGetVersion) null, g9F5R3e0ZgT1tIrqX.K6Z1Sh4sMO4XZ82ph))
        return (Library) null;
      IList<LibraryDependency> libraryDependencyList = this.\u0037UO8q6gtZ87ItCCie(g9F5R3e0ZgT1tIrqX);
      return new Library()
      {
        LibraryRange = ZNE0LGxD0Y1nod0Zw,
        Identity = new LibraryIdentity()
        {
          Name = g9F5R3e0ZgT1tIrqX.CQm3fIjNWEiIJuDYU,
          Version = g9F5R3e0ZgT1tIrqX.K6Z1Sh4sMO4XZ82ph,
          Type = LibraryType.Package
        },
        Resolved = true,
        Dependencies = (IEnumerable<LibraryDependency>) libraryDependencyList,
        [KnownLibraryProperties.LockFileLibrary] = (object) this.\u0039yAJqPl0GCCUxUxW1[Tuple.Create<string, NuGetVersion>(g9F5R3e0ZgT1tIrqX.CQm3fIjNWEiIJuDYU, g9F5R3e0ZgT1tIrqX.K6Z1Sh4sMO4XZ82ph)],
        [KnownLibraryProperties.LockFileTargetLibrary] = (object) g9F5R3e0ZgT1tIrqX
      };
    }

    private IList<LibraryDependency> \u0037UO8q6gtZ87ItCCie(
      sWvMfcp12Hof8oJwI g9F5R3e0ZgT1tIrqX)
    {
      List<LibraryDependency> libraryDependencyList = new List<LibraryDependency>();
      libraryDependencyList.AddRange(((IEnumerable<PackageDependency>) g9F5R3e0ZgT1tIrqX.lFWUBBCoZ9a6ZDtRR).Select<PackageDependency, LibraryDependency>(new Func<PackageDependency, LibraryDependency>(PackagingUtility.GetLibraryDependencyFromNuspec)));
      return (IList<LibraryDependency>) libraryDependencyList;
    }
  }
}
