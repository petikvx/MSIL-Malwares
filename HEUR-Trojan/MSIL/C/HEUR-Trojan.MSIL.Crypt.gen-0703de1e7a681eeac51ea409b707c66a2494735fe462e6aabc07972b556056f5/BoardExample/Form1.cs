// Decompiled with JetBrains decompiler
// Type: BoardExample.Form1
// Assembly: Interna, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 443E8749-461D-4E08-9210-1C57029CD0B8
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.02-msil\HEUR-Trojan.MSIL.Crypt.gen-0703de1e7a681eeac51ea409b707c66a2494735fe462e6aabc07972b556056f5.exe

using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Drawing;
using System.Drawing.Drawing2D;
using System.Drawing.Text;
using System.Windows.Forms;

namespace BoardExample
{
  public class Form1 : Form
  {
    private PointF SpacecraftLocation = new PointF(300f, 300f);
    private PointF TargetLocation = new PointF(800f, 300f);
    private int _orbitRadius = 50;
    private IContainer components = (IContainer) null;
    private Timer timer1;
    private Panel panel1;
    private Button button1;
    private TextBox txtSpacecraftY;
    private TextBox txtSpacecraftX;
    private TextBox txtAgility;
    private TextBox txtSpacecraftDirection;
    private Label label3;
    private Label label2;
    private Label label1;
    private Label label7;
    private Label label6;
    private Label label5;
    private Label label4;
    private Panel panel2;
    private Button button2;
    private TextBox txtTargetY;
    private TextBox txtTargetX;
    private Label label8;
    private Label label10;
    private Label label11;
    private Button button3;

    public Form1() => this.InitializeComponent();

    private void button3_Click(object sender, EventArgs e)
    {
      this.SpacecraftLocation = new PointF(float.Parse(this.txtSpacecraftX.Text), float.Parse(this.txtSpacecraftY.Text));
      this.TargetLocation = new PointF(float.Parse(this.txtTargetX.Text), float.Parse(this.txtTargetY.Text));
      List<PointF> pointFList = new RouteCalculator().Execute(new CelestialObject()
      {
        Agility = float.Parse(this.txtAgility.Text),
        Direction = float.Parse(this.txtSpacecraftDirection.Text),
        Location = this.SpacecraftLocation,
        Speed = 10f
      }, new CelestialObject()
      {
        Agility = 0.0f,
        Direction = 90f,
        Location = this.TargetLocation,
        Speed = 0.0f
      }, 50.0);
      Image image = (Image) new Bitmap(this.Width, this.Height);
      Graphics graphics = Graphics.FromImage(image);
      graphics.CompositingQuality = CompositingQuality.HighQuality;
      graphics.InterpolationMode = InterpolationMode.Bicubic;
      graphics.SmoothingMode = SmoothingMode.AntiAlias;
      graphics.TextRenderingHint = TextRenderingHint.AntiAlias;
      this.DrawTargetPoint(graphics);
      this.DrawSpacecraft(graphics);
      foreach (PointF pointF in pointFList)
        graphics.FillEllipse((Brush) new SolidBrush(Color.GreenYellow), pointF.X - 1f, pointF.Y - 1f, 2f, 2f);
      this.BackgroundImage = image;
    }

    public void DrawTargetPoint(Graphics graphics)
    {
      if (this.TargetLocation == PointF.Empty)
        return;
      Color maroon = Color.Maroon;
      graphics.FillEllipse((Brush) new SolidBrush(maroon), this.TargetLocation.X - 2f, this.TargetLocation.Y - 2f, 4f, 4f);
      graphics.DrawEllipse(new Pen(maroon), this.TargetLocation.X - 4f, this.TargetLocation.Y - 4f, 8f, 8f);
      Color darkGray = Color.DarkGray;
      graphics.DrawEllipse(new Pen(darkGray), this.TargetLocation.X - (float) this._orbitRadius, this.TargetLocation.Y - (float) this._orbitRadius, (float) (this._orbitRadius * 2), (float) (this._orbitRadius * 2));
    }

    public void DrawSpacecraft(Graphics graphics)
    {
      if (this.SpacecraftLocation == PointF.Empty)
        return;
      Color darkOliveGreen = Color.DarkOliveGreen;
      graphics.FillEllipse((Brush) new SolidBrush(darkOliveGreen), this.SpacecraftLocation.X - 2f, this.SpacecraftLocation.Y - 2f, 4f, 4f);
      graphics.DrawEllipse(new Pen(darkOliveGreen), this.SpacecraftLocation.X - 4f, this.SpacecraftLocation.Y - 4f, 8f, 8f);
      this.DrawArrow(graphics, darkOliveGreen);
    }

    private void DrawArrow(Graphics graphics, Color color, int arrowSize = 4)
    {
      int num = int.Parse(this.txtSpacecraftDirection.Text);
      PointF pointTo = this.MoveObject(this.SpacecraftLocation, 12.0, (double) num);
      Form1.DrawArrow(graphics, new SpaceMapVector(this.SpacecraftLocation, pointTo, (double) num), color, arrowSize);
    }

    public static void DrawArrow(
      Graphics graphics,
      SpaceMapVector line,
      Color color,
      int arrowSize = 4)
    {
      Graphics graphics1 = graphics;
      Pen pen1 = new Pen(color);
      PointF pointF1 = line.PointFrom;
      double x1 = (double) pointF1.X;
      pointF1 = line.PointFrom;
      double y1 = (double) pointF1.Y;
      pointF1 = line.PointTo;
      double x2 = (double) pointF1.X;
      pointF1 = line.PointTo;
      double y2 = (double) pointF1.Y;
      graphics1.DrawLine(pen1, (float) x1, (float) y1, (float) x2, (float) y2);
      SpaceMapVector spaceMapVector1 = Form1.Move(line.PointTo, (double) arrowSize, line.Direction + 150.0);
      Graphics graphics2 = graphics;
      Pen pen2 = new Pen(color);
      PointF pointF2 = spaceMapVector1.PointFrom;
      double x3 = (double) pointF2.X;
      pointF2 = spaceMapVector1.PointFrom;
      double y3 = (double) pointF2.Y;
      pointF2 = spaceMapVector1.PointTo;
      double x4 = (double) pointF2.X;
      pointF2 = spaceMapVector1.PointTo;
      double y4 = (double) pointF2.Y;
      graphics2.DrawLine(pen2, (float) x3, (float) y3, (float) x4, (float) y4);
      SpaceMapVector spaceMapVector2 = Form1.Move(line.PointTo, (double) arrowSize, line.Direction - 150.0);
      Graphics graphics3 = graphics;
      Pen pen3 = new Pen(color);
      PointF pointF3 = spaceMapVector2.PointFrom;
      double x5 = (double) pointF3.X;
      pointF3 = spaceMapVector2.PointFrom;
      double y5 = (double) pointF3.Y;
      pointF3 = spaceMapVector2.PointTo;
      double x6 = (double) pointF3.X;
      pointF3 = spaceMapVector2.PointTo;
      double y6 = (double) pointF3.Y;
      graphics3.DrawLine(pen3, (float) x5, (float) y5, (float) x6, (float) y6);
    }

    public PointF MoveObject(PointF currentLocation, double speed, double angleInGraduses)
    {
      double num = (angleInGraduses - 90.0) * Math.PI / 180.0;
      return new PointF(currentLocation.X + (float) (speed * Math.Cos(num)), currentLocation.Y + (float) (speed * Math.Sin(num)));
    }

    public static SpaceMapVector Move(PointF from, double speed, double angle)
    {
      double num = (angle - 90.0) * Math.PI / 180.0;
      float x = from.X + (float) (speed * Math.Cos(num));
      float y = from.Y + (float) (speed * Math.Sin(num));
      return new SpaceMapVector(new PointF(from.X, from.Y), new PointF(x, y), angle);
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.components = (IContainer) new Container();
      this.timer1 = new Timer(this.components);
      this.panel1 = new Panel();
      this.label1 = new Label();
      this.label2 = new Label();
      this.label3 = new Label();
      this.txtSpacecraftDirection = new TextBox();
      this.txtAgility = new TextBox();
      this.txtSpacecraftX = new TextBox();
      this.txtSpacecraftY = new TextBox();
      this.button1 = new Button();
      this.label4 = new Label();
      this.label5 = new Label();
      this.label6 = new Label();
      this.label7 = new Label();
      this.panel2 = new Panel();
      this.button2 = new Button();
      this.txtTargetY = new TextBox();
      this.txtTargetX = new TextBox();
      this.label8 = new Label();
      this.label10 = new Label();
      this.label11 = new Label();
      this.button3 = new Button();
      this.panel1.SuspendLayout();
      this.panel2.SuspendLayout();
      this.SuspendLayout();
      this.timer1.Enabled = true;
      this.timer1.Interval = 1000;
      this.panel1.Controls.Add((Control) this.button1);
      this.panel1.Controls.Add((Control) this.txtSpacecraftY);
      this.panel1.Controls.Add((Control) this.txtSpacecraftX);
      this.panel1.Controls.Add((Control) this.txtAgility);
      this.panel1.Controls.Add((Control) this.txtSpacecraftDirection);
      this.panel1.Controls.Add((Control) this.label3);
      this.panel1.Controls.Add((Control) this.label2);
      this.panel1.Controls.Add((Control) this.label7);
      this.panel1.Controls.Add((Control) this.label6);
      this.panel1.Controls.Add((Control) this.label5);
      this.panel1.Controls.Add((Control) this.label4);
      this.panel1.Controls.Add((Control) this.label1);
      this.panel1.Location = new Point(12, 12);
      this.panel1.Name = "panel1";
      this.panel1.Size = new Size(200, 185);
      this.panel1.TabIndex = 0;
      this.label1.ForeColor = Color.White;
      this.label1.Location = new Point(15, 14);
      this.label1.Name = "label1";
      this.label1.Size = new Size(81, 15);
      this.label1.TabIndex = 0;
      this.label1.Text = "Direction:";
      this.label2.ForeColor = Color.White;
      this.label2.Location = new Point(15, 43);
      this.label2.Name = "label2";
      this.label2.Size = new Size(81, 15);
      this.label2.TabIndex = 0;
      this.label2.Text = "Agility:";
      this.label3.ForeColor = Color.White;
      this.label3.Location = new Point(15, 69);
      this.label3.Name = "label3";
      this.label3.Size = new Size(81, 15);
      this.label3.TabIndex = 0;
      this.label3.Text = "Location:";
      this.txtSpacecraftDirection.Location = new Point(91, 14);
      this.txtSpacecraftDirection.Name = "txtSpacecraftDirection";
      this.txtSpacecraftDirection.Size = new Size(43, 20);
      this.txtSpacecraftDirection.TabIndex = 1;
      this.txtSpacecraftDirection.Text = "55";
      this.txtAgility.Location = new Point(91, 40);
      this.txtAgility.Name = "txtAgility";
      this.txtAgility.Size = new Size(43, 20);
      this.txtAgility.TabIndex = 1;
      this.txtAgility.Text = "5";
      this.txtSpacecraftX.Location = new Point(91, 66);
      this.txtSpacecraftX.Name = "txtSpacecraftX";
      this.txtSpacecraftX.Size = new Size(43, 20);
      this.txtSpacecraftX.TabIndex = 1;
      this.txtSpacecraftX.Text = "300";
      this.txtSpacecraftY.Location = new Point(91, 92);
      this.txtSpacecraftY.Name = "txtSpacecraftY";
      this.txtSpacecraftY.Size = new Size(43, 20);
      this.txtSpacecraftY.TabIndex = 1;
      this.txtSpacecraftY.Text = "300";
      this.button1.Location = new Point(18, 137);
      this.button1.Name = "button1";
      this.button1.Size = new Size(163, 23);
      this.button1.TabIndex = 2;
      this.button1.Text = "Set Spacecraft";
      this.button1.UseVisualStyleBackColor = true;
      this.label4.ForeColor = Color.White;
      this.label4.Location = new Point(140, 17);
      this.label4.Name = "label4";
      this.label4.Size = new Size(57, 15);
      this.label4.TabIndex = 0;
      this.label4.Text = "grad";
      this.label5.ForeColor = Color.White;
      this.label5.Location = new Point(140, 40);
      this.label5.Name = "label5";
      this.label5.Size = new Size(57, 15);
      this.label5.TabIndex = 0;
      this.label5.Text = "grad / sec";
      this.label6.ForeColor = Color.White;
      this.label6.Location = new Point(140, 69);
      this.label6.Name = "label6";
      this.label6.Size = new Size(57, 15);
      this.label6.TabIndex = 0;
      this.label6.Text = "x";
      this.label7.ForeColor = Color.White;
      this.label7.Location = new Point(140, 95);
      this.label7.Name = "label7";
      this.label7.Size = new Size(57, 15);
      this.label7.TabIndex = 0;
      this.label7.Text = "y";
      this.panel2.Controls.Add((Control) this.button2);
      this.panel2.Controls.Add((Control) this.txtTargetY);
      this.panel2.Controls.Add((Control) this.txtTargetX);
      this.panel2.Controls.Add((Control) this.label8);
      this.panel2.Controls.Add((Control) this.label10);
      this.panel2.Controls.Add((Control) this.label11);
      this.panel2.Location = new Point(12, 203);
      this.panel2.Name = "panel2";
      this.panel2.Size = new Size(200, 140);
      this.panel2.TabIndex = 3;
      this.button2.Location = new Point(18, 98);
      this.button2.Name = "button2";
      this.button2.Size = new Size(163, 23);
      this.button2.TabIndex = 2;
      this.button2.Text = "Set Planet";
      this.button2.UseVisualStyleBackColor = true;
      this.txtTargetY.Location = new Point(91, 53);
      this.txtTargetY.Name = "txtTargetY";
      this.txtTargetY.Size = new Size(43, 20);
      this.txtTargetY.TabIndex = 1;
      this.txtTargetY.Text = "600";
      this.txtTargetX.Location = new Point(91, 27);
      this.txtTargetX.Name = "txtTargetX";
      this.txtTargetX.Size = new Size(43, 20);
      this.txtTargetX.TabIndex = 1;
      this.txtTargetX.Text = "500";
      this.label8.ForeColor = Color.White;
      this.label8.Location = new Point(15, 30);
      this.label8.Name = "label8";
      this.label8.Size = new Size(81, 15);
      this.label8.TabIndex = 0;
      this.label8.Text = "Location:";
      this.label10.ForeColor = Color.White;
      this.label10.Location = new Point(140, 56);
      this.label10.Name = "label10";
      this.label10.Size = new Size(57, 15);
      this.label10.TabIndex = 0;
      this.label10.Text = "y";
      this.label11.ForeColor = Color.White;
      this.label11.Location = new Point(140, 30);
      this.label11.Name = "label11";
      this.label11.Size = new Size(57, 15);
      this.label11.TabIndex = 0;
      this.label11.Text = "x";
      this.button3.Location = new Point(620, 625);
      this.button3.Name = "button3";
      this.button3.Size = new Size(75, 23);
      this.button3.TabIndex = 4;
      this.button3.Text = "Draw";
      this.button3.UseVisualStyleBackColor = true;
      this.button3.Click += new EventHandler(this.button3_Click);
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.BackColor = Color.Black;
      this.ClientSize = new Size(1212, 722);
      this.Controls.Add((Control) this.button3);
      this.Controls.Add((Control) this.panel2);
      this.Controls.Add((Control) this.panel1);
      this.DoubleBuffered = true;
      this.Name = nameof (Form1);
      this.StartPosition = FormStartPosition.CenterScreen;
      this.Text = nameof (Form1);
      this.panel1.ResumeLayout(false);
      this.panel1.PerformLayout();
      this.panel2.ResumeLayout(false);
      this.panel2.PerformLayout();
      this.ResumeLayout(false);
    }
  }
}
