// Decompiled with JetBrains decompiler
// Type: Coache.Login.ClienteUserControl
// Assembly: IsCopyConstruc, Version=5.6.2.1, Culture=neutral, PublicKeyToken=null
// MVID: 1DA50973-FF9A-4563-8B8F-74E2573677DF
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.02-msil\HEUR-Trojan-Ransom.MSIL.Blocker.gen-136935297fa08738f6957068951067c699c91b2902f3ea14da650289cabfd29d.exe

using Coache.Business;
using Coache.Common;
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Drawing;
using System.Linq;
using System.Windows.Forms;

namespace Coache.Login
{
  public class ClienteUserControl : UserControl
  {
    private Cliente _cliente;
    private IContainer components;
    private Label label1;
    private TextBox txtNombre;
    private TextBox txtApellido;
    private Label label2;
    private TextBox txtDNI;
    private Label label3;
    private TextBox txtMail;
    private Label label4;
    private TextBox txtDireccion;
    private Label label5;
    private TextBox txtCP;
    private Label label6;
    private Label label7;
    private DateTimePicker dtFechaNacimiento;
    private CheckedListBox clbCiudades;
    private Label cities;
    private Label label8;
    private TextBox txtTelefono;
    private Label label9;
    private Label label10;
    private ComboBox cbxCiudad;

    public Cliente GetCliente()
    {
      long result1 = 0;
      long result2 = 0;
      if (!long.TryParse(this.txtTelefono.Text.Trim().Replace("-", ""), out result1))
        throw new Exception("El teléfono debe ser numérico!");
      if (!long.TryParse(this.txtDNI.Text, out result2))
        throw new Exception("El DNI debe ser numérico!");
      if (string.IsNullOrEmpty(this.txtNombre.Text.Trim()))
        throw new Exception("El Nombre es obligatorio!");
      if (string.IsNullOrEmpty(this.txtApellido.Text.Trim()))
        throw new Exception("El Apellido es obligatorio!");
      List<City> list = this.clbCiudades.CheckedItems.Cast<City>().ToList<City>();
      if (list.Count == 0)
        throw new Exception("Debe seleccionar al menos una ciudad!");
      this._cliente.Apellido = this.txtApellido.Text.Trim();
      this._cliente.Nombre = this.txtNombre.Text.Trim();
      this._cliente.DNI = result2;
      this._cliente.FechaNacimiento = this.dtFechaNacimiento.Value;
      this._cliente.Ciudades = list;
      this._cliente.DetalleEntidad.CP = this.txtCP.Text.Trim();
      this._cliente.DetalleEntidad.Direccion = this.txtDireccion.Text.Trim();
      this._cliente.DetalleEntidad.Telefono = result1;
      this._cliente.DetalleEntidad.Email = this.txtMail.Text.Trim();
      this._cliente.DetalleEntidad.Ciudad = (City) this.cbxCiudad.SelectedItem;
      return this._cliente;
    }

    public void SetUser(Cliente cliente)
    {
      this._cliente = cliente;
      this.txtApellido.Text = cliente.Apellido.Trim();
      this.txtNombre.Text = cliente.Nombre.Trim();
      this.txtDNI.Text = cliente.DNI.ToString();
      this.dtFechaNacimiento.Value = cliente.FechaNacimiento;
      this.txtCP.Text = cliente.DetalleEntidad.CP.Trim();
      this.txtDireccion.Text = cliente.DetalleEntidad.Direccion.Trim();
      this.txtTelefono.Text = cliente.DetalleEntidad.Telefono.ToString();
      this.txtMail.Text = cliente.DetalleEntidad.Email.Trim();
      this.cbxCiudad.SelectedItem = (object) cliente.DetalleEntidad.Ciudad;
      foreach (object ciudade in cliente.Ciudades)
        this.clbCiudades.SetItemChecked(this.clbCiudades.Items.IndexOf(ciudade), true);
    }

    public ClienteUserControl()
    {
      this.InitializeComponent();
      this._cliente = new Cliente();
      List<City> all = new CiudadesManager().GetAll();
      this.clbCiudades.DisplayMember = "Name";
      this.cbxCiudad.DisplayMember = "Name";
      all.ForEach((Action<City>) (x => this.clbCiudades.Items.Add((object) x, false)));
      all.ForEach((Action<City>) (x => this.cbxCiudad.Items.Add((object) x)));
      this.cbxCiudad.SelectedIndex = 0;
    }

    private void ClienteUserControl_Load(object sender, EventArgs e)
    {
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.label1 = new Label();
      this.txtNombre = new TextBox();
      this.txtApellido = new TextBox();
      this.label2 = new Label();
      this.txtDNI = new TextBox();
      this.label3 = new Label();
      this.txtMail = new TextBox();
      this.label4 = new Label();
      this.txtDireccion = new TextBox();
      this.label5 = new Label();
      this.txtCP = new TextBox();
      this.label6 = new Label();
      this.label7 = new Label();
      this.dtFechaNacimiento = new DateTimePicker();
      this.clbCiudades = new CheckedListBox();
      this.cities = new Label();
      this.label8 = new Label();
      this.txtTelefono = new TextBox();
      this.label9 = new Label();
      this.label10 = new Label();
      this.cbxCiudad = new ComboBox();
      this.SuspendLayout();
      this.label1.AutoSize = true;
      this.label1.Location = new Point(50, 14);
      this.label1.Name = "label1";
      this.label1.Size = new Size(44, 13);
      this.label1.TabIndex = 0;
      this.label1.Text = "Nombre";
      this.txtNombre.Location = new Point(102, 11);
      this.txtNombre.Name = "txtNombre";
      this.txtNombre.Size = new Size(200, 20);
      this.txtNombre.TabIndex = 1;
      this.txtApellido.Location = new Point(102, 37);
      this.txtApellido.Name = "txtApellido";
      this.txtApellido.Size = new Size(200, 20);
      this.txtApellido.TabIndex = 3;
      this.label2.AutoSize = true;
      this.label2.Location = new Point(52, 40);
      this.label2.Name = "label2";
      this.label2.Size = new Size(44, 13);
      this.label2.TabIndex = 2;
      this.label2.Text = "Apellido";
      this.txtDNI.Location = new Point(102, 63);
      this.txtDNI.Name = "txtDNI";
      this.txtDNI.Size = new Size(200, 20);
      this.txtDNI.TabIndex = 5;
      this.label3.AutoSize = true;
      this.label3.Location = new Point(68, 66);
      this.label3.Name = "label3";
      this.label3.Size = new Size(26, 13);
      this.label3.TabIndex = 4;
      this.label3.Text = "DNI";
      this.txtMail.Location = new Point(102, 89);
      this.txtMail.Name = "txtMail";
      this.txtMail.Size = new Size(200, 20);
      this.txtMail.TabIndex = 7;
      this.label4.AutoSize = true;
      this.label4.Location = new Point(68, 92);
      this.label4.Name = "label4";
      this.label4.Size = new Size(26, 13);
      this.label4.TabIndex = 6;
      this.label4.Text = "Mail";
      this.txtDireccion.Location = new Point(102, 115);
      this.txtDireccion.Name = "txtDireccion";
      this.txtDireccion.Size = new Size(200, 20);
      this.txtDireccion.TabIndex = 9;
      this.label5.AutoSize = true;
      this.label5.Location = new Point(46, 118);
      this.label5.Name = "label5";
      this.label5.Size = new Size(52, 13);
      this.label5.TabIndex = 8;
      this.label5.Text = "Dirección";
      this.txtCP.Location = new Point(102, 194);
      this.txtCP.Name = "txtCP";
      this.txtCP.Size = new Size(200, 20);
      this.txtCP.TabIndex = 11;
      this.label6.AutoSize = true;
      this.label6.Location = new Point(75, 197);
      this.label6.Name = "label6";
      this.label6.Size = new Size(21, 13);
      this.label6.TabIndex = 10;
      this.label6.Text = "CP";
      this.label7.AutoSize = true;
      this.label7.Location = new Point(5, 223);
      this.label7.Name = "label7";
      this.label7.Size = new Size(93, 13);
      this.label7.TabIndex = 12;
      this.label7.Text = "Fecha Nacimiento";
      this.dtFechaNacimiento.Format = DateTimePickerFormat.Short;
      this.dtFechaNacimiento.Location = new Point(102, 220);
      this.dtFechaNacimiento.Name = "dtFechaNacimiento";
      this.dtFechaNacimiento.Size = new Size(200, 20);
      this.dtFechaNacimiento.TabIndex = 13;
      this.clbCiudades.FormattingEnabled = true;
      this.clbCiudades.Location = new Point(102, 246);
      this.clbCiudades.Name = "clbCiudades";
      this.clbCiudades.Size = new Size(200, 109);
      this.clbCiudades.TabIndex = 14;
      this.cities.AutoSize = true;
      this.cities.Location = new Point(28, 239);
      this.cities.Name = "cities";
      this.cities.Size = new Size(66, 13);
      this.cities.TabIndex = 15;
      this.cities.Text = "Ciudades de";
      this.label8.AutoSize = true;
      this.label8.Location = new Point(34, 259);
      this.label8.Name = "label8";
      this.label8.Size = new Size(60, 13);
      this.label8.TabIndex = 16;
      this.label8.Text = "preferencia";
      this.txtTelefono.Location = new Point(102, 167);
      this.txtTelefono.Name = "txtTelefono";
      this.txtTelefono.Size = new Size(200, 20);
      this.txtTelefono.TabIndex = 18;
      this.label9.AutoSize = true;
      this.label9.Location = new Point(46, 170);
      this.label9.Name = "label9";
      this.label9.Size = new Size(49, 13);
      this.label9.TabIndex = 17;
      this.label9.Text = "Telefono";
      this.label10.AutoSize = true;
      this.label10.Location = new Point(46, 144);
      this.label10.Name = "label10";
      this.label10.Size = new Size(40, 13);
      this.label10.TabIndex = 19;
      this.label10.Text = "Ciudad";
      this.cbxCiudad.DropDownStyle = ComboBoxStyle.DropDownList;
      this.cbxCiudad.FormattingEnabled = true;
      this.cbxCiudad.Location = new Point(102, 141);
      this.cbxCiudad.Name = "cbxCiudad";
      this.cbxCiudad.Size = new Size(200, 21);
      this.cbxCiudad.TabIndex = 20;
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.Controls.Add((Control) this.cbxCiudad);
      this.Controls.Add((Control) this.label10);
      this.Controls.Add((Control) this.txtTelefono);
      this.Controls.Add((Control) this.label9);
      this.Controls.Add((Control) this.label8);
      this.Controls.Add((Control) this.cities);
      this.Controls.Add((Control) this.clbCiudades);
      this.Controls.Add((Control) this.dtFechaNacimiento);
      this.Controls.Add((Control) this.label7);
      this.Controls.Add((Control) this.txtCP);
      this.Controls.Add((Control) this.label6);
      this.Controls.Add((Control) this.txtDireccion);
      this.Controls.Add((Control) this.label5);
      this.Controls.Add((Control) this.txtMail);
      this.Controls.Add((Control) this.label4);
      this.Controls.Add((Control) this.txtDNI);
      this.Controls.Add((Control) this.label3);
      this.Controls.Add((Control) this.txtApellido);
      this.Controls.Add((Control) this.label2);
      this.Controls.Add((Control) this.txtNombre);
      this.Controls.Add((Control) this.label1);
      this.Name = nameof (ClienteUserControl);
      this.Size = new Size(336, 402);
      this.Load += new EventHandler(this.ClienteUserControl_Load);
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
