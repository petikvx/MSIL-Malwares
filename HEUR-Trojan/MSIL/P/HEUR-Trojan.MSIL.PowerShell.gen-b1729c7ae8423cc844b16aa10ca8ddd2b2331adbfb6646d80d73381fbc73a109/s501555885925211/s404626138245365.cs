// Decompiled with JetBrains decompiler
// Type: s501555885925211.s404626138245365
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using s023231967428338;
using s076940979555617;
using s077414222832753;
using s091576454202553;
using s134854913015584;
using s139452803082678;
using s319776311939287;
using s432851493392539;
using s467830213875636;
using s474370615807264;
using s556496043205981;
using s651029396580935;
using s674028910895465;
using s719272214711671;
using s928707304529159;
using s941238214429226;
using s995882755561673;
using System;
using System.Collections.Concurrent;
using System.Collections.Generic;
using System.IO;
using System.Threading.Tasks;

namespace s501555885925211
{
  public class s404626138245365
  {
    private const int s242614301673292 = 128;
    private s404626138245365.s386647062012439[] s689456319649873;
    internal s275977756270514[] s684065448338542;
    internal ConcurrentDictionary<string, s275977756270514> s039197233378398;
    internal ConcurrentDictionary<s249664905187139, ConcurrentDictionary<s275977756270514, s249664905187139>> s734301824021560;
    internal s293547439506271 s562266176772904;
    private s249664905187139 s375804548125472;
    private s859502443231730 s107417091873165;
    private s614835749086386 s070904260830322;
    private Dictionary<int, s538480329340798> s790973442281588;
    internal s249664905187139[] s944597721507514;
    internal int s664865369266915;

    public s404626138245365(s125354240788400 scalingPolicy)
    {
      this.s375804548125472 = new s249664905187139("ROOT", s275977756270514.Root, (s249664905187139) null, this);
      this.s848801229679388 = scalingPolicy;
    }

    public s293547439506271 s844138151880462
    {
      get => this.s562266176772904;
      set
      {
        if (this.s562266176772904 != null)
          this.s375804548125472 = new s249664905187139("ROOT", s275977756270514.Root, (s249664905187139) null, this);
        this.s562266176772904 = value;
        this.s790973442281588 = (Dictionary<int, s538480329340798>) null;
        if (this.s359436014659191 != null)
          this.s359436014659191.s397061875517661();
        this.s689456319649873 = new s404626138245365.s386647062012439[128];
        this.s039197233378398 = new ConcurrentDictionary<string, s275977756270514>(1, value.s868310773649162);
        this.s684065448338542 = new s275977756270514[value.s868310773649162];
        if (this.s562266176772904.s517254629407712)
          this.s944597721507514 = new s249664905187139[this.s562266176772904.s297715170777068];
        if (this.s957916045156348)
          value.s827465297263042(new Action<s124232551204041>(this.s613466315073290));
        else
          value.s666051819468540(new Action<s124232551204041>(this.s613466315073290));
        this.s705463550130098 = Math.Abs(this.s750600148859172.s828902800123744);
        this.s647750123895364();
        this.s689456319649873 = (s404626138245365.s386647062012439[]) null;
        this.s039197233378398 = (ConcurrentDictionary<string, s275977756270514>) null;
        this.s684065448338542 = (s275977756270514[]) null;
        this.s734301824021560 = (ConcurrentDictionary<s249664905187139, ConcurrentDictionary<s275977756270514, s249664905187139>>) null;
      }
    }

    public float s705463550130098 { get; set; }

    public s249664905187139 s750600148859172 => this.s375804548125472;

    public s760696001465171 s266285838376185 => (s760696001465171) this.s664865369266915;

    public s886803016628730 s750174108849795(string s873755325834115) => new s886803016628730(s873755325834115, this);

    public IEnumerable<s538480329340798> s122273077925582 => (IEnumerable<s538480329340798>) this.s273255483144632().Values;

    public List<s538480329340798> s331886373455510()
    {
      List<s538480329340798> s538480329340798List = new List<s538480329340798>(this.s122273077925582);
      s538480329340798List.Sort((Comparison<s538480329340798>) ((s632791987594392, s565043742576693) => Math.Abs(s565043742576693.s023027443179802).CompareTo(Math.Abs(s632791987594392.s023027443179802))));
      return s538480329340798List;
    }

    public int s260932528948991(float s734465198827020, bool s002861910073011)
    {
      Dictionary<int, s538480329340798> s169435063469254 = (Dictionary<int, s538480329340798>) null;
      if (s002861910073011)
        s169435063469254 = this.s273255483144632();
      int num = this.s375804548125472.s780262675678793(s734465198827020, s169435063469254);
      this.s790973442281588 = (Dictionary<int, s538480329340798>) null;
      return num;
    }

    public void s317454528148660(IComparer<s249664905187139> s786934209070539) => this.s375804548125472.s349682108386967(s786934209070539);

    public void s647750123895364() => this.s317454528148660((IComparer<s249664905187139>) new s705563840157819<s249664905187139>((Comparison<s249664905187139>) ((s875653943790346, s335091587954383) =>
    {
      int num = Math.Abs(s335091587954383.s828902800123744).CompareTo(Math.Abs(s875653943790346.s828902800123744));
      return num != 0 ? num : s875653943790346.s979558994253723.CompareTo(s335091587954383.s979558994253723);
    })));

    public s125354240788400 s848801229679388 { get; private set; }

    public s859502443231730 s359436014659191
    {
      get => this.s107417091873165;
      set
      {
        this.s107417091873165 = value;
        if (value == null)
          return;
        this.s750600148859172.s362004578225384 = new s612550122142431((s483909215967189) value);
      }
    }

    public s614835749086386 s432833714659629
    {
      get => this.s070904260830322;
      set
      {
        this.s070904260830322 = value;
        if (value == null)
          return;
        this.s750600148859172.s665951372291728 = new s612550122142431((s483909215967189) value);
      }
    }

    public bool s957916045156348 { get; set; } = true;

    public virtual void s159724137609770()
    {
      if (this.s790973442281588 != null)
      {
        foreach (s538480329340798 s538480329340798 in this.s790973442281588.Values)
          s538480329340798.s999273518037622();
        this.s790973442281588 = (Dictionary<int, s538480329340798>) null;
      }
      this.s375804548125472.s999273518037622();
      this.s375804548125472 = (s249664905187139) null;
      this.s562266176772904 = (s293547439506271) null;
    }

    public void s405014715725359(TextWriter s879528213075538)
    {
      s879528213075538.WriteLine("<s404626138245365 TotalMetric=\"{0:f1}\">", (object) this.s750600148859172.s828902800123744);
      this.s750600148859172.s951598423191109(s879528213075538);
      s879528213075538.WriteLine("</s404626138245365>");
    }

    public virtual string s459386372671389()
    {
      StringWriter s879528213075538 = new StringWriter();
      this.s405014715725359((TextWriter) s879528213075538);
      return s879528213075538.ToString();
    }

    private s404626138245365(s249664905187139 root) => this.s375804548125472 = root;

    private s249664905187139 s454653159176914(
      s457867646003930 s972882942332560,
      s455848080656944 s766883880782362 = default (s455848080656944))
    {
      if (s766883880782362.s635804596355064)
      {
        // ISSUE: object of a compiler-generated type is created
        // ISSUE: variable of a compiler-generated type
        s404626138245365.s602083995707248 s602083995707248 = (s404626138245365.s602083995707248) new s404626138245365.s250944686250807();
        // ISSUE: reference to a compiler-generated field
        ((s404626138245365.s250944686250807) s602083995707248).s383537603816772 = this;
        // ISSUE: reference to a compiler-generated field
        s602083995707248.s099051734642918 = s972882942332560;
        // ISSUE: reference to a compiler-generated field
        s602083995707248.s472768845124606 = s766883880782362;
        // ISSUE: reference to a compiler-generated method
        return Task.Factory.StartNew<s249664905187139>(new Func<s249664905187139>(s602083995707248.s947851310261036), TaskCreationOptions.LongRunning).GetAwaiter().GetResult();
      }
      int index = (int) (s972882942332560 & (s457867646003930) 127);
      s404626138245365.s386647062012439 s386647062012439 = this.s689456319649873[index];
      if (s386647062012439.s592681578199001 == s972882942332560 && s386647062012439.s594438204477876 != null)
        return s386647062012439.s594438204477876;
      if (s972882942332560 == s457867646003930.Invalid)
        return this.s375804548125472;
      s249664905187139 s249664905187139 = this.s454653159176914(this.s562266176772904.s578756348595744(s972882942332560), s766883880782362.s914208791137207).s630222843848779(this.s562266176772904.s275938953343520(s972882942332560));
      this.s689456319649873[index].s594438204477876 = (s249664905187139) null;
      // ISSUE: cast to a reference type
      // ISSUE: explicit reference operation
      (^(s946499924469656.s773019430080014&) ref this.s689456319649873[index]).s592681578199001 = s972882942332560;
      this.s689456319649873[index].s594438204477876 = s249664905187139;
      return s249664905187139;
    }

    private void s613466315073290(s124232551204041 s078796619185433)
    {
      s249664905187139 s048898575529871 = this.s454653159176914(s078796619185433.s953068594617511);
      if (this.s944597721507514 != null)
        this.s944597721507514[(int) s078796619185433.s506976182609173] = s048898575529871;
      lock (this)
        this.s757332558383659(s048898575529871, s078796619185433);
    }

    private void s757332558383659(
      s249664905187139 s048898575529871,
      s124232551204041 s150314232757785)
    {
      s048898575529871.s307706308281456 += s150314232757785.s242611731008406;
      s048898575529871.s364226190596274 += s150314232757785.s084801687846570;
      if (s150314232757785.s506976182609173 != s745426657201161.Invalid)
        s048898575529871.s280147559914771.Add(s150314232757785.s506976182609173);
      if (s150314232757785.s953068594617511 != s457867646003930.Invalid && this.s562266176772904.s516382526075034(s150314232757785.s953068594617511) > 0)
      {
        s048898575529871.s789138399840781 += s150314232757785.s242611731008406;
        s048898575529871.s048816825194830 += s150314232757785.s084801687846570;
      }
      double num = s150314232757785.s413641156979027;
      if (this.s848801229679388 == s125354240788400.TimeMetric)
      {
        num += (double) Math.Abs(s150314232757785.s084801687846570);
        if (this.s359436014659191 != null && num > this.s359436014659191.s212548895885325)
          num = this.s359436014659191.s212548895885325;
      }
      for (; s048898575529871 != null; s048898575529871 = s048898575529871.s669000833407574)
      {
        s048898575529871.s017796430193333 += s150314232757785.s242611731008406;
        s048898575529871.s146196484866953 += s150314232757785.s084801687846570;
        if (s048898575529871.s837776692311871 != null)
          s048898575529871.s837776692311871.s062861028396119(s150314232757785);
        if (s048898575529871.s853100150581933 != null)
          s048898575529871.s853100150581933.s062861028396119(s150314232757785);
        if (s150314232757785.s413641156979027 < s048898575529871.s987513584283306)
          s048898575529871.s987513584283306 = s150314232757785.s413641156979027;
        if (num > s048898575529871.s199691912507960)
          s048898575529871.s199691912507960 = num;
      }
    }

    internal Dictionary<int, s538480329340798> s273255483144632()
    {
      if (this.s790973442281588 == null)
      {
        this.s790973442281588 = new Dictionary<int, s538480329340798>();
        this.s617428375080298(this.s375804548125472, new Dictionary<int, s538480329340798>());
      }
      return this.s790973442281588;
    }

    private void s617428375080298(
      s249664905187139 s545217908355036,
      Dictionary<int, s538480329340798> s245043202625104,
      s455848080656944 s268474645546235 = default (s455848080656944))
    {
      if (s268474645546235.s635804596355064)
      {
        // ISSUE: object of a compiler-generated type is created
        // ISSUE: variable of a compiler-generated type
        s404626138245365.s430353983325724 s430353983325724 = (s404626138245365.s430353983325724) new s404626138245365.s602083995707248();
        // ISSUE: reference to a compiler-generated field
        ((s404626138245365.s602083995707248) s430353983325724).s682486332109695 = this;
        // ISSUE: reference to a compiler-generated field
        s430353983325724.s424609502997806 = s545217908355036;
        // ISSUE: reference to a compiler-generated field
        s430353983325724.s573619588023171 = s245043202625104;
        // ISSUE: reference to a compiler-generated field
        s430353983325724.s887074617382863 = s268474645546235;
        // ISSUE: reference to a compiler-generated method
        Task.Factory.StartNew(new Action(s430353983325724.s755699550294970), TaskCreationOptions.LongRunning).GetAwaiter().GetResult();
      }
      else
      {
        s538480329340798 s538480329340798;
        if (!this.s790973442281588.TryGetValue((int) s545217908355036.s547274587818913, out s538480329340798))
        {
          s538480329340798 = new s538480329340798(s545217908355036.s174326133568332, s545217908355036.s547274587818913, this);
          s538480329340798.s231288354921345 = true;
          this.s790973442281588.Add((int) s545217908355036.s547274587818913, s538480329340798);
        }
        bool s348416147252949 = !s245043202625104.ContainsKey((int) s545217908355036.s547274587818913);
        s538480329340798.s959052814350502((s538480329340798) s545217908355036, s348416147252949);
        s545217908355036.s860492981885352 = s538480329340798.s860492981885352;
        s538480329340798.s860492981885352 = (s538480329340798) s545217908355036;
        if (s545217908355036.s941181405381768 == null)
          return;
        if (s348416147252949)
          s245043202625104.Add((int) s545217908355036.s547274587818913, (s538480329340798) null);
        foreach (s249664905187139 s545217908355036_1 in s545217908355036.s765007606372639)
          this.s617428375080298(s545217908355036_1, s245043202625104, s268474645546235.s914208791137207);
        if (!s348416147252949)
          return;
        s245043202625104.Remove((int) s545217908355036.s547274587818913);
      }
    }

    private struct s386647062012439
    {
      public s249664905187139 s594438204477876;
      public static readonly s404626138245365.s250944686250807 s906004490006407;
    }
  }
}
