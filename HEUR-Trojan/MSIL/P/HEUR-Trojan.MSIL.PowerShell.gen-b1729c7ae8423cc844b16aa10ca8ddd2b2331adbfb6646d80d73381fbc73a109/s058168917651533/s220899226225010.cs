// Decompiled with JetBrains decompiler
// Type: s058168917651533.s220899226225010
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using s023167185562837;
using s068979146915301;
using s077414222832753;
using s100454021393476;
using s134096877844438;
using s159737362896741;
using s251603833840091;
using s284387309316892;
using s297449729949532;
using s302206583356359;
using s319900137549381;
using s335568315505947;
using s354939329968896;
using s356530178478151;
using s379674105506578;
using s386667435945483;
using s430663705211726;
using s432851493392539;
using s442252528567994;
using s456798297444311;
using s463576579707946;
using s476398261269100;
using s496354618597361;
using s528813736053581;
using s534859580764535;
using s564412675469531;
using s567807001553432;
using s573174190489126;
using s622674294077287;
using s623654750430668;
using s686708834606903;
using s743898255106522;
using s766819599242531;
using s790378171014915;
using s820642256058502;
using s838187214298364;
using s874166642857481;
using s885500789572734;
using s892267109040746;
using s928707304529159;
using s935466933889679;
using s962360155664524;
using s985393833263885;
using System;
using System.Collections.Generic;
using System.IO;
using System.Reflection;
using System.Runtime.CompilerServices;

namespace s058168917651533
{
  [DefaultMember("Item")]
  public class s220899226225010
  {
    public bool s459360489998127;
    private s220899226225010.s060740130668001[] s173052934358410;
    private bool[] s754481220387527;
    private s946499924469656[] s184603680648420;
    private Dictionary<ulong, s946499924469656> s108367161343366;
    private GrowableArray<s946499924469656> s586480294910160;
    private GrowableArray<s457867646003930> s847181250896823;
    private GrowableArray<List<s946499924469656>> s912770101691169;
    private s726691949965431 s664447424608177;
    private s953925013719849 s821369112050955;
    private s435790585148060 s338904848631385;
    private s302029464250094 s798745618694678;
    private s034852122986107 s332360514388695;
    private s259963864345048 s934105630633389;
    private s220899226225010.s126584928787364 s022982205402614;

    public s220899226225010(
      s993604466763239 source,
      s435790585148060 reader,
      s259963864345048 gcReferenceComputer = null)
    {
      if (gcReferenceComputer == null)
        gcReferenceComputer = new s259963864345048((s726691949965431) source);
      this.s934105630633389 = gcReferenceComputer;
      this.s664447424608177 = (s726691949965431) source;
      this.s821369112050955 = source.s863227389121164;
      this.s338904848631385 = reader;
      this.s184603680648420 = new s946499924469656[this.s821369112050955.s132713297009023.s141151785930897];
      this.s754481220387527 = new bool[this.s821369112050955.s132713297009023.s141151785930897];
      for (int index = 0; index < this.s754481220387527.Length; ++index)
        this.s754481220387527[index] = true;
      this.s108367161343366 = new Dictionary<ulong, s946499924469656>(64);
      this.s586480294910160.Count = this.s821369112050955.s132713297009023.s141151785930897;
      this.s912770101691169.Count = this.s821369112050955.s132713297009023.s141151785930897;
      s727338593376591 s727338593376591 = new s727338593376591((s470725726477034) this.s664447424608177);
      s727338593376591.s190451239879597 += (Action<s380368361434121>) (s047623668784463 =>
      {
        // ISSUE: unable to decompile the method.
      });
      s727338593376591.s266472629079051 += (Action<s939059655648208>) (s359175835710120 => this.s503648114163757((s034852122986107) s359175835710120, s220899226225010.s239571990553868((s034852122986107) s359175835710120, s359175835710120.s813075624329561, s220899226225010.s806114356230130.TplScheduledTask)));
      s727338593376591.s179493325591523 += (Action<s107842037884167>) (s593454029536903 =>
      {
        s946499924469656 s859538738057027;
        this.s108367161343366.TryGetValue(s220899226225010.s239571990553868((s034852122986107) s593454029536903, s593454029536903.s925644138903787, s220899226225010.s806114356230130.TplScheduledTask), out s859538738057027);
        this.s750242704702474((s034852122986107) s593454029536903, s859538738057027);
      });
      s727338593376591.s295862221401719 += (Action<s016585700558603>) (s232301187701631 => this.s501617149140932((s034852122986107) s232301187701631, s220899226225010.s239571990553868((s034852122986107) s232301187701631, s232301187701631.s330836960897878, s220899226225010.s806114356230130.TplScheduledTask), (s946499924469656.s773019430080014) 4));
      s727338593376591.s303673582263043 += (Action<s347325148631385>) (s142269206921275 =>
      {
        s946499924469656 s946499924469656 = this.s501617149140932((s034852122986107) s142269206921275, s220899226225010.s239571990553868((s034852122986107) s142269206921275, s142269206921275.s582491743756896, s220899226225010.s806114356230130.TplContinuation), s142269206921275.s223239245676358 == s317246167158003.Synchronous ? (s946499924469656.s773019430080014) 97 : (s946499924469656.s773019430080014) 32);
        if (s946499924469656 == null)
          return;
        int s832458248584618 = (int) s946499924469656.s395940552341387.s832458248584618;
        if (this.s912770101691169[s832458248584618] == null)
          this.s912770101691169[s832458248584618] = new List<s946499924469656>(4);
        this.s912770101691169[s832458248584618].Add(s946499924469656);
      });
      s727338593376591.s354824212716217 += (Action<s521475773088156>) (s347219021733716 => this.s503648114163757((s034852122986107) s347219021733716, s220899226225010.s239571990553868((s034852122986107) s347219021733716, s347219021733716.s248023649512617, s220899226225010.s806114356230130.TplContinuation), true));
      s516912170260088 s516912170260088 = new s516912170260088((s470725726477034) this.s664447424608177);
      s516912170260088.s388807812218759 += (Action<s533259896423380>) (s445846508788571 =>
      {
        // ISSUE: unable to decompile the method.
      });
      s516912170260088.s698881209543621 += (Action<s991144443766410>) (s068445288405878 =>
      {
        ulong s422277276486036 = s220899226225010.s375123294620337((s034852122986107) s068445288405878, this.s934105630633389.s126305245014381(s068445288405878.s319736269556840));
        this.s503648114163757((s034852122986107) s068445288405878, s422277276486036);
      });
      s516912170260088.s694502679528810 += (Action<s053863073907699>) (s524389761980980 => this.s501617149140932((s034852122986107) s524389761980980, s220899226225010.s856739727152317((s034852122986107) s524389761980980, s524389761980980.s485815184857719), (s946499924469656.s773019430080014) 6));
      s516912170260088.s599707313979485 += (Action<s502576883230939>) (s845222795198719 => this.s503648114163757((s034852122986107) s845222795198719, s220899226225010.s856739727152317((s034852122986107) s845222795198719, s845222795198719.s817055696542135)));
      this.s664447424608177.s590853507783886.s462161162294402 += (Action<s206997261307278>) (s650308293659082 => this.s844651808976614((s034852122986107) s650308293659082, s650308293659082.s294168149113671()));
      this.s664447424608177.s590853507783886.s456561442467797 += (Action<s481997453523302>) (s721672487528358 => this.s501617149140932((s034852122986107) s721672487528358, s220899226225010.s245171943422891((s034852122986107) s721672487528358, s721672487528358.s253717506312000), (s946499924469656.s773019430080014) 7));
      this.s664447424608177.s590853507783886.s552620151776148 += (Action<s974948245862616>) (s451628503804590 => this.s501617149140932((s034852122986107) s451628503804590, s220899226225010.s245171943422891((s034852122986107) s451628503804590, s451628503804590.s502887385054818), (s946499924469656.s773019430080014) 7));
      this.s664447424608177.s590853507783886.s775487480088021 += (Action<s974948245862616>) (s972056063437331 => this.s503648114163757((s034852122986107) s972056063437331, s220899226225010.s245171943422891((s034852122986107) s972056063437331, s972056063437331.s502887385054818)));
      this.s664447424608177.s590853507783886.s978746160694578 += (Action<s328291845292909>) (s524666492563931 => this.s501617149140932((s034852122986107) s524666492563931, s220899226225010.s856739727152317((s034852122986107) s524666492563931, s524666492563931.s960408342182239), (s946499924469656.s773019430080014) 6));
      this.s664447424608177.s590853507783886.s513123026912709 += (Action<s328291845292909>) (s600115777816735 => this.s503648114163757((s034852122986107) s600115777816735, s220899226225010.s856739727152317((s034852122986107) s600115777816735, s600115777816735.s960408342182239)));
      this.s664447424608177.s172105390192914.s416497288056006("Microsoft-Windows-ASPNET", "Request/Start", (Action<s034852122986107>) (s507519592601817 => this.s844651808976614(s507519592601817, s507519592601817.s294168149113671())));
      this.s664447424608177.s349033646356209.s195810987291846 += (Action<s892463431402546>) (s102736898656020 =>
      {
        this.s227264287860595((s034852122986107) s102736898656020);
        s399735979708807 s121853411737299 = this.s821369112050955.s132713297009023.s253165123067307(s102736898656020.s411417226423455, s102736898656020.s739924403627474);
        if (s121853411737299 == null)
          return;
        int s519833341027850 = (int) s121853411737299.s519833341027850;
        if (this.s184603680648420.Length <= s519833341027850)
          return;
        s946499924469656 s859538738057027 = this.s184603680648420[s519833341027850];
        if (s859538738057027 == null || !s220899226225010.s759608482443804(this.s821369112050955, s102736898656020.s834341387022203()))
          return;
        int num = 0;
        s946499924469656 s888793190886380;
        for (; s859538738057027 != null; s859538738057027 = s888793190886380)
        {
          this.s750242704702474((s034852122986107) s102736898656020, s859538738057027, s121853411737299);
          s888793190886380 = s859538738057027.s888793190886380;
          ++num;
          if (s859538738057027 == s888793190886380 || num > 1000)
          {
            this.s338904848631385.s682952334786273.WriteLine("Error: prevActivityOnThread is recursive {0}", (object) s859538738057027.s979803989799611);
            break;
          }
        }
        this.s754481220387527[s519833341027850] = true;
      });
    }

    public s953925013719849 s591239247822898 => this.s821369112050955;

    public event Action<s946499924469656, s034852122986107> s461826661845809;

    public event Action<s946499924469656, s034852122986107> s472880049069720;

    public event Action<s946499924469656, s034852122986107> s302493316372233;

    public event Action<s946499924469656, s034852122986107, s399735979708807> s141768120640415;

    public event Action<s946499924469656, s034852122986107> s111049446127162;

    public s946499924469656 s566699301308554(s399735979708807 s861474451298404)
    {
      int s519833341027850 = (int) s861474451298404.s519833341027850;
      s946499924469656 s946499924469656 = this.s184603680648420[s519833341027850];
      if (s946499924469656 == null)
      {
        s946499924469656 = this.s885660192175583(s861474451298404);
        this.s184603680648420[s519833341027850] = s946499924469656;
      }
      return s946499924469656;
    }

    public s946499924469656 s885660192175583(s399735979708807 s093646539527867)
    {
      int s519833341027850 = (int) s093646539527867.s519833341027850;
      s946499924469656 s946499924469656 = this.s586480294910160[s519833341027850];
      if (s946499924469656 == null)
      {
        s946499924469656 = new s946499924469656((s528638463248059) s519833341027850, (s946499924469656) null, s130497541240854.Invalid, s147978847785798.Invalid, s093646539527867.s713584432064712, ulong.MaxValue, false, false, (s946499924469656.s773019430080014) 0);
        this.s586480294910160[s519833341027850] = s946499924469656;
        s946499924469656.s704486359718356 = s093646539527867.s182048102851533;
        s946499924469656.s066170235748061 = s093646539527867;
      }
      return s946499924469656;
    }

    public s946499924469656 get_Item(s528638463248059 index) => this.s586480294910160[(int) index];

    public s457867646003930 s068220897381137(
      s302029464250094 s469076436655924,
      s034852122986107 s355227450609857,
      Func<s399735979708807, s457867646003930> s801743550245004 = null,
      bool s239439768117682 = false)
    {
      this.s798745618694678 = s469076436655924;
      s946499924469656 s848898135634753 = this.s566699301308554(s355227450609857.s294168149113671());
      s147978847785798 s147978847785798 = s355227450609857.s896522493390522();
      if (this.s022982205402614 == null && !this.s459360489998127)
      {
        // ISSUE: object of a compiler-generated type is created
        this.s022982205402614 = (s220899226225010.s126584928787364) new s435790585148060.s599453117253623();
      }
      if (s239439768117682)
        s147978847785798 = this.s032710222133184(s147978847785798);
      this.s332360514388695 = s355227450609857;
      return this.s114003079987034(s147978847785798, s848898135634753, s801743550245004);
    }

    public s457867646003930 s813570766033951(
      s302029464250094 s186068977078939,
      s946499924469656 s792740939381902,
      Func<s399735979708807, s457867646003930> s619342475193624 = null)
    {
      this.s798745618694678 = s186068977078939;
      if (this.s022982205402614 == null && !this.s459360489998127)
      {
        // ISSUE: object of a compiler-generated type is created
        this.s022982205402614 = (s220899226225010.s126584928787364) new s435790585148060.s599453117253623();
      }
      this.s332360514388695 = (s034852122986107) null;
      return this.s114003079987034(s147978847785798.Invalid, s792740939381902, s619342475193624);
    }

    public s457867646003930 s272622818911393(
      s302029464250094 s855823980378650,
      s946499924469656 s420864771176242)
    {
      s457867646003930 s457867646003930 = this.s847181250896823.Get((int) s420864771176242.s832458248584618);
      if (s457867646003930 == s457867646003930.Start)
      {
        s275977756270514 s249187515290763 = s855823980378650.s669246881012685.s092839873163377(s420864771176242.s979803989799611);
        s946499924469656 s395940552341387 = s420864771176242.s395940552341387;
        s457867646003930 s506535691979223 = s395940552341387 != null ? this.s272622818911393(s855823980378650, s395940552341387) : s855823980378650.s561098823525488(s420864771176242.s261611955093733.s772648742937858);
        s457867646003930 = s855823980378650.s669246881012685.s649303816154062(s249187515290763, s506535691979223);
        this.s847181250896823.Set((int) s420864771176242.s832458248584618, s457867646003930);
      }
      return s457867646003930;
    }

    private void s227264287860595(s034852122986107 s199212473569488)
    {
      s399735979708807 s681789967482913 = s199212473569488.s294168149113671();
      if (s681789967482913 == null)
        return;
      int s519833341027850 = (int) s681789967482913.s519833341027850;
      if (!this.s754481220387527[s519833341027850])
        return;
      this.s754481220387527[s519833341027850] = false;
      this.s844651808976614(s199212473569488, s681789967482913);
    }

    private void s844651808976614(
      s034852122986107 s730554382515019,
      s399735979708807 s681789967482913)
    {
      if (s681789967482913 == null)
        return;
      s946499924469656 s946499924469656 = new s946499924469656((s528638463248059) this.s586480294910160.Count, (s946499924469656) null, s730554382515019.s980614047227979, s147978847785798.Invalid, s730554382515019.s218856315967206, ulong.MaxValue, false, false, (s946499924469656.s773019430080014) 13);
      // ISSUE: reference to a compiler-generated field
      Action<s946499924469656, s034852122986107> s971770882047571 = this.s971770882047571;
      if (s971770882047571 != null)
        s971770882047571(s946499924469656, s730554382515019);
      this.s586480294910160.Add(s946499924469656);
      this.s912770101691169.Add((List<s946499924469656>) null);
      s946499924469656.s888793190886380 = this.s184603680648420[(int) s681789967482913.s519833341027850];
      this.s184603680648420[(int) s681789967482913.s519833341027850] = s946499924469656;
      s946499924469656.s966480497200966 = s730554382515019.s218856315967206;
      s946499924469656.s066170235748061 = s681789967482913;
      // ISSUE: reference to a compiler-generated field
      Action<s946499924469656, s034852122986107> s234478575396225 = this.s234478575396225;
      if (s234478575396225 == null)
        return;
      s234478575396225(s946499924469656, s730554382515019);
    }

    internal static bool s759608482443804(
      s953925013719849 s326320269050411,
      s147978847785798 s079355942797176)
    {
      if (s079355942797176 == s147978847785798.Invalid)
        return false;
      int num = 0;
      string str = (string) null;
      bool flag = false;
      s045113750567070 s045113750567070;
      do
      {
        s320811790897239 s012040119230596 = s326320269050411.s331550318228488.s772228772378070(s079355942797176);
        s045113750567070 = s326320269050411.s517247949554964.s253661179799257(s012040119230596);
        if (s045113750567070 == null)
          return false;
        string s369986943707552 = s045113750567070.s369986943707552;
        if (s369986943707552.Length < 1)
          return false;
        int indexA = s369986943707552[0] == '\\' ? 0 : 2;
        if (string.Compare(s369986943707552, indexA, "\\windows\\sys", 0, 12, StringComparison.OrdinalIgnoreCase) != 0)
        {
          if (s369986943707552.EndsWith("clr.dll", StringComparison.OrdinalIgnoreCase) || s369986943707552.EndsWith("mscorwks.dll", StringComparison.OrdinalIgnoreCase))
          {
            flag = true;
            if (str != null && str.EndsWith("ntoskrnl.exe", StringComparison.OrdinalIgnoreCase))
              return false;
          }
          else if (!s369986943707552.EndsWith("webengine4.dll", StringComparison.OrdinalIgnoreCase))
            return false;
        }
        else if (s369986943707552.EndsWith("w3tp.dll", StringComparison.OrdinalIgnoreCase))
          flag = true;
        str = s369986943707552;
        ++num;
        if (num > 30)
          return false;
        s079355942797176 = s326320269050411.s331550318228488.s140621582222871(s079355942797176);
      }
      while (s079355942797176 != s147978847785798.Invalid);
      return flag && s045113750567070.s369986943707552.EndsWith("ntdll.dll", StringComparison.OrdinalIgnoreCase);
    }

    private static bool s885121614940418(s946499924469656.s773019430080014 s574493523054183)
    {
      // ISSUE: unable to decompile the method.
    }

    private static s946499924469656.s773019430080014 s799180199650456(
      s118813342347561 s659604679381642)
    {
      return s659604679381642 == s118813342347561.ManagedTimers ? (s946499924469656.s773019430080014) 34 : (s946499924469656.s773019430080014) (int) (short) (9 + s659604679381642);
    }

    private s946499924469656 s501617149140932(
      s034852122986107 s096200572870042,
      ulong s284627821473019,
      s946499924469656.s773019430080014 s234743904439242)
    {
      // ISSUE: unable to decompile the method.
    }

    private void s503648114163757(
      s034852122986107 s092709925233570,
      ulong s422277276486036,
      bool s779913929393265 = false)
    {
      // ISSUE: unable to decompile the method.
    }

    private void s750242704702474(
      s034852122986107 s345738493986587,
      s946499924469656 s859538738057027,
      s399735979708807 s121853411737299 = null)
    {
      // ISSUE: unable to decompile the method.
    }

    private static ulong s239571990553868(
      s034852122986107 s036396722654821,
      int s491635714085861,
      s220899226225010.s806114356230130 s013608725271074)
    {
      return ((ulong) (uint) ((s036396722654821.s102913512010943 << 8) + ((int) s013608725271074 << 28)) << 32) + (ulong) (uint) s491635714085861;
    }

    private static ulong s375123294620337(
      s034852122986107 s692551083298861,
      s310250122898225 s602605262941209)
    {
      return ((ulong) (uint) ((s692551083298861.s102913512010943 << 8) + 805306368) << 32) + (ulong) (uint) s602605262941209;
    }

    private static ulong s245171943422891(s034852122986107 s937062403024715, ulong s998382501956675) => ((ulong) (uint) ((s937062403024715.s102913512010943 << 8) + 1073741824) << 32) + s998382501956675;

    private static ulong s856739727152317(s034852122986107 s768524141812136, ulong s162379818308301) => ((ulong) (uint) ((s768524141812136.s102913512010943 << 8) + 1342177280) << 32) + s162379818308301;

    private static s220899226225010.s806114356230130 s695661242043130(
      ulong s530580748718249)
    {
      return (s220899226225010.s806114356230130) (int) (15L & (long) (s530580748718249 >> 60));
    }

    private s457867646003930 s114003079987034(
      s147978847785798 s507808710399135,
      s946499924469656 s848898135634753,
      Func<s399735979708807, s457867646003930> s250515101274495)
    {
      if (this.s022982205402614 != null)
      {
        ((s957499255786291.s326697951241381) this.s022982205402614).s592920982921318 = s848898135634753.s832458248584618;
        s457867646003930 s457867646003930 = this.s022982205402614.s630942077737570(s507808710399135);
        if (s457867646003930 != s457867646003930.Invalid)
          return s457867646003930;
      }
      s946499924469656 s395940552341387 = s848898135634753.s395940552341387;
      if (s395940552341387 != null)
      {
        s457867646003930 s457867646003930 = this.s114003079987034(this.s032710222133184(s848898135634753.s449281058877642), s395940552341387, s250515101274495);
        if (this.s022982205402614 != null)
          ((s957499255786291.s326697951241381) this.s022982205402614).s592920982921318 = s848898135634753.s832458248584618;
        s147978847785798 s147978847785798 = s147978847785798.Invalid;
        if (s507808710399135 != s147978847785798.Invalid)
        {
          s147978847785798 = this.s707095720193110(s507808710399135);
          if (s147978847785798 == s147978847785798.Invalid)
            goto label_11;
        }
        if (this.s409926310332048(s507808710399135, s147978847785798, s457867646003930) != s275977756270514.Invalid)
          return s457867646003930;
        s457867646003930 s444934040234703 = this.s798745618694678.s669246881012685.s649303816154062(this.s798745618694678.s669246881012685.s092839873163377("STARTING TASK"), s457867646003930);
        return this.s783495759158423(s507808710399135, s147978847785798, s444934040234703);
      }
label_11:
      s457867646003930 s569049081354129 = s250515101274495 == null ? this.s798745618694678.s261674902348917(s848898135634753.s261611955093733) : s250515101274495(s848898135634753.s261611955093733);
      return this.s798745618694678.s901088699129838(s507808710399135, s569049081354129, (s302029464250094.CallStackMap) this.s022982205402614);
    }

    private s147978847785798 s032710222133184(s147978847785798 s034432635321041)
    {
      // ISSUE: unable to decompile the method.
    }

    private s275977756270514 s409926310332048(
      s147978847785798 s944751255729168,
      s147978847785798 s861089343047437,
      s457867646003930 s458158504705938)
    {
      s147978847785798 s147978847785798 = s944751255729168;
      for (s457867646003930 s457867646003930 = s458158504705938; s147978847785798 != s147978847785798.Invalid && s457867646003930 != s457867646003930.Invalid; s147978847785798 = this.s821369112050955.s331550318228488.s140621582222871(s147978847785798))
      {
        if (s147978847785798 != s861089343047437)
        {
          s275977756270514 s275977756270514 = this.s798745618694678.s275938953343520(s457867646003930);
          s320811790897239 s510034554581839 = this.s821369112050955.s331550318228488.s772228772378070(s147978847785798);
          if (s510034554581839 == s320811790897239.Invalid || this.s798745618694678.s108856170662013(s510034554581839) != s275977756270514)
            return s275977756270514.Invalid;
          s457867646003930 = this.s798745618694678.s578756348595744(s457867646003930);
        }
        else
        {
          s275977756270514 s267041226972261 = this.s798745618694678.s275938953343520(s457867646003930);
          return !this.s798745618694678.s421928177288618(s267041226972261, false).StartsWith("STARTING TASK", StringComparison.Ordinal) ? s275977756270514.Invalid : s267041226972261;
        }
      }
      return s275977756270514.Invalid;
    }

    private s457867646003930 s783495759158423(
      s147978847785798 s102267098151506,
      s147978847785798 s412620511091217,
      s457867646003930 s444934040234703)
    {
      if (s102267098151506 == s147978847785798.Invalid || s102267098151506 == s412620511091217)
        return s444934040234703;
      s320811790897239 s510034554581839 = this.s821369112050955.s331550318228488.s772228772378070(s102267098151506);
      s457867646003930 s506535691979223 = this.s783495759158423(this.s821369112050955.s331550318228488.s140621582222871(s102267098151506), s412620511091217, s444934040234703);
      s457867646003930 s509334416573206 = this.s798745618694678.s669246881012685.s649303816154062(this.s798745618694678.s108856170662013(s510034554581839), s506535691979223);
      if (this.s022982205402614 != null)
        this.s022982205402614.s796631527379716(s102267098151506, s509334416573206);
      return s509334416573206;
    }

    private s147978847785798 s707095720193110(s147978847785798 s511345243920626)
    {
      // ISSUE: unable to decompile the method.
    }

    private void s084547968012535()
    {
      StringWriter stringWriter = new StringWriter();
      foreach (s045113750567070 s055553797713474 in (IEnumerable<s045113750567070>) this.s821369112050955.s427569464106482)
      {
        if ((s055553797713474.s589987884624410.StartsWith("mscorlib.ni", StringComparison.OrdinalIgnoreCase) || s055553797713474.s589987884624410.StartsWith("system.private.corelib", StringComparison.OrdinalIgnoreCase)) && !s055553797713474.s369986943707552.Contains("NativeImages_v2"))
          this.s821369112050955.s517247949554964.s953723846432476(this.s338904848631385, s055553797713474);
      }
      bool flag = false;
      s401337373502864 s964865809619446 = this.s821369112050955.s517247949554964.s964865809619446;
      this.s173052934358410 = new s220899226225010.s060740130668001[s964865809619446.s801775752597254];
      for (s708248100786105 index = ~s708248100786105.Invalid; index < (s708248100786105) s964865809619446.s801775752597254; ++index)
      {
        s045113750567070 s045113750567070 = this.s821369112050955.s427569464106482.get_Item(s964865809619446.s322303219950697(index));
        if (s045113750567070 != null && (s045113750567070.s589987884624410.StartsWith("mscorlib", StringComparison.OrdinalIgnoreCase) || s045113750567070.s589987884624410.IndexOf("system.private.corelib", StringComparison.OrdinalIgnoreCase) >= 0))
        {
          string str = s964865809619446.s348310645789345(index);
          if (str.StartsWith("System.Threading.ExecutionContext.Run") || str.StartsWith("System.Threading.Tasks.AwaitTaskContinuation.Run") || str.StartsWith("System.Threading.Tasks.Task.Execute"))
          {
            ref s220899226225010.s060740130668001 local = ref this.s173052934358410[(int) index];
            // ISSUE: cast to a reference type
            // ISSUE: explicit reference operation
            // ISSUE: cast to a reference type
            // ISSUE: explicit reference operation
            ^(sbyte&) ref local = (sbyte) ((int) ^(byte&) ref local | 1);
            flag = true;
          }
          else if (str.Contains("System.Threading.Tasks.Task") && str.Contains(".InnerInvoke"))
          {
            ref s220899226225010.s060740130668001 local = ref this.s173052934358410[(int) index];
            // ISSUE: cast to a reference type
            // ISSUE: explicit reference operation
            // ISSUE: cast to a reference type
            // ISSUE: explicit reference operation
            ^(sbyte&) ref local = (sbyte) ((int) ^(byte&) ref local | 2);
          }
          else if (str.StartsWith("System.Threading.Tasks.TplEtwProvider.TaskScheduled") || str.StartsWith("System.Threading.Tasks.TplEtwProvider.TaskWaitBegin("))
          {
            ref s220899226225010.s060740130668001 local = ref this.s173052934358410[(int) index];
            // ISSUE: cast to a reference type
            // ISSUE: explicit reference operation
            // ISSUE: cast to a reference type
            // ISSUE: explicit reference operation
            ^(sbyte&) ref local = (sbyte) ((int) ^(byte&) ref local | 4);
          }
          else if (str.StartsWith("System.Threading.Tasks.TplEtwProvider.TaskWaitEnd"))
          {
            ref s220899226225010.s060740130668001 local = ref this.s173052934358410[(int) index];
            // ISSUE: cast to a reference type
            // ISSUE: explicit reference operation
            // ISSUE: cast to a reference type
            // ISSUE: explicit reference operation
            ^(sbyte&) ref local = (sbyte) ((int) ^(byte&) ref local | 16);
          }
          else if (str.StartsWith("System.Runtime.CompilerServices.AsyncTaskMethodBuilder") && str.Contains(".AwaitUnsafeOnCompleted") || str.StartsWith("System.Threading.Tasks.Task.ScheduleAndStart") || str.StartsWith("System.Runtime.CompilerServices") && str.Contains("TaskAwaiter") && (str.Contains("OnCompleted") || str.Contains("OutputWaitEtwEvents")))
          {
            ref s220899226225010.s060740130668001 local = ref this.s173052934358410[(int) index];
            // ISSUE: cast to a reference type
            // ISSUE: explicit reference operation
            // ISSUE: cast to a reference type
            // ISSUE: explicit reference operation
            ^(sbyte&) ref local = (sbyte) ((int) ^(byte&) ref local | 8);
          }
          ref s220899226225010.s060740130668001 local1 = ref this.s173052934358410[(int) index];
          // ISSUE: cast to a reference type
          // ISSUE: explicit reference operation
          // ISSUE: cast to a reference type
          // ISSUE: explicit reference operation
          ^(sbyte&) ref local1 = (sbyte) ((int) ^(byte&) ref local1 | 32);
        }
      }
      if (flag)
        return;
      this.s338904848631385.s682952334786273.WriteLine("Error: Could not resolve symbols for Task library (mscorlib), task stacks will not work.");
    }

    private class s126584928787364 : s302029464250094.CallStackMap
    {
      private const int s744780984127187 = 16384;
      private const int s063016947143245 = 16383;
      private ushort s768362316571305;
      private s220899226225010.s126584928787364.s831850232370265[] s476358617381584;
      [SpecialName]
      public int value__;

      public s457867646003930 s630942077737570(s147978847785798 s354153078696040)
      {
        ++this.s768362316571305;
        s220899226225010.s126584928787364.s831850232370265 s831850232370265 = this.s476358617381584[(int) (((s957499255786291.s326697951241381) this).s592920982921318 + (int) s354153078696040 & (s528638463248059) 16383)];
        if (((s649740525511456.s495333248286015.s482031402994061) s831850232370265).s908468901030873 != ((s957499255786291.s326697951241381) this).s592920982921318 || s831850232370265.s309790254583591 != s354153078696040)
          return s457867646003930.Invalid;
        s831850232370265.s460772331727051 = this.s768362316571305;
        return s831850232370265.s446836994024862;
      }

      public void s796631527379716(
        s147978847785798 s134136175970922,
        s457867646003930 s509334416573206)
      {
        s220899226225010.s126584928787364.s831850232370265 s831850232370265 = this.s476358617381584[(int) (((s957499255786291.s326697951241381) this).s592920982921318 + (int) s134136175970922 & (s528638463248059) 16383)];
        if ((int) s831850232370265.s719789656272135 >= (int) this.s768362316571305 - (int) s831850232370265.s460772331727051)
          return;
        ((s649740525511456.s495333248286015.s482031402994061) s831850232370265).s908468901030873 = ((s957499255786291.s326697951241381) this).s592920982921318;
        s831850232370265.s309790254583591 = s134136175970922;
        s831850232370265.s446836994024862 = s509334416573206;
        s831850232370265.s460772331727051 = this.s768362316571305;
        s831850232370265.s719789656272135 = (ushort) 0;
        if (((int) this.s768362316571305 & 3) != 0)
          return;
        s831850232370265.s719789656272135 = (ushort) 10;
        if (((int) this.s768362316571305 & 16) != 0)
          return;
        s831850232370265.s719789656272135 = (ushort) 50;
      }

      public int s451137347270195
      {
        get
        {
          int numEntries = 0;
          for (int index = 0; index < this.s476358617381584.Length; ++index)
          {
            if (((s649740525511456.s495333248286015.s482031402994061) this.s476358617381584[index]).s908468901030873 != s528638463248059.Invalid)
              ++numEntries;
          }
          return numEntries;
        }
      }

      public void s560763154046995()
      {
        for (int index = 0; index < this.s476358617381584.Length; ++index)
          ((s649740525511456.s495333248286015.s482031402994061) this.s476358617381584[index]).s908468901030873 = s528638463248059.Invalid;
      }

      static s126584928787364() => s220899226225010.s060740130668001.s939201820296413 = new s259963864345048.s175390488612476();

      private class s831850232370265
      {
        public s147978847785798 s309790254583591;
        public s457867646003930 s446836994024862;
        public ushort s460772331727051;
        public ushort s719789656272135;
        public static readonly s384585984974928.s862525211933036.s448296570722866 s723427738630584 = new s384585984974928.s862525211933036.s448296570722866();
      }
    }

    private enum s806114356230130 : byte
    {
      None,
      TplContinuation,
      TplScheduledTask,
      Timer,
      IOThreadPool,
      ThreadPool,
    }

    [Flags]
    private enum s060740130668001
    {
      TaskRun = 1,
      TaskRunHelper = 2,
      TaskSchedule = 4,
      TaskScheduleHelper = 8,
      TaskWaitEnd = 16, // 0x10
      Mscorlib = 32, // 0x20
    }
  }
}
