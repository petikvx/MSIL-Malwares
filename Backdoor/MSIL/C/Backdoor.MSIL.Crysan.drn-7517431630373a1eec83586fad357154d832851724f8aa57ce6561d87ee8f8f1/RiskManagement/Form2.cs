// Decompiled with JetBrains decompiler
// Type: RiskManagement.Form2
// Assembly: IRefle, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 09188B70-FC90-4B10-A900-838DE205A659
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.02-msil\Backdoor.MSIL.Crysan.drn-7517431630373a1eec83586fad357154d832851724f8aa57ce6561d87ee8f8f1.exe

using System;
using System.ComponentModel;
using System.Drawing;
using System.Windows.Forms;

namespace RiskManagement
{
  public class Form2 : Form
  {
    private Random rnd = new Random();
    private bool flag = true;
    private IContainer components;
    private Label label1;
    private Label label2;
    private TextBox textBox1;
    private Button button1;
    private Label label3;

    public Form2()
    {
      this.InitializeComponent();
      this.label1.Text = "Введите любое число от 0 до 9 включительно.\nВаш соперник уже загадал число (N) из этого\nже диапазона. Если сумма ваших чисел будет\nчетным числом, то первым ход делаете Вы,\nиначе - ваш соперник Компьютер!";
    }

    private void Form2_FormClosed(object sender, FormClosedEventArgs e) => this.Owner.Enabled = true;

    private void TextBox1_KeyPress(object sender, KeyPressEventArgs e)
    {
      if (!char.IsDigit(e.KeyChar))
        e.Handled = true;
      else
        this.textBox1.Text = "";
      if (e.KeyChar != '\r')
        return;
      this.Button1_Click((object) this, new EventArgs());
    }

    private void Button1_Click(object sender, EventArgs e)
    {
      if (!(this.textBox1.Text != ""))
        return;
      if (this.flag)
      {
        int num1 = int.Parse(this.textBox1.Text);
        int num2 = this.rnd.Next(10);
        this.label2.Text = "+" + num2.ToString() + "=" + (num1 + num2).ToString();
        if ((num1 + num2) % 2 == 0)
        {
          this.label3.Text = "Поздравляем! Ваш ход первый.";
          (this.Owner.Owner as Form1).turn = true;
        }
        else
        {
          this.label3.Text = "Первым ход делает Компьютер.";
          (this.Owner.Owner as Form1).turn = false;
        }
        this.flag = false;
      }
      else
      {
        int num;
        do
        {
          num = --this.Owner.Height;
        }
        while (num > 1);
        (this.Owner as Form3).Button_Continue();
        this.Owner.Owner.Activate();
        (this.Owner.Owner as Form1).StartGame();
        this.Close();
      }
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.label1 = new Label();
      this.textBox1 = new TextBox();
      this.label2 = new Label();
      this.button1 = new Button();
      this.label3 = new Label();
      this.SuspendLayout();
      this.label1.AutoSize = true;
      this.label1.Location = new Point(10, 10);
      this.label1.Name = "label1";
      this.label1.Size = new Size(35, 13);
      this.label1.TabIndex = 0;
      this.label1.Text = "label1";
      this.textBox1.Font = new Font("Microsoft Sans Serif", 48f, FontStyle.Regular, GraphicsUnit.Point, (byte) 204);
      this.textBox1.Location = new Point(24, 86);
      this.textBox1.Name = "textBox1";
      this.textBox1.Size = new Size(42, 80);
      this.textBox1.TabIndex = 1;
      this.textBox1.KeyPress += new KeyPressEventHandler(this.TextBox1_KeyPress);
      this.label2.AutoSize = true;
      this.label2.Font = new Font("Microsoft Sans Serif", 48f, FontStyle.Regular, GraphicsUnit.Point, (byte) 204);
      this.label2.Location = new Point(53, 89);
      this.label2.Name = "label2";
      this.label2.Size = new Size(188, 73);
      this.label2.TabIndex = 2;
      this.label2.Text = "+N=?";
      this.button1.Location = new Point(86, 193);
      this.button1.Name = "button1";
      this.button1.Size = new Size(73, 23);
      this.button1.TabIndex = 3;
      this.button1.Text = "OK";
      this.button1.UseVisualStyleBackColor = true;
      this.button1.Click += new EventHandler(this.Button1_Click);
      this.label3.AutoSize = true;
      this.label3.Location = new Point(47, 177);
      this.label3.Name = "label3";
      this.label3.Size = new Size(0, 13);
      this.label3.TabIndex = 4;
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size((int) byte.MaxValue, 224);
      this.Controls.Add((Control) this.label3);
      this.Controls.Add((Control) this.button1);
      this.Controls.Add((Control) this.textBox1);
      this.Controls.Add((Control) this.label2);
      this.Controls.Add((Control) this.label1);
      this.FormBorderStyle = FormBorderStyle.FixedSingle;
      this.MaximizeBox = false;
      this.MinimizeBox = false;
      this.Name = nameof (Form2);
      this.ShowIcon = false;
      this.Text = "Жеребьёвка";
      this.FormClosed += new FormClosedEventHandler(this.Form2_FormClosed);
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
