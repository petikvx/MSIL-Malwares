// Decompiled with JetBrains decompiler
// Type: s590103588881529.s893180362873945
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using s001307332648564;
using s001416132363642;
using s004772394880032;
using s025626249874936;
using s048268481394525;
using s058168917651533;
using s067247014917115;
using s128537587216462;
using s152756643044416;
using s165735018365725;
using s171841645290092;
using s173673795951664;
using s206923188273504;
using s209713647475233;
using s215002365318397;
using s218259607077477;
using s218360774059518;
using s252169893900628;
using s261229816281372;
using s263761813181463;
using s272656345728887;
using s286527872023289;
using s300495012722328;
using s349659810832406;
using s356530178478151;
using s357327273492323;
using s407933531489926;
using s430110414356716;
using s432851493392539;
using s442252528567994;
using s457615980405427;
using s460406099459768;
using s466161257818180;
using s474716794861938;
using s479245138132903;
using s490914344579030;
using s502762629278250;
using s515402112965474;
using s518431732603229;
using s528813736053581;
using s547998418548713;
using s551269714710412;
using s564412675469531;
using s602892103539257;
using s609284827120507;
using s629998588313050;
using s643807026110792;
using s646476950479569;
using s650781295291537;
using s690923399047004;
using s705937237880865;
using s733409537497636;
using s743898255106522;
using s814626784262558;
using s818709165808745;
using s836532694619751;
using s859483659459112;
using s859824557624419;
using s874166642857481;
using s928707304529159;
using s929448333514120;
using s935466933889679;
using s949913454361615;
using s958374028019759;
using s962360155664524;
using s986040548002705;
using s988915201087370;
using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Text;

namespace s590103588881529
{
  public class s893180362873945
  {
    public Action<s279484925738041, s034852122986107> s985766746605060;
    public Action<s279484925738041, s034852122986107> s158165747904478;
    private static readonly Guid s385825198096798 = new Guid("ee799f41-cfa5-550b-bf2c-344747c1c668");
    private static readonly Guid s131651393768598 = new Guid("de4649c9-15e8-4fea-9d85-1cdda520c334");
    private static readonly Guid s418942978224042 = new Guid("6a4dfe53-eb50-5332-8473-7b7e10a94fd1");
    private static readonly Guid s560050385007769 = new Guid("dd5ef90a-6398-47a4-ad34-4dcecdef795f");
    private static readonly Guid s663983030823379 = new Guid("ADB401E1-5296-51F8-C125-5FDA75826144");
    private static readonly Guid s667230860777359 = new Guid("a62adddb-6b4b-519d-7ba1-f983d81623e0");
    private static readonly Guid s396601116196012 = new Guid("3b268b3d-903f-5835-c77e-790d518a26c4");
    private static readonly Guid s726778802083511 = new Guid("00000001-0000-0000-0000-000000000000");
    private s993604466763239 s253334214093184;
    private s220899226225010 s678671757339978;
    private GrowableArray<s279484925738041> s746644958342561;
    private Dictionary<Guid, s279484925738041> s049194705552199;
    private int s056201787865137;
    private s279484925738041 s632335088020962;

    public unsafe s893180362873945(s993604466763239 source, s220899226225010 taskComputer)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      s893180362873945.s821495558807593 s821495558807593 = (s893180362873945.s821495558807593) new s822913027474549.s904899111955947();
      // ISSUE: reference to a compiler-generated field
      s821495558807593.s517042577498331 = this;
      taskComputer.s459360489998127 = true;
      this.s253334214093184 = source;
      this.s049194705552199 = new Dictionary<Guid, s279484925738041>();
      this.s678671757339978 = taskComputer;
      taskComputer.s461826661845809 += (Action<s946499924469656, s034852122986107>) ((s410436192216265, s857030868270327) =>
      {
        s946499924469656 s395940552341387 = s410436192216265.s395940552341387;
        if (s395940552341387 == null)
          return;
        s279484925738041 s279484925738041 = this.s746644958342561.Get((int) s395940552341387.s832458248584618);
        if (s279484925738041 == null)
          return;
        this.s746644958342561.Set((int) s410436192216265.s832458248584618, s279484925738041);
      });
      ((s893180362873945.s174322114320021) s821495558807593).s828006579510957 = new KeyValuePair<Guid, Guid>[this.s253334214093184.s863227389121164.s132713297009023.s141151785930897];
      // ISSUE: reference to a compiler-generated method
      source.s172105390192914.s364739463586962 += new Action<s034852122986107>(s821495558807593.s348188909390242);
      s341710869261760 s590853507783886 = this.s253334214093184.s590853507783886;
      s590853507783886.s311784512503625 += (Action<s245320480932363>) (s743221969130068 => this.s699254491703762((s034852122986107) s743221969130068, s743221969130068.s063560059532726, s483500764680529: "ExceptionHandling"));
      s590853507783886.s817525008569050 += (Action<s198851119344699>) (s215854593702667 => this.s957644640562820((s034852122986107) s215854593702667));
      s099993533952962 s099993533952962 = new s099993533952962((s470725726477034) this.s253334214093184);
      s099993533952962.s031865301783252 += (Action<s585246681357434>) (s883488746187040 =>
      {
        s279484925738041 s292101428918306 = (s279484925738041) null;
        if (s883488746187040.s243944579033107 == Guid.Empty)
          s292101428918306 = this.s633929730521698(s883488746187040.s050700955404129, s883488746187040.s102913512010943);
        Guid s050700955404129 = s883488746187040.s050700955404129;
        this.s699254491703762((s034852122986107) s883488746187040, s883488746187040.s525338610390237, &s050700955404129, s292101428918306: s292101428918306, s111542858567155: false);
      });
      s099993533952962.s930543909959401 += (Action<s656402816109341>) (s242921715569393 =>
      {
        Guid s201841255489815 = s242921715569393.s201841255489815;
        this.s957644640562820((s034852122986107) s242921715569393, &s201841255489815);
      });
      s099993533952962.s448704655816228 += (Action<s810780807728726>) (s136180889120780 => this.s344777956694392((s034852122986107) s136180889120780, s136180889120780.s947243208168525));
      s099993533952962.s094535348518606 += (Action<s454590214961808>) (s461942949448624 => this.s344777956694392((s034852122986107) s461942949448624, s461942949448624.s048583982255111));
      s099993533952962.s508892325289454 += (Action<s978180757526509>) (s226966211100248 => this.s344777956694392((s034852122986107) s226966211100248, s226966211100248.s290509301021948));
      s099993533952962.s012830464765818 += (Action<s737438767620037>) (s676858928671162 => this.s344777956694392((s034852122986107) s676858928671162, s676858928671162.s780297041423089));
      s099993533952962.s956407269379617 += (Action<s209779598161867>) (s575864842848162 => this.s344777956694392((s034852122986107) s575864842848162, s575864842848162.s756849581955985));
      s099993533952962.s530547388009918 += (Action<s884655872427950>) (s635528413128068 => this.s344777956694392((s034852122986107) s635528413128068, s635528413128068.s325495805604605));
      s099993533952962.s473665173724177 += (Action<s538839554844525>) (s682497950848914 => this.s344777956694392((s034852122986107) s682497950848914, s682497950848914.s373583753395541));
      s099993533952962.s209325580410880 += (Action<s756080360849225>) (s711215980774626 => this.s344777956694392((s034852122986107) s711215980774626, s711215980774626.s988172972479164));
      s099993533952962.s314332894335137 += (Action<s493368755053209>) (s580867132807051 => this.s344777956694392((s034852122986107) s580867132807051, s580867132807051.s941105264082512));
      s099993533952962.s087633232982852 += (Action<s341209815815461>) (s454604848236182 => this.s344777956694392((s034852122986107) s454604848236182, s454604848236182.s139276028478316));
      s099993533952962.s900299063217834 += (Action<s807669682449154>) (s398122299940118 => this.s344777956694392((s034852122986107) s398122299940118, s398122299940118.s503089155217146));
      s099993533952962.s135763710131338 += (Action<s479393822261106>) (s713174302459120 => this.s344777956694392((s034852122986107) s713174302459120, s713174302459120.s839773313514862));
      s099993533952962.s232099650435686 += (Action<s064268520766254>) (s806455151458368 => this.s344777956694392((s034852122986107) s806455151458368, s806455151458368.s857873322651243));
      s099993533952962.s474249172646749 += (Action<s279870742952623>) (s977742323065496 => this.s344777956694392((s034852122986107) s977742323065496, s977742323065496.s968468433607678));
      s099993533952962.s781436507619877 += (Action<s041886452997527>) (s972349560472959 => this.s344777956694392((s034852122986107) s972349560472959, s972349560472959.s727952042728146));
      s099993533952962.s494321209458342 += (Action<s592894178209137>) (s128066273523010 => this.s344777956694392((s034852122986107) s128066273523010, s128066273523010.s044059950623566));
      s099993533952962.s447140602069815 += (Action<s631596001781704>) (s925950236808637 => this.s344777956694392((s034852122986107) s925950236808637, s925950236808637.s176352667298328));
      s099993533952962.s930943455240512 += (Action<s223729571463804>) (s071798989003905 => this.s344777956694392((s034852122986107) s071798989003905, s071798989003905.s071349748317263));
      s099993533952962.s952999637053368 += (Action<s872113913930725>) (s975309892625111 => this.s344777956694392((s034852122986107) s975309892625111, s975309892625111.s026178458479387));
      s099993533952962.s738167718550467 += (Action<s523007281058625>) (s005129528369825 => this.s344777956694392((s034852122986107) s005129528369825, s005129528369825.s553568427810216));
      s099993533952962.s071845925109534 += (Action<s372484927735109>) (s638157096895895 => this.s344777956694392((s034852122986107) s638157096895895, s638157096895895.s244492747253271));
      s099993533952962.s619759219027665 += (Action<s832045087608042>) (s454289207208806 => this.s344777956694392((s034852122986107) s454289207208806, s454289207208806.s104486938974821));
      s124078012013155 s124078012013155 = new s124078012013155((s470725726477034) this.s253334214093184);
      s124078012013155.s377854496427718 += (Action<s203576380289968>) (s650800042011236 => this.s699254491703762((s034852122986107) s650800042011236, s650800042011236.s350959764406910));
      s124078012013155.s067276473251013 += (Action<s590333164350456>) (s914811553489687 => this.s957644640562820((s034852122986107) s914811553489687));
      s124078012013155.s295652905446856 += (Action<s150960565538266>) (s869970602021802 => this.s699254491703762((s034852122986107) s869970602021802, s869970602021802.s334923237831179, s483500764680529: "OperationDispatch"));
      s124078012013155.s944501658234502 += (Action<s181262005520453>) (s710348139032633 => this.s957644640562820((s034852122986107) s710348139032633));
      s124078012013155.s373884802348770 += (Action<s181262005520453>) (s479003097198757 => this.s957644640562820((s034852122986107) s479003097198757));
      s124078012013155.s866233425021002 += (Action<s349912247347358>) (s172265120823561 => this.s699254491703762((s034852122986107) s172265120823561, s172265120823561.s046500913527017, s292101428918306: this.s633929730521698(s172265120823561.s216760266145602, s172265120823561.s102913512010943)));
      s124078012013155.s606461503703452 += (Action<s290596782295707>) (s810579779450932 => this.s957644640562820((s034852122986107) s810579779450932));
      s124078012013155.s068426423517795 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s315008430112747 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s715215551881682 += new Action<s352817380300568>(this.s506033793235024);
      s124078012013155.s334785714780708 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s443146499738261 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s726169847328596 += new Action<s726591124166926>(this.s506033793235024);
      s124078012013155.s104578500725706 += new Action<s198947651801142>(this.s506033793235024);
      s124078012013155.s360745575547183 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s133507714288964 += new Action<s846225793533256>(this.s506033793235024);
      s124078012013155.s450372362544274 += new Action<s846225793533256>(this.s506033793235024);
      s124078012013155.s183247745660262 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s208963653238774 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s466440966624317 += new Action<s837074005085359>(this.s506033793235024);
      s124078012013155.s312167015296274 += new Action<s174067388209410>(this.s506033793235024);
      s124078012013155.s963933970507644 += new Action<s092835495128408>(this.s506033793235024);
      s124078012013155.s575223014761755 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s809767818839862 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s125056690978375 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s814831869517383 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s597236546145704 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s406197566644998 += new Action<s837074005085359>(this.s506033793235024);
      s124078012013155.s152266476477793 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s012813374188879 += new Action<s846225793533256>(this.s506033793235024);
      s124078012013155.s606546093513746 += new Action<s846225793533256>(this.s506033793235024);
      s124078012013155.s421914806295974 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s186293919214393 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s692485651511814 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s065608110293405 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s801090299298384 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s308982337544449 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s323763482745482 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s574112492063285 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s261188646324003 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s025791536934444 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s303393571756474 += new Action<s114162283357752>(this.s506033793235024);
      s124078012013155.s541981111248891 += new Action<s604437649303751>(this.s506033793235024);
      s124078012013155.s429607075214442 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s709721499326141 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s373884802348770 += new Action<s181262005520453>(this.s506033793235024);
      s124078012013155.s370949853194758 += new Action<s120934939986015>(this.s506033793235024);
      s124078012013155.s713496796115898 += new Action<s120934939986015>(this.s506033793235024);
      s124078012013155.s999419276245327 += new Action<s120934939986015>(this.s506033793235024);
      s124078012013155.s518483439235879 += new Action<s344832829676154>(this.s506033793235024);
      s124078012013155.s200915484134861 += new Action<s926196900340398>(this.s506033793235024);
      s124078012013155.s057348212756986 += new Action<s926196900340398>(this.s506033793235024);
      s124078012013155.s683567184197444 += new Action<s926196900340398>(this.s506033793235024);
      s124078012013155.s543470955681763 += new Action<s926196900340398>(this.s506033793235024);
      s124078012013155.s183261927981944 += new Action<s926196900340398>(this.s506033793235024);
      s124078012013155.s785244364281505 += new Action<s926196900340398>(this.s506033793235024);
      s124078012013155.s633426174628504 += new Action<s590333164350456>(this.s506033793235024);
      s124078012013155.s867935469349013 += (Action<s850223333735118>) (s213637028110028 =>
      {
        string s079051784872027 = "/Action=" + s213637028110028.s621053685342428 + "/URL=" + s213637028110028.s481386854392711;
        this.s699254491703762((s034852122986107) s213637028110028, s079051784872027, s292101428918306: this.s633929730521698(s213637028110028.s216760266145602, s213637028110028.s102913512010943), s483500764680529: "ClientOperation");
      });
      s124078012013155.s439888914849908 += (Action<s850223333735118>) (s029055974359936 => this.s957644640562820((s034852122986107) s029055974359936));
    }

    public s279484925738041 s683310054091943(
      s399735979708807 s466459244480319,
      s034852122986107 s765801458183594 = null)
    {
      this.s204419894736876();
      s946499924469656 s946499924469656 = this.s678671757339978.s566699301308554(s466459244480319);
      if (s946499924469656 == null)
        return (s279484925738041) null;
      s279484925738041 s279484925738041 = this.s746644958342561.Get((int) s946499924469656.s832458248584618);
      if (s279484925738041 == null && s765801458183594 != null && s765801458183594.s216760266145602 != Guid.Empty)
        s279484925738041 = this.s633929730521698(s765801458183594.s216760266145602, s765801458183594.s102913512010943);
      while (s279484925738041 != null && s279484925738041.s389227787780665)
        s279484925738041 = s279484925738041.s167907916999195;
      return s279484925738041;
    }

    public s279484925738041 s884692504184197(s946499924469656 s430699671817964)
    {
      s279484925738041 s167907916999195 = this.s746644958342561.Get((int) s430699671817964.s832458248584618);
      while (s167907916999195 != null && s167907916999195.s389227787780665)
        s167907916999195 = s167907916999195.s167907916999195;
      return s167907916999195;
    }

    public s457867646003930 s159205644068701(
      s302029464250094 s731653313276310,
      s399735979708807 s461311612718781,
      s399735979708807 s172823919666558,
      bool s379452256366089 = false)
    {
      s279484925738041 s460281833047685 = (s279484925738041) null;
      if (s379452256366089)
      {
        s946499924469656 s946499924469656 = this.s678671757339978.s566699301308554(s461311612718781);
        if (s946499924469656 != null)
        {
          s460281833047685 = this.s746644958342561.Get((int) s946499924469656.s832458248584618);
          if (s460281833047685 != null && s460281833047685.s389227787780665 && s460281833047685.s751466653735153 + s460281833047685.s512275773128718 < s946499924469656.s123054722985396)
            s460281833047685 = (s279484925738041) null;
        }
      }
      if (s460281833047685 == null)
        s460281833047685 = this.s683310054091943(s461311612718781);
      s457867646003930 s506535691979223_1 = this.s583231651737669(s731653313276310, s460281833047685, s172823919666558.s772648742937858);
      s457867646003930 s506535691979223_2 = s731653313276310.s669246881012685.s649303816154062(s731653313276310.s669246881012685.s092839873163377("Threads"), s506535691979223_1);
      return s731653313276310.s669246881012685.s649303816154062(s731653313276310.s669246881012685.s092839873163377(s172823919666558.s901891550376301), s506535691979223_2);
    }

    public s457867646003930 s583231651737669(
      s302029464250094 s577186103681031,
      s279484925738041 s460281833047685,
      s572171018010254 s512138457674853)
    {
      s457867646003930 s506535691979223 = s577186103681031.s561098823525488(s512138457674853);
      string s332553731891874 = s460281833047685 == null ? "(Non-Activities)" : "(Activities)";
      s457867646003930 s161011555663285 = s577186103681031.s669246881012685.s649303816154062(s577186103681031.s669246881012685.s092839873163377(s332553731891874), s506535691979223);
      if (s460281833047685 != null)
        s161011555663285 = s460281833047685.s353509595173761(s577186103681031, s161011555663285);
      return s161011555663285;
    }

    public static unsafe bool s806060643993179(Guid s830969054986227, int s467590580591807)
    {
      uint* numPtr = (uint*) &s830969054986227;
      uint num = (uint) ((int) *numPtr + (int) numPtr[1] + (int) numPtr[2] + 1503500717);
      if (s467590580591807 == 0)
        return ((int) num & -1048576) == ((int) numPtr[3] & -1048576);
      return ((int) num ^ s467590580591807) == (int) numPtr[3] || (int) num == (int) numPtr[3];
    }

    public static unsafe int s194060058696515(Guid s871212597167352)
    {
      uint* numPtr = (uint*) &s871212597167352;
      return (int) *numPtr + (int) numPtr[1] + (int) numPtr[2] + 1503500717 ^ (int) numPtr[3];
    }

    public static string s785022669577477(Guid s783838968581214) => !s893180362873945.s806060643993179(s783838968581214, 0) ? s783838968581214.ToString() : s893180362873945.s729379486855689(s783838968581214);

    internal static unsafe string s729379486855689(Guid s649993044669827)
    {
      int num1 = s893180362873945.s194060058696515(s649993044669827);
      StringBuilder s731428305655806 = s719209147644400.s099889012068477();
      if (num1 != 0)
      {
        s731428305655806.Append("/#");
        s731428305655806.Append(num1);
      }
      else
        s731428305655806.Append('/');
      byte* numPtr1 = (byte*) &s649993044669827;
      byte* numPtr2 = numPtr1 + 12;
      char ch = '/';
      while (numPtr1 < numPtr2)
      {
        uint num2 = (uint) *numPtr1 >> 4;
        bool flag = false;
        while (true)
        {
          switch (num2)
          {
            case 0:
              goto label_24;
            case 1:
            case 2:
            case 3:
            case 4:
            case 5:
            case 6:
            case 7:
            case 8:
            case 9:
            case 10:
              s731428305655806.Append('/').Append(num2);
              if (!flag)
              {
                num2 = (uint) *numPtr1 & 15U;
                flag = true;
                continue;
              }
              goto label_8;
            case 11:
              goto label_9;
            default:
              goto label_16;
          }
        }
label_8:
        ++numPtr1;
        continue;
label_9:
        if (!flag)
        {
          num2 = (uint) *numPtr1 & 15U;
        }
        else
        {
          ++numPtr1;
          if (numPtr2 > numPtr1)
            num2 = (uint) *numPtr1 >> 4;
          else
            break;
        }
        if (num2 < 12U)
          return s649993044669827.ToString();
        ch = '$';
label_16:
        uint num3 = num2 - 12U;
        uint num4 = 0;
        if (!flag)
          num4 = (uint) *numPtr1 & 15U;
        byte* numPtr3 = numPtr1 + 1;
        uint num5 = num3 + 1U;
        if (numPtr2 >= numPtr3 + num5)
        {
          for (int index = (int) num5 - 1; 0 <= index; --index)
            num4 = (num4 << 8) + (uint) numPtr3[index];
          s731428305655806.Append(ch).Append(num4);
          numPtr1 = numPtr3 + num5;
        }
        else
          break;
      }
label_24:
      s731428305655806.Append('/');
      return s719209147644400.s849984409522187(s731428305655806);
    }

    private unsafe s279484925738041 s699254491703762(
      s034852122986107 s607498087639480,
      string s079051784872027 = null,
      Guid* s062799475339206 = null,
      s399735979708807 s908565785140609 = null,
      s279484925738041 s292101428918306 = null,
      string s483500764680529 = null,
      bool s111542858567155 = true)
    {
      this.s204419894736876();
      if (s908565785140609 == null)
      {
        s908565785140609 = s607498087639480.s294168149113671();
        if (s908565785140609 == null)
          return (s279484925738041) null;
      }
      s946499924469656 s430699671817964 = this.s678671757339978.s566699301308554(s908565785140609);
      s528638463248059 s832458248584618 = s430699671817964.s832458248584618;
      if (s292101428918306 == null)
      {
        if (s607498087639480.s243944579033107 != Guid.Empty)
        {
          s292101428918306 = this.s633929730521698(s607498087639480.s243944579033107, s607498087639480.s102913512010943);
          if (s292101428918306 == null)
            Trace.WriteLine(s607498087639480.s739924403627474.ToString("n3") + " Warning: Could not find creator Activity " + s893180362873945.s785022669577477(s607498087639480.s243944579033107));
        }
        if (s292101428918306 == null & s111542858567155)
          s292101428918306 = this.s884692504184197(s430699671817964);
      }
      if (s483500764680529 == null)
        s483500764680529 = s607498087639480.s424690622105075;
      s279484925738041 s008277628444778;
      if ((IntPtr) s062799475339206 != IntPtr.Zero)
      {
        s008277628444778 = new s279484925738041(s607498087639480, s483500764680529, ref *s062799475339206, s292101428918306, this.s056201787865137++, s079051784872027);
      }
      else
      {
        Guid s216760266145602 = s607498087639480.s216760266145602;
        s008277628444778 = new s279484925738041(s607498087639480, s483500764680529, ref s216760266145602, s292101428918306, this.s056201787865137++, s079051784872027);
      }
      this.s094786700122978(s008277628444778.s862975767305977, s607498087639480.s102913512010943, s008277628444778);
      this.s746644958342561.Set((int) s832458248584618, s008277628444778);
      Action<s279484925738041, s034852122986107> s985766746605060 = this.s985766746605060;
      if (s985766746605060 != null)
        s985766746605060(s008277628444778, s607498087639480);
      return s008277628444778;
    }

    private void s506033793235024(s034852122986107 s618804691654900) => this.s344777956694392(s618804691654900, s618804691654900.s216760266145602);

    private void s344777956694392(s034852122986107 s147369165072044, Guid s417160898102694)
    {
      s279484925738041 s279484925738041_1 = this.s633929730521698(s417160898102694, s147369165072044.s102913512010943);
      if (s279484925738041_1 == null)
        return;
      this.s204419894736876();
      s399735979708807 s861474451298404 = s147369165072044.s294168149113671();
      if (s861474451298404 == null)
        return;
      s528638463248059 s832458248584618 = this.s678671757339978.s566699301308554(s861474451298404).s832458248584618;
      s279484925738041 s279484925738041_2 = this.s746644958342561.Get((int) s832458248584618);
      if (s279484925738041_2 == null)
      {
        this.s746644958342561.Set((int) s832458248584618, s279484925738041_1);
      }
      else
      {
        if (s279484925738041_2 == s279484925738041_1)
          return;
        Trace.WriteLine("Warning: Thread " + (object) s147369165072044.s772030317894180 + " at " + s147369165072044.s739924403627474.ToString("n3") + " wants to overwrite activity started at " + s279484925738041_2.s751466653735153.ToString("n3"));
      }
    }

    private unsafe void s957644640562820(s034852122986107 s058266110513102, Guid* s655796571065161 = null)
    {
      this.s204419894736876();
      s399735979708807 s861474451298404 = s058266110513102.s294168149113671();
      if (s861474451298404 == null)
        return;
      s528638463248059 s832458248584618 = this.s678671757339978.s566699301308554(s861474451298404).s832458248584618;
      s279484925738041 s279484925738041 = (IntPtr) s655796571065161 == IntPtr.Zero ? this.s633929730521698(s058266110513102.s216760266145602, s058266110513102.s102913512010943) : this.s633929730521698(*s655796571065161, s058266110513102.s102913512010943);
      if (s279484925738041 != null)
      {
        s279484925738041.s453166435594649(s058266110513102.s980614047227979, s058266110513102.s739924403627474, s832458248584618);
        this.s632335088020962 = s279484925738041;
        Action<s279484925738041, s034852122986107> s158165747904478 = this.s158165747904478;
        if (s158165747904478 == null)
          return;
        s158165747904478(s279484925738041, s058266110513102);
        if (s279484925738041.s167907916999195 == null || !s279484925738041.s167907916999195.s311039747665548 || s279484925738041.s167907916999195.s389227787780665)
          return;
        s158165747904478(s279484925738041.s167907916999195, s058266110513102);
      }
      else
      {
        if (s058266110513102.s066186047870744 == s516912170260088.s038302504017622)
          return;
        Guid guid = (IntPtr) s655796571065161 != IntPtr.Zero ? *s655796571065161 : s058266110513102.s216760266145602;
        Trace.WriteLine("Warning: Unmatched stop at " + s058266110513102.s739924403627474.ToString("n3") + " ID = " + (object) guid);
      }
    }

    private void s204419894736876()
    {
      if (this.s632335088020962 == null || this.s632335088020962.s867529777888145 == this.s253334214093184.s855265178211915)
        return;
      s279484925738041 s632335088020962 = this.s632335088020962;
      s279484925738041 s167907916999195 = s632335088020962.s167907916999195;
      while (s167907916999195 != null && s167907916999195.s389227787780665)
        s167907916999195 = s167907916999195.s167907916999195;
      this.s746644958342561.Set((int) s632335088020962.s206279242884802, s167907916999195);
      if (s167907916999195 != null && s167907916999195.s862975767305977 == s632335088020962.s862975767305977 && s167907916999195.s745543228356556 == s632335088020962.s745543228356556)
        this.s094786700122978(s632335088020962.s862975767305977, s632335088020962.s745543228356556, s167907916999195);
      else
        this.s448355511556946(s632335088020962.s862975767305977, s632335088020962.s745543228356556);
      if (s632335088020962.s186109149845372 != Guid.Empty)
        this.s448355511556946(s632335088020962.s186109149845372, s632335088020962.s745543228356556);
      if (s632335088020962.s167907916999195 != null && s632335088020962.s167907916999195.s311039747665548 && !s632335088020962.s167907916999195.s389227787780665)
      {
        s632335088020962.s167907916999195.s453166435594649(s632335088020962.s867529777888145, s632335088020962.s751466653735153 + s632335088020962.s512275773128718, s632335088020962.s206279242884802);
        this.s632335088020962 = s632335088020962.s167907916999195;
        s632335088020962.s206279242884802 = s528638463248059.Invalid;
        this.s204419894736876();
      }
      s632335088020962.s206279242884802 = s528638463248059.Invalid;
      this.s632335088020962 = (s279484925738041) null;
    }

    private unsafe void s904741654923086(s034852122986107 s876106612333370)
    {
      if (s876106612333370.s228250182984697 != (s076337548137908) 1 && s876106612333370.s228250182984697 != (s076337548137908) 2)
        return;
      Guid guid = new Guid((int) s876106612333370.s556661339130930(0), (short) 1234, (short) 5, (byte) 7, (byte) 7, (byte) 8, (byte) 9, (byte) 10, (byte) 11, (byte) 12, (byte) 13);
      if (s876106612333370.s228250182984697 == (s076337548137908) 1)
      {
        s399735979708807 s399735979708807 = s876106612333370.s294168149113671();
        if (s399735979708807 == null)
          return;
        s279484925738041 s292101428918306 = this.s683310054091943(s399735979708807, s876106612333370);
        string s079051784872027 = (string) null;
        if (3 < s876106612333370.payloadNames.Length)
        {
          string str1 = s876106612333370.s556661339130930(1).ToString();
          string str2 = s876106612333370.s556661339130930(3).ToString();
          s079051784872027 = "DS=" + str1;
          if (!string.IsNullOrEmpty(str2))
          {
            if (50 < str2.Length)
              str2 = str2.Substring(0, 47) + "...";
            s079051784872027 = s079051784872027 + ",CMD=" + str2;
          }
        }
        this.s699254491703762(s876106612333370, s079051784872027, &guid, s399735979708807, s292101428918306, "SQLCommand");
      }
      else
        this.s957644640562820(s876106612333370, &guid);
    }

    private bool s811907149714889(s034852122986107 s995630260176980)
    {
      try
      {
        if (!(s995630260176980.s933068072267758("EventName") is string s483500764680529))
          return false;
        string s079051784872027 = (string) null;
        if (s995630260176980.s933068072267758("Arguments") is s244632129848843.s719766275477698[] s719766275477698Array)
        {
          StringBuilder s731428305655806 = s719209147644400.s099889012068477(64);
          bool flag = true;
          for (int index = 0; index < s719766275477698Array.Length; ++index)
          {
            s244632129848843.s719766275477698 s719766275477698 = s719766275477698Array[index];
            string str1 = s719766275477698.get_Item("Key") as string;
            object obj = (object) (s719766275477698.get_Item("Value") as string);
            if (str1 != null && obj != null)
            {
              string str2 = obj.ToString();
              if (!string.IsNullOrEmpty(str2))
              {
                if (!flag)
                  s731428305655806.Append(' ');
                s731428305655806.Append(str1).Append("=").Append('"').Append(str2).Append('"');
              }
            }
            flag = false;
          }
          s079051784872027 = s719209147644400.s849984409522187(s731428305655806);
        }
        this.s699254491703762(s995630260176980, s079051784872027, s483500764680529: s483500764680529);
        return true;
      }
      catch (Exception ex)
      {
        Trace.WriteLine("Threw exception while processing DiagnosticSource start events: " + ex.Message);
      }
      return false;
    }

    private void s039167541186679(s034852122986107 s779280602997897)
    {
      if (s779280602997897.s424690622105075.Equals("Request", StringComparison.Ordinal))
      {
        if (s779280602997897.s770722554724548 == s531105564102108.Start)
        {
          if (!s893180362873945.s715041091568368(s779280602997897.s243944579033107))
            return;
          string s079051784872027 = (string) s779280602997897.s933068072267758("Name") ?? (string) s779280602997897.s933068072267758("Id");
          this.s699254491703762(s779280602997897, s079051784872027);
        }
        else
          this.s957644640562820(s779280602997897);
      }
      else
        s779280602997897.s424690622105075.Equals("Operation", StringComparison.Ordinal);
    }

    private void s323292569127640(s034852122986107 s432288116372598)
    {
      if (s432288116372598.s770722554724548 == s531105564102108.Start)
      {
        this.s699254491703762(s432288116372598);
      }
      else
      {
        if (s432288116372598.s770722554724548 != s531105564102108.Stop)
          return;
        this.s957644640562820(s432288116372598);
      }
    }

    private static bool s715041091568368(Guid s520555093039629) => s520555093039629 == Guid.Empty || s520555093039629 == s893180362873945.s726778802083511;

    private unsafe void s343934911464483(s034852122986107 s039829664513275)
    {
      if (s039829664513275.s051258297829085 != (s899843452464947) 1 && s039829664513275.s051258297829085 != (s899843452464947) 2)
        return;
      long a = (long) s039829664513275.s556661339130930(0);
      Guid guid = new Guid((int) a, (short) (a >> 32), (short) (a >> 48), (byte) 6, (byte) 7, (byte) 8, (byte) 9, (byte) 10, (byte) 11, (byte) 12, (byte) 13);
      if (s039829664513275.s770722554724548 == s531105564102108.Start)
      {
        s399735979708807 s399735979708807 = s039829664513275.s294168149113671();
        if (s399735979708807 == null)
          return;
        s279484925738041 s292101428918306 = this.s683310054091943(s399735979708807, s039829664513275);
        string s483500764680529 = "Http" + s039829664513275.s424690622105075;
        string s079051784872027 = s039829664513275.s556661339130930(1) as string;
        this.s699254491703762(s039829664513275, s079051784872027, &guid, s399735979708807, s292101428918306, s483500764680529);
      }
      else
        this.s957644640562820(s039829664513275, &guid);
    }

    private unsafe void s920094928915020(
      s034852122986107 s702945975315996,
      KeyValuePair<Guid, Guid>[] s008798424999409)
    {
      s399735979708807 s908565785140609 = s702945975315996.s294168149113671();
      if (s908565785140609 == null)
        return;
      if (s702945975315996.s770722554724548 == s531105564102108.Start)
      {
        string s483500764680529 = "RecASP" + s702945975315996.s424690622105075;
        string s079051784872027 = (string) s702945975315996.s556661339130930(1);
        Guid guid1 = s702945975315996.s216760266145602;
        Guid s796925810436236 = Guid.Empty;
        if (s893180362873945.s806060643993179(guid1, s702945975315996.s102913512010943))
        {
          Guid guid2 = s008798424999409[(int) s908565785140609.s519833341027850].Value;
          if (guid2 != Guid.Empty)
          {
            if (guid2 != guid1)
            {
              s079051784872027 = s893180362873945.s785022669577477(guid1) + "," + s079051784872027;
              s796925810436236 = guid1;
              guid1 = guid2;
            }
          }
          else
            Trace.WriteLine(s702945975315996.s739924403627474.ToString("n3") + " Could not find ASP.NET Send event to fix Start event");
        }
        s279484925738041 s292101428918306 = (s279484925738041) null;
        Guid s567869119930304 = s702945975315996.s243944579033107;
        if (s567869119930304 == Guid.Empty)
          s567869119930304 = s008798424999409[(int) s908565785140609.s519833341027850].Key;
        if (s567869119930304 != Guid.Empty)
          s292101428918306 = this.s633929730521698(s567869119930304, s702945975315996.s102913512010943);
        if (s292101428918306 == null)
        {
          s292101428918306 = this.s699254491703762(s702945975315996, s079051784872027, &guid1, s908565785140609, s483500764680529: "RecHttp", s111542858567155: false);
          s292101428918306.s311039747665548 = true;
        }
        s279484925738041 s008277628444778 = this.s699254491703762(s702945975315996, s079051784872027, &guid1, s908565785140609, s292101428918306, s483500764680529);
        if (s796925810436236 != Guid.Empty)
        {
          this.s094786700122978(s796925810436236, s702945975315996.s102913512010943, s008277628444778);
          s008277628444778.s186109149845372 = s796925810436236;
        }
      }
      else
        this.s957644640562820(s702945975315996);
      s008798424999409[(int) s908565785140609.s519833341027850] = new KeyValuePair<Guid, Guid>();
    }

    private unsafe s279484925738041 s633929730521698(
      Guid s567869119930304,
      int s231574157773664)
    {
      s279484925738041 s279484925738041 = (s279484925738041) null;
      IntPtr num = (IntPtr) &s567869119930304 + 8;
      *(long*) num = *(long*) num + (long) s231574157773664;
      this.s049194705552199.TryGetValue(s567869119930304, out s279484925738041);
      return s279484925738041;
    }

    private unsafe void s094786700122978(
      Guid s796925810436236,
      int s758302492917686,
      s279484925738041 s008277628444778)
    {
      IntPtr num = (IntPtr) &s796925810436236 + 8;
      *(long*) num = *(long*) num + (long) s758302492917686;
      this.s049194705552199[s796925810436236] = s008277628444778;
    }

    private unsafe void s448355511556946(Guid s153605796030438, int s925410270489081)
    {
      IntPtr num = (IntPtr) &s153605796030438 + 8;
      *(long*) num = *(long*) num + (long) s925410270489081;
      this.s049194705552199.Remove(s153605796030438);
    }

    private enum s174322114320021
    {
      End = 0,
      LastImmediateValue = 10, // 0x0A
      PrefixCode = 11, // 0x0B
      MultiByte1 = 12, // 0x0C
    }
  }
}
