// Decompiled with JetBrains decompiler
// Type: org.lb.lbvm.runtime.PrintStatement
// Assembly: GCCollectionMo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 3A5CAC9E-800C-431E-83D8-5129C6781923
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\Trojan-PSW.Win32.Stealer.aezg-0c850189152813ace3063af65fad784dace09ebd9778423c04aa0881b0d0cc09.exe

using System;
using System.Globalization;

namespace org.lb.lbvm.runtime
{
  internal sealed class PrintStatement : Statement
  {
    private readonly OutputPort printer;

    internal PrintStatement(OutputPort printer)
      : base(1, "PRINT")
    {
      this.printer = printer;
    }

    internal override void Execute(
      ref int ip,
      ValueStack valueStack,
      EnvironmentStack envStack,
      CallStack callStack)
    {
      object obj = valueStack.TopOfStack();
      if (obj is bool flag)
        this.printer.Print(flag ? "#t" : "#f");
      else
        this.printer.Print(string.Format((IFormatProvider) CultureInfo.InvariantCulture, "{0}", new object[1]
        {
          obj
        }));
      ip += this.Length;
    }
  }
}
