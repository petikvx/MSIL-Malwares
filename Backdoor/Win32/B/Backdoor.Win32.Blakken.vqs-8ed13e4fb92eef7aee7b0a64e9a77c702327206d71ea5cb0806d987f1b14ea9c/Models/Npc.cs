// Decompiled with JetBrains decompiler
// Type: BlockGameApp.Models.Npc
// Assembly: FormatterAssemblySt, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 877C36BA-E94F-4F44-80EE-D68074F87B8D
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.05\Backdoor.Win32.Blakken.vqs-8ed13e4fb92eef7aee7b0a64e9a77c702327206d71ea5cb0806d987f1b14ea9c.exe

using System;
using System.Drawing;
using System.Windows.Forms;

namespace BlockGameApp.Models
{
  public class Npc : Player
  {
    private Timer _timer = new Timer();

    public Npc(int x, int y, int width, int height, Rectangle bounds, int velocity)
      : this(x, y, width, height, bounds, velocity, Color.Empty, Color.Empty)
    {
    }

    public Npc(
      int x,
      int y,
      int width,
      int height,
      Rectangle bounds,
      int velocity,
      Color fill,
      Color outline,
      int outlineWidth = 2)
      : base(x, y, width, height, bounds, velocity, fill, outline, outlineWidth)
    {
      this._timer.Interval = GameTools.GetRandomNumber(250, 500);
      this._timer.Tick += new EventHandler(this.Timer_Tick);
      this.IsRunning = true;
      this._timer.Enabled = true;
    }

    private void Timer_Tick(object sender, EventArgs e) => this.Direction = GameTools.GetRandomDirection();

    public void Stop()
    {
      this._timer.Stop();
      this.IsRunning = false;
    }

    public void Start()
    {
      this._timer.Start();
      this.IsRunning = true;
    }

    public override void Dispose()
    {
      this._timer.Dispose();
      base.Dispose();
    }

    public bool IsRunning { get; set; }
  }
}
