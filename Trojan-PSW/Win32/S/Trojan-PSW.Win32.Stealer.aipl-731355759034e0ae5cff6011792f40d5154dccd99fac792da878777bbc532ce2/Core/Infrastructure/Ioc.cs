// Decompiled with JetBrains decompiler
// Type: Core.Infrastructure.Ioc
// Assembly: AnsiCharMarsha, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 45449883-CB33-464D-BFFF-85C1D8F95247
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\Trojan-PSW.Win32.Stealer.aipl-731355759034e0ae5cff6011792f40d5154dccd99fac792da878777bbc532ce2.exe

using Core.Exceptions;
using Core.Helpers;
using System;
using System.Collections.Generic;
using System.Diagnostics;

namespace Core.Infrastructure
{
  public static class Ioc
  {
    private static IDependencyResolver _resolver;

    [DebuggerStepThrough]
    public static void InitializeWith(IDependencyResolverFactory factory)
    {
      Checks.Argument.IsNotNull((object) factory, nameof (factory));
      Ioc._resolver = factory.CreateInstance();
    }

    [DebuggerStepThrough]
    public static void BuildUp(object target)
    {
      target.GetType().ToString();
      try
      {
        Ioc._resolver.BuildUp(target);
      }
      catch (Exception ex)
      {
        throw new ObjectCreationException();
      }
    }

    [DebuggerStepThrough]
    public static TType GetInstance<TType>() => Ioc._resolver.GetInstance<TType>() ?? throw new ObjectCreationException();

    [DebuggerStepThrough]
    public static object GetInstance(Type type) => Ioc._resolver.GetInstance(type) ?? throw new ObjectCreationException();

    [DebuggerStepThrough]
    public static IEnumerable<TType> GetAllInstances<TType>() => Ioc._resolver.GetAllInstances<TType>() ?? throw new ObjectCreationException();

    [DebuggerStepThrough]
    public static IEnumerable<object> GetAllInstances(Type type) => Ioc._resolver.GetAllInstances(type) ?? throw new ObjectCreationException();
  }
}
