// Decompiled with JetBrains decompiler
// Type: IngressoVip.clsMensagem
// Assembly: IngressoVip, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B67C4084-86FB-4B3F-B072-28F5697F4668
// Assembly location: C:\Users\Administrateur\Desktop\Virusshare-00005-msil\Virus.Win32.Sality.ae-115d93ab771edf65ec0d5a50e51f618fc5159020bdb0762845d86c2a74f94f06.exe

using Microsoft.VisualBasic.CompilerServices;
using System;

namespace IngressoVip
{
  public class clsMensagem
  {
    private string strRetorno;
    private int intOrigem;
    private string strTelefone;
    private string strCelular;
    private string strProtocolo;
    private string strPromoto;
    private string _strTN;
    private string strVersao;
    private string strTipoLocal;
    private string strRespostaP01;
    private string strRespostaP02;
    private string strRespostaP03;
    private string strValorCompra;
    private string strDataEvento;
    private string strHoraEvento;
    private string strCheckSum;
    private string strEvento;
    private string strDiversao;
    private string strCodRegial;
    private string strPedido;
    private string strVagas;
    private string strParcelado;
    private string strPromotor;
    private string strLocal;
    private string strQTD;
    private string strQTDMeia;
    private string strQTDIntMeia;
    private string strCartao;
    private string strVencimento;
    private string strCodigo;
    private string strFormaPagamento;
    private string strNumParecelas;
    private string strValorUnitario;
    private string strTaxaServico;
    private clsFuncoes objFuncoes;

    public clsMensagem() => this.objFuncoes = new clsFuncoes();

    public string msgCartao
    {
      get => this.strCartao;
      set => this.strCartao = value;
    }

    public string msgVencimento
    {
      get => this.strVencimento;
      set => this.strVencimento = value;
    }

    public string msgDataEvento
    {
      get => this.strDataEvento;
      set => this.strDataEvento = value;
    }

    public string msgHoraEvento
    {
      get => this.strHoraEvento;
      set => this.strHoraEvento = value;
    }

    public string msgCodigo
    {
      get => this.strCodigo;
      set => this.strCodigo = value;
    }

    public string msgEvento
    {
      get => this.strEvento;
      set => this.strEvento = value;
    }

    public string msgDiversao
    {
      get => this.strDiversao;
      set => this.strDiversao = value;
    }

    public string msgPromoto
    {
      get => this.strPromotor;
      set => this.strPromotor = value;
    }

    public string msgLocal
    {
      get => this.strLocal;
      set => this.strLocal = value;
    }

    public string msgTipoLocal
    {
      get => this.strTipoLocal;
      set => this.strTipoLocal = value;
    }

    public string msgQTD
    {
      get => this.strQTD;
      set => this.strQTD = value;
    }

    public string msgQTDMeia
    {
      get => this.strQTDMeia;
      set => this.strQTDMeia = value;
    }

    public string msgQTDIntMeia
    {
      get => this.strQTDIntMeia;
      set => this.strQTDIntMeia = value;
    }

    public string msgPedido
    {
      get => this.strPedido;
      set => this.strPedido = value;
    }

    public string msgVagas
    {
      get => this.strVagas;
      set => this.strVagas = value;
    }

    public string msgCheckSum
    {
      get => this.strCheckSum;
      set => this.strCheckSum = value;
    }

    public string msgRespostaP01
    {
      get => this.strRespostaP01;
      set => this.strRespostaP01 = value;
    }

    public string msgRespostaP02
    {
      get => this.strRespostaP02;
      set => this.strRespostaP02 = value;
    }

    public string msgRespostaP03
    {
      get => this.strRespostaP03;
      set => this.strRespostaP03 = value;
    }

    public string msgValorCompra
    {
      get => this.strValorCompra;
      set => this.strValorCompra = value;
    }

    public string msgVersao
    {
      get => this.strVersao;
      set => this.strVersao = value;
    }

    public string msgTN
    {
      get => this._strTN;
      set => this._strTN = value;
    }

    public int msgOrigem
    {
      get => this.intOrigem;
      set => this.intOrigem = value;
    }

    public string msgProtocolo
    {
      get => this.strProtocolo;
      set => this.strProtocolo = value;
    }

    public string msgParcelado
    {
      get => this.strParcelado;
      set => this.strParcelado = value;
    }

    public string msgTelefone
    {
      get => this.strTelefone;
      set => this.strTelefone = value;
    }

    public string msgCelular
    {
      get => this.strCelular;
      set => this.strCelular = value;
    }

    public string msgCodRegiao
    {
      get => this.strCodRegial;
      set => this.strCodRegial = value;
    }

    public string msgFormaPagamento
    {
      get => this.strFormaPagamento;
      set => this.strFormaPagamento = value;
    }

    public string msgParecela
    {
      get => this.strNumParecelas;
      set => this.strNumParecelas = value;
    }

    public string msgValorUnitario
    {
      get => this.strValorUnitario;
      set => this.strValorUnitario = value;
    }

    public string msgTaxaServico
    {
      get => this.strTaxaServico;
      set => this.strTaxaServico = value;
    }

    public clsMensagem Recupera_Mensagem(ref string strString)
    {
      clsMensagem clsMensagem1 = new clsMensagem();
      try
      {
        clsMensagem clsMensagem2 = clsMensagem1;
        clsMensagem2.msgOrigem = Conversions.ToInteger(strString.Substring(0, 1));
        this.objFuncoes.MsgConsole("STRING: -- " + strString.ToString());
        if (clsMensagem2.msgOrigem == 0)
        {
          this.objFuncoes.MsgConsole("TIPO DE MENSAGEM: URA (" + strString.Length.ToString() + ")");
          this.objFuncoes.MsgConsole("MENSAGEM: URA (" + strString + ")");
          clsMensagem2.msgProtocolo = strString.Substring(1, 3);
          this.objFuncoes.MsgConsole("VALOR PROTOCOLO " + clsMensagem2.msgProtocolo.ToString());
          clsMensagem2.msgTN = strString.Substring(4, 16);
          this.objFuncoes.MsgConsole("VALOR TN " + clsMensagem2.msgTN.ToString());
          int num1 = strString.IndexOf("*");
          this.objFuncoes.MsgConsole("VALOR DE CART " + num1.ToString());
          int length1 = checked (num1 - 20);
          this.objFuncoes.MsgConsole("VALOR DE tamCart " + length1.ToString());
          clsMensagem2.msgTelefone = strString.Substring(20, length1);
          this.objFuncoes.MsgConsole("VALOR TELEFONE " + clsMensagem2.msgTelefone.ToString());
          int num2 = strString.IndexOf("*", checked (num1 + 1));
          this.objFuncoes.MsgConsole("VALOR tamCod " + num2.ToString());
          int num3 = checked (num1 + 1);
          int length2 = checked (num2 - num3);
          this.objFuncoes.MsgConsole("VALOR tamCart " + length2.ToString());
          clsMensagem2.msgCelular = strString.Substring(checked (num1 + 1), length2);
          this.objFuncoes.MsgConsole("VALOR CELULAR " + clsMensagem2.msgCelular.ToString());
          int startIndex1 = checked (num2 + 1);
          this.objFuncoes.MsgConsole("VALOR cod " + startIndex1.ToString());
          if (clsMensagem2.msgProtocolo.ToString().Equals("P07"))
          {
            clsMensagem2.msgCodRegiao = strString.Substring(startIndex1, 2);
            this.objFuncoes.MsgConsole("VALOR CODREGIAO NO P07 " + clsMensagem2.msgCodRegiao.ToString());
            int startIndex2 = checked (startIndex1 + 2);
            clsMensagem2.msgDiversao = strString.Substring(startIndex2, 2);
            this.objFuncoes.MsgConsole("VALOR DIVERSAO NO P07 " + clsMensagem2.msgDiversao.ToString());
          }
          else if (clsMensagem2.msgProtocolo.ToString().Equals("P03"))
          {
            clsMensagem2.msgPromoto = strString.Substring(startIndex1, 4);
            this.objFuncoes.MsgConsole("VALOR PROMOTO " + clsMensagem2.msgPromoto.ToString());
            int startIndex3 = checked (startIndex1 + 4);
            this.objFuncoes.MsgConsole("VALOR cod " + startIndex3.ToString());
            clsMensagem2.msgDiversao = strString.Substring(startIndex3, 2);
            this.objFuncoes.MsgConsole("VALOR DIVERSAO " + clsMensagem2.msgDiversao.ToString());
            int startIndex4 = checked (startIndex3 + 2);
            this.objFuncoes.MsgConsole("VALOR cod " + startIndex4.ToString());
            clsMensagem2.msgEvento = strString.Substring(startIndex4, 6);
            this.objFuncoes.MsgConsole("VALOR EVENTO " + clsMensagem2.msgEvento.ToString());
            int startIndex5 = checked (startIndex4 + 6);
            this.objFuncoes.MsgConsole("VALOR cod " + startIndex5.ToString());
            clsMensagem2.msgLocal = strString.Substring(startIndex5, 6);
            this.objFuncoes.MsgConsole("VALOR LOCAL " + clsMensagem2.msgLocal.ToString());
            int startIndex6 = checked (startIndex5 + 6);
            this.objFuncoes.MsgConsole("VALOR cod " + startIndex6.ToString());
            clsMensagem2.msgTipoLocal = strString.Substring(startIndex6, 2);
            this.objFuncoes.MsgConsole("VALOR TIPO LOCAL " + clsMensagem2.msgTipoLocal.ToString());
            int startIndex7 = checked (startIndex6 + 2);
            this.objFuncoes.MsgConsole("VALOR cod " + startIndex7.ToString());
            clsMensagem2.msgDataEvento = strString.Substring(startIndex7, 4);
            this.objFuncoes.MsgConsole("VALOR DATA EVENTO " + clsMensagem2.msgDataEvento.ToString());
            checked { startIndex7 += 4; }
            this.objFuncoes.MsgConsole("VALOR cod " + startIndex7.ToString());
            clsMensagem2.msgHoraEvento = strString.Substring(startIndex7, 4);
            this.objFuncoes.MsgConsole("VALOR HORA EVENTO " + clsMensagem2.msgHoraEvento.ToString());
            checked { startIndex7 += 4; }
            this.objFuncoes.MsgConsole("VALOR cod " + startIndex7.ToString());
            clsMensagem2.msgQTD = strString.Substring(startIndex7, 2);
            this.objFuncoes.MsgConsole("VALOR QUANTIDADE INTEIRA " + clsMensagem2.msgQTD.ToString());
            checked { startIndex7 += 2; }
            clsMensagem2.msgQTDMeia = strString.Substring(startIndex7, 2);
            this.objFuncoes.MsgConsole("VALOR QUANTIDADE MEIA " + clsMensagem2.msgQTDMeia.ToString());
            checked { startIndex7 += 2; }
            clsMensagem2.msgQTDIntMeia = strString.Substring(startIndex7, 3);
            this.objFuncoes.MsgConsole("VALOR QUANTIDADE MEIA-INTEIRA " + clsMensagem2.msgQTDIntMeia.ToString());
            checked { startIndex7 += 3; }
            this.objFuncoes.MsgConsole("VALOR cod " + startIndex7.ToString());
            num1 = strString.IndexOf("*", startIndex7);
            this.objFuncoes.MsgConsole("VALOR DE CART " + num1.ToString());
            int length3 = checked (num1 - startIndex7);
            this.objFuncoes.MsgConsole("VALOR DE tamCart " + length3.ToString());
            clsMensagem2.msgCartao = strString.Substring(startIndex7, length3);
            this.objFuncoes.MsgConsole("VALOR DE CARTAO " + clsMensagem2.msgCartao.ToString());
            clsMensagem2.msgVencimento = strString.Substring(checked (num1 + 1), 4);
            this.objFuncoes.MsgConsole("VALOR VENCIMENTO " + clsMensagem2.msgVencimento.ToString());
            startIndex7 = checked (num1 + 5);
            this.objFuncoes.MsgConsole("VALOR Cod " + startIndex7.ToString());
            int length4 = checked (strString.IndexOf("*", num1 + 1) - startIndex7);
            this.objFuncoes.MsgConsole("VALOR tamCod " + length4.ToString());
            clsMensagem2.msgCodigo = strString.Substring(startIndex7, length4);
            this.objFuncoes.MsgConsole("VALOR CODIGO SEGURANCA " + clsMensagem2.msgCodigo.ToString());
            checked { startIndex7 += length4; }
            clsMensagem2.msgFormaPagamento = strString.Substring(checked (startIndex7 + 1), 2);
            this.objFuncoes.MsgConsole("VALOR FORMA PAGAMENTO " + clsMensagem2.msgFormaPagamento.ToString());
            checked { startIndex7 += 2; }
            this.objFuncoes.MsgConsole("VALOR Cod " + startIndex7.ToString());
            clsMensagem2.msgParecela = strString.Substring(checked (startIndex7 + 1), checked (strString.Length - startIndex7 + 1));
            this.objFuncoes.MsgConsole("VALOR PARCELAS " + clsMensagem2.msgParecela.ToString());
          }
          else
          {
            clsMensagem2.msgPromoto = strString.Substring(startIndex1, 4);
            this.objFuncoes.MsgConsole("VALOR PROMOTOR " + clsMensagem2.msgPromoto.ToString());
            int startIndex8 = checked (startIndex1 + 4);
            this.objFuncoes.MsgConsole("VALOR cod " + startIndex8.ToString());
            clsMensagem2.msgDiversao = strString.Substring(startIndex8, 2);
            this.objFuncoes.MsgConsole("VALOR DIVERSAO " + clsMensagem2.msgDiversao.ToString());
            int startIndex9 = checked (startIndex8 + 2);
            this.objFuncoes.MsgConsole("VALOR cod " + startIndex9.ToString());
            clsMensagem2.msgEvento = strString.Substring(startIndex9, 6);
            this.objFuncoes.MsgConsole("VALOR EVENTO " + clsMensagem2.msgEvento.ToString());
            int startIndex10 = checked (startIndex9 + 6);
            this.objFuncoes.MsgConsole("VALOR cod " + startIndex10.ToString());
            clsMensagem2.msgLocal = strString.Substring(startIndex10, 6);
            this.objFuncoes.MsgConsole("VALOR LOCAL " + clsMensagem2.msgLocal.ToString());
            int startIndex11 = checked (startIndex10 + 6);
            this.objFuncoes.MsgConsole("VALOR cod " + startIndex11.ToString());
            clsMensagem2.msgTipoLocal = strString.Substring(startIndex11, 2);
            this.objFuncoes.MsgConsole("VALOR TIPO LOCAL " + clsMensagem2.msgTipoLocal.ToString());
            int startIndex12 = checked (startIndex11 + 2);
            this.objFuncoes.MsgConsole("VALOR cod " + startIndex12.ToString());
            clsMensagem2.msgQTD = strString.Substring(startIndex12, 2);
            this.objFuncoes.MsgConsole("VALOR QUANTIDADE INTEIRA " + clsMensagem2.msgQTD.ToString());
            checked { startIndex12 += 2; }
            clsMensagem2.msgQTDMeia = strString.Substring(startIndex12, 2);
            this.objFuncoes.MsgConsole("VALOR QUANTIDADE MEIA " + clsMensagem2.msgQTDMeia.ToString());
            checked { startIndex12 += 2; }
            clsMensagem2.msgQTDIntMeia = strString.Substring(startIndex12, 3);
            this.objFuncoes.MsgConsole("VALOR QUANTIDADE MEIA-INTEIRA " + clsMensagem2.msgQTDIntMeia.ToString());
            checked { startIndex12 += 3; }
            clsMensagem2.msgPedido = strString.Substring(startIndex12, 1);
            this.objFuncoes.MsgConsole("VALOR STATUS PEDIDO " + clsMensagem2.msgPedido.ToString());
            checked { ++startIndex12; }
          }
        }
        else if (clsMensagem2.msgOrigem == 1)
        {
          this.objFuncoes.MsgConsole("TIPO DE MENSAGEM: SERVIDOR (" + strString.Length.ToString() + ")");
          this.objFuncoes.MsgConsole("MENSAGEM: SERVIDOR (" + strString + ")");
          clsMensagem2.msgProtocolo = strString.Substring(2, 3);
          if (Operators.CompareString(clsMensagem2.msgProtocolo, "P01", false) == 0)
          {
            clsMensagem2.msgTN = strString.Substring(5, 16);
            this.objFuncoes.MsgConsole("VALOR DO TN NO P01 " + clsMensagem2.msgTN.ToString());
            clsMensagem2.msgVersao = strString.Substring(21, 3);
            this.objFuncoes.MsgConsole("VALOR VERSAO NO P01 " + clsMensagem2.msgVersao.ToString());
            int num4 = strString.IndexOf("*");
            this.objFuncoes.MsgConsole("VALOR DE CART " + num4.ToString());
            int length5 = checked (num4 - 24);
            this.objFuncoes.MsgConsole("VALOR DE tamCart " + length5.ToString());
            clsMensagem2.msgTelefone = strString.Substring(24, length5);
            this.objFuncoes.MsgConsole("VALOR TELEFONE NO P01 " + clsMensagem2.msgTelefone.ToString());
            int num5 = strString.IndexOf("*", checked (num4 + 1));
            this.objFuncoes.MsgConsole("VALOR tamCod " + num5.ToString());
            int num6 = checked (num4 + 1);
            int length6 = checked (num5 - num6);
            this.objFuncoes.MsgConsole("VALOR tamCart " + length6.ToString());
            clsMensagem2.msgCelular = strString.Substring(checked (num4 + 1), length6);
            this.objFuncoes.MsgConsole("VALOR CELULAR NO P01 " + clsMensagem2.msgCelular.ToString());
            int startIndex13 = checked (num5 + 1);
            clsMensagem2.msgRespostaP01 = strString.Substring(startIndex13, 1);
            this.objFuncoes.MsgConsole("VALOR RESPOSTA DO P01 " + clsMensagem2.msgRespostaP01.ToString());
            int startIndex14 = checked (startIndex13 + 1);
            clsMensagem2.msgCodRegiao = strString.Substring(startIndex14, 2);
            this.objFuncoes.MsgConsole("VALOR CODREGIAO NO P01 " + clsMensagem2.msgCodRegiao.ToString());
            clsMensagem2.msgCheckSum = strString.Substring(checked (strString.Length - 4), 3);
            this.objFuncoes.MsgConsole("VALOR CHECKSUM " + clsMensagem2.msgCheckSum.ToString());
          }
          else if (Operators.CompareString(clsMensagem2.msgProtocolo, "P02", false) == 0)
          {
            clsMensagem2.msgTN = strString.Substring(5, 16);
            this.objFuncoes.MsgConsole("VALOR TN NO P02 " + clsMensagem2.msgTN.ToString());
            clsMensagem2.msgVersao = strString.Substring(21, 3);
            this.objFuncoes.MsgConsole("VALOR VERSAO NO P02 " + clsMensagem2.msgVersao.ToString());
            clsMensagem2.msgTelefone = strString.Substring(24, 10);
            this.objFuncoes.MsgConsole("VALOR TELEFONE NO P02 " + clsMensagem2.msgTelefone.ToString());
            clsMensagem2.msgCelular = strString.Substring(35, 10);
            this.objFuncoes.MsgConsole("VALOR CELULAR NO P02 " + clsMensagem2.msgCelular.ToString());
            clsMensagem2.msgDiversao = strString.Substring(46, 2);
            this.objFuncoes.MsgConsole("VALOR DIVERSAO NO P02 " + clsMensagem2.msgDiversao.ToString());
            clsMensagem2.msgEvento = strString.Substring(48, 6);
            this.objFuncoes.MsgConsole("VALOR EVENTO NO P02 " + clsMensagem2.msgEvento.ToString());
            clsMensagem2.msgLocal = strString.Substring(54, 6);
            this.objFuncoes.MsgConsole("VALOR LOCAL NO P02 " + clsMensagem2.msgLocal.ToString());
            clsMensagem2.msgTipoLocal = strString.Substring(60, 2);
            this.objFuncoes.MsgConsole("VALOR TIPO LOCAL NO P02 " + clsMensagem2.msgTipoLocal.ToString());
            clsMensagem2.msgQTD = strString.Substring(62, 2);
            this.objFuncoes.MsgConsole("VALOR QUANTIDADE INTEIRA NO P02 " + clsMensagem2.msgQTD.ToString());
            clsMensagem2.msgQTDMeia = strString.Substring(64, 2);
            this.objFuncoes.MsgConsole("VALOR QUANTIDADE MEIA NO P02 " + clsMensagem2.msgQTDMeia.ToString());
            clsMensagem2.msgQTDIntMeia = strString.Substring(66, 3);
            this.objFuncoes.MsgConsole("VALOR QUANTIDADE MEIA-INTEIRA NO P02 " + clsMensagem2.msgQTDIntMeia.ToString());
            clsMensagem2.msgValorCompra = strString.Substring(69, 12);
            this.objFuncoes.MsgConsole("VALOR VALOR COMPRA NO P02 " + clsMensagem2.msgValorCompra.ToString());
            clsMensagem2.msgTaxaServico = strString.Substring(81, 6);
            this.objFuncoes.MsgConsole("VALOR VALOR TAXA NO P02 " + clsMensagem2.msgTaxaServico.ToString());
            clsMensagem2.msgParcelado = strString.Substring(87, 2);
            this.objFuncoes.MsgConsole("VALOR VALOR PARCELADO NO P02 " + clsMensagem2.msgParcelado.ToString());
            clsMensagem2.msgRespostaP02 = strString.Substring(89, 1);
            this.objFuncoes.MsgConsole("VALOR RESPOSTAP02 NO P02 " + clsMensagem2.msgRespostaP02.ToString());
            clsMensagem2.msgCheckSum = strString.Substring(checked (strString.Length - 4), 3);
            this.objFuncoes.MsgConsole("VALOR CHECKSUM NO P02 " + clsMensagem2.msgCheckSum.ToString());
          }
          else if (Operators.CompareString(clsMensagem2.msgProtocolo, "P03", false) == 0)
          {
            clsMensagem2.msgTN = strString.Substring(5, 16);
            this.objFuncoes.MsgConsole("VALOR TN NO P03 " + clsMensagem2.msgTN.ToString());
            clsMensagem2.msgVersao = strString.Substring(21, 3);
            this.objFuncoes.MsgConsole("VALOR VERSAO NO P03 " + clsMensagem2.msgVersao.ToString());
            clsMensagem2.msgTelefone = strString.Substring(24, 10);
            this.objFuncoes.MsgConsole("VALOR TELEFONE NO P03 " + clsMensagem2.msgTelefone.ToString());
            clsMensagem2.msgCelular = strString.Substring(35, 10);
            this.objFuncoes.MsgConsole("VALOR CELULAR NO P03 " + clsMensagem2.msgCelular.ToString());
            clsMensagem2.msgDiversao = strString.Substring(46, 2);
            this.objFuncoes.MsgConsole("VALOR DIVERSAO NO P03 " + clsMensagem2.msgDiversao.ToString());
            clsMensagem2.msgPromoto = strString.Substring(48, 4);
            this.objFuncoes.MsgConsole("VALOR PROMOTOR NO P03 " + clsMensagem2.msgPromoto.ToString());
            clsMensagem2.msgEvento = strString.Substring(52, 6);
            this.objFuncoes.MsgConsole("VALOR EVENTO NO P03 " + clsMensagem2.msgEvento.ToString());
            clsMensagem2.msgLocal = strString.Substring(58, 6);
            this.objFuncoes.MsgConsole("VALOR LOCAL NO P03 " + clsMensagem2.msgLocal.ToString());
            clsMensagem2.msgTipoLocal = strString.Substring(64, 2);
            this.objFuncoes.MsgConsole("VALOR TIPO LOCAL NO P03 " + clsMensagem2.msgTipoLocal.ToString());
            clsMensagem2.msgDataEvento = strString.Substring(66, 4);
            this.objFuncoes.MsgConsole("VALOR DATA EVENTO " + clsMensagem2.msgDataEvento.ToString());
            clsMensagem2.msgHoraEvento = strString.Substring(70, 4);
            this.objFuncoes.MsgConsole("VALOR HORA EVENTO " + clsMensagem2.msgHoraEvento.ToString());
            clsMensagem2.msgQTD = strString.Substring(74, 2);
            this.objFuncoes.MsgConsole("VALOR QUANTIDADE INTEIRA NO P03 " + clsMensagem2.msgQTD.ToString());
            clsMensagem2.msgQTDMeia = strString.Substring(76, 2);
            this.objFuncoes.MsgConsole("VALOR QUANTIDADE MEIA NO P03 " + clsMensagem2.msgQTDMeia.ToString());
            clsMensagem2.msgQTDIntMeia = strString.Substring(78, 3);
            this.objFuncoes.MsgConsole("VALOR QUANTIDADE MEIA-INTEIRA NO P03 " + clsMensagem2.msgQTDIntMeia.ToString());
            int num7 = strString.IndexOf("*", 80);
            this.objFuncoes.MsgConsole("VALOR DE CART " + num7.ToString());
            int length7 = checked (num7 - 81);
            this.objFuncoes.MsgConsole("VALOR DE tamCart " + length7.ToString());
            clsMensagem2.msgCartao = strString.Substring(81, length7);
            this.objFuncoes.MsgConsole("VALOR DE CARTAO NO P03 " + clsMensagem2.msgCartao.ToString());
            clsMensagem2.msgVencimento = strString.Substring(checked (num7 + 1), 4);
            this.objFuncoes.MsgConsole("VALOR VENCIMENTO NO P03 " + clsMensagem2.msgVencimento.ToString());
            int startIndex = checked (num7 + 5);
            this.objFuncoes.MsgConsole("VALOR Cod " + startIndex.ToString());
            int length8 = checked (strString.IndexOf("*", num7 + 1) - startIndex);
            this.objFuncoes.MsgConsole("VALOR tamCod " + length8.ToString());
            clsMensagem2.msgCodigo = strString.Substring(startIndex, length8);
            this.objFuncoes.MsgConsole("VALOR CODIGO SEGURANCA NO P03 " + clsMensagem2.msgCodigo.ToString());
            int num8 = checked (startIndex + length8);
            clsMensagem2.msgFormaPagamento = strString.Substring(checked (num8 + 1), 2);
            this.objFuncoes.MsgConsole("VALOR FORMA PAGAMENTO NO P03 " + clsMensagem2.msgFormaPagamento.ToString());
            int num9 = checked (num8 + 2);
            this.objFuncoes.MsgConsole("VALOR Cod " + num9.ToString());
            clsMensagem2.msgParecela = strString.Substring(checked (num9 + 1), 2);
            this.objFuncoes.MsgConsole("VALOR PARCELAS NO P03 " + clsMensagem2.msgParecela.ToString());
            checked { num9 += 3; }
            this.objFuncoes.MsgConsole("VALOR Cod " + num9.ToString());
            clsMensagem2.msgRespostaP03 = strString.Substring(checked (num9 + 1), 1);
            this.objFuncoes.MsgConsole("VALOR RESPOSTA DO P03 " + clsMensagem2.msgRespostaP03.ToString());
            clsMensagem2.msgCheckSum = strString.Substring(checked (strString.Length - 4), 3);
            this.objFuncoes.MsgConsole("VALOR CHECKSUM NO P03 " + clsMensagem2.msgCheckSum.ToString());
          }
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        Console.WriteLine("ERRO AO RECUPERAR MENSAGEM ");
        clsMensagem1.strProtocolo = "ERRO";
        ProjectData.ClearProjectError();
      }
      return clsMensagem1;
    }

    public object GeraMensagemP01()
    {
      string str1 = (string) null;
      object obj;
      try
      {
        string str2 = str1 + "P01" + this.msgTN + "150" + this.msgTelefone + "*";
        this.objFuncoes.MsgConsole("VALOR DO TELEFONE " + this.msgTelefone);
        string texto = str2 + this.msgCelular + "*";
        this.objFuncoes.MsgConsole("VALOR DO CELULAR " + this.msgCelular);
        string str3 = this.objFuncoes.Calcular_Check_Sum(texto);
        string str4 = "$" + (texto + "                                                                                                                                               " + str3 + "#");
        this.objFuncoes.MsgConsole("VALOR DO strRetorno GeraMensagemP01 " + str4);
        obj = (object) str4;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        Console.Write(ex.ToString());
        obj = (object) null;
        ProjectData.ClearProjectError();
      }
      return obj;
    }

    public object GeraMensagemP02()
    {
      string str1 = (string) null;
      object obj;
      try
      {
        string str2 = str1 + "P02" + this.msgTN + "150" + this.msgTelefone + "*";
        this.objFuncoes.MsgConsole("VALOR DO TELEFONE " + this.msgTelefone);
        string texto = str2 + this.msgCelular + "*" + this.msgDiversao + this.msgEvento + this.msgLocal + this.msgTipoLocal + this.msgQTD + this.msgQTDMeia + this.msgQTDIntMeia + this.msgPedido + this.msgVagas;
        string str3 = this.objFuncoes.Calcular_Check_Sum(texto);
        obj = (object) ("$" + (texto + "                                                                                                                               " + str3 + "#"));
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        Console.Write(ex.ToString());
        obj = (object) null;
        ProjectData.ClearProjectError();
      }
      return obj;
    }

    public object GeraMensagemP03()
    {
      string str1 = (string) null;
      object obj;
      try
      {
        string str2 = str1 + "P03";
        clsFuncoes objFuncoes = this.objFuncoes;
        string msgTn = this.msgTN;
        ref string local = ref msgTn;
        string str3 = objFuncoes.GeraTN(ref local);
        this.msgTN = msgTn;
        string str4 = str2 + str3 + "150" + this.msgTelefone + "*";
        this.objFuncoes.MsgConsole("VALOR DO TELEFONE " + this.msgTelefone);
        string str5 = str4 + this.msgCelular + "*" + this.msgDiversao + this.msgPromoto + this.msgEvento + this.msgLocal + this.msgTipoLocal + this.msgDataEvento + this.msgHoraEvento + this.msgQTD + this.msgQTDMeia + this.msgQTDIntMeia;
        this.msgCartao += "*";
        this.objFuncoes.MsgConsole("VALOR DO CARTAO " + this.msgCartao);
        string str6 = str5 + this.msgCartao;
        this.objFuncoes.MsgConsole("VALOR DO VENCIMENTO " + this.msgVencimento);
        string str7 = str6 + this.msgVencimento;
        this.msgCodigo += "*";
        this.objFuncoes.MsgConsole("VALOR DO CODIGO SEGURANCA " + this.msgCodigo);
        string texto = str7 + this.msgCodigo + this.msgFormaPagamento + this.msgParecela;
        string str8 = this.objFuncoes.Calcular_Check_Sum(texto);
        string str9 = "$" + (texto + "                                                                                  " + str8 + "#");
        this.objFuncoes.MsgConsole("VALOR P03 " + str9.ToString());
        obj = (object) str9;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        Console.Write(ex.ToString());
        obj = (object) null;
        ProjectData.ClearProjectError();
      }
      return obj;
    }

    public object GeraErro()
    {
      string str = (string) null;
      object obj;
      try
      {
        obj = (object) (str + "-1");
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        Console.Write(ex.ToString());
        obj = (object) null;
        ProjectData.ClearProjectError();
      }
      return obj;
    }

    public enum TipoMensagem
    {
      URA,
      Servidor,
    }
  }
}
