// Decompiled with JetBrains decompiler
// Type: N9CszjH.i7LxtAa
// Assembly: rIHK739, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
// MVID: DCC06416-0005-44FB-A994-2D27682899C4
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Gorgon.gen-5d65c8f014ae86140156310feb48e80c8d76bb6b8eb7eaf6f0a843d5bb38d6b4.exe

using AZsmRn2;
using BwmLLFL;
using KBBpOxm;
using RnEcdQv;
using System;
using System.Collections.Generic;
using System.Globalization;
using System.Linq;

namespace N9CszjH
{
  public class i7LxtAa
  {
    private static i7LxtAa w9Xuinf;
    private readonly IDictionary<string, U3kQ1UH> RaRMg5W;
    private readonly IDictionary<string, U3kQ1UH> \u00332dNmUN;
    private string Iaw78Ar;
    private U3kQ1UH PV5QBZo;

    public i7LxtAa(IEnumerable<U3kQ1UH> retryStrategies)
      : this(retryStrategies, (string) null, (IDictionary<string, string>) null)
    {
    }

    public i7LxtAa(IEnumerable<U3kQ1UH> retryStrategies, string defaultRetryStrategyName)
      : this(retryStrategies, defaultRetryStrategyName, (IDictionary<string, string>) null)
    {
    }

    public i7LxtAa(
      IEnumerable<U3kQ1UH> retryStrategies,
      string defaultRetryStrategyName,
      IDictionary<string, string> defaultRetryStrategyNamesMap)
    {
      this.\u00332dNmUN = (IDictionary<string, U3kQ1UH>) retryStrategies.ToDictionary<U3kQ1UH, string>((Func<U3kQ1UH, string>) (_param1 => _param1.UUrOEyg));
      this.rf8gMiD = defaultRetryStrategyName;
      this.RaRMg5W = (IDictionary<string, U3kQ1UH>) new Dictionary<string, U3kQ1UH>();
      if (defaultRetryStrategyNamesMap == null)
        return;
      foreach (KeyValuePair<string, string> keyValuePair in defaultRetryStrategyNamesMap.Where<KeyValuePair<string, string>>((Func<KeyValuePair<string, string>, bool>) (RNgobn0 => !string.IsNullOrWhiteSpace(RNgobn0.Value))))
      {
        U3kQ1UH u3kQ1Uh;
        if (!this.\u00332dNmUN.TryGetValue(keyValuePair.Value, out u3kQ1Uh))
          throw new ArgumentOutOfRangeException(nameof (defaultRetryStrategyNamesMap), string.Format((IFormatProvider) CultureInfo.CurrentCulture, zgpvHIp.\u0036hZteUM, new object[2]
          {
            (object) keyValuePair.Key,
            (object) keyValuePair.Value
          }));
        this.RaRMg5W.Add(keyValuePair.Key, u3kQ1Uh);
      }
    }

    public static i7LxtAa h0veFFk => i7LxtAa.w9Xuinf ?? throw new InvalidOperationException(zgpvHIp.XcEBsp0);

    public string rf8gMiD
    {
      get => this.Iaw78Ar;
      set
      {
        if (!string.IsNullOrWhiteSpace(value))
        {
          U3kQ1UH u3kQ1Uh;
          this.Iaw78Ar = this.\u00332dNmUN.TryGetValue(value, out u3kQ1Uh) ? value : throw new ArgumentOutOfRangeException(nameof (value), string.Format((IFormatProvider) CultureInfo.CurrentCulture, zgpvHIp.pC7EI03, new object[1]
          {
            (object) value
          }));
          this.PV5QBZo = u3kQ1Uh;
        }
        else
          this.Iaw78Ar = (string) null;
      }
    }

    public static void ncKq7FX(i7LxtAa Oot4B3Q) => i7LxtAa.\u0036iopvKy(Oot4B3Q, true);

    public static void \u0036iopvKy(i7LxtAa _param0, bool Ul5ImYH)
    {
      if (i7LxtAa.w9Xuinf != null & Ul5ImYH && _param0 != i7LxtAa.w9Xuinf)
        throw new InvalidOperationException(zgpvHIp.cEnB4DS);
      i7LxtAa.w9Xuinf = _param0;
    }

    public virtual \u0035MwXYUt<T> \u00394byYpX<T>() where T : ITransientErrorDetectionStrategy, new() => new \u0035MwXYUt<T>(this.dTelKad());

    public virtual \u0035MwXYUt<T> sUFIO5o<T>(string dOvLQMn) where T : ITransientErrorDetectionStrategy, new() => new \u0035MwXYUt<T>(this.mCkCjBu(dOvLQMn));

    public virtual U3kQ1UH dTelKad() => this.PV5QBZo;

    public virtual U3kQ1UH mCkCjBu(string ZqjDI9e)
    {
      if (string.IsNullOrEmpty(ZqjDI9e))
        throw new ArgumentException(string.Format((IFormatProvider) CultureInfo.CurrentCulture, zgpvHIp.\u00359vjKNv, new object[1]
        {
          (object) "retryStrategyName"
        }));
      U3kQ1UH u3kQ1Uh;
      if (!this.\u00332dNmUN.TryGetValue(ZqjDI9e, out u3kQ1Uh))
        throw new ArgumentOutOfRangeException(string.Format((IFormatProvider) CultureInfo.CurrentCulture, zgpvHIp.pC7EI03, new object[1]
        {
          (object) ZqjDI9e
        }));
      return u3kQ1Uh;
    }

    public virtual U3kQ1UH W3Re7LA(string BK1p8u4)
    {
      if (string.IsNullOrEmpty(BK1p8u4))
        throw new ArgumentException(string.Format((IFormatProvider) CultureInfo.CurrentCulture, zgpvHIp.\u00359vjKNv, new object[1]
        {
          (object) "technology"
        }));
      U3kQ1UH pv5QbZo;
      if (!this.RaRMg5W.TryGetValue(BK1p8u4, out pv5QbZo))
        pv5QbZo = this.PV5QBZo;
      return pv5QbZo != null ? pv5QbZo : throw new ArgumentOutOfRangeException(string.Format((IFormatProvider) CultureInfo.CurrentCulture, zgpvHIp.SIs0rGx, new object[1]
      {
        (object) BK1p8u4
      }));
    }
  }
}
