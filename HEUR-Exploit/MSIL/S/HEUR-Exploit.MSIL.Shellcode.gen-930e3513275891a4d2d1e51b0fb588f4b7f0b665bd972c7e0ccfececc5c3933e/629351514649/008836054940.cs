// Decompiled with JetBrains decompiler
// Type: 629351514649.008836054940
// Assembly: 903211523809, Version=16.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: 9299602E-5CAC-472E-8784-954A0E70F0DC
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Exploit.MSIL.Shellcode.gen-930e3513275891a4d2d1e51b0fb588f4b7f0b665bd972c7e0ccfececc5c3933e.exe

using \u003112706448168;
using \u003118884264626;
using \u003442459406356;
using \u003550712635264;
using \u003565349116216;
using \u003629351514649;
using \u003748518633509;
using \u003794378439523;
using \u003883241009814;
using Microsoft.VisualStudio.TaskRunnerExplorer;
using System;
using System.Collections.Generic;
using System.Globalization;
using System.Runtime.CompilerServices;
using System.Text.RegularExpressions;

namespace \u003629351514649
{
  internal class \u003008836054940 : ITaskRunnerOutputParser
  {
    private readonly List<string> \u003777970200656;
    private string \u003543505673470;
    private readonly List<\u003008836054940.\u003288322931458> \u003181313614478;
    private bool \u003298364041293;
    private static readonly Regex \u003162567149128 = new Regex("\\u001b\\[\\d+m");
    private static readonly Regex \u003123366455836 = new Regex("[\\r\\n\\t]");
    private static readonly Regex \u003868498293840 = new Regex("^\\s*(‼[\\s]+[\\d]+[\\s]+warnings?)|(×[\\s]+[\\d]+[\\s]+errors?)|(√[\\s]+No problems)\\s*$", RegexOptions.IgnoreCase);
    private static readonly Regex \u003858147105019 = new Regex("^\\s*\\u001b\\[\\d+mline[\\s]+(?<LINE>[0-9]*)\\u001b\\[\\d+m[\\s]+\\u001b\\[\\d+mcol[\\s]+(?<COLUMN>[0-9]*)\\u001b\\[\\d+m[\\s]+\\u001b\\[(?<COLOR>[0-9]*)m(?<TEXT>[^\\u001b]+)\\u001b\\[\\d+m(\\s+\\u001b\\[\\d+m)?(?<ERRORCODE>\\([^\\)]+\\))?(\\u001b\\[\\d+m)?\\s*$", RegexOptions.IgnoreCase);
    private static readonly Regex \u003973492901280 = new Regex("^\\s*(?<FILEPATH>[\\w\\s\\\\\\\\]+(\\.\\w+)+)\\s*$", RegexOptions.IgnoreCase);

    public bool \u003519398043096
    {
      get => this.\u003298364041293;
      set => this.\u003298364041293 = value;
    }

    public \u003008836054940()
    {
      this.\u003777970200656 = new List<string>();
      this.\u003543505673470 = "";
      this.\u003181313614478 = new List<\u003008836054940.\u003288322931458>();
      this.\u003298364041293 = false;
    }

    public \u003787271880604 \u003685905645825(IEnumerable<string> _param1)
    {
      // ISSUE: unable to decompile the method.
    }

    private \u003008836054940.\u003719795519998 \u003011037441958(string _param1)
    {
      // ISSUE: unable to decompile the method.
    }

    private List<IErrorListItem> \u003441967245983()
    {
      List<IErrorListItem> errorListItemList = new List<IErrorListItem>();
      foreach (\u003008836054940.\u003288322931458 obj1 in this.\u003181313614478)
      {
        // ISSUE: reference to a compiler-generated method
        \u003868366740580 obj2 = new \u003868366740580()
        {
          \u003542028917286 = ((\u003437254268646.\u003683656847721) obj1).get_LineNumber(),
          \u003507348189802 = obj1.\u003273284022084,
          \u003053454428124 = obj1.\u003923321176426,
          \u003067396601390 = this.\u003543505673470,
          \u003147896306475 = obj1.\u003049712455912,
          \u003390684500447 = (object) obj1.\u003947004543221
        };
        errorListItemList.Add((IErrorListItem) obj2);
      }
      return errorListItemList;
    }

    private bool \u003114966610629(string _param1) => \u003008836054940.\u003868498293840.Match(_param1).Success;

    private string \u003456487010235(string _param1)
    {
      Match match = \u003008836054940.\u003973492901280.Match(_param1);
      return match.Success ? match.Groups["FILEPATH"].Value : string.Empty;
    }

    private \u003008836054940.\u003288322931458 \u003439970326357(string _param1)
    {
      \u003008836054940.\u003288322931458 obj = (\u003008836054940.\u003288322931458) null;
      Match match = \u003008836054940.\u003858147105019.Match(_param1);
      if (match.Success)
      {
        string s1 = match.Groups["LINE"].Value;
        string s2 = match.Groups["COLUMN"].Value;
        string str1 = match.Groups["COLOR"].Value;
        string str2 = match.Groups["TEXT"].Value.TrimEnd(' ');
        string str3 = match.Groups["ERRORCODE"].Value;
        int result1;
        if (!int.TryParse(s1, out result1))
          result1 = -1;
        int result2;
        if (!int.TryParse(s2, out result2))
          result2 = -1;
        obj = new \u003008836054940.\u003288322931458()
        {
          \u003726299010561 = result1,
          \u003273284022084 = result2,
          \u003923321176426 = str2,
          \u003947004543221 = str3,
          \u003049712455912 = str1 == "31" ? \u003407927968715.Error : \u003407927968715.Warning
        };
      }
      return obj;
    }

    private class \u003288322931458
    {
      [SpecialName]
      public int value__;

      public int \u003726299010561
      {
        [CompilerGenerated, SpecialName] get => this.\u003769880113360;
        set => ((\u003437254268646.\u003683656847721) this).\u003769880113360 = value;
      }

      public int \u003273284022084 { get; set; }

      public string \u003923321176426 { get; set; }

      public string \u003947004543221 { get; set; }

      public \u003407927968715 \u003049712455912 { get; set; }

      private void \u003341648052112()
      {
        int num1 = ((\u003008836054940.\u003719795519998) this).\u003420683870372;
        IEnumerable<\u003969070247281> result1;
        try
        {
          TaskAwaiter<ITaskRunnerCommandResult> awaiter;
          int num2;
          if (num1 != 0)
          {
            // ISSUE: reference to a compiler-generated field
            ((\u003413725445140.\u003136663856775) this).\u003365400248029 = (ICollection<\u003969070247281>) null;
            string str;
            // ISSUE: reference to a compiler-generated field
            // ISSUE: reference to a compiler-generated field
            // ISSUE: reference to a compiler-generated field
            \u003413725445140.\u003843573223746(((\u003413725445140.\u003136663856775) this).\u003948527077972, out str, out ((\u003413725445140.\u003136663856775) this).\u003744013623364, out ((\u003413725445140.\u003136663856775) this).\u003601730347724);
            // ISSUE: reference to a compiler-generated field
            // ISSUE: reference to a compiler-generated field
            // ISSUE: reference to a compiler-generated field
            awaiter = ((\u003413725445140.\u003136663856775) this).\u003493311764766.ExecutionService.ExecuteCommand((ITaskRunnerCommand) new TaskRunnerCommand(str, ((\u003413725445140.\u003136663856775) this).\u003744013623364, ((\u003413725445140.\u003136663856775) this).\u003601730347724, (string) null)).GetAwaiter();
            if (!awaiter.IsCompleted)
            {
              ((\u003008836054940.\u003719795519998) this).\u003420683870372 = num2 = 0;
              // ISSUE: reference to a compiler-generated field
              ((\u003413725445140.\u003136663856775) this).\u003353143194279 = awaiter;
              // ISSUE: reference to a compiler-generated field
              // ISSUE: cast to a reference type
              ((\u003413725445140.\u003136663856775) this).\u003139165158862.AwaitUnsafeOnCompleted<TaskAwaiter<ITaskRunnerCommandResult>, \u003413725445140.\u003136663856775>(ref awaiter, (\u003413725445140.\u003136663856775&) this);
              return;
            }
          }
          else
          {
            // ISSUE: reference to a compiler-generated field
            awaiter = ((\u003413725445140.\u003136663856775) this).\u003353143194279;
            // ISSUE: reference to a compiler-generated field
            ((\u003413725445140.\u003136663856775) this).\u003353143194279 = new TaskAwaiter<ITaskRunnerCommandResult>();
            ((\u003008836054940.\u003719795519998) this).\u003420683870372 = num2 = -1;
          }
          ITaskRunnerCommandResult result2 = awaiter.GetResult();
          string str1 = \u003413725445140.\u003979279347047(result2.StandardOutput);
          if (result2.ExitCode != 0 || !string.IsNullOrEmpty(str1))
          {
            if (result2.ExitCode != 0 && !string.IsNullOrEmpty(result2.StandardError))
            {
              // ISSUE: reference to a compiler-generated field
              // ISSUE: reference to a compiler-generated field
              // ISSUE: reference to a compiler-generated field
              ((\u003413725445140.\u003136663856775) this).\u003493311764766.CommandStatus.Errors.Add(string.Format((IFormatProvider) CultureInfo.InvariantCulture, "{0} {1}\r\n{2}", (object) ((\u003413725445140.\u003136663856775) this).\u003744013623364, (object) ((\u003413725445140.\u003136663856775) this).\u003601730347724, (object) result2.StandardError));
            }
            else if (result2.ExitCode != 0 && !string.IsNullOrEmpty(result2.StandardOutput))
            {
              // ISSUE: reference to a compiler-generated field
              // ISSUE: reference to a compiler-generated field
              // ISSUE: reference to a compiler-generated field
              ((\u003413725445140.\u003136663856775) this).\u003493311764766.CommandStatus.Errors.Add(string.Format((IFormatProvider) CultureInfo.InvariantCulture, "{0} {1}\r\n{2}", (object) ((\u003413725445140.\u003136663856775) this).\u003744013623364, (object) ((\u003413725445140.\u003136663856775) this).\u003601730347724, (object) result2.StandardOutput));
            }
            else if (result2.ExitCode == 0 && !string.IsNullOrEmpty(str1))
            {
              // ISSUE: reference to a compiler-generated field
              // ISSUE: reference to a compiler-generated field
              // ISSUE: reference to a compiler-generated field
              ((\u003413725445140.\u003136663856775) this).\u003493311764766.CommandStatus.Errors.Add(string.Format((IFormatProvider) CultureInfo.InvariantCulture, "{0} {1}\r\n{2}", (object) ((\u003413725445140.\u003136663856775) this).\u003744013623364, (object) ((\u003413725445140.\u003136663856775) this).\u003601730347724, (object) str1));
            }
            // ISSUE: reference to a compiler-generated field
            result1 = (IEnumerable<\u003969070247281>) ((\u003413725445140.\u003136663856775) this).\u003365400248029;
          }
          else
          {
            // ISSUE: reference to a compiler-generated field
            ((\u003413725445140.\u003136663856775) this).\u003365400248029 = \u003413725445140.\u003640458481101(result2.StandardOutput);
            // ISSUE: reference to a compiler-generated field
            result1 = (IEnumerable<\u003969070247281>) ((\u003413725445140.\u003136663856775) this).\u003365400248029;
          }
        }
        catch (Exception ex)
        {
          ((\u003008836054940.\u003719795519998) this).\u003420683870372 = -2;
          // ISSUE: reference to a compiler-generated field
          ((\u003413725445140.\u003136663856775) this).\u003139165158862.SetException(ex);
          return;
        }
        ((\u003008836054940.\u003719795519998) this).\u003420683870372 = -2;
        // ISSUE: reference to a compiler-generated field
        ((\u003413725445140.\u003136663856775) this).\u003139165158862.SetResult(result1);
      }
    }

    private enum \u003719795519998
    {
      FileInfo,
      LineColumnInfo,
      SummaryInfo,
      NoMatch,
    }
  }
}
