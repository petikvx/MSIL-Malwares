// Decompiled with JetBrains decompiler
// Type: MiniGames_Team9.FormMenu
// Assembly: IdentityRefere, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 9F5D51E6-71BD-43F4-AA35-8F19B20FF789
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.07\UDS-Trojan.Win32.GenericML.xnet-3cda0e34cd6f8adaabeeeb6e8bd08d80ba8d758bb3218c8058cd88353d253b61.exe

using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Drawing;
using System.Windows.Forms;
using System.Windows.Forms.Layout;

namespace MiniGames_Team9
{
  public class FormMenu : Form
  {
    private List<PictureBox> buttonList = new List<PictureBox>();
    private LoadData data = new LoadData();
    private Xetang frmGameplay;
    private LoadingGame gameLoading;
    public int select = 0;
    private IContainer components = (IContainer) null;

    public FormMenu()
    {
      this.InitializeComponent();
      this.DrawLogin();
      this.frmGameplay = new Xetang(this);
      this.gameLoading = new LoadingGame(this.frmGameplay);
      this.frmGameplay.Hide();
    }

    private void DrawLogin()
    {
      this.InitButtons();
      for (int index = 0; index < 4; ++index)
        this.Controls.Add((Control) this.buttonList[index]);
    }

    private void InitButtons()
    {
      PictureBox pictureBox1 = new PictureBox();
      pictureBox1.Height = 0;
      pictureBox1.Location = new Point(111, 30);
      PictureBox pictureBox2 = pictureBox1;
      for (int index = 0; index < 6; ++index)
      {
        PictureBox pictureBox3 = new PictureBox();
        pictureBox3.SizeMode = PictureBoxSizeMode.AutoSize;
        pictureBox3.BackColor = Color.Transparent;
        Point location = pictureBox2.Location;
        int x = location.X;
        location = pictureBox2.Location;
        int y = location.Y + pictureBox2.Height + 25;
        pictureBox3.Location = new Point(x, y);
        pictureBox3.Tag = (object) index.ToString();
        PictureBox pictureBox4 = pictureBox3;
        pictureBox2 = pictureBox4;
        pictureBox4.Click += new EventHandler(this.ptb_Click);
        pictureBox4.MouseHover += new EventHandler(this.ptb_MouseHover);
        pictureBox4.MouseLeave += new EventHandler(this.ptb_MouseLeave);
        this.buttonList.Add(pictureBox4);
      }
      this.GetImage();
    }

    private void GetImage()
    {
    }

    private void ptb_MouseLeave(object sender, EventArgs e) => (sender as PictureBox).BackColor = Color.Transparent;

    private void ptb_MouseHover(object sender, EventArgs e) => (sender as PictureBox).BackColor = Color.LightGreen;

    private void ptb_Click(object sender, EventArgs e)
    {
      Sound.ClickSound();
      PictureBox pictureBox = sender as PictureBox;
      if (object.Equals(pictureBox.Tag, (object) "0"))
      {
        this.Hide();
        this.frmGameplay.Show();
        this.gameLoading.InitEvents();
      }
      else if (object.Equals(pictureBox.Tag, (object) "1"))
        this.ShowFormHighscore();
      else if (object.Equals(pictureBox.Tag, (object) "2"))
        this.ShowFormAbout();
      else if (object.Equals(pictureBox.Tag, (object) "3"))
      {
        if (MessageBox.Show("Bạn muốn thoát chứ ?", "Thông báo", MessageBoxButtons.OKCancel, MessageBoxIcon.Question) != DialogResult.OK)
          return;
        Application.Exit();
      }
      else if (object.Equals(pictureBox.Tag, (object) "4"))
      {
        this.Hide();
        this.frmGameplay.Show();
        this.frmGameplay.GameStart();
      }
      else
      {
        if (!object.Equals(pictureBox.Tag, (object) "5"))
          return;
        this.ShowFormLogin();
      }
    }

    private void ShowFormLogin()
    {
      foreach (Control control in (ArrangedElementCollection) this.Controls)
      {
        if (control is PictureBox && object.Equals(control.Tag, (object) "highscore"))
          this.Controls.Remove(control);
      }
      for (int index = 0; index < 5; ++index)
        this.buttonList[index].Visible = true;
      this.Controls.Remove((Control) this.buttonList[4]);
      this.Controls.Remove((Control) this.buttonList[5]);
      this.frmGameplay.Hide();
      this.Show();
    }

    private void ShowFormAbout()
    {
      PictureBox pictureBox1 = new PictureBox();
      pictureBox1.SizeMode = PictureBoxSizeMode.AutoSize;
      pictureBox1.Tag = (object) "about";
      PictureBox pictureBox2 = pictureBox1;
      this.Controls.Add((Control) pictureBox2);
      pictureBox2.BringToFront();
      PictureBox pictureBox3 = new PictureBox();
      pictureBox3.SizeMode = PictureBoxSizeMode.AutoSize;
      pictureBox3.BackColor = Color.Transparent;
      pictureBox3.Location = new Point(pictureBox2.Width - 65, 5);
      pictureBox3.Tag = (object) "home";
      PictureBox pictureBox4 = pictureBox3;
      pictureBox4.Click += new EventHandler(this.picHome_Click);
      pictureBox4.MouseHover += new EventHandler(this.btnHome_MouseHover);
      pictureBox4.MouseLeave += new EventHandler(this.btnHome_MouseLeave);
      pictureBox2.Controls.Add((Control) pictureBox4);
    }

    private void btnHome_MouseLeave(object sender, EventArgs e) => (sender as PictureBox).BackColor = Color.Red;

    private void btnHome_MouseHover(object sender, EventArgs e) => (sender as PictureBox).BackColor = Color.Transparent;

    private void picHome_Click(object sender, EventArgs e)
    {
      Sound.ClickSound();
      foreach (Control control in (ArrangedElementCollection) this.Controls)
      {
        if (control is PictureBox && (object.Equals(control.Tag, (object) "about") || object.Equals(control.Tag, (object) "home")))
        {
          control.Dispose();
          this.Controls.Remove(control);
        }
      }
    }

    internal void UpdateScore(int score, double clock)
    {
    }

    private void ShowFormHighscore()
    {
      PictureBox pictureBox1 = new PictureBox();
      pictureBox1.SizeMode = PictureBoxSizeMode.AutoSize;
      pictureBox1.Tag = (object) "highscore";
      PictureBox pictureBox2 = pictureBox1;
      this.Controls.Add((Control) pictureBox2);
      List<Label> labelList = new List<Label>();
      for (int index = 0; index < 4; ++index)
        this.buttonList[index].Visible = false;
      for (int index = 0; index < 4; ++index)
      {
        Label label1 = new Label();
        label1.BackColor = Color.Transparent;
        label1.Location = new Point(this.buttonList[index].Location.X - 20, this.buttonList[index].Location.Y);
        label1.Font = new Font("Segoe UI", 17.5f, FontStyle.Bold);
        label1.AutoSize = true;
        label1.ForeColor = Color.Yellow;
        label1.TextAlign = ContentAlignment.MiddleCenter;
        Label label2 = label1;
        labelList.Add(label2);
      }
      Label label3 = labelList[0];
      string[] strArray1 = new string[5]
      {
        "1st. ",
        null,
        null,
        null,
        null
      };
      int score = this.data.scores[3];
      strArray1[1] = score.ToString();
      strArray1[2] = ": ";
      strArray1[3] = Math.Round(this.data.times[3], 2).ToString();
      strArray1[4] = "s";
      string str1 = string.Concat(strArray1);
      label3.Text = str1;
      Label label4 = labelList[1];
      string[] strArray2 = new string[5]
      {
        "2nd. ",
        null,
        null,
        null,
        null
      };
      score = this.data.scores[2];
      strArray2[1] = score.ToString();
      strArray2[2] = ": ";
      strArray2[3] = Math.Round(this.data.times[2], 2).ToString();
      strArray2[4] = "s";
      string str2 = string.Concat(strArray2);
      label4.Text = str2;
      Label label5 = labelList[2];
      string[] strArray3 = new string[5]
      {
        "3rd. ",
        null,
        null,
        null,
        null
      };
      score = this.data.scores[1];
      strArray3[1] = score.ToString();
      strArray3[2] = ": ";
      strArray3[3] = Math.Round(this.data.times[1], 2).ToString();
      strArray3[4] = "s";
      string str3 = string.Concat(strArray3);
      label5.Text = str3;
      Label label6 = labelList[3];
      string[] strArray4 = new string[5]
      {
        "4th. ",
        null,
        null,
        null,
        null
      };
      score = this.data.scores[0];
      strArray4[1] = score.ToString();
      strArray4[2] = ": ";
      strArray4[3] = Math.Round(this.data.times[0], 2).ToString();
      strArray4[4] = "s";
      string str4 = string.Concat(strArray4);
      label6.Text = str4;
      this.buttonList[5].Location = new Point(this.buttonList[0].Location.X, this.buttonList[4].Location.Y);
      foreach (Label label7 in labelList)
        pictureBox2.Controls.Add((Control) label7);
      this.buttonList[3].Visible = false;
      pictureBox2.Controls.Add((Control) this.buttonList[5]);
    }

    public void ShowFormEnd()
    {
      PictureBox button1 = this.buttonList[4];
      Point location1 = this.buttonList[0].Location;
      int x1 = location1.X;
      location1 = this.buttonList[0].Location;
      int y1 = location1.Y;
      Point point1 = new Point(x1, y1);
      button1.Location = point1;
      PictureBox button2 = this.buttonList[5];
      Point location2 = this.buttonList[1].Location;
      int x2 = location2.X;
      location2 = this.buttonList[1].Location;
      int y2 = location2.Y;
      Point point2 = new Point(x2, y2);
      button2.Location = point2;
      for (int index = 0; index < 3; ++index)
        this.buttonList[index].Visible = false;
      this.Controls.Add((Control) this.buttonList[4]);
      this.Controls.Add((Control) this.buttonList[5]);
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.SuspendLayout();
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(366, 212);
      this.Name = nameof (FormMenu);
      this.Text = nameof (FormMenu);
      this.ResumeLayout(false);
    }
  }
}
