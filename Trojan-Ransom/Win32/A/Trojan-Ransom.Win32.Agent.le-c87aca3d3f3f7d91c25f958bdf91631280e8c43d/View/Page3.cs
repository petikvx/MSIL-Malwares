// Decompiled with JetBrains decompiler
// Type: setup.View.Page3
// Assembly: setup, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 6FA179CD-C6DD-49E1-8167-579BB94FEB58
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00060-msil\Trojan-Ransom.Win32.Agent.le-c87aca3d3f3f7d91c25f958bdf91631280e8c43d.exe

using setup.Properties;
using Smart.Windows.Mvc;
using System;
using System.ComponentModel;
using System.Drawing;
using System.Windows.Forms;

namespace setup.View
{
  [Smart.Windows.Mvc.View(Views.page3)]
  public class Page3 : AppViewBase
  {
    private IContainer components;
    private PictureBox picHeader;
    private Label label2;
    private Label label1;
    private Button btnChange;
    private PictureBox picIco;
    private Label label3;
    private Label label4;

    public Page3() => this.InitializeComponent();

    public virtual void OnViewOpen(ViewForwardEventArgs args)
    {
      this.picHeader.Image = Image.FromFile(Settings.Default.ih_dir);
      if (Settings.Default.instalpass == "")
        Settings.Default.instalpass = Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\" + Settings.Default.fn;
      this.label1.BackColor = this.label2.BackColor = Color.Transparent;
      this.label1.Parent = this.label2.Parent = (Control) this.picHeader;
      this.label1.ForeColor = this.label2.ForeColor = ColorTranslator.FromHtml(Settings.Default.f2);
      this.label1.Text = "インストール先フォルダ";
      this.label2.Text = "このフォルダにインストールするには[次へ]をクリックします。別のフォルダにインストールするには[変更]をクリックします。";
      this.label3.Text = Settings.Default.fn + " のインストール先:";
      this.label4.Text = Settings.Default.instalpass;
      this.FunctionCotrol.UpdateFunctionKeys(new FunctionKey[3]
      {
        new FunctionKey(Keys.B, "戻る"),
        new FunctionKey(Keys.N, "次へ"),
        new FunctionKey(Keys.C, "キャンセル")
      });
    }

    public virtual void OnViewClose()
    {
      this.picHeader.Image.Dispose();
      this.picHeader.Image = (Image) null;
    }

    private void btnChange_Click(object sender, EventArgs e)
    {
      FolderBrowserDialog folderBrowserDialog = new FolderBrowserDialog();
      folderBrowserDialog.Description = "インストールディレクトリを選択します";
      folderBrowserDialog.RootFolder = Environment.SpecialFolder.Desktop;
      if (folderBrowserDialog.ShowDialog((IWin32Window) this) != DialogResult.OK)
        return;
      this.label4.Text = folderBrowserDialog.SelectedPath;
      Settings.Default.instalpass = folderBrowserDialog.SelectedPath;
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.picHeader = new PictureBox();
      this.label2 = new Label();
      this.label1 = new Label();
      this.btnChange = new Button();
      this.picIco = new PictureBox();
      this.label3 = new Label();
      this.label4 = new Label();
      ((ISupportInitialize) this.picHeader).BeginInit();
      ((ISupportInitialize) this.picIco).BeginInit();
      ((Control) this).SuspendLayout();
      this.picHeader.Dock = DockStyle.Top;
      this.picHeader.Location = new Point(0, 0);
      this.picHeader.Name = "picHeader";
      this.picHeader.Size = new Size(500, 70);
      this.picHeader.TabIndex = 1;
      this.picHeader.TabStop = false;
      this.label2.Location = new Point(30, 33);
      this.label2.Name = "label2";
      this.label2.Size = new Size(300, 27);
      this.label2.TabIndex = 8;
      this.label1.Font = new Font("MS UI Gothic", 9f, FontStyle.Bold, GraphicsUnit.Point, (byte) 128);
      this.label1.Location = new Point(15, 16);
      this.label1.Name = "label1";
      this.label1.Size = new Size(300, 15);
      this.label1.TabIndex = 7;
      this.btnChange.Location = new Point(400, 90);
      this.btnChange.Name = "btnChange";
      this.btnChange.Size = new Size(75, 23);
      this.btnChange.TabIndex = 9;
      this.btnChange.Text = "変更";
      this.btnChange.UseVisualStyleBackColor = true;
      this.btnChange.Click += new EventHandler(this.btnChange_Click);
      this.picIco.Image = (Image) Resources.install;
      this.picIco.Location = new Point(10, 80);
      this.picIco.Name = "picIco";
      this.picIco.Size = new Size(32, 33);
      this.picIco.TabIndex = 10;
      this.picIco.TabStop = false;
      this.label3.Location = new Point(50, 90);
      this.label3.Name = "label3";
      this.label3.Size = new Size(340, 23);
      this.label3.TabIndex = 11;
      this.label4.Location = new Point(50, 120);
      this.label4.Name = "label4";
      this.label4.Size = new Size(340, 50);
      this.label4.TabIndex = 12;
      ((ContainerControl) this).AutoScaleDimensions = new SizeF(6f, 12f);
      ((ContainerControl) this).AutoScaleMode = AutoScaleMode.Font;
      ((Control) this).Controls.Add((Control) this.label4);
      ((Control) this).Controls.Add((Control) this.label3);
      ((Control) this).Controls.Add((Control) this.picIco);
      ((Control) this).Controls.Add((Control) this.btnChange);
      ((Control) this).Controls.Add((Control) this.label2);
      ((Control) this).Controls.Add((Control) this.label1);
      ((Control) this).Controls.Add((Control) this.picHeader);
      ((Control) this).Name = nameof (Page3);
      ((Control) this).Size = new Size(500, 300);
      ((ISupportInitialize) this.picHeader).EndInit();
      ((ISupportInitialize) this.picIco).EndInit();
      ((Control) this).ResumeLayout(false);
    }
  }
}
