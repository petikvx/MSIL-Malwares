// Decompiled with JetBrains decompiler
// Type: GUI_Class.Die
// Assembly: sho, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 51C27635-B89A-4AD3-9129-401C0F3D3D91
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.02-msil\HEUR-Trojan.MSIL.Crypt.gen-9210eb8c921ed0764cdbb0be707d4599531a0076b4984ee57d1076c89c966aab.exe

using System;
using System.IO;

namespace GUI_Class
{
  public class Die
  {
    private const int MIN_FACES = 4;
    private const int DEFAULT_FACE_VALUE = 1;
    private const int SIX_SIDED = 6;
    private static string defaultPath = Environment.CurrentDirectory;
    private static string rollFileName = Die.defaultPath + "\\testrolls.txt";
    private static StreamReader rollFile = new StreamReader(Die.rollFileName);
    private static bool DEBUG = false;
    private int numOfFaces;
    private int faceValue;
    private int initialFaceValue;
    private static Random random = new Random((int) DateTime.Now.Ticks);

    public int NumOfFaces => this.numOfFaces;

    public int FaceValue => this.faceValue;

    public Die()
    {
      this.numOfFaces = 6;
      this.faceValue = 1;
    }

    public Die(int faces)
    {
      this.numOfFaces = faces >= 4 ? faces : 6;
      this.faceValue = this.Roll();
      this.initialFaceValue = this.FaceValue;
    }

    public int Roll()
    {
      this.faceValue = Die.DEBUG ? int.Parse(Die.rollFile.ReadLine()) : Die.random.Next(this.NumOfFaces) + 1;
      return this.FaceValue;
    }

    public void Reset() => this.faceValue = this.initialFaceValue;

    public override string ToString() => string.Format("{0}-Sided die showing {1}", (object) this.numOfFaces, (object) this.faceValue);
  }
}
