// Decompiled with JetBrains decompiler
// Type: WindowsFormsControlLibrary.UserControlTextBox
// Assembly: IClosableToIDisposableAdap, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 2A617983-3D9C-4057-8AD9-58124F2A75C3
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.07\UDS-Trojan.Win32.GenericML.xnet-4c93747030e17a8581b15cce2fd3aee28eb12dab9a8ec33839d083cda679487d.exe

using System;
using System.ComponentModel;
using System.Drawing;
using System.Windows.Forms;

namespace WindowsFormsControlLibrary
{
  public class UserControlTextBox : UserControl
  {
    private IContainer components = (IContainer) null;
    private TextBox textBox;
    private CheckBox checkBox;

    public UserControlTextBox() => this.InitializeComponent();

    private void CheckBoxIsNotNull_CheckedChanged(object sender, EventArgs e) => this.textBox.Enabled = !this.checkBox.Checked;

    public double? Value
    {
      get
      {
        double? nullable;
        if (this.checkBox.Checked)
        {
          nullable = new double?();
        }
        else
        {
          if (string.IsNullOrEmpty(this.textBox.Text))
            throw new ArgumentNullException();
          double result;
          if (!double.TryParse(this.textBox.Text, out result))
            throw new ArgumentException();
          nullable = new double?(result);
        }
        return nullable;
      }
      set
      {
        if (value.HasValue)
          this.textBox.Text = value.Value.ToString();
        this.checkBox.Checked = !value.HasValue;
      }
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.textBox = new TextBox();
      this.checkBox = new CheckBox();
      this.SuspendLayout();
      this.textBox.Location = new Point(17, 14);
      this.textBox.Name = "textBox";
      this.textBox.Size = new Size(183, 22);
      this.textBox.TabIndex = 0;
      this.checkBox.AutoSize = true;
      this.checkBox.Location = new Point(227, 16);
      this.checkBox.Name = "checkBox";
      this.checkBox.Size = new Size(90, 21);
      this.checkBox.TabIndex = 1;
      this.checkBox.Text = "checkBox";
      this.checkBox.UseVisualStyleBackColor = true;
      this.AutoScaleDimensions = new SizeF(8f, 16f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.Controls.Add((Control) this.checkBox);
      this.Controls.Add((Control) this.textBox);
      this.Name = nameof (UserControlTextBox);
      this.Size = new Size(333, 53);
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
