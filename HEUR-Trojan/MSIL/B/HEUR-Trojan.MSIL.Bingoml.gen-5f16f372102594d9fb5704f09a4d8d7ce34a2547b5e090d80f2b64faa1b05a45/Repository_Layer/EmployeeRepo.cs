// Decompiled with JetBrains decompiler
// Type: HospitalMgmtSys.Repository_Layer.EmployeeRepo
// Assembly: HospitalMgmtSys, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: C7566877-C1AA-4E10-A05D-DB3E9254F927
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Bingoml.gen-5f16f372102594d9fb5704f09a4d8d7ce34a2547b5e090d80f2b64faa1b05a45.exe

using HospitalMgmtSys.Data_Layer;
using System.Data;

namespace HospitalMgmtSys.Repository_Layer
{
  public class EmployeeRepo
  {
    public int EmpID { get; set; }

    public string Designation { get; set; }

    public int Salary { get; set; }

    public int CreateEmployee(string designation, int salary, int personid) => DataAccess.ExecuteQuery("insert into employee values('" + designation + "', '" + (object) salary + "', '" + (object) personid + "' )");

    public int UpdateEmployee(int id, string designation, int salary) => DataAccess.ExecuteQuery("update employee\n                            set designation = '" + designation + "',\n                            salary = '" + (object) salary + "'\n                            where empid = '" + (object) id + "';");

    public int DeleteEmployee(int id) => DataAccess.ExecuteQuery(string.Format("DELETE FROM employee WHERE empid = '" + (object) id + "'; "));

    public DataTable GetLastEmployee() => DataAccess.GetDataSet("SELECT TOP 1 * FROM EMPLOYEE ORDER BY personid DESC").Tables[0];
  }
}
