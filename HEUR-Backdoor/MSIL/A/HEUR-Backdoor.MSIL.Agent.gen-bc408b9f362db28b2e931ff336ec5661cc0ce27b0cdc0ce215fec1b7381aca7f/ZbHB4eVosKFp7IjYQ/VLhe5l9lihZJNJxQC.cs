// Decompiled with JetBrains decompiler
// Type: ZbHB4eVosKFp7IjYQ.VLhe5l9lihZJNJxQC
// Assembly: bouNMGxVgGi4SRgWO, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60
// MVID: 3F6A2AF1-3CCB-4F01-AA36-FA31C2E4CFE8
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Backdoor.MSIL.Agent.gen-bc408b9f362db28b2e931ff336ec5661cc0ce27b0cdc0ce215fec1b7381aca7f.exe

using \u0033eVYd5LIQhZ7rzGZ2;
using fcxTd0CgJgB8stQvj;
using GUxwlAGXtz8Biqdzq;
using jlhFNVXvwEp5FRUh5;
using kSNfPMYNkJabCW8YS;
using Microsoft.TemplateEngine.Abstractions;
using Microsoft.TemplateEngine.Core.Contracts;
using Newtonsoft.Json.Linq;
using PgLEPpSpDk54KWT6E;
using System;
using System.Collections.Generic;
using zjOMGQo4U7RNSpo2h;

namespace ZbHB4eVosKFp7IjYQ
{
  public class VLhe5l9lihZJNJxQC : IMacro, IIdentifiedComponent, IDeferredMacro
  {
    public Guid BgpXEvOA6I7fF5nRI => new Guid("F2B423D7-3C23-4489-816A-41D8D2A98596");

    public string \u0032ipTBn4MkYbIUE73L => "now";

    public void WKK3hblq9l9gFaIx1(
      IEngineEnvironmentSettings fqM089lVnjnodU8dE,
      IVariableCollection x9gC3s1s1ymQt09RT,
      IMacroConfig MUYGMKgRkAeXzAfwD,
      IParameterSet P92124f2GIQl5q5DM,
      eudKo284TuJqIEahM g7ZULT1CTLuRbAWkk)
    {
      if (!(MUYGMKgRkAeXzAfwD is \u0036AtWg7MKCknxfAect atWg7MkCknxfAect))
        throw new InvalidCastException("Couldn't cast the rawConfig as VLhe5l9lihZJNJxQCConfig");
      string str = (atWg7MkCknxfAect.ICCvxGKJiSXHgmhda ? DateTime.UtcNow : DateTime.Now).ToString(atWg7MkCknxfAect.S5OGNOicqREBkqQ2E);
      ITemplateParameter itemplateParameter;
      ckgfOYwQVcmI3lHXN parameter;
      if (P92124f2GIQl5q5DM.TryGetParameterDefinition(atWg7MkCknxfAect.s7nBWVcCJZi9KWuiO, ref itemplateParameter))
      {
        parameter = (ckgfOYwQVcmI3lHXN) itemplateParameter;
        parameter.Cg57rESMJLQIVeHLw = true;
        if (string.IsNullOrEmpty(parameter.\u0038DBEv3DWcN5nNg1o1))
          parameter.\u0038DBEv3DWcN5nNg1o1 = atWg7MkCknxfAect.e057aw4sPjYzj9Pr5;
      }
      else
        parameter = new ckgfOYwQVcmI3lHXN()
        {
          Cg57rESMJLQIVeHLw = true,
          RWvAX7XIWjB7LsE1n = atWg7MkCknxfAect.s7nBWVcCJZi9KWuiO,
          \u0038DBEv3DWcN5nNg1o1 = atWg7MkCknxfAect.e057aw4sPjYzj9Pr5
        };
      ((IDictionary<string, object>) x9gC3s1s1ymQt09RT)[atWg7MkCknxfAect.s7nBWVcCJZi9KWuiO] = (object) str;
      g7ZULT1CTLuRbAWkk((ITemplateParameter) parameter, str);
    }

    public IMacroConfig fHZJXugHQmNCfBfQG(
      IEngineEnvironmentSettings IrQ9Xq6boyBasyBHy,
      IMacroConfig VFuP2n5b9j4oFv20Q)
    {
      if (!(VFuP2n5b9j4oFv20Q is KZUSKKOdswxWjB6He kzuskkOdswxWjB6He))
        throw new InvalidCastException("Couldn't cast the rawConfig as a GeneratedSymbolDeferredMacroConfig");
      JToken jtoken;
      if (!kzuskkOdswxWjB6He.dYZjsKaakeS43shkR.TryGetValue("format", out jtoken))
        throw new ArgumentNullException("format");
      string format = ((object) jtoken).ToString();
      JToken jOG1VLPNAJubrjLrT;
      bool utc = kzuskkOdswxWjB6He.dYZjsKaakeS43shkR.TryGetValue("utc", out jOG1VLPNAJubrjLrT) && jOG1VLPNAJubrjLrT.ToJy8q7qvluuajW9v();
      return (IMacroConfig) new \u0036AtWg7MKCknxfAect(kzuskkOdswxWjB6He.\u0036gh4E6uhQGL10SKFe, kzuskkOdswxWjB6He.xbfbgFpF57ZJB3TfG, format, utc);
    }
  }
}
