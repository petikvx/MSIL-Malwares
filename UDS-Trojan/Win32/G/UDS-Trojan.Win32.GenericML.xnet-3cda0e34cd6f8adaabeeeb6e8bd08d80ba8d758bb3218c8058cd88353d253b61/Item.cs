// Decompiled with JetBrains decompiler
// Type: MiniGames_Team9.Item
// Assembly: IdentityRefere, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 9F5D51E6-71BD-43F4-AA35-8F19B20FF789
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.07\UDS-Trojan.Win32.GenericML.xnet-3cda0e34cd6f8adaabeeeb6e8bd08d80ba8d758bb3218c8058cd88353d253b61.exe

using System;
using System.Drawing;
using System.Windows.Forms;

namespace MiniGames_Team9
{
  internal abstract class Item
  {
    protected PictureBox item;
    protected Timer time = new Timer();
    protected int timeToDes = 0;
    private PictureBox map;
    private Random rd = new Random();

    public Item()
    {
    }

    public Item(PictureBox map)
    {
      this.item = new PictureBox()
      {
        SizeMode = PictureBoxSizeMode.AutoSize
      };
      this.item.Top = this.item.Left = 0;
      this.map = map;
    }

    public virtual void CreateItem(PictureBox Map)
    {
      int x = this.rd.Next(1, 650);
      int y = this.rd.Next(33, 550);
      this.item.Parent = (Control) this.map;
      this.item.BackColor = Color.Transparent;
      this.item.Location = new Point(x, y);
      Map.Controls.Add((Control) this.item);
      this.item.BringToFront();
      this.time.Interval = 1000;
      this.time.Tick += new EventHandler(this.tm_Tick);
      this.time.Start();
    }

    protected void tm_Tick(object sender, EventArgs e)
    {
      if (this.timeToDes <= 0)
        this.Destroy();
      else
        --this.timeToDes;
    }

    public void Destroy()
    {
      this.time.Stop();
      this.timeToDes = 0;
      this.item.Dispose();
      this.map.Controls.Remove((Control) this.item);
    }
  }
}
