// Decompiled with JetBrains decompiler
// Type: Coache.Business.DetalleEntidadManager
// Assembly: IsCopyConstruc, Version=5.6.2.1, Culture=neutral, PublicKeyToken=null
// MVID: 1DA50973-FF9A-4563-8B8F-74E2573677DF
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.02-msil\HEUR-Trojan-Ransom.MSIL.Blocker.gen-136935297fa08738f6957068951067c699c91b2902f3ea14da650289cabfd29d.exe

using Coache.Common;
using Data;
using System.Configuration;
using System.Data.SqlClient;

namespace Coache.Business
{
  public class DetalleEntidadManager
  {
    public int AddDetalleEntidad(User user)
    {
      SqlTransaction transaction = SessionData.Contains("Transaction") ? SessionData.Get<SqlTransaction>("Transaction") : (SqlTransaction) null;
      return transaction != null ? SqlDataAccess.ExecuteScalarQuery<int>("GRUPO_N.InsertDetalleEntidad", SqlDataAccessArgs.CreateWith("@Telefono", (object) user.DetalleEntidad.Telefono).And("@Email", (object) user.DetalleEntidad.Email).And("@ID_Usuario", (object) user.UserID).And("@Direccion", (object) user.DetalleEntidad.Direccion).And("@ID_Ciudad", (object) user.DetalleEntidad.Ciudad.ID).And("@CP", (object) user.DetalleEntidad.CP).Arguments, transaction) : SqlDataAccess.ExecuteScalarQuery<int>(ConfigurationManager.ConnectionStrings["GrouponConnectionString"].ToString(), "GRUPO_N.InsertDetalleEntidad", SqlDataAccessArgs.CreateWith("@Telefono", (object) user.DetalleEntidad.Telefono).And("@Email", (object) user.DetalleEntidad.Email).And("@ID_Usuario", (object) user.UserID).And("@Direccion", (object) user.DetalleEntidad.Direccion).And("@ID_Ciudad", (object) user.DetalleEntidad.Ciudad.ID).And("@CP", (object) user.DetalleEntidad.CP).Arguments);
    }

    internal void UpdateDetalleEntidad(User user) => SqlDataAccess.ExecuteNonQuery(ConfigurationManager.ConnectionStrings["GrouponConnectionString"].ToString(), "GRUPO_N.UpdateDetalleEntidad", SqlDataAccessArgs.CreateWith("@Telefono", (object) user.DetalleEntidad.Telefono).And("@Email", (object) user.DetalleEntidad.Email).And("@ID_Usuario", (object) user.UserID).And("@Direccion", (object) user.DetalleEntidad.Direccion).And("@ID_Ciudad", (object) user.DetalleEntidad.Ciudad.ID).And("@CP", (object) user.DetalleEntidad.CP).Arguments);
  }
}
