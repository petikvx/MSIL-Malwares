// Decompiled with JetBrains decompiler
// Type: c.Services.FacadeThreadService
// Assembly: c, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: CCB3E154-F36D-403E-8019-8861E9AEB8FC
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Vobfus.gen-191db013c67081442ef5e75edd00c2572f6ec9d7f629ddac9bba8942722c061d.exe

using GLuaR.Database;
using GLuaR.Importers;
using GLuaR.Stubs;
using GLuaR.Watchers;
using System.Collections.Generic;
using System.IO;
using System.Runtime.CompilerServices;

namespace c.Services
{
  public static class FacadeThreadService
  {
    private static IEnumerable<UtilsDefinitionWatcher> _StateField;
    public static readonly ConnectionFieldStub[] m_InfoField;

    [SpecialName]
    [MethodImpl(MethodImplOptions.NoInlining)]
    public static IEnumerable<UtilsDefinitionWatcher> DisableMapper() => FacadeThreadService._StateField ?? (FacadeThreadService._StateField = (IEnumerable<UtilsDefinitionWatcher>) FacadeThreadService.MapMapper());

    [MethodImpl(MethodImplOptions.NoInlining)]
    private static List<UtilsDefinitionWatcher> MapMapper()
    {
      List<UtilsDefinitionWatcher> definitionWatcherList = new List<UtilsDefinitionWatcher>();
      foreach (string file in Directory.GetFiles("Templates\\Files"))
        definitionWatcherList.Add(UtilsDefinitionWatcher.Load((Stream) new FileStream(file, FileMode.Open)));
      return definitionWatcherList;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    static FacadeThreadService()
    {
      ImporterMapper.InitAccount();
      FacadeThreadService.m_InfoField = new ConnectionFieldStub[1]
      {
        (ConnectionFieldStub) new MockRuleEntry()
      };
    }

    internal static bool ResolveRegistry() => true;

    internal static bool DestroyRegistry() => false;
  }
}
