// Decompiled with JetBrains decompiler
// Type: Oversikt.Form_Profesor
// Assembly: UCOMIEnumConnecti, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 5D827560-3619-4F41-B7F7-70598092DF43
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.05\Backdoor.MSIL.Crysan.egg-57798b73d1c044cbf668948774c77628154f6bcacd563b69df088f38b2645fd0.exe

using System;
using System.ComponentModel;
using System.Drawing;
using System.IO;
using System.Windows.Forms;

namespace Oversikt
{
  public class Form_Profesor : Form
  {
    private IContainer components = (IContainer) null;
    private ListBox lb_raniji;
    private Button bt_Odjava;
    private Button bt_save;
    private TextBox tb_naziv;
    private Button bt_delete;
    private RichTextBox rtb_tekst;

    public Form_Profesor() => this.InitializeComponent();

    private void tb_naziv_MouseDown(object sender, MouseEventArgs e) => this.tb_naziv.Text = (string) null;

    private void bt_Odjava_Click(object sender, EventArgs e)
    {
      Form_Login formLogin = new Form_Login();
      this.Hide();
      formLogin.Show();
    }

    private void bt_save_Click(object sender, EventArgs e)
    {
      bool flag = false;
      string path = "C:\\\\Student\\Datoteke\\" + this.tb_naziv.Text + ".rtf";
      if (File.Exists(path))
      {
        int num = (int) MessageBox.Show("datoteka sa tim imenom vec postoji, izaberite novi naziv");
        flag = true;
      }
      if (!flag)
      {
        this.rtb_tekst.SaveFile(path);
        int num = (int) MessageBox.Show("sacuvano");
        using (BinaryWriter binaryWriter = new BinaryWriter((Stream) File.Open("C:\\\\Student\\Lista\\lista.bin", FileMode.Append)))
          binaryWriter.Write(this.tb_naziv.Text);
      }
      this.lb_raniji.Items.Clear();
      foreach (object file in Directory.GetFiles("C:\\\\Student\\Datoteke"))
        this.lb_raniji.Items.Add(file);
    }

    private void Form_Profesor_Load(object sender, EventArgs e)
    {
      foreach (object file in Directory.GetFiles("C:\\\\Student\\Datoteke"))
        this.lb_raniji.Items.Add(file);
    }

    private void lb_raniji_SelectedIndexChanged(object sender, EventArgs e) => this.rtb_tekst.LoadFile(this.lb_raniji.Items[this.lb_raniji.SelectedIndex].ToString(), RichTextBoxStreamType.RichText);

    private void bt_delete_Click(object sender, EventArgs e)
    {
      File.Delete(this.lb_raniji.Items[this.lb_raniji.SelectedIndex].ToString());
      this.lb_raniji.Items.Clear();
      int num = (int) MessageBox.Show("obrisano");
      foreach (object file in Directory.GetFiles("C:\\\\Student\\Datoteke"))
        this.lb_raniji.Items.Add(file);
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.lb_raniji = new ListBox();
      this.bt_Odjava = new Button();
      this.bt_save = new Button();
      this.tb_naziv = new TextBox();
      this.bt_delete = new Button();
      this.rtb_tekst = new RichTextBox();
      this.SuspendLayout();
      this.lb_raniji.FormattingEnabled = true;
      this.lb_raniji.ItemHeight = 31;
      this.lb_raniji.Location = new Point(1309, 29);
      this.lb_raniji.Margin = new Padding(8, 7, 8, 7);
      this.lb_raniji.Name = "lb_raniji";
      this.lb_raniji.Size = new Size(583, 779);
      this.lb_raniji.TabIndex = 0;
      this.lb_raniji.SelectedIndexChanged += new EventHandler(this.lb_raniji_SelectedIndexChanged);
      this.bt_Odjava.Location = new Point(947, 699);
      this.bt_Odjava.Margin = new Padding(8, 7, 8, 7);
      this.bt_Odjava.Name = "bt_Odjava";
      this.bt_Odjava.Size = new Size(344, 93);
      this.bt_Odjava.TabIndex = 2;
      this.bt_Odjava.Text = "Odjava";
      this.bt_Odjava.UseVisualStyleBackColor = true;
      this.bt_Odjava.Click += new EventHandler(this.bt_Odjava_Click);
      this.bt_save.Location = new Point(947, 60);
      this.bt_save.Margin = new Padding(8, 7, 8, 7);
      this.bt_save.Name = "bt_save";
      this.bt_save.Size = new Size(344, 93);
      this.bt_save.TabIndex = 3;
      this.bt_save.Text = "Save";
      this.bt_save.UseVisualStyleBackColor = true;
      this.bt_save.Click += new EventHandler(this.bt_save_Click);
      this.tb_naziv.Location = new Point(32, 29);
      this.tb_naziv.Margin = new Padding(8, 7, 8, 7);
      this.tb_naziv.Name = "tb_naziv";
      this.tb_naziv.Size = new Size(889, 38);
      this.tb_naziv.TabIndex = 4;
      this.tb_naziv.Text = "Unesite naziv";
      this.tb_naziv.TextAlign = HorizontalAlignment.Center;
      this.tb_naziv.MouseDown += new MouseEventHandler(this.tb_naziv_MouseDown);
      this.bt_delete.Location = new Point(944, 327);
      this.bt_delete.Margin = new Padding(8, 7, 8, 7);
      this.bt_delete.Name = "bt_delete";
      this.bt_delete.Size = new Size(344, 93);
      this.bt_delete.TabIndex = 5;
      this.bt_delete.Text = "Delete";
      this.bt_delete.UseVisualStyleBackColor = true;
      this.bt_delete.Click += new EventHandler(this.bt_delete_Click);
      this.rtb_tekst.Location = new Point(32, 117);
      this.rtb_tekst.Margin = new Padding(8, 7, 8, 7);
      this.rtb_tekst.Name = "rtb_tekst";
      this.rtb_tekst.Size = new Size(889, 691);
      this.rtb_tekst.TabIndex = 1;
      this.rtb_tekst.Text = "";
      this.AutoScaleDimensions = new SizeF(16f, 31f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(1931, 861);
      this.Controls.Add((Control) this.bt_delete);
      this.Controls.Add((Control) this.tb_naziv);
      this.Controls.Add((Control) this.bt_save);
      this.Controls.Add((Control) this.bt_Odjava);
      this.Controls.Add((Control) this.rtb_tekst);
      this.Controls.Add((Control) this.lb_raniji);
      this.FormBorderStyle = FormBorderStyle.SizableToolWindow;
      this.Margin = new Padding(8, 7, 8, 7);
      this.Name = nameof (Form_Profesor);
      this.Text = nameof (Form_Profesor);
      this.Load += new EventHandler(this.Form_Profesor_Load);
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
