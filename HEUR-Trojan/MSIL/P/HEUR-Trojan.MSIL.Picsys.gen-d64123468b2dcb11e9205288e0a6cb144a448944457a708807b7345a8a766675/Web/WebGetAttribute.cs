// Decompiled with JetBrains decompiler
// Type: System.ServiceModel.Web.WebGetAttribute
// Assembly: Microsoft.Transactions.Bridge, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 51116F84-6FE2-4BD6-A908-2C88E06F45BB
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.07\HEUR-Trojan.MSIL.Picsys.gen-d64123468b2dcb11e9205288e0a6cb144a448944457a708807b7345a8a766675.exe

using System.Runtime.InteropServices;
using System.ServiceModel.Administration;
using System.ServiceModel.Channels;
using System.ServiceModel.Description;
using System.ServiceModel.Dispatcher;

namespace System.ServiceModel.Web
{
  [AttributeUsage(AttributeTargets.Method)]
  [ComVisible(false)]
  public sealed class WebGetAttribute : 
    Attribute,
    IOperationContractAttributeProvider,
    IOperationBehavior,
    IWmiInstanceProvider
  {
    private WebMessageBodyStyle bodyStyle;
    private bool isBodyStyleDefined;
    private bool isRequestMessageFormatSet;
    private bool isResponseMessageFormatSet;
    private WebMessageFormat requestMessageFormat;
    private WebMessageFormat responseMessageFormat;
    private string uriTemplate;

    public WebMessageBodyStyle BodyStyle
    {
      get => this.bodyStyle;
      set
      {
        this.bodyStyle = WebMessageBodyStyleHelper.IsDefined(value) ? value : throw DiagnosticUtility.ExceptionUtility.ThrowHelperError((Exception) new ArgumentOutOfRangeException(nameof (value)));
        this.isBodyStyleDefined = true;
      }
    }

    public bool IsBodyStyleSetExplicitly => this.isBodyStyleDefined;

    public bool IsRequestFormatSetExplicitly => this.isRequestMessageFormatSet;

    public bool IsResponseFormatSetExplicitly => this.isResponseMessageFormatSet;

    public WebMessageFormat RequestFormat
    {
      get => this.requestMessageFormat;
      set
      {
        this.requestMessageFormat = WebMessageFormatHelper.IsDefined(value) ? value : throw DiagnosticUtility.ExceptionUtility.ThrowHelperError((Exception) new ArgumentOutOfRangeException(nameof (value)));
        this.isRequestMessageFormatSet = true;
      }
    }

    public WebMessageFormat ResponseFormat
    {
      get => this.responseMessageFormat;
      set
      {
        this.responseMessageFormat = WebMessageFormatHelper.IsDefined(value) ? value : throw DiagnosticUtility.ExceptionUtility.ThrowHelperError((Exception) new ArgumentOutOfRangeException(nameof (value)));
        this.isResponseMessageFormatSet = true;
      }
    }

    public string UriTemplate
    {
      get => this.uriTemplate;
      set => this.uriTemplate = value;
    }

    void IOperationBehavior.AddBindingParameters(
      OperationDescription operationDescription,
      BindingParameterCollection bindingParameters)
    {
    }

    void IOperationBehavior.ApplyClientBehavior(
      OperationDescription operationDescription,
      ClientOperation clientOperation)
    {
    }

    void IOperationBehavior.ApplyDispatchBehavior(
      OperationDescription operationDescription,
      DispatchOperation dispatchOperation)
    {
    }

    void IOperationBehavior.Validate(OperationDescription operationDescription)
    {
    }

    void IWmiInstanceProvider.FillInstance(IWmiInstance wmiInstance)
    {
      if (wmiInstance == null)
        throw DiagnosticUtility.ExceptionUtility.ThrowHelperArgument(nameof (wmiInstance));
      wmiInstance.SetProperty("BodyStyle", (object) this.BodyStyle.ToString());
      IWmiInstance wmiInstance1 = wmiInstance;
      bool flag = this.IsBodyStyleSetExplicitly;
      string str1 = flag.ToString();
      wmiInstance1.SetProperty("IsBodyStyleSetExplicitly", (object) str1);
      IWmiInstance wmiInstance2 = wmiInstance;
      WebMessageFormat webMessageFormat = this.RequestFormat;
      string str2 = webMessageFormat.ToString();
      wmiInstance2.SetProperty("RequestFormat", (object) str2);
      IWmiInstance wmiInstance3 = wmiInstance;
      flag = this.IsRequestFormatSetExplicitly;
      string str3 = flag.ToString();
      wmiInstance3.SetProperty("IsRequestFormatSetExplicitly", (object) str3);
      IWmiInstance wmiInstance4 = wmiInstance;
      webMessageFormat = this.ResponseFormat;
      string str4 = webMessageFormat.ToString();
      wmiInstance4.SetProperty("ResponseFormat", (object) str4);
      IWmiInstance wmiInstance5 = wmiInstance;
      flag = this.IsResponseFormatSetExplicitly;
      string str5 = flag.ToString();
      wmiInstance5.SetProperty("IsResponseFormatSetExplicitly", (object) str5);
      wmiInstance.SetProperty("UriTemplate", (object) this.UriTemplate);
    }

    string IWmiInstanceProvider.GetInstanceType() => nameof (WebGetAttribute);

    internal WebMessageBodyStyle GetBodyStyleOrDefault(
      WebMessageBodyStyle defaultStyle)
    {
      return this.IsBodyStyleSetExplicitly ? this.BodyStyle : defaultStyle;
    }

    OperationContractAttribute IOperationContractAttributeProvider.GetOperationContractAttribute() => new OperationContractAttribute();
  }
}
