<Window x:Class="Cradiator.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:Converters="clr-namespace:Cradiator.Converters"
        xmlns:vm="clr-namespace:Cradiator.ViewModels"
        Title="Settings" WindowStyle="ThreeDBorderWindow" SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterOwner" AllowsTransparency="false" ShowInTaskbar="false"
        Topmost="false" Icon="../Images/Cradiator.ico" ResizeMode="CanResize" Width="500">
  <FrameworkElement.Resources>
    <Converters:SecondsToTimeConverter x:Key="TimeConverter"/>
    <BooleanToVisibilityConverter x:Key="VisibilityOfBool"/>
    <Style x:Key="HeadingLabel" TargetType="{x:Type Label}">
      <Setter Property="Control.FontSize" Value="16"/>
      <Setter Property="Control.Foreground" Value="White"/>
      <Setter Property="Control.Background">
        <Setter.Value>
          <LinearGradientBrush EndPoint="0,1">
            <GradientStop Offset="0" Color="Gray"/>
            <GradientStop Offset="1" Color="Black"/>
          </LinearGradientBrush>
        </Setter.Value>
      </Setter>
      <Setter Property="Control.FontWeight" Value="Bold"/>
      <Setter Property="Control.FontFamily" Value="Segoe, Verdana"/>
      <Setter Property="FrameworkElement.Height" Value="Auto"/>
      <Setter Property="FrameworkElement.HorizontalAlignment" Value="Stretch"/>
      <Setter Property="FrameworkElement.VerticalAlignment" Value="Center"/>
      <Setter Property="Control.Padding" Value="0,0,0,0"/>
    </Style>
    <Style x:Key="UrlTextStyle" TargetType="{x:Type TextBox}">
      <Setter Property="Control.FontFamily" Value="Tahoma"/>
      <Setter Property="Control.FontSize" Value="14"/>
    </Style>
    <Style TargetType="{x:Type Label}">
      <Setter Property="Control.Foreground" Value="Gray"/>
      <Setter Property="FrameworkElement.Margin" Value="2"/>
    </Style>
    <Style TargetType="{x:Type Button}">
      <Setter Property="FrameworkElement.Width" Value="70"/>
    </Style>
    <Style TargetType="{x:Type ListBoxItem}">
      <Setter Property="Control.Template">
        <Setter.Value>
          <ControlTemplate TargetType="{x:Type ListBoxItem}">
            <Border x:Name="Border" BorderBrush="Transparent" BorderThickness="7" Margin="5,5,5,5"
                    CornerRadius="3,3,3,3">
              <ContentPresenter HorizontalAlignment="{TemplateBinding Control.HorizontalContentAlignment}"
                                VerticalAlignment="{TemplateBinding Control.VerticalContentAlignment}"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="ListBoxItem.IsSelected" Value="true">
                <Setter TargetName="Border" Property="Border.BorderBrush" Value="#efcf7f"/>
                <Setter TargetName="Border" Property="Border.BorderThickness" Value="7"/>
                <Setter Property="UIElement.RenderTransform">
                  <Setter.Value>
                    <ScaleTransform ScaleX="1.1" ScaleY="1.1"/>
                  </Setter.Value>
                </Setter>
                <Setter Property="UIElement.RenderTransformOrigin" Value=".5,.5"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>
  </FrameworkElement.Resources>
  <Border Padding="4" BorderBrush="Black" BorderThickness="5">
    <Grid x:Name="TheGrid">
      <FrameworkElement.Resources>
        <Style TargetType="{x:Type TextBlock}">
          <Setter Property="FrameworkElement.Margin" Value="0,2,0,2"/>
          <Setter Property="FrameworkElement.Height" Value="25"/>
        </Style>
        <Style TargetType="{x:Type Label}">
          <Setter Property="FrameworkElement.Height" Value="25"/>
          <Setter Property="Control.Padding" Value="2"/>
          <Setter Property="FrameworkElement.Margin" Value="8,2,8,2"/>
        </Style>
        <Style TargetType="{x:Type CheckBox}">
          <Setter Property="FrameworkElement.Height" Value="25"/>
        </Style>
      </FrameworkElement.Resources>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
      </Grid.RowDefinitions>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Label Grid.Column="0" Grid.ColumnSpan="4" Grid.Row="0" Margin="0,0,0,10" Padding="5"
             Style="{StaticResource HeadingLabel}" Content="Cradiator Settings"/>
      <Label Grid.Column="0" Grid.Row="1" Content="URL"/>
      <TextBox Name="urlTextBox" Grid.Column="1" Grid.ColumnSpan="3" Grid.Row="1" TabIndex="0"
               Style="{StaticResource UrlTextStyle}" IsReadOnly="{Binding IsMultiView}" Text="{Binding URL}">
      </TextBox>
      <Expander Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="30" IsExpanded="false" Header="Filters">
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
          <Label Grid.Row="0" Grid.Column="0" Content="Project RegEx"/>
          <TextBox Grid.Row="0" Grid.Column="1" Style="{StaticResource UrlTextStyle}"
                   Text="{Binding ProjectNameRegEx}" IsReadOnly="{Binding IsMultiView}"/>
          <Label Grid.Row="1" Grid.Column="0" Content="Category RegEx"/>
          <TextBox Grid.Row="1" Grid.Column="1" Style="{StaticResource UrlTextStyle}" Text="{Binding CategoryRegEx}"
                   IsReadOnly="{Binding IsMultiView}"/>
          <Label Grid.Row="2" Grid.Column="0" Content="Server RegEx"/>
          <TextBox Grid.Row="2" Grid.Column="1" Style="{StaticResource UrlTextStyle}" Text="{Binding ServerNameRegEx}"
                   IsReadOnly="{Binding IsMultiView}"/>
        </Grid>
      </Expander>
      <Label Grid.Column="0" Grid.Row="3" Content="Poll Interval"/>
      <Label Grid.Column="1" Grid.ColumnSpan="3" Grid.Row="3" Foreground="CornflowerBlue" Margin="0,2,0,0"
             Content="{Binding ElementName=pollIntervalSlider, Path=Value, Converter={StaticResource TimeConverter}}"/>
      <Slider Name="pollIntervalSlider" Grid.Column="1" Grid.Row="4" Grid.ColumnSpan="3" Height="25"
              Margin="0,0,0,5" AutoToolTipPlacement="None" Minimum="15" Maximum="600" SmallChange="5"
              LargeChange="30" TabIndex="1" OverridesDefaultStyle="false" Value="{Binding PollFrequency}"/>
      <CheckBox Name="showCountdownCheckBox" Grid.Column="1" Grid.Row="5" Grid.ColumnSpan="3"
                Content="Show countdown to next refresh" IsChecked="{Binding ShowCountdown}"/>
      <CheckBox Name="playSoundsCheckBox" Grid.Column="1" Grid.Row="6" Content="Play Sounds"
                IsChecked="{Binding PlaySounds}"/>
      <Label Grid.Column="2" Grid.Row="6" Content="Broken" HorizontalAlignment="Right"/>
      <TextBox Name="brokenBuildSound" Grid.Column="3" Grid.ColumnSpan="1" Grid.Row="6"
               Style="{StaticResource UrlTextStyle}" Text="{Binding BrokenBuildSound}">
      </TextBox>
      <Label Grid.Column="2" Grid.Row="7" Content="Fixed" HorizontalAlignment="Right"/>
      <TextBox Name="fixedBuildSound" Grid.Column="3" Grid.ColumnSpan="1" Grid.Row="7"
               Style="{StaticResource UrlTextStyle}" Text="{Binding FixedBuildSound}">
      </TextBox>
      <Label Grid.Column="0" Grid.Row="8" Content=""/>
      <CheckBox Name="playSpeechCheckBox" Grid.Column="1" Grid.Row="9" Content="Play Speech"
                IsChecked="{Binding PlaySpeech}"/>
      <Label Grid.Column="2" Grid.Row="9" Content="Broken 'Project..." HorizontalAlignment="Right"/>
      <TextBox Name="brokenBuildText" Grid.Column="3" Grid.ColumnSpan="1" Grid.Row="9"
               Style="{StaticResource UrlTextStyle}" Text="{Binding BrokenBuildText}">
      </TextBox>
      <Label Grid.Column="2" Grid.Row="10" Content="Fixed 'Project..." HorizontalAlignment="Right"/>
      <TextBox Name="fixedBuildText" Grid.Column="3" Grid.ColumnSpan="1" Grid.Row="10"
               Style="{StaticResource UrlTextStyle}" Text="{Binding FixedBuildText}">
      </TextBox>
      <Label Grid.Column="2" Grid.Row="11" Content="Voice Name" HorizontalAlignment="Right"/>
      <ComboBox Name="comboInstalledVoices" Grid.Column="3" Grid.Row="11" FontFamily="Tahoma" FontSize="14"
                Height="25" SelectedValuePath="Name"
                SelectedValue="{Binding Path=SpeechVoiceName, Converter={Converters:InstalledVoiceConverter}}"/>
      <Label Grid.Column="0" Grid.Row="13" Content="Skin"/>
      <ListBox Name="skinListBox" Grid.Column="1" Grid.Row="13" Grid.ColumnSpan="3" Margin="2" Padding="0"
               BorderThickness="0" SelectedValuePath="Tag" IsEnabled="{Binding IsOneView}"
               SelectedValue="{Binding SkinName}">
        <ItemsControl.ItemsPanel>
          <ItemsPanelTemplate>
            <StackPanel Orientation="Horizontal"/>
          </ItemsPanelTemplate>
        </ItemsControl.ItemsPanel>
        <ListBoxItem Tag="Stack">
          <Image Source="/Images/StackedIcon.png" ToolTip="Stack"/>
        </ListBoxItem>
        <ListBoxItem Tag="Grid">
          <Image Source="/Images/GridIcon.png" ToolTip="Grid"/>
        </ListBoxItem>
        <ListBoxItem Tag="StackPhoto">
          <Image Source="/Images/StackedPhotoIcon.png" ToolTip="Stack Photo"/>
        </ListBoxItem>
      </ListBox>
      <Label Grid.Column="0" Grid.Row="14" Grid.ColumnSpan="3"
             Content="MultiViews are configured - URL/Filters/Skin are readonly"
             Visibility="{Binding Path=IsMultiView, Converter={StaticResource VisibilityOfBool}}"/>
      <StackPanel Grid.Column="0" Grid.ColumnSpan="4" Grid.Row="15" HorizontalAlignment="Right"
                  Orientation="Horizontal" Margin="3,4">
        <Button Click="Save_Click" IsDefault="true" Margin="0,0,10,0" Content="Save"/>
        <Button Click="Cancel_Click" Grid.Column="1" HorizontalAlignment="Right" Content="Cancel"/>
      </StackPanel>
    </Grid>
  </Border>
</Window>