// Decompiled with JetBrains decompiler
// Type: ns3.Class22
// Assembly: TRM, Version=1.0.4536.20171, Culture=neutral, PublicKeyToken=null
// MVID: D733ED76-728C-4EAC-B876-1EF3213B4E77
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.07\HEUR-Trojan-Ransom.Win32.Generic-5317fa25888393a66762b1c7cc31ee17f67d6ab3556c64822c82a111afea6614.exe

using ns0;
using ns5;
using ns8;
using System;
using System.Collections.Generic;
using System.IO;
using System.Runtime.CompilerServices;
using System.Text;

namespace ns3
{
  internal sealed class Class22 : Class20
  {
    private Dictionary<string, Class21> dictionary_0 = new Dictionary<string, Class21>();

    [SpecialName]
    public Dictionary<string, Class21> method_3() => this.dictionary_0;

    public Class22()
      : base("StringFileInfo")
    {
      this.struct2_0.ushort_2 = (ushort) 1;
    }

    internal Class22(IntPtr intptr_0) => this.vmethod_0(intptr_0);

    internal override IntPtr vmethod_0(IntPtr intptr_0)
    {
      this.dictionary_0.Clear();
      Class21 class21;
      for (IntPtr intptr_0_1 = base.vmethod_0(intptr_0); intptr_0_1.ToInt32() < intptr_0.ToInt32() + (int) this.struct2_0.ushort_0; intptr_0_1 = Class15.smethod_0(intptr_0_1.ToInt32() + (int) class21.method_1().ushort_0))
      {
        class21 = new Class21(intptr_0_1);
        this.dictionary_0.Add(class21.method_0(), class21);
      }
      return new IntPtr(intptr_0.ToInt32() + (int) this.struct2_0.ushort_0);
    }

    internal override void vmethod_1(BinaryWriter binaryWriter_0)
    {
      long position = binaryWriter_0.BaseStream.Position;
      base.vmethod_1(binaryWriter_0);
      Dictionary<string, Class21>.Enumerator enumerator = this.dictionary_0.GetEnumerator();
      while (enumerator.MoveNext())
        enumerator.Current.Value.vmethod_1(binaryWriter_0);
      Class15.smethod_5(binaryWriter_0, binaryWriter_0.BaseStream.Position - position, position);
      Class15.smethod_2(binaryWriter_0);
    }

    [SpecialName]
    public Class21 method_4()
    {
      Dictionary<string, Class21>.Enumerator enumerator = this.dictionary_0.GetEnumerator();
      return enumerator.MoveNext() ? enumerator.Current.Value : (Class21) null;
    }

    public string this[string string_1]
    {
      get => this.method_4()[string_1];
      set => this.method_4()[string_1] = value;
    }

    public override string vmethod_2(int int_0)
    {
      StringBuilder stringBuilder = new StringBuilder();
      stringBuilder.AppendLine(string.Format("{0}BEGIN", (object) new string(' ', int_0)));
      stringBuilder.AppendLine(string.Format("{0}BLOCK \"{1}\"", (object) new string(' ', int_0 + 1), (object) this.string_0));
      foreach (Class21 class21 in this.dictionary_0.Values)
        stringBuilder.Append(class21.vmethod_2(int_0 + 1));
      stringBuilder.AppendLine(string.Format("{0}END", (object) new string(' ', int_0)));
      return stringBuilder.ToString();
    }
  }
}
