// Decompiled with JetBrains decompiler
// Type: s859483659459112.s244632129848843
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using FastSerialization;
using s190996497545784;
using s528813736053581;
using s551269714710412;
using s643807026110792;
using s814626784262558;
using s885500789572734;
using s909044072760651;
using System;
using System.Collections;
using System.Collections.Generic;
using System.IO;
using System.Reflection;
using System.Text;
using System.Text.RegularExpressions;

namespace s859483659459112
{
  internal class s244632129848843 : s034852122986107, IFastSerializable
  {
    internal const ushort s852824001481208 = 1;
    internal const ushort s746633879259330 = 2;
    internal const ushort s073141673673605 = 4;
    internal const ushort s544168287955541 = 8;
    internal const ushort s768905209721898 = 65520;
    internal const ushort s311622395922802 = 65518;
    internal const ushort s327674047804452 = 65517;
    internal const ushort s960250336114933 = 65516;
    internal const ushort s262328658909160 = 65516;
    internal s244632129848843.s450921180926046[] s463622614246125;
    internal string s614187586217155;
    internal bool s420555988728098;
    private s130497541240854 s845306378874563;
    private int s393220575138385;
    private int s705952788315161;

    internal s244632129848843(
      Action<s034852122986107> target,
      int eventID,
      int task,
      string taskName,
      Guid taskGuid,
      int opcode,
      string opcodeName,
      Guid providerGuid,
      string providerName)
      : base(eventID, task, taskName, taskGuid, opcode, opcodeName, providerGuid, providerName)
    {
      // ISSUE: reference to a compiler-generated field
      this.s958796800943168 = target;
    }

    internal event Action<s034852122986107> s762129403982331;

    protected internal virtual void s291331776823920()
    {
      // ISSUE: reference to a compiler-generated field
      if (this.s958796800943168 == null)
        return;
      // ISSUE: reference to a compiler-generated field
      this.s958796800943168((s034852122986107) this);
    }

    public virtual string[] s112032701533040 => this.payloadNames;

    public virtual object s821365521439725(int s394607053198111)
    {
      try
      {
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        int s969188152870303 = (int) (^(s244632129848843.s719766275477698&) ref this.s463622614246125[s394607053198111]).s193860116962783;
        if (s969188152870303 == (int) ushort.MaxValue)
          s969188152870303 = this.s740981137035433(this.s463622614246125, s394607053198111, 0, this.s268530766974660, true);
        return s969188152870303 == this.s268530766974660 ? (object) null : this.s488682178177249(ref this.s463622614246125[s394607053198111], s969188152870303, this.s268530766974660);
      }
      catch (Exception ex)
      {
        return (object) ("<<<EXCEPTION_DURING_VALUE_LOOKUP " + ex.GetType().Name + ">>>");
      }
    }

    private object s488682178177249(
      ref s244632129848843.s450921180926046 s430881988258076,
      int s969188152870303,
      int s040042774014167)
    {
      if (s040042774014167 <= s969188152870303)
        throw new ArgumentOutOfRangeException("Payload size exceeds buffer size.");
      s244632129848843.s303826056829119 s536760775648088 = s430881988258076.s536760775648088;
      if (s536760775648088 != null)
      {
        s244632129848843.s719766275477698 s719766275477698 = new s244632129848843.s719766275477698();
        for (int index = 0; index < ((s244632129848843.s450921180926046) s536760775648088).s909052708399886.Length; ++index)
        {
          s719766275477698.s744876779791202(s536760775648088.s432145469492164[index], this.s488682178177249(ref ((s244632129848843.s450921180926046) s536760775648088).s909052708399886[index], s969188152870303, s040042774014167));
          s969188152870303 = this.s997721720750966(ref ((s244632129848843.s450921180926046) s536760775648088).s909052708399886[index], s969188152870303, s040042774014167);
        }
        return (object) s719766275477698;
      }
      s244632129848843.s651087849918560 s109377841516866 = s430881988258076.s109377841516866;
      if (s109377841516866 != null)
      {
        int num = this.s243894107672035(s430881988258076, s109377841516866, ref s969188152870303);
        Type s736517469557712 = ((s244632129848843.s303826056829119) s109377841516866).s745839483542496.s736517469557712;
        if (s736517469557712 == typeof (byte))
          return (object) this.s650864606640445(s969188152870303, num);
        Array instance = Array.CreateInstance(s736517469557712, num);
        for (int index = 0; index < num; ++index)
        {
          object obj = this.s488682178177249(ref ((s244632129848843.s303826056829119) s109377841516866).s745839483542496, s969188152870303, s040042774014167);
          if (obj.GetType() != s736517469557712)
            obj = ((IConvertible) obj).ToType(s736517469557712, (IFormatProvider) null);
          instance.SetValue(obj, index);
          s969188152870303 = this.s997721720750966(ref ((s244632129848843.s303826056829119) s109377841516866).s745839483542496, s969188152870303, s040042774014167);
        }
        return (object) instance;
      }
      Type s736517469557712_1 = s430881988258076.s736517469557712;
      if (s736517469557712_1 == (Type) null)
        return (object) "[CANT PARSE]";
      if ((uint) ushort.MaxValue < (uint) s969188152870303)
        return (object) "[CANT PARSE OFFSET]";
      if ((uint) this.s268530766974660 <= (uint) s969188152870303)
        return this.s353068432507709(s736517469557712_1);
      switch (Type.GetTypeCode(s736517469557712_1))
      {
        case TypeCode.Boolean:
          return (object) (this.s735386637574606(s969188152870303) != 0);
        case TypeCode.Char:
          return (object) (char) this.s109840614309755(s969188152870303);
        case TypeCode.SByte:
          return (object) (sbyte) this.s735386637574606(s969188152870303);
        case TypeCode.Byte:
          return (object) (byte) this.s735386637574606(s969188152870303);
        case TypeCode.Int16:
          return (object) this.s109840614309755(s969188152870303);
        case TypeCode.UInt16:
          return (object) (ushort) this.s109840614309755(s969188152870303);
        case TypeCode.Int32:
          return (object) this.s451109248857806(s969188152870303);
        case TypeCode.UInt32:
          return (object) (uint) this.s451109248857806(s969188152870303);
        case TypeCode.Int64:
          return (object) this.s293833940981414(s969188152870303);
        case TypeCode.UInt64:
          return (object) (ulong) this.s293833940981414(s969188152870303);
        case TypeCode.Single:
          return (object) this.s004057813063187(s969188152870303);
        case TypeCode.Double:
          return (object) this.s394985551762910(s969188152870303);
        case TypeCode.String:
          ushort num1 = s430881988258076.s699859390312039;
          bool flag1 = false;
          if (num1 >= (ushort) 65516)
          {
            flag1 = ((uint) num1 & 1U) > 0U;
            if (s244632129848843.s472583657037367(num1))
              return flag1 ? (object) this.s282626233560381(s969188152870303) : (object) this.s545215726560207(s969188152870303);
            if (!s244632129848843.s363693890612828(num1))
              return (object) "[CANT PARSE STRING]";
            bool flag2 = !flag1 && ((int) num1 & 8) == 0;
            if (((int) num1 & 2) != 0)
            {
              num1 = (ushort) this.s451109248857806(s969188152870303);
              s969188152870303 += 4;
            }
            else
            {
              num1 = (ushort) this.s109840614309755(s969188152870303);
              s969188152870303 += 2;
            }
            if (flag2)
              num1 /= (ushort) 2;
          }
          else if (num1 > (ushort) 32768)
          {
            num1 -= (ushort) 32768;
            flag1 = true;
          }
          return flag1 ? (object) this.s941622805319200((int) num1, s969188152870303) : (object) this.s742301985351305((int) num1, s969188152870303);
        default:
          if (s736517469557712_1 == typeof (IntPtr))
            return this.s223907750800220 == 4 ? (object) (ulong) this.s451109248857806(s969188152870303) : (object) (ulong) this.s293833940981414(s969188152870303);
          if (s736517469557712_1 == typeof (Guid))
            return (object) this.s387641165210579(s969188152870303);
          return s736517469557712_1 == typeof (DateTime) ? (object) DateTime.FromFileTime(this.s293833940981414(s969188152870303)) : (object) "[UNSUPPORTED TYPE]";
      }
    }

    private object s353068432507709(Type s354217281289337) => s354217281289337 == typeof (string) ? (object) string.Empty : Activator.CreateInstance(s354217281289337);

    public virtual string s429232128442184(int s785535143686619, IFormatProvider s818790723741406 = null)
    {
      IDictionary<long, string> s034892436571578 = this.s463622614246125[s785535143686619].s034892436571578;
      if (s034892436571578 != null)
      {
        object obj = this.s556661339130930(s785535143686619);
        if (obj == null)
          return "";
        long int64 = ((IConvertible) obj).ToInt64(s818790723741406);
        if (s034892436571578 is SortedDictionary<long, string>)
        {
          StringBuilder stringBuilder = new StringBuilder();
          foreach (KeyValuePair<long, string> keyValuePair in (IEnumerable<KeyValuePair<long, string>>) s034892436571578)
          {
            if (int64 != 0L)
            {
              if ((keyValuePair.Key & int64) != 0L)
              {
                if (stringBuilder.Length != 0)
                  stringBuilder.Append('|');
                stringBuilder.Append(keyValuePair.Value);
                int64 &= ~keyValuePair.Key;
              }
            }
            else
              break;
          }
          if (int64 != 0L)
          {
            if (stringBuilder.Length != 0)
              stringBuilder.Append('|');
            stringBuilder.Append("0x");
            if (int64 == (long) (int) int64)
              stringBuilder.Append(((int) int64).ToString("x", s818790723741406));
            else
              stringBuilder.Append(int64.ToString("x", s818790723741406));
          }
          else if (stringBuilder.Length == 0)
            stringBuilder.Append('0');
          return stringBuilder.ToString();
        }
        string str;
        if (s034892436571578.TryGetValue(int64, out str))
          return str;
      }
      return this.s838058044206693(s785535143686619, s818790723741406);
    }

    protected internal virtual Delegate s998595745631413
    {
      get => (Delegate) this.s958796800943168;
      set => this.s958796800943168 = (Action<s034852122986107>) value;
    }

    public virtual string s140976536113834(IFormatProvider s492197809110074)
    {
      // ISSUE: variable of a compiler-generated type
      s244632129848843.s532146059604485 s532146059604485 = (s244632129848843.s532146059604485) new s244632129848843.s651087849918560();
      ((s244632129848843.s651087849918560) s532146059604485).s878115850850526 = this;
      // ISSUE: reference to a compiler-generated field
      s532146059604485.s395674839359431 = s492197809110074;
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated method
      return this.s614187586217155 == null ? this.s917794546132883(s532146059604485.s395674839359431) : Regex.Replace(this.s614187586217155, "%(\\d+)", new MatchEvaluator(s532146059604485.s383194833824218));
    }

    private int s740981137035433(
      s244632129848843.s450921180926046[] s656591830701532,
      int s092735625692819,
      int s661406028357529,
      int s778165220270652,
      bool s121883116930651)
    {
      int s504468920900595;
      int index;
      if (s121883116930651 && this.s845306378874563 == this.s980614047227979 && this.s393220575138385 <= s092735625692819 && s661406028357529 == 0)
      {
        s504468920900595 = this.s705952788315161;
        index = this.s393220575138385;
      }
      else
      {
        int num = 0;
        index = s092735625692819;
        while (0 < index)
        {
          --index;
          // ISSUE: cast to a reference type
          // ISSUE: explicit reference operation
          if ((^(s244632129848843.s719766275477698&) ref s656591830701532[index]).s193860116962783 != ushort.MaxValue)
          {
            // ISSUE: cast to a reference type
            // ISSUE: explicit reference operation
            num = (int) (^(s244632129848843.s719766275477698&) ref s656591830701532[index]).s193860116962783;
            break;
          }
        }
        s504468920900595 = num + s661406028357529;
      }
      if (s778165220270652 <= s504468920900595)
        return s778165220270652;
      for (; index < s092735625692819; ++index)
      {
        s504468920900595 = this.s997721720750966(ref s656591830701532[index], s504468920900595, s778165220270652);
        if (s504468920900595 == s778165220270652)
          return s778165220270652;
        if (s778165220270652 < s504468920900595)
          throw new ArgumentOutOfRangeException("Payload size exceeds buffer size.");
      }
      if (s121883116930651 && s661406028357529 == 0)
      {
        this.s705952788315161 = s504468920900595;
        this.s393220575138385 = s092735625692819;
        this.s845306378874563 = this.s980614047227979;
      }
      return s504468920900595;
    }

    private int s243894107672035(
      s244632129848843.s450921180926046 s235513449260812,
      s244632129848843.s651087849918560 s432957627198431,
      ref int s940757219508508)
    {
      int num = s432957627198431.s191040531917687;
      if (num == 0)
      {
        if (!s244632129848843.s363693890612828(s235513449260812.s699859390312039))
          throw new NotSupportedException();
        if (((int) s235513449260812.s699859390312039 & 2) != 0)
        {
          num = this.s451109248857806(s940757219508508);
          s940757219508508 += 4;
        }
        else
        {
          num = this.s109840614309755(s940757219508508);
          s940757219508508 += 2;
        }
      }
      return 65536 > num ? num : throw new ArgumentOutOfRangeException();
    }

    internal int s997721720750966(
      ref s244632129848843.s450921180926046 s358767199674414,
      int s504468920900595,
      int s645514685033691)
    {
      s244632129848843.s303826056829119 s536760775648088 = s358767199674414.s536760775648088;
      if (s536760775648088 != null)
        return this.s740981137035433(((s244632129848843.s450921180926046) s536760775648088).s909052708399886, ((s244632129848843.s450921180926046) s536760775648088).s909052708399886.Length, s504468920900595, s645514685033691, false);
      s244632129848843.s651087849918560 s109377841516866 = s358767199674414.s109377841516866;
      if (s109377841516866 != null)
      {
        if (s645514685033691 <= s504468920900595)
          throw new ArgumentOutOfRangeException();
        int num = this.s243894107672035(s358767199674414, s109377841516866, ref s504468920900595);
        if (((s244632129848843.s303826056829119) s109377841516866).s745839483542496.s109377841516866 == null && ((s244632129848843.s303826056829119) s109377841516866).s745839483542496.s536760775648088 == null && ((s244632129848843.s303826056829119) s109377841516866).s745839483542496.s699859390312039 < (ushort) 65516)
          return s504468920900595 + num * (int) ((s244632129848843.s303826056829119) s109377841516866).s745839483542496.s699859390312039;
        for (ushort index = 0; (int) index < num; ++index)
          s504468920900595 = this.s997721720750966(ref ((s244632129848843.s303826056829119) s109377841516866).s745839483542496, s504468920900595, s645514685033691);
        return s504468920900595;
      }
      ushort s699859390312039 = s358767199674414.s699859390312039;
      if (s699859390312039 < (ushort) 65516)
        return s504468920900595 + (int) s699859390312039;
      if (s699859390312039 == (ushort) 65518)
        return this.s526113945285870(s504468920900595);
      if (s699859390312039 == (ushort) 65519)
        return this.s409509510861789(s504468920900595);
      if (s699859390312039 == (ushort) 65517)
        return s504468920900595 + this.s223907750800220;
      if (!s244632129848843.s363693890612828(s699859390312039) || !(s358767199674414.s736517469557712 == typeof (string)))
        return (int) ushort.MaxValue;
      int num1;
      if (((int) s699859390312039 & 2) != 0)
      {
        num1 = this.s451109248857806(s504468920900595);
        s504468920900595 += 4;
      }
      else
      {
        num1 = this.s109840614309755(s504468920900595);
        s504468920900595 += 2;
      }
      if (((int) s699859390312039 & 1) == 0 && ((int) s699859390312039 & 8) != 0)
        num1 *= 2;
      return s504468920900595 + num1;
    }

    internal static ushort s323173860836894(Type s975437772124919)
    {
      switch (Type.GetTypeCode(s975437772124919))
      {
        case TypeCode.Boolean:
        case TypeCode.Int32:
        case TypeCode.UInt32:
        case TypeCode.Single:
          return 4;
        case TypeCode.SByte:
        case TypeCode.Byte:
          return 1;
        case TypeCode.Int16:
        case TypeCode.UInt16:
          return 2;
        case TypeCode.Int64:
        case TypeCode.UInt64:
        case TypeCode.Double:
        case TypeCode.DateTime:
          return 8;
        case TypeCode.String:
          return 65518;
        default:
          if (s975437772124919 == typeof (Guid))
            return 16;
          if (s975437772124919 == typeof (IntPtr))
            return 65517;
          throw new Exception("Unsupported type " + s975437772124919.Name);
      }
    }

    internal static bool s472583657037367(ushort s777725060302546) => ((int) s777725060302546 & -2) == 65518;

    internal static bool s363693890612828(ushort s924801172364347) => s924801172364347 >= (ushort) 65520;

    internal static bool s979728347469422(ushort s468772388087946) => s244632129848843.s363693890612828(s468772388087946) && ((uint) s468772388087946 & 4U) > 0U;

    public void s288786560924240(Serializer s603784669654962)
    {
      s603784669654962.Write((int) this.s591345645465164);
      s603784669654962.Write((int) this.s837672983919971);
      s603784669654962.Write(this.s809245015719425);
      s603784669654962.Write(this.s966949059091664);
      s603784669654962.Write((int) this.s379087247421555);
      s603784669654962.Write(this.s711532588466432);
      s603784669654962.Write(this.s347486913357445);
      s603784669654962.Write(this.s787104356789152);
      s603784669654962.Write(this.s614187586217155);
      s603784669654962.Write(this.s208437401079489);
      s603784669654962.Write(this.s558741114055760);
      s603784669654962.Write(this.s312333162110197);
      s603784669654962.Write(this.payloadNames.Length);
      foreach (string payloadName in this.payloadNames)
        s603784669654962.Write(payloadName);
      s603784669654962.Write(this.s463622614246125.Length);
      foreach (s244632129848843.s450921180926046 s450921180926046 in this.s463622614246125)
        s450921180926046.s485807963076035(s603784669654962);
    }

    public void s455298232514045(Deserializer s327150483801841)
    {
      this.s591345645465164 = (s076337548137908) s327150483801841.ReadInt();
      this.s837672983919971 = (s899843452464947) s327150483801841.ReadInt();
      s327150483801841.Read(ref this.s809245015719425);
      s327150483801841.Read(ref this.s966949059091664);
      this.s379087247421555 = (s531105564102108) s327150483801841.ReadInt();
      s327150483801841.Read(ref this.s711532588466432);
      s327150483801841.Read(ref this.s347486913357445);
      s327150483801841.Read(ref this.s787104356789152);
      s327150483801841.Read(ref this.s614187586217155);
      s327150483801841.Read(ref this.s208437401079489);
      s327150483801841.Read(ref this.s558741114055760);
      s327150483801841.Read(ref this.s312333162110197);
      int length;
      s327150483801841.Read(ref length);
      this.payloadNames = new string[length];
      for (int index = 0; index < length; ++index)
        s327150483801841.Read(ref this.payloadNames[index]);
      s327150483801841.Read(ref length);
      this.s463622614246125 = new s244632129848843.s450921180926046[length];
      for (int index = 0; index < length; ++index)
        this.s463622614246125[index].s543459541593880(s327150483801841);
    }

    [DefaultMember("Item")]
    internal class s719766275477698 : 
      ICollection<KeyValuePair<string, object>>,
      IDictionary<string, object>,
      IEnumerable,
      IEnumerable<KeyValuePair<string, object>>
    {
      public ushort s193860116962783;

      IEnumerator IEnumerable.s818696977477514() => (IEnumerator) ((s032656591930018.s795725478408236) this).s829427568768473.GetEnumerator();

      public bool s642180464681829 => true;

      public object get_Item(string key)
      {
        // ISSUE: reference to a compiler-generated field
        foreach (KeyValuePair<string, object> keyValuePair in ((s032656591930018.s795725478408236) this).s829427568768473)
        {
          if (key == keyValuePair.Key)
            return keyValuePair.Value;
        }
        return (object) null;
      }

      public void set_Item(string key, object value) => throw new NotImplementedException();

      public bool s287265648852888(string s314138752612444, out object s127250951468088)
      {
        // ISSUE: reference to a compiler-generated field
        foreach (KeyValuePair<string, object> keyValuePair in ((s032656591930018.s795725478408236) this).s829427568768473)
        {
          if (s314138752612444 == keyValuePair.Key)
          {
            s127250951468088 = keyValuePair.Value;
            return true;
          }
        }
        s127250951468088 = (object) null;
        return false;
      }

      public void s744876779791202(string s479688944701442, object s436152104238080) => ((s032656591930018.s795725478408236) this).s829427568768473.Add(new KeyValuePair<string, object>(s479688944701442, s436152104238080));

      public void s135585506491907(KeyValuePair<string, object> s091165192806783) => ((s032656591930018.s795725478408236) this).s829427568768473.Add(s091165192806783);

      public void s351859720250461() => ((s032656591930018.s795725478408236) this).s829427568768473.Clear();

      public int s639664015471627 => ((s032656591930018.s795725478408236) this).s829427568768473.Count;

      public virtual string s770633880579841() => s244632129848843.s719766275477698.s260943733890248(new StringBuilder(), (object) this).ToString();

      private static StringBuilder s260943733890248(
        StringBuilder s189078369565765,
        object s170951918897181)
      {
        switch (s170951918897181)
        {
          case s244632129848843.s719766275477698 s719766275477698:
            s189078369565765.Append("{ ");
            bool flag1 = true;
            // ISSUE: reference to a compiler-generated method
            using (IEnumerator<KeyValuePair<string, object>> enumerator = ((s032656591930018.s795725478408236) s719766275477698).s299698676973527())
            {
              while (enumerator.MoveNext())
              {
                KeyValuePair<string, object> current = enumerator.Current;
                if (!flag1)
                  s189078369565765.Append(", ");
                else
                  flag1 = false;
                s189078369565765.Append(current.Key).Append(":");
                s244632129848843.s719766275477698.s260943733890248(s189078369565765, current.Value);
              }
            }
            s189078369565765.Append(" }");
            return s189078369565765;
          case Array array when array.Rank == 1:
            s189078369565765.Append("[ ");
            bool flag2 = true;
            for (int index = 0; index < array.Length; ++index)
            {
              if (!flag2)
                s189078369565765.Append(", ");
              else
                flag2 = false;
              s244632129848843.s719766275477698.s260943733890248(s189078369565765, array.GetValue(index));
            }
            s189078369565765.Append(" ]");
            return s189078369565765;
          case int _:
          case bool _:
          case double _:
          case float _:
            s189078369565765.Append(s170951918897181);
            return s189078369565765;
          case null:
            s189078369565765.Append("null");
            break;
          default:
            s189078369565765.Append("\"");
            s244632129848843.s719766275477698.s863621901330071(s189078369565765, s170951918897181.ToString());
            s189078369565765.Append("\"");
            break;
        }
        return s189078369565765;
      }

      private static void s863621901330071(StringBuilder s988948458766231, string s825179583008568)
      {
        for (int index = 0; index < s825179583008568.Length; ++index)
        {
          char ch = s825179583008568[index];
          switch (ch)
          {
            case '"':
            case '\\':
              s988948458766231.Append('\\');
              break;
          }
          s988948458766231.Append(ch);
        }
      }

      public bool s916127144523681(string s955452943707292) => this.s287265648852888(s955452943707292, out object _);

      public ICollection<string> s466581185312825 => throw new NotImplementedException();

      public bool s836428055268961(string s496963297698418) => throw new NotImplementedException();

      public ICollection<object> s161389816746660 => throw new NotImplementedException();

      public bool s453418107653793(KeyValuePair<string, object> s458672196234461) => throw new NotImplementedException();

      public void s040129352612330(
        KeyValuePair<string, object>[] s894211001199830,
        int s799127682863097)
      {
        throw new NotImplementedException();
      }

      public bool s625532700709491(KeyValuePair<string, object> s399359185809039) => throw new NotImplementedException();

      public s719766275477698()
      {
        // ISSUE: reference to a compiler-generated field
        ((s032656591930018.s795725478408236) this).s829427568768473 = new List<KeyValuePair<string, object>>();
        // ISSUE: explicit constructor call
        base.\u002Ector();
      }

      public s719766275477698(
        ushort offset,
        ushort size,
        Type type,
        IDictionary<long, string> map = null)
      {
        this.s193860116962783 = offset;
        ((s244632129848843.s450921180926046) this).s699859390312039 = size;
        ((s244632129848843.s450921180926046) this).s736517469557712 = type;
        ((s244632129848843.s450921180926046) this).s535975806327594 = (object) map;
      }
    }

    internal struct s450921180926046
    {
      public ushort s699859390312039;
      public Type s736517469557712;
      private object s535975806327594;
      public s244632129848843.s450921180926046[] s909052708399886;

      public s450921180926046(ushort offset, s393135817591258.s412159084864104 inType, int outType)
      {
        // ISSUE: unable to decompile the method.
      }

      public static s244632129848843.s450921180926046 s233973776017244(
        ushort s754983899194776,
        s244632129848843.s450921180926046 s966790988663901,
        ushort s922631870052772,
        ushort s733774199758277 = 0)
      {
        s244632129848843.s450921180926046 s450921180926046 = new s244632129848843.s450921180926046();
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        (^(s244632129848843.s719766275477698&) ref s450921180926046).s193860116962783 = s754983899194776;
        s450921180926046.s699859390312039 = s922631870052772;
        ref s244632129848843.s450921180926046 local = ref s450921180926046;
        s244632129848843.s651087849918560 s651087849918560 = new s244632129848843.s651087849918560();
        ((s244632129848843.s303826056829119) s651087849918560).s745839483542496 = s966790988663901;
        s651087849918560.s191040531917687 = (int) s733774199758277;
        local.s535975806327594 = (object) s651087849918560;
        return s450921180926046;
      }

      public static s244632129848843.s450921180926046 s704932781122547(
        ushort s460083669857420,
        s244632129848843.s303826056829119 s425392060888322)
      {
        s244632129848843.s450921180926046 s450921180926046 = new s244632129848843.s450921180926046();
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        (^(s244632129848843.s719766275477698&) ref s450921180926046).s193860116962783 = s460083669857420;
        s450921180926046.s699859390312039 = (ushort) 65516;
        s450921180926046.s736517469557712 = typeof (s244632129848843.s719766275477698);
        s450921180926046.s535975806327594 = (object) s425392060888322;
        return s450921180926046;
      }

      internal s244632129848843.s303826056829119 s536760775648088 => this.s535975806327594 as s244632129848843.s303826056829119;

      public s244632129848843.s651087849918560 s109377841516866 => this.s535975806327594 as s244632129848843.s651087849918560;

      public IDictionary<long, string> s034892436571578
      {
        get
        {
          if (this.s535975806327594 == null)
            return (IDictionary<long, string>) null;
          if (!(this.s535975806327594 is IDictionary<long, string> map))
          {
            Func<IDictionary<long, string>> s697595546050357 = this.s697595546050357;
            if (s697595546050357 != null)
            {
              map = s697595546050357();
              if (map != null)
                this.s535975806327594 = (object) map;
            }
          }
          return map;
        }
        set => this.s535975806327594 = (object) value;
      }

      public Func<IDictionary<long, string>> s697595546050357
      {
        get => this.s535975806327594 as Func<IDictionary<long, string>>;
        set => this.s535975806327594 = (object) value;
      }

      public virtual string s862702465572140()
      {
        StringWriter stringWriter = new StringWriter();
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        stringWriter.Write("<s450921180926046 Size=\"{0}\" Offset=\"{1}\" Type=\"{2}\"", (object) this.s699859390312039, (object) (^(s244632129848843.s719766275477698&) ref this).s193860116962783, this.s736517469557712 != (Type) null ? (object) this.s736517469557712.Name : (object) "");
        if (this.s034892436571578 != null)
          stringWriter.Write("HasMap=\"true\"/>");
        else if (this.s109377841516866 != null || this.s536760775648088 != null)
        {
          stringWriter.WriteLine(">");
          if (this.s109377841516866 != null)
            stringWriter.WriteLine(this.s109377841516866.ToString());
          else if (this.s536760775648088 != null)
          {
            for (int index = 0; index < ((s244632129848843.s450921180926046) this.s536760775648088).s909052708399886.Length; ++index)
              stringWriter.WriteLine("<Field Name=\"{0}\">{1}</Field>", (object) this.s536760775648088.s432145469492164[index], (object) ((s244632129848843.s450921180926046) this.s536760775648088).s909052708399886[index].ToString());
          }
          stringWriter.WriteLine("<s450921180926046>");
        }
        else
          stringWriter.WriteLine("/>");
        return stringWriter.ToString();
      }

      public void s485807963076035(Serializer s468534293488634)
      {
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        s468534293488634.Write((short) (^(s244632129848843.s719766275477698&) ref this).s193860116962783);
        s468534293488634.Write((short) this.s699859390312039);
        if (this.s736517469557712 == (Type) null)
          s468534293488634.Write((string) null);
        else
          s468534293488634.Write(this.s736517469557712.FullName);
        IDictionary<long, string> s034892436571578 = this.s034892436571578;
        if (s034892436571578 != null)
        {
          if (s034892436571578 is SortedDictionary<long, string>)
            s468534293488634.Write((byte) 1);
          else
            s468534293488634.Write((byte) 2);
          s468534293488634.Write(s034892436571578.Count);
          foreach (KeyValuePair<long, string> keyValuePair in (IEnumerable<KeyValuePair<long, string>>) s034892436571578)
          {
            s468534293488634.Write(keyValuePair.Key);
            s468534293488634.Write(keyValuePair.Value);
          }
        }
        else if (this.s536760775648088 != null)
        {
          s244632129848843.s303826056829119 s536760775648088 = this.s536760775648088;
          s468534293488634.Write((byte) 3);
          s468534293488634.Write(s536760775648088.s432145469492164.Length);
          foreach (string str in s536760775648088.s432145469492164)
            s468534293488634.Write(str);
          s468534293488634.Write(((s244632129848843.s450921180926046) s536760775648088).s909052708399886.Length);
          for (int index = 0; index < ((s244632129848843.s450921180926046) s536760775648088).s909052708399886.Length; ++index)
            ((s244632129848843.s450921180926046) s536760775648088).s909052708399886[index].s485807963076035(s468534293488634);
        }
        else if (this.s109377841516866 != null)
        {
          s244632129848843.s651087849918560 s109377841516866 = this.s109377841516866;
          s468534293488634.Write((byte) 4);
          s468534293488634.Write(s109377841516866.s191040531917687);
          ((s244632129848843.s303826056829119) s109377841516866).s745839483542496.s485807963076035(s468534293488634);
        }
        else
          s468534293488634.Write((byte) 0);
      }

      public void s543459541593880(Deserializer s353058635934779)
      {
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        (^(s244632129848843.s719766275477698&) ref this).s193860116962783 = (ushort) s353058635934779.ReadInt16();
        this.s699859390312039 = (ushort) s353058635934779.ReadInt16();
        string typeName = s353058635934779.ReadString();
        if (typeName != null)
          this.s736517469557712 = Type.GetType(typeName);
        byte num = s353058635934779.ReadByte();
        switch (num)
        {
          case 1:
          case 2:
            int capacity = s353058635934779.ReadInt();
            IDictionary<long, string> dictionary = num != (byte) 1 ? (IDictionary<long, string>) new Dictionary<long, string>(capacity) : (IDictionary<long, string>) new SortedDictionary<long, string>();
            for (int index = 0; index < capacity; ++index)
            {
              long key = s353058635934779.ReadInt64();
              string str = s353058635934779.ReadString();
              dictionary.Add(key, str);
            }
            this.s034892436571578 = dictionary;
            break;
          case 3:
            s244632129848843.s303826056829119 s303826056829119 = (s244632129848843.s303826056829119) new s244632129848843.s450921180926046();
            int length1 = s353058635934779.ReadInt();
            s303826056829119.s432145469492164 = new string[length1];
            for (int index = 0; index < length1; ++index)
              s303826056829119.s432145469492164[index] = s353058635934779.ReadString();
            int length2 = s353058635934779.ReadInt();
            ((s244632129848843.s450921180926046) s303826056829119).s909052708399886 = new s244632129848843.s450921180926046[length2];
            for (int index = 0; index < length2; ++index)
              ((s244632129848843.s450921180926046) s303826056829119).s909052708399886[index].s543459541593880(s353058635934779);
            this.s535975806327594 = (object) s303826056829119;
            break;
          case 4:
            s244632129848843.s651087849918560 s651087849918560 = new s244632129848843.s651087849918560();
            s353058635934779.Read(ref s651087849918560.s191040531917687);
            ((s244632129848843.s303826056829119) s651087849918560).s745839483542496.s543459541593880(s353058635934779);
            this.s535975806327594 = (object) s651087849918560;
            break;
        }
      }

      public s450921180926046() => ((object) ref this).\u002Ector();
    }

    internal class s303826056829119
    {
      public string[] s432145469492164;
      public s244632129848843.s450921180926046 s745839483542496;

      public virtual string s532269465043230() => "<Array size = \"" + (object) ((s244632129848843.s651087849918560) this).s191040531917687 + "\">\r\n" + this.s745839483542496.ToString() + "\r\n</Array>";
    }

    internal class s651087849918560
    {
      public int s191040531917687;
      public s244632129848843 s878115850850526;

      public s651087849918560()
      {
      }

      public s651087849918560()
      {
      }
    }
  }
}
