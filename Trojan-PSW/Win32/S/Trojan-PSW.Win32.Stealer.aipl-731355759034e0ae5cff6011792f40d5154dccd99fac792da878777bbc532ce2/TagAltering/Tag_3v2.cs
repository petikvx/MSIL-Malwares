// Decompiled with JetBrains decompiler
// Type: TagAltering.Tag_3v2
// Assembly: AnsiCharMarsha, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 45449883-CB33-464D-BFFF-85C1D8F95247
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\Trojan-PSW.Win32.Stealer.aipl-731355759034e0ae5cff6011792f40d5154dccd99fac792da878777bbc532ce2.exe

using ID3;
using System;

namespace TagAltering
{
  public class Tag_3v2 : Tag
  {
    private ID3v2 _Tag { get; set; }

    public string Track => this._Tag.TrackNumber;

    public Tag_3v2(string filePath)
      : base(filePath)
    {
      this._Tag = this._Info.ID3v2Info;
      if (!this._Tag.HaveTag)
        throw new ArgumentException("This file does not have a valid ID3v2 tag.");
    }

    public override bool UpdateTrack(int track)
    {
      try
      {
        this._Info.ID3v2Info.SetTextFrame("TRCK", track.ToString());
        this._Info.Save();
        return true;
      }
      catch (Exception ex)
      {
        return false;
      }
    }
  }
}
