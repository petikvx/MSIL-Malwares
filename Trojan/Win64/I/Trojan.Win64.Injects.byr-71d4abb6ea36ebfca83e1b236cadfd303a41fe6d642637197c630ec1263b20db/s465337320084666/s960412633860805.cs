// Decompiled with JetBrains decompiler
// Type: s465337320084666.s960412633860805
// Assembly: s802785987160928, Version=1.0.0.0, Culture=neutral, PublicKeyToken=8d3bb6c79cff225a
// MVID: E562BAAF-678F-45B2-A19A-CFBF160B1BAF
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\Trojan.Win64.Injects.byr-71d4abb6ea36ebfca83e1b236cadfd303a41fe6d642637197c630ec1263b20db.exe

using s272248484380978;
using s518386422255270;
using s562553666013346;
using s642243423359981;
using s767203895605925;
using s825795063659216;
using s989081887701976;
using System;
using System.Collections;
using System.Diagnostics;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

namespace s465337320084666
{
  public sealed class s960412633860805 : IDisposable
  {
    [ThreadStatic]
    private static bool s493876708075902;
    private IntPtr s924028873507582;
    private bool s134706117987812;

    internal IRecordRuntime s158759953216939 { get; private set; }

    internal IRecordMethodExecution s644875924957573 { get; private set; }

    internal IRecordActivityManager s942416452520040 { get; private set; }

    internal IRecordAsyncOperations s068605291677468 { get; private set; }

    internal s960412633860805(IntPtr module)
    {
      this.s924028873507582 = !(module == IntPtr.Zero) ? module : throw new ArgumentNullException(nameof (module));
      this.s158759953216939 = s790454962121287.s920826227963306(module);
      this.s644875924957573 = (IRecordMethodExecution) this.s158759953216939;
      this.s942416452520040 = (IRecordActivityManager) this.s158759953216939;
      this.s068605291677468 = (IRecordAsyncOperations) this.s158759953216939;
    }

    public void s161753406159994() => s121277034860412.s471154660928144(this.s158759953216939.Initialize());

    internal void s594731306305716(object s048825519906748, out uint s132640922965975) => s121277034860412.s471154660928144(this.s158759953216939.AddRecordEvents(s048825519906748, out s132640922965975));

    internal void s307965615746910(uint s565707092121715) => s121277034860412.s471154660928144(this.s158759953216939.RemoveRecordEvents(s565707092121715));

    public void s476084563495243(ulong s052969079205583, bool s207443887594989)
    {
      bool isInitialized;
      s121277034860412.s471154660928144(this.s158759953216939.IsInitialized(out isInitialized));
      if (!isInitialized)
        return;
      s121277034860412.s471154660928144(this.s644875924957573.MethodGuardEntered(s052969079205583, s207443887594989));
    }

    public void s324448413406438(ulong s178179173062801) => s121277034860412.s471154660928144(this.s644875924957573.MethodGuardExited(s178179173062801));

    public void s508614093427319(out uint s012555822414809) => s121277034860412.s471154660928144(this.s158759953216939.PauseCurrentThread(out s012555822414809));

    public bool s852944436484327
    {
      get
      {
        s539676066514168 recordState;
        s121277034860412.s471154660928144(this.s158759953216939.GetThreadRecordState(out recordState, out uint _));
        return recordState.HasFlag((Enum) s539676066514168.Enabled);
      }
    }

    public void s283953229811894() => s121277034860412.s471154660928144(this.s158759953216939.ResumeCurrentThread());

    public void s265174739304229()
    {
      int num = s960412633860805.s493876708075902 ? 1 : 0;
      s121277034860412.s471154660928144(this.s158759953216939.StartRecordingCurrentThread());
      if (num != 0)
        return;
      s960412633860805.s053876543021377();
    }

    [MethodImpl(MethodImplOptions.NoOptimization)]
    private static void s053876543021377()
    {
      int num = 0;
      foreach (object thread in (ReadOnlyCollectionBase) Process.GetCurrentProcess().Threads)
        num = (thread as ProcessThread).Id;
      s960412633860805.s493876708075902 = num != 0;
    }

    public void s815957748473292() => s121277034860412.s471154660928144(this.s158759953216939.StopRecordingCurrentThread());

    public void s683958911477056() => s121277034860412.s471154660928144(this.s158759953216939.RecordFullHeap());

    public void s094846620837958(uint s673034310202899) => s121277034860412.s471154660928144(this.s942416452520040.SetActivityIdForCurrentThread(s673034310202899));

    public void s622400597503649() => s121277034860412.s471154660928144(this.s942416452520040.UseAutoActivityIdForCurrentThread());

    public uint s888434989091133()
    {
      uint pActivityId;
      s121277034860412.s471154660928144(this.s942416452520040.GetActivityIdForCurrentThread(out pActivityId));
      return pActivityId;
    }

    public void s781089325829683(uint s553275523749519) => s121277034860412.s471154660928144(this.s942416452520040.SetActivityCompleted(s553275523749519));

    private void s224549767435063(bool s546737181704177)
    {
      if (this.s134706117987812)
        return;
      if (this.s158759953216939 != null)
      {
        Marshal.ReleaseComObject((object) this.s158759953216939);
        this.s158759953216939 = (IRecordRuntime) null;
      }
      if (this.s644875924957573 != null)
      {
        Marshal.ReleaseComObject((object) this.s644875924957573);
        this.s644875924957573 = (IRecordMethodExecution) null;
      }
      if (this.s942416452520040 != null)
      {
        Marshal.ReleaseComObject((object) this.s942416452520040);
        this.s942416452520040 = (IRecordActivityManager) null;
      }
      if (this.s068605291677468 != null)
      {
        Marshal.ReleaseComObject((object) this.s068605291677468);
        this.s068605291677468 = (IRecordAsyncOperations) null;
      }
      if (this.s924028873507582 != IntPtr.Zero)
      {
        s121277034860412.s207597635448262(this.s924028873507582);
        this.s924028873507582 = IntPtr.Zero;
      }
      this.s134706117987812 = true;
    }

    ~s960412633860805() => this.s224549767435063(false);

    public void s571043050480387()
    {
      this.s224549767435063(true);
      GC.SuppressFinalize((object) this);
    }
  }
}
