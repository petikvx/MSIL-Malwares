// Decompiled with JetBrains decompiler
// Type: AjScript.Compiler.BaseVisitorProcessor`1
// Assembly: FUNCD, Version=1.4.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 38B3918C-7BBD-4048-BF6D-F5A856A1A18A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan-Ransom.Win32.Convagent.gen-2f81e8b71640e7b5770deccc56c23d75240c34a5914dcb138ec2972e624a0f03.exe

using System;
using System.Collections.Generic;

namespace AjScript.Compiler
{
  public class BaseVisitorProcessor<C> : IVisitorProcessor<C> where C : IVisitorContext
  {
    private IDictionary<Type, IVisitor<C>> visitors = (IDictionary<Type, IVisitor<C>>) new Dictionary<Type, IVisitor<C>>();

    public void RegisterVisitor(Type type, IVisitor<C> visitor) => this.visitors[type] = visitor;

    public void RegisterVisitor<T>(IVisitor<T, C> visitor) => this.visitors[typeof (T)] = (IVisitor<C>) visitor;

    public void Process(C context, object element) => this.visitors[element.GetType()].Process((IVisitorProcessor<C>) this, context, element);
  }
}
