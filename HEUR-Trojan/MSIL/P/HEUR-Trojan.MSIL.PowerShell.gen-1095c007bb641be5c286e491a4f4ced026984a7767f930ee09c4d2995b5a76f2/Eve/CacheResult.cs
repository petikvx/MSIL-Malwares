// Decompiled with JetBrains decompiler
// Type: HeavyDuck.Eve.CacheResult
// Assembly: RemotingFieldCachedD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: EDD4CF72-357A-47DC-BB8E-50FC31FC092E
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-1095c007bb641be5c286e491a4f4ced026984a7767f930ee09c4d2995b5a76f2.exe

using System;

namespace HeavyDuck.Eve
{
  public class CacheResult
  {
    private string m_path;
    private bool m_updated;
    private CacheState m_state;
    private Exception m_ex;
    private DateTime m_cachedUntil;

    public CacheResult(string path, bool updated, CacheState state, DateTime cachedUntil)
      : this(path, updated, state, cachedUntil, (Exception) null)
    {
    }

    public CacheResult(
      string path,
      bool updated,
      CacheState state,
      DateTime cachedUntil,
      Exception ex)
    {
      this.m_path = path;
      this.m_updated = updated;
      this.m_state = state;
      this.m_cachedUntil = cachedUntil;
      this.m_ex = ex;
    }

    public string Path => this.m_path;

    public bool IsUpdated => this.m_updated;

    public CacheState State => this.m_state;

    public Exception Exception => this.m_ex;

    public DateTime CachedUntil => this.m_cachedUntil;

    public static CacheResult FromExisting(CacheResult existing, Exception ex) => new CacheResult(existing.Path, false, existing.State, existing.CachedUntil, ex);

    public static CacheResult Uncached(string path) => CacheResult.Uncached(path, (Exception) null);

    public static CacheResult Uncached(Exception ex) => CacheResult.Uncached((string) null, ex);

    public static CacheResult Uncached(string path, Exception ex) => new CacheResult(path, false, CacheState.Uncached, DateTime.MinValue, ex);
  }
}
