// Decompiled with JetBrains decompiler
// Type: U*/71qd.Bpv*-+P
// Assembly: ;8w1LFr, Version=5.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
// MVID: 2CC07ADF-5A94-44BC-9C37-07435DAD286F
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan-Spy.Win32.Noon.pef-7dfe305f31c1f571790f54c3522eb8c6066453e69a429782ebfc0d6f68b2ae34.exe

using \u0024\u003FQhZa5;
using \u002BE4rz\u003Bx;
using \u002BtqrL9p;
using \u003947gO\u0023h;
using \u003B8w1LFr;
using b\u00401QD\u002D\u002A;
using cgQL8\u0040X;
using d3Ghlru;
using iQH1\u002B3x;
using j\u003BMx7nm;
using jqtJHJP;
using qNFetXN;
using Rebex.Net;
using System;
using System.Collections;
using System.IO;
using System.Runtime.CompilerServices;
using System.Text.RegularExpressions;
using System.Threading;
using U\u002A\u002F71qd;
using Z\u00230sjL4;

namespace U\u002A\u002F71qd
{
  internal abstract class Bpv\u002A\u002D\u002BP
  {
    protected bool _putFile;
    protected fr\u003ATr\u002A\u0027 _transferOptions;
    protected qzvjp\u0023B _existingFileMode;
    protected int _filesTotal;
    protected int _filesProcessed;
    protected int _filesTransferred;
    protected long _bytesTotal;
    protected long _bytesProcessed;
    protected char[] _sourceDirectorySeparators;
    protected char[] _targetDirectorySeparators;
    private ArrayList \u00340v\u002AB7m = new ArrayList();
    private ArrayList oq1K\u002B\u003FJ = new ArrayList();
    private Regex \u0034kIyM\u003Aa;
    private string \u0037wXTAiG;
    private string Qeni8n4;
    private char \u00355FUUa\u002D;
    private char w70X\u002BG0;
    private char \u0021G\u003BV4M\u003B;
    private char \u0031\u002AA6\u0021\u002B\u002B;
    private bool q\u005E\u005EB\u002FKx;
    private int MCERjmL;
    private string \u0032aa\u002DgD\u002F;
    private string \u003BY\u003F\u003BoM\u002B;
    private bool dd\u0027\u00244qr;
    private object \u002BRq\u007E\u00254t;
    private static char[] Gd\u002F\u002B\u003FFQ;

    protected bool jKts\u003B1J
    {
      [SpecialName] get => (((Bpv\u002A\u002D\u002BP) this)._transferOptions & fr\u003ATr\u002A\u0027.Recursive) == fr\u003ATr\u002A\u0027.Recursive;
    }

    protected bool Xfz1nt9 => (this._transferOptions & fr\u003ATr\u002A\u0027.XCopy) == fr\u003ATr\u002A\u0027.XCopy;

    protected static char[] \u003AW1\u002Df\u002A\u002A
    {
      get
      {
        if (Bpv\u002A\u002D\u002BP.Gd\u002F\u002B\u003FFQ == null)
          Bpv\u002A\u002D\u002BP.Gd\u002F\u002B\u003FFQ = Path.GetInvalidFileNameChars();
        return Bpv\u002A\u002D\u002BP.Gd\u002F\u002B\u003FFQ;
      }
    }

    private static W44\u003BZ\u003As E\u002A\u003F\u002Fl3e(qzvjp\u0023B _param0)
    {
      switch (_param0)
      {
        case qzvjp\u0023B.ThrowException:
          return W44\u003BZ\u003As.ThrowException;
        case qzvjp\u0023B.SkipAll:
          return W44\u003BZ\u003As.Skip;
        case qzvjp\u0023B.OverwriteAll:
          return W44\u003BZ\u003As.Overwrite;
        case qzvjp\u0023B.OverwriteOlder:
          return W44\u003BZ\u003As.OverwriteOlder;
        case qzvjp\u0023B.OverwriteDifferentSize:
          return W44\u003BZ\u003As.OverwriteDifferentSize;
        default:
          throw new ArgumentException(sgxPeiI.LiHKl\u0027x(";\u001F.1\u0004/\u0016z\u0006/-*\u0017\t=\u0001\u001Fe:\u00131\v.\u000E\">c\u001E\u000Eq\v\u0002k", "FYmwCpPrOdqkPO5"), sgxPeiI.LiHKl\u0027x("\v\t,,\u001F1\u0016=!%5&5\by\v", "FYmwCpPrOdqkPO5"));
      }
    }

    private static W44\u003BZ\u003As flkeVPl(fr\u003ATr\u002A\u0027 _param0)
    {
      bool flag1 = (_param0 & fr\u003ATr\u002A\u0027.SkipLinks) != 0;
      bool flag2 = (_param0 & fr\u003ATr\u002A\u0027.ThrowExceptionOnLinks) != 0;
      if (flag1 & flag2)
        throw new ArgumentException(sgxPeiI.LiHKl\u0027x("-\u0010+1\u0004,X)\u00028y!\u0017\u0013uN\".6\u001B\u0014\u00114\f?y\"\u0016\u0003=:\u001970\u001C\u001D\09\u0002<-*\u0017\tR\0=,1\0+V", "FYmwCpPrOdqkPO5"), sgxPeiI.LiHKl\u0027x("\u001A\u0003$1\u0018>\u001D((<-*\u0017\tn", "FYmwCpPrOdqkPO5"));
      if (flag1)
        return W44\u003BZ\u003As.Skip;
      return flag2 ? W44\u003BZ\u003As.ThrowException : W44\u003BZ\u003As.FollowLink;
    }

    public void i3Q\u00264Us(
      string _param1,
      string _param2,
      fr\u003ATr\u002A\u0027 s3S2ndt,
      qzvjp\u0023B _param4)
    {
      this.TransferFiles(true, (object) null, _param1, _param2, s3S2ndt, _param4);
    }

    public void E2i\u003Fqki(
      string _param1,
      string d9CUy4k,
      fr\u003ATr\u002A\u0027 _param3,
      qzvjp\u0023B _param4)
    {
      this.TransferFiles(false, (object) null, d9CUy4k, _param1, _param3, _param4);
    }

    private string mXha9nk => this._putFile ? this.Qeni8n4 : this.\u0037wXTAiG;

    private string Y_aMA\u003Al => !this._putFile ? this.Qeni8n4 : this.\u0037wXTAiG;

    private void af\u0025\u0029FF9()
    {
      int num = this.\u0037wXTAiG.LastIndexOfAny(\u0025P\u003F1hnB.\u002DcNW4\u002Am);
      if (num >= 0)
      {
        int startIndex = this.\u0037wXTAiG.LastIndexOfAny(this._sourceDirectorySeparators);
        if (num < startIndex)
          throw new InvalidOperationException(sgxPeiI.LiHKl\u0027x("'\u001D):\f9\u0014z\u0012?<c\u0017\u0001=\u0019\u0018);\b9\n>\u0014l0-X\u0017|\u001A\u0019k", "FYmwCpPrOdqkPO5"));
        if (startIndex < 0)
        {
          this.\u0034kIyM\u003Aa = \u003A1\u002FmGF\u002F.Pv\u003A9biR(this.\u0037wXTAiG, false);
          this.\u0037wXTAiG = sgxPeiI.LiHKl\u0027x("@", "FYmwCpPrOdqkPO5");
        }
        else
        {
          this.\u0034kIyM\u003Aa = \u003A1\u002FmGF\u002F.Pv\u003A9biR(this.\u0037wXTAiG.Substring(startIndex + 1), false);
          this.\u0037wXTAiG = this.\u0037wXTAiG.Remove(startIndex, this.\u0037wXTAiG.Length - startIndex);
        }
      }
      else
      {
        this.\u0037wXTAiG = this.\u0037wXTAiG.TrimEnd(this._sourceDirectorySeparators);
        if (this.\u0037wXTAiG.EndsWith(string.Format(sgxPeiI.LiHKl\u0027x("\u0015A8q", "FYmwCpPrOdqkPO5"), (object) this.\u00355FUUa\u002D)) || this.\u0037wXTAiG.EndsWith(string.Format(sgxPeiI.LiHKl\u0027x("\u0015A8q", "FYmwCpPrOdqkPO5"), (object) this.w70X\u002BG0)))
          this.\u0037wXTAiG = this.\u0037wXTAiG.Remove(this.\u0037wXTAiG.Length - 2, this.\u0037wXTAiG.Length - (this.\u0037wXTAiG.Length - 2));
        else if (this.\u0037wXTAiG.Length > 0 && this.\u0037wXTAiG != sgxPeiI.LiHKl\u0027x("@", "FYmwCpPrOdqkPO5"))
          this.q\u005E\u005EB\u002FKx = true;
        if (this.\u0037wXTAiG.Length == 0)
          this.\u0037wXTAiG = this.\u00355FUUa\u002D.ToString();
        this.Qeni8n4 = this.Qeni8n4.TrimEnd(this._targetDirectorySeparators);
        if (this.Qeni8n4.EndsWith(string.Format(sgxPeiI.LiHKl\u0027x("\u0015A8q", "FYmwCpPrOdqkPO5"), (object) this.\u0021G\u003BV4M\u003B)) || this.Qeni8n4.EndsWith(string.Format(sgxPeiI.LiHKl\u0027x("\u0015A8q", "FYmwCpPrOdqkPO5"), (object) this.\u0031\u002AA6\u0021\u002B\u002B)))
          this.Qeni8n4 = this.Qeni8n4.Remove(this.Qeni8n4.Length - 2, this.Qeni8n4.Length - (this.Qeni8n4.Length - 2));
        if (this.Qeni8n4.Length != 0)
          return;
        this.Qeni8n4 = this.\u0021G\u003BV4M\u003B.ToString();
      }
    }

    protected string GetFileName(string path, char[] directorySeparators)
    {
      int num = path.TrimEnd(directorySeparators).LastIndexOfAny(directorySeparators);
      return num < 0 ? path : path.Substring(num + 1);
    }

    private void S\u0024y\u002Fton()
    {
      if (!this.q\u005E\u005EB\u002FKx)
        return;
      this.Qeni8n4 = this.Qeni8n4 + this.\u0021G\u003BV4M\u003B.ToString() + this.GetFileName(this.\u0037wXTAiG, this._sourceDirectorySeparators);
    }

    private string mrUjM\u002BC(string SaVl4iQ)
    {
      string str = SaVl4iQ.Substring(this.\u0037wXTAiG.Length);
      if ((int) this.w70X\u002BG0 != (int) this.\u0021G\u003BV4M\u003B)
        str = str.Replace(this.w70X\u002BG0, this.\u0021G\u003BV4M\u003B);
      if ((int) this.\u00355FUUa\u002D != (int) this.\u0021G\u003BV4M\u003B && (int) this.\u00355FUUa\u002D != (int) this.w70X\u002BG0)
        str = str.Replace(this.\u00355FUUa\u002D, this.\u0021G\u003BV4M\u003B);
      return str.Length == 0 || (int) str[0] == (int) this.\u0021G\u003BV4M\u003B ? this.Qeni8n4 + str : this.Qeni8n4 + this.\u0021G\u003BV4M\u003B.ToString() + str;
    }

    protected string PathCombine(string dirPath, string fileName, bool isSourcePath)
    {
      char ch = isSourcePath ? this.\u00355FUUa\u002D : this.\u0021G\u003BV4M\u003B;
      if (dirPath.Length == 0)
        return fileName;
      return (int) dirPath[dirPath.Length - 1] == (int) ch || (int) dirPath[dirPath.Length - 1] == (isSourcePath ? (int) this.w70X\u002BG0 : (int) this.\u0031\u002AA6\u0021\u002B\u002B) ? dirPath + fileName : dirPath + ch.ToString() + fileName;
    }

    private string \u0038KfEA9o(string _param1, char[] _param2, string _param3)
    {
      int num = _param1.LastIndexOfAny(_param2);
      return num >= 0 ? _param1.Remove(num + 1, _param1.Length - (num + 1)) + _param3 : _param3;
    }

    private void \u002Bu3\u00216EN()
    {
      if (this.Qeni8n4 == sgxPeiI.LiHKl\u0027x("@", "FYmwCpPrOdqkPO5"))
        return;
      aE7ouUg aE7ouUg = this.\u0027fU\u002Fw\u002Fn(this.Qeni8n4, false, true);
      if (aE7ouUg == null)
        throw this.CreateException(string.Format(sgxPeiI.LiHKl\u0027x("-\u001E03\u000Fx\u00165\u0013l?*\u0016\u0003=\u001A\u001078\u000E,X>\u000E>< \f\bo\u0017Qmx\u0010h\u0005}Nb", "FYmwCpPrOdqkPO5"), (object) this.Qeni8n4), (Exception) null);
      if (!aE7ouUg.\u0031FP\u005E14b)
        throw this.CreateException(string.Format(sgxPeiI.LiHKl\u0027x(":\u001078\u000E,X*\u000681c\u0011\u0014=\0\u001E1\u007F\nx\u001C3\u0015):7\u0017\u0015dNYb$[%_sI", "FYmwCpPrOdqkPO5"), (object) this.Qeni8n4), (Exception) null);
    }

    private void \u0036USb9Ia()
    {
      if (this.\u0037wXTAiG == sgxPeiI.LiHKl\u0027x("@", "FYmwCpPrOdqkPO5"))
      {
        this.\u00340v\u002AB7m.Add((object) new Oe_\u0027c\u003B\u0026(this.\u0037wXTAiG, this.\u0037wXTAiG, (string) null, false));
      }
      else
      {
        aE7ouUg aE7ouUg = this.X\u0025\u00245\u0025\u002AQ(this.\u0037wXTAiG, true, false, this.\u002BRq\u007E\u00254t);
        if (aE7ouUg == null)
          throw this.CreateException(string.Format(sgxPeiI.LiHKl\u0027x("-\u001E03\u000Fx\u00165\u0013l?*\u0016\u0003=\u001D\u001E0-\b=X*\u000681cP@f^\fbvE", "FYmwCpPrOdqkPO5"), (object) this.\u0037wXTAiG), (Exception) null);
        if (aE7ouUg.\u0031FP\u005E14b || aE7ouUg.jH91b\u0027\u002B)
        {
          this.\u00340v\u002AB7m.Add((object) new Oe_\u0027c\u003B\u0026(aE7ouUg.vpPXb\u002Ac, this.\u0037wXTAiG, (string) null, aE7ouUg.jH91b\u0027\u002B));
        }
        else
        {
          if (!aE7ouUg.eOM\u0025Qe1)
            throw this.CreateException(string.Format(sgxPeiI.LiHKl\u0027x("=\u001E0-\b=X*\u000681c\u0011\u0014=\0\u001E1\u007F\nx\u001E3\v)y,\nGy\a\u0003 <\u001F7\n#Gd~8H\u001A:G_", "FYmwCpPrOdqkPO5"), (object) this.\u0037wXTAiG), (Exception) null);
          this.q\u005E\u005EB\u002FKx = false;
          this.\u0037wXTAiG = this.\u0037wXTAiG.Remove(this.\u0037wXTAiG.Length - aE7ouUg.vpPXb\u002Ac.Length, aE7ouUg.vpPXb\u002Ac.Length);
          this.oq1K\u002B\u003FJ.Add((object) new gH\u002AMt\u00217(((\u0029z5LT\u0021n) aE7ouUg).get_Item(), aE7ouUg.vpPXb\u002Ac, this.\u0037wXTAiG, 0L, true));
          this.oq1K\u002B\u003FJ.Add((object) new gH\u002AMt\u00217(((\u0029z5LT\u0021n) aE7ouUg).get_Item(), aE7ouUg.vpPXb\u002Ac, aE7ouUg.BmIBRw\u002B));
          this._filesTotal = 1;
          this._bytesTotal = aE7ouUg.BmIBRw\u002B;
        }
      }
    }

    protected void TransferFiles(
      bool putFile,
      object expectedRootItem,
      string localPath,
      string remotePath,
      fr\u003ATr\u002A\u0027 transferOptions,
      qzvjp\u0023B existingFileMode)
    {
      this._putFile = putFile;
      this.\u002BRq\u007E\u00254t = expectedRootItem;
      this._transferOptions = transferOptions;
      this._existingFileMode = existingFileMode;
      if ((this._transferOptions & fr\u003ATr\u002A\u0027.SkipLinks) != fr\u003ATr\u002A\u0027.Default && (this._transferOptions & fr\u003ATr\u002A\u0027.ThrowExceptionOnLinks) != fr\u003ATr\u002A\u0027.Default)
        throw new ArgumentException(sgxPeiI.LiHKl\u0027x("-\u0010+1\u0004,X)\u00028y!\u0017\u0013uN\".6\u001B\u0014\u00114\f?y\"\u0016\u0003=:\u001970\u001C\u001D\09\u0002<-*\u0017\tR\0=,1\0+V", "FYmwCpPrOdqkPO5"), sgxPeiI.LiHKl\u0027x("\u001A\u0003$1\u0018>\u001D((<-*\u0017\tn", "FYmwCpPrOdqkPO5"));
      if (putFile)
      {
        this.\u0037wXTAiG = localPath;
        this.Qeni8n4 = remotePath;
        this.\u00355FUUa\u002D = Path.DirectorySeparatorChar;
        this.w70X\u002BG0 = Path.AltDirectorySeparatorChar;
        this.\u0021G\u003BV4M\u003B = this.\u0026hZ\u00400xR;
        this.\u0031\u002AA6\u0021\u002B\u002B = this.\u003758WA\u005E\u007E;
      }
      else
      {
        this.\u0037wXTAiG = remotePath;
        this.Qeni8n4 = localPath;
        this.\u00355FUUa\u002D = this.\u0026hZ\u00400xR;
        this.w70X\u002BG0 = this.\u003758WA\u005E\u007E;
        this.\u0021G\u003BV4M\u003B = Path.DirectorySeparatorChar;
        this.\u0031\u002AA6\u0021\u002B\u002B = Path.AltDirectorySeparatorChar;
      }
      if ((int) this.\u00355FUUa\u002D == (int) this.w70X\u002BG0)
        this._sourceDirectorySeparators = new char[1]
        {
          this.\u00355FUUa\u002D
        };
      else
        this._sourceDirectorySeparators = new char[2]
        {
          this.\u00355FUUa\u002D,
          this.w70X\u002BG0
        };
      if ((int) this.\u0021G\u003BV4M\u003B == (int) this.\u0031\u002AA6\u0021\u002B\u002B)
        this._targetDirectorySeparators = new char[1]
        {
          this.\u0021G\u003BV4M\u003B
        };
      else
        this._targetDirectorySeparators = new char[2]
        {
          this.\u0021G\u003BV4M\u003B,
          this.\u0031\u002AA6\u0021\u002B\u002B
        };
      this.af\u0025\u0029FF9();
      if (putFile)
      {
        this.\u0036USb9Ia();
        this.\u002Bu3\u00216EN();
      }
      else
      {
        this.\u002Bu3\u00216EN();
        this.\u0036USb9Ia();
      }
      this.S\u0024y\u002Fton();
      this.\u002BVDyJ9\u0023(remotePath, localPath);
      this.U\u0040\u003FSwET();
    }

    private void \u002BVDyJ9\u0023(string _param1, string _param2)
    {
      this.OnBatchTransferProgress(s5d\u0027Qw\u002D.HierarchyRetrievalStarted, _param1, _param2);
      s5d\u0027Qw\u002D operation = s5d\u0027Qw\u002D.HierarchyRetrievalFailed;
      try
      {
        this.dd\u0027\u00244qr = true;
        while (this.\u00340v\u002AB7m.Count > 0)
        {
          this.CheckAborted();
          Oe_\u0027c\u003B\u0026 oeC = this.\u00340v\u002AB7m[this.\u00340v\u002AB7m.Count - 1] as Oe_\u0027c\u003B\u0026;
          this.\u00340v\u002AB7m.RemoveAt(this.\u00340v\u002AB7m.Count - 1);
          this.BCV\u0029\u002DxH(oeC);
        }
        operation = s5d\u0027Qw\u002D.HierarchyRetrieved;
      }
      finally
      {
        this.OnBatchTransferProgress(operation, _param1, _param2);
      }
    }

    private void BCV\u0029\u002DxH(Oe_\u0027c\u003B\u0026 _param1)
    {
      string wTAzN = _param1.W\u003AtAz\u003Fn;
      string str = this.mrUjM\u002BC(wTAzN);
      string localPath = this._putFile ? wTAzN : str;
      string remotePath = this._putFile ? str : wTAzN;
      aE7ouUg aE7ouUg = !this._putFile ? this.GetRemoteFileItemInfo(wTAzN) : this.GetLocalFileItemInfo(wTAzN);
      if (aE7ouUg == null)
      {
        Sk_\u002B\u002FO\u0029 type = _param1.i\u0025RU\u0023PQ ? Sk_\u002B\u002FO\u0029.CannotFindLink : Sk_\u002B\u002FO\u0029.CannotFindDirectory;
        W44\u003BZ\u003As chosenAction;
        this.HandleException(this.CreateBatchException(string.Format(sgxPeiI.LiHKl\u0027x("-\u0010+1\u0004,X<\u000E\"=c\u0019Gf_\fewL#H'@ew", "FYmwCpPrOdqkPO5"), (object) wTAzN, _param1.i\u0025RU\u0023PQ ? (object) sgxPeiI.LiHKl\u0027x("\u0002\u0018+4", "FYmwCpPrOdqkPO5") : (object) sgxPeiI.LiHKl\u0027x("\n\u00187:\b,\u0017(\u001E", "FYmwCpPrOdqkPO5")), (Exception) null, type, remotePath, localPath), type, remotePath, localPath, W44\u003BZ\u003As.ThrowException, W44\u003BZ\u003As.SkipRetry, out chosenAction);
        if (chosenAction == W44\u003BZ\u003As.Skip)
          return;
        if (chosenAction == W44\u003BZ\u003As.Retry)
        {
          this.\u00340v\u002AB7m.Add((object) _param1);
          return;
        }
      }
      if (_param1.i\u0025RU\u0023PQ)
      {
        W44\u003BZ\u003As w44ZS;
        this.HandleException(this.CreateBatchException(string.Format(sgxPeiI.LiHKl\u0027x("\"\u0018+4K>\u0017/\t(yk_\u001C-\u0013Vlq", "FYmwCpPrOdqkPO5"), (object) wTAzN), (Exception) null, Sk_\u002B\u002FO\u0029.LinkDetected, remotePath, localPath), Sk_\u002B\u002FO\u0029.LinkDetected, remotePath, localPath, Bpv\u002A\u002D\u002BP.flkeVPl(this._transferOptions), W44\u003BZ\u003As.SkipRetryFollowLink, out w44ZS);
        if (w44ZS == W44\u003BZ\u003As.Skip)
          return;
        if (w44ZS == W44\u003BZ\u003As.Retry)
        {
          this.\u00340v\u002AB7m.Add((object) _param1);
          return;
        }
        _param1.dWL\u003Adud(this._sourceDirectorySeparators);
        if (_param1.MBr9Cut(this._sourceDirectorySeparators))
        {
          this.hCO\u0023X0\u003A(wTAzN, remotePath, localPath, W44\u003BZ\u003As.SkipRetryFollowLink, out w44ZS);
          if (w44ZS == W44\u003BZ\u003As.Skip)
            return;
          if (w44ZS == W44\u003BZ\u003As.Retry)
          {
            this.\u00340v\u002AB7m.Add((object) _param1);
            return;
          }
        }
        try
        {
          if (!this._putFile)
          {
            if (this.\u0032\u002A\u002A\u0029\u002BB\u002F)
              aE7ouUg = this.GetRemoteFileItemInfo(wTAzN, true, true);
          }
        }
        catch (Exception ex)
        {
          this.HandleCaughtException(ex, string.Format(sgxPeiI.LiHKl\u0027x("-\u0010+1\u0004,X(\u0002?6/\u000E\u0002=\u0002\u0018+4Kp_!W1~jV", "FYmwCpPrOdqkPO5"), (object) wTAzN), Sk_\u002B\u002FO\u0029.CannotResolveLink, remotePath, localPath, (aE7ouUg) null, (aE7ouUg) null, W44\u003BZ\u003As.SkipRetry, out w44ZS);
          if (w44ZS == W44\u003BZ\u003As.Skip)
            return;
          if (w44ZS == W44\u003BZ\u003As.Retry)
          {
            this.\u00340v\u002AB7m.Add((object) _param1);
            return;
          }
        }
        if (aE7ouUg.eOM\u0025Qe1)
        {
          this.oq1K\u002B\u003FJ.Add((object) new gH\u002AMt\u00217(((\u0029z5LT\u0021n) aE7ouUg).get_Item(), aE7ouUg.vpPXb\u002Ac, aE7ouUg.BmIBRw\u002B));
          ++this._filesTotal;
          this._bytesTotal += aE7ouUg.BmIBRw\u002B;
          return;
        }
        if (aE7ouUg.\u0031FP\u005E14b)
        {
          if (!((Oe_\u0027c\u003B\u0026) this).get_IsRecursive() && !this.dd\u0027\u00244qr)
            return;
        }
        else
        {
          this.HandleException(this.CreateBatchException(string.Format(sgxPeiI.LiHKl\u0027x(":\u001078\u000E,X5\u0001l-+\u001DGq\a\u001F.\u007F\u0002+X4\b8y\"X\u0001t\u0002\u0014e0\u0019x\u001C3\u0015):7\u0017\u0015dNYb$[%_sI", "FYmwCpPrOdqkPO5"), (object) wTAzN), (Exception) null, Sk_\u002B\u002FO\u0029.NotFileOrDirectory, remotePath, localPath), Sk_\u002B\u002FO\u0029.NotFileOrDirectory, remotePath, localPath, W44\u003BZ\u003As.ThrowException, W44\u003BZ\u003As.SkipRetry, out w44ZS);
          if (w44ZS == W44\u003BZ\u003As.Skip)
            return;
          if (w44ZS == W44\u003BZ\u003As.Retry)
          {
            this.\u00340v\u002AB7m.Add((object) _param1);
            return;
          }
        }
      }
      try
      {
        if (this._putFile)
          this._filesTotal += this.AppendLocalFileList(this.\u00340v\u002AB7m, this.oq1K\u002B\u003FJ, _param1, this.\u0034kIyM\u003Aa, ((Oe_\u0027c\u003B\u0026) this).get_IsRecursive(), this.Xfz1nt9);
        else
          this._filesTotal += this.AppendRemoteFileList(this.\u00340v\u002AB7m, this.oq1K\u002B\u003FJ, _param1, this.\u0034kIyM\u003Aa, ((Oe_\u0027c\u003B\u0026) this).get_IsRecursive(), this.Xfz1nt9, remotePath, localPath);
      }
      catch (Exception ex)
      {
        string message = !this._putFile || !aE7ouUg.jH91b\u0027\u002B || !(ex is DirectoryNotFoundException) || !Directory.Exists(wTAzN) ? string.Format(sgxPeiI.LiHKl\u0027x("-\u0010+1\u0004,X(\u0002-=c\u001E\u0015r\u0003Q$\u007F\u000F1\n?\u0004861\u0001G5I\nu\"LqV", "FYmwCpPrOdqkPO5"), (object) wTAzN) : string.Format(sgxPeiI.LiHKl\u0027x("-\u0010+1\u0004,X(\u0002-=c\u001E\u0015r\u0003Q$\u007F\u000F1\n?\u0004861\u0001Go\v\u0001$-\u0018=X*\b%77XO:\u0015A8xBv", "FYmwCpPrOdqkPO5"), (object) wTAzN);
        W44\u003BZ\u003As chosenAction;
        this.HandleCaughtException(ex, message, Sk_\u002B\u002FO\u0029.CannotReadFromDirectory, remotePath, localPath, (aE7ouUg) null, (aE7ouUg) null, W44\u003BZ\u003As.SkipRetry, out chosenAction);
        if (chosenAction == W44\u003BZ\u003As.Skip)
          return;
        if (chosenAction == W44\u003BZ\u003As.Retry)
        {
          this.\u00340v\u002AB7m.Add((object) _param1);
          return;
        }
      }
      if (!this.Xfz1nt9)
        this.\u0034kIyM\u003Aa = (Regex) null;
      this.dd\u0027\u00244qr = false;
    }

    private void hCO\u0023X0\u003A(
      string _param1,
      string _param2,
      string _param3,
      W44\u003BZ\u003As _param4,
      out W44\u003BZ\u003As sLAgqRu)
    {
      this.HandleException(this.CreateBatchException(string.Format(sgxPeiI.LiHKl\u0027x(">\u001E6,\u0002:\u0014?G%7%\u0011\tt\u001A\u0014e3\u00047\bz\u0003)-&\u001B\u0013x\nQmx\u0010h\u0005}Nb", "FYmwCpPrOdqkPO5"), (object) _param1), (Exception) null, Sk_\u002B\u002FO\u0029.InfiniteLoopDetected, _param2, _param3), Sk_\u002B\u002FO\u0029.InfiniteLoopDetected, _param2, _param3, W44\u003BZ\u003As.ThrowException, _param4, out sLAgqRu);
    }

    private void U\u0040\u003FSwET()
    {
      for (this.MCERjmL = 0; this.MCERjmL < this.oq1K\u002B\u003FJ.Count; ++this.MCERjmL)
      {
        this.CheckAborted();
        gH\u002AMt\u00217 gHMt7 = this.oq1K\u002B\u003FJ[this.MCERjmL] as gH\u002AMt\u00217;
        if (gHMt7.\u0026\u003BM\u002BCW6)
          this.\u003AVN4BZ\u002F(gHMt7);
        else
          this.SeXHl\u002F_(gHMt7);
      }
      this.oq1K\u002B\u003FJ.Clear();
    }

    private void \u003AVN4BZ\u002F(gH\u002AMt\u00217 _param1)
    {
      string SaVl4iQ = _param1.\u0032eA\u002FB\u0040n;
      string str = this.mrUjM\u002BC(SaVl4iQ);
      string remotePath = this._putFile ? str : SaVl4iQ;
      string localPath = this._putFile ? SaVl4iQ : str;
      this.\u0032aa\u002DgD\u002F = SaVl4iQ;
      this.\u003BY\u003F\u003BoM\u002B = str;
      if (!this.q\u005E\u005EB\u002FKx)
      {
        this.q\u005E\u005EB\u002FKx = true;
      }
      else
      {
        this.OnBatchTransferProgress(s5d\u0027Qw\u002D.DirectoryProcessingStarted, remotePath, localPath);
        bool flag = true;
        s5d\u0027Qw\u002D operation = s5d\u0027Qw\u002D.DirectoryProcessingFailed;
        try
        {
          this.ther\u003FIc(false, _param1.pD\u0040ec\u002B0, ref remotePath, ref localPath, ref str, ref operation);
          while (operation != s5d\u0027Qw\u002D.DirectorySkipped)
          {
            this.CheckAborted();
            try
            {
              aE7ouUg aE7ouUg = this.\u0027fU\u002Fw\u002Fn(str, false, true);
              if (aE7ouUg == null)
              {
                if (this._putFile)
                  this.CreateRemoteDirectory(remotePath, localPath);
                else
                  this.CreateLocalDirectory(localPath);
                operation = s5d\u0027Qw\u002D.DirectoryCreated;
                break;
              }
              if (aE7ouUg.\u0031FP\u005E14b)
              {
                flag = false;
                break;
              }
              Exception batchException = this.CreateBatchException(string.Format(sgxPeiI.LiHKl\u0027x("(\u0018):K9\u0014(\u0002-=:X\u0002e\a\u00021,Kp_!W1~jV", "FYmwCpPrOdqkPO5"), (object) str), (Exception) null, Sk_\u002B\u002FO\u0029.FileExists, remotePath, localPath);
              W44\u003BZ\u003As chosenAction;
              \u0029z5LT\u0021n z5LtN = this.HandleException(this.CreateBatchException(string.Format(sgxPeiI.LiHKl\u0027x("-\u0010+1\u0004,X9\u0015)87\u001DG|N\u0015,-\u000E;\f5\u00155y!\u001D\u0004|\u001B\u0002 \u007F\nx\u001E3\v)y4\u0011\u0013uN\u0005-:K+\u00197\u0002l7\"\u0015\u0002=\u000F\u001D7:\n<\u0001z\u0002400\f\u0014=FV>o\u0016\u007FQt", "FYmwCpPrOdqkPO5"), (object) str), batchException, Sk_\u002B\u002FO\u0029.CannotCreateDirectory, remotePath, localPath), Sk_\u002B\u002FO\u0029.FileExists, remotePath, localPath, W44\u003BZ\u003As.ThrowException, W44\u003BZ\u003As.SkipRetryRename, out chosenAction);
              switch (chosenAction)
              {
                case W44\u003BZ\u003As.Rename:
                  str = this.\u0038KfEA9o(str, this._targetDirectorySeparators, z5LtN.a\u002F\u0023\u003AYp\u002F);
                  if (this._putFile)
                  {
                    remotePath = str;
                    continue;
                  }
                  localPath = str;
                  continue;
                case W44\u003BZ\u003As.Retry:
                  continue;
                default:
                  operation = s5d\u0027Qw\u002D.DirectorySkipped;
                  goto label_25;
              }
            }
            catch (Exception ex)
            {
              W44\u003BZ\u003As chosenAction;
              \u0029z5LT\u0021n z5LtN = this.HandleCaughtException(ex, string.Format(sgxPeiI.LiHKl\u0027x("-\u0010+1\u0004,X9\u0015)87\u001DGy\a\u0003 <\u001F7\n#Gd~8H\u001A:G_", "FYmwCpPrOdqkPO5"), (object) str), Sk_\u002B\u002FO\u0029.CannotCreateDirectory, remotePath, localPath, (aE7ouUg) null, (aE7ouUg) null, W44\u003BZ\u003As.SkipRetryRename, out chosenAction);
              switch (chosenAction)
              {
                case W44\u003BZ\u003As.Skip:
                  operation = s5d\u0027Qw\u002D.DirectorySkipped;
                  goto label_25;
                case W44\u003BZ\u003As.Rename:
                  str = this.\u0038KfEA9o(str, this._targetDirectorySeparators, z5LtN.a\u002F\u0023\u003AYp\u002F);
                  if (this._putFile)
                  {
                    remotePath = str;
                    continue;
                  }
                  localPath = str;
                  continue;
                case W44\u003BZ\u003As.Retry:
                  continue;
                default:
                  goto label_25;
              }
            }
          }
label_25:
          if (operation != s5d\u0027Qw\u002D.DirectorySkipped)
            return;
          for (++this.MCERjmL; this.MCERjmL < this.oq1K\u002B\u003FJ.Count; ++this.MCERjmL)
          {
            _param1 = this.oq1K\u002B\u003FJ[this.MCERjmL] as gH\u002AMt\u00217;
            if (_param1.\u0026\u003BM\u002BCW6)
            {
              if (!_param1.\u0032eA\u002FB\u0040n.StartsWith(SaVl4iQ))
              {
                --this.MCERjmL;
                break;
              }
            }
            else
            {
              ++this._filesProcessed;
              this._bytesProcessed += _param1.\u0037T_a\u002A\u00277;
            }
          }
        }
        finally
        {
          this.\u003BY\u003F\u003BoM\u002B = str;
          if (flag)
            this.OnBatchTransferProgress(operation, remotePath, localPath);
        }
      }
    }

    private void SeXHl\u002F_(gH\u002AMt\u00217 _param1)
    {
      bool flag = false;
      bool ZvgYGMA = false;
      string str1 = this.PathCombine(this.\u0032aa\u002DgD\u002F, _param1.pD\u0040ec\u002B0, true);
      string str2 = this.PathCombine(this.\u003BY\u003F\u003BoM\u002B, _param1.pD\u0040ec\u002B0, false);
      string remotePath = this._putFile ? str2 : str1;
      string localPath = this._putFile ? str1 : str2;
      this.OnBatchTransferProgress(s5d\u0027Qw\u002D.FileProcessingStarted, remotePath, localPath);
      s5d\u0027Qw\u002D operation = s5d\u0027Qw\u002D.FileProcessingFailed;
      try
      {
        this.ther\u003FIc(true, _param1.pD\u0040ec\u002B0, ref remotePath, ref localPath, ref str2, ref operation);
        while (operation != s5d\u0027Qw\u002D.FileSkipped)
        {
          this.CheckAborted();
          W44\u003BZ\u003As chosenAction;
          aE7ouUg aE7ouUg1 = this.\u0021G\u002B\u005EdL\u002B(_param1, str1, remotePath, localPath, W44\u003BZ\u003As.SkipRetry, out chosenAction);
          if (aE7ouUg1 == null)
          {
            if (chosenAction != W44\u003BZ\u003As.Retry)
            {
              operation = s5d\u0027Qw\u002D.FileSkipped;
              break;
            }
          }
          else
          {
            aE7ouUg aE7ouUg2 = this.\u0027fU\u002Fw\u002Fn(str2, false, true);
            aE7ouUg remoteInfo = this._putFile ? aE7ouUg2 : aE7ouUg1;
            aE7ouUg localInfo = this._putFile ? aE7ouUg1 : aE7ouUg2;
            if (aE7ouUg2 != null)
            {
              \u0029z5LT\u0021n z5LtN = this.HandleException(this.CreateBatchException(string.Format(sgxPeiI.LiHKl\u0027x("(\u0018):K9\u0014(\u0002-=:X\u0002e\a\u00021,Kp_!W1~jV", "FYmwCpPrOdqkPO5"), (object) str2), (Exception) null, Sk_\u002B\u002FO\u0029.FileExists, remotePath, localPath), Sk_\u002B\u002FO\u0029.FileExists, remotePath, localPath, remoteInfo, localInfo, Bpv\u002A\u002D\u002BP.E\u002A\u003F\u002Fl3e(this._existingFileMode), W44\u003BZ\u003As.SkipRetryRename | W44\u003BZ\u003As.AllOverwrites | W44\u003BZ\u003As.Append, out chosenAction);
              switch (chosenAction)
              {
                case W44\u003BZ\u003As.Skip:
                  operation = s5d\u0027Qw\u002D.FileSkipped;
                  break;
                case W44\u003BZ\u003As.Append:
                  flag = true;
                  break;
                case W44\u003BZ\u003As.Overwrite:
                  ZvgYGMA = true;
                  break;
                case W44\u003BZ\u003As.OverwriteOlder:
                  if (aE7ouUg1.\u0038igTswj <= aE7ouUg2.\u0038igTswj)
                  {
                    operation = s5d\u0027Qw\u002D.FileSkipped;
                    break;
                  }
                  ZvgYGMA = true;
                  break;
                case W44\u003BZ\u003As.OverwriteDifferentSize:
                  if (aE7ouUg1.BmIBRw\u002B == aE7ouUg2.BmIBRw\u002B)
                  {
                    operation = s5d\u0027Qw\u002D.FileSkipped;
                    break;
                  }
                  ZvgYGMA = true;
                  break;
                case W44\u003BZ\u003As.Rename:
                  str2 = this.\u0038KfEA9o(str2, this._targetDirectorySeparators, z5LtN.a\u002F\u0023\u003AYp\u002F);
                  if (this._putFile)
                  {
                    remotePath = str2;
                    continue;
                  }
                  localPath = str2;
                  continue;
                case W44\u003BZ\u003As.Retry:
                  continue;
                default:
                  throw new InvalidOperationException(string.Format(sgxPeiI.LiHKl\u0027x("=\u0014):\b,\u001D>G-:7\u0011\bsN\u00186\u007F\u00057\fz\u0006 5,\u000F\u0002yNYb$[%_sI", "FYmwCpPrOdqkPO5"), (object) chosenAction));
              }
            }
            if (operation != s5d\u0027Qw\u002D.FileSkipped)
            {
              this.\u0040xtJ\u0025I7(str1, str2, remotePath, localPath, aE7ouUg1, aE7ouUg2, remoteInfo, localInfo, flag, ZvgYGMA, ref operation);
              break;
            }
            break;
          }
        }
        this._bytesProcessed += _param1.\u0037T_a\u002A\u00277;
        ++this._filesProcessed;
        if (operation == s5d\u0027Qw\u002D.FileSkipped)
          return;
        ++this._filesTransferred;
      }
      finally
      {
        this.OnBatchTransferProgress(operation, remotePath, localPath);
      }
    }

    private void \u0040xtJ\u0025I7(
      string _param1,
      string _param2,
      string _param3,
      string _param4,
      aE7ouUg _param5,
      aE7ouUg _param6,
      aE7ouUg _param7,
      aE7ouUg _param8,
      bool _param9,
      bool ZvgYGMA,
      ref s5d\u0027Qw\u002D _param11)
    {
      this.OnBatchTransferProgress(s5d\u0027Qw\u002D.FileTransferStarting, _param5, _param3, _param4);
label_1:
      this.CheckAborted();
      try
      {
        if (_param9)
        {
          if (this._putFile)
            this.PutFile(((\u0029z5LT\u0021n) _param5).get_Item(), ((\u0029z5LT\u0021n) _param6).get_Item(), _param1, _param2, 0L, _param6.BmIBRw\u002B);
          else
            this.GetFile(((\u0029z5LT\u0021n) _param5).get_Item(), ((\u0029z5LT\u0021n) _param6).get_Item(), _param1, _param2, 0L, _param6.BmIBRw\u002B);
        }
        else if (this._putFile)
          this.PutFile(((\u0029z5LT\u0021n) _param5).get_Item(), _param6 == null ? (object) null : ((\u0029z5LT\u0021n) _param6).get_Item(), _param1, _param2, ZvgYGMA);
        else
          this.GetFile(((\u0029z5LT\u0021n) _param5).get_Item(), _param6 == null ? (object) null : ((\u0029z5LT\u0021n) _param6).get_Item(), _param1, _param2, ZvgYGMA);
        _param11 = s5d\u0027Qw\u002D.FileTransferred;
      }
      catch (Exception ex)
      {
        W44\u003BZ\u003As chosenAction;
        this.HandleCaughtException(ex, string.Format(sgxPeiI.LiHKl\u0027x("-\u0010+1\u0004,X.\u0015-70\u001E\u0002oN\u0017,3\u000ExP}\u001C|$dQI", "FYmwCpPrOdqkPO5"), (object) _param1), Sk_\u002B\u002FO\u0029.CannotTransferFile, _param3, _param4, _param7, _param8, W44\u003BZ\u003As.SkipRetry, out chosenAction);
        switch (chosenAction)
        {
          case W44\u003BZ\u003As.Skip:
            _param11 = s5d\u0027Qw\u002D.FileSkipped;
            break;
          case W44\u003BZ\u003As.Retry:
            goto label_1;
        }
      }
    }

    private aE7ouUg \u0027fU\u002Fw\u002Fn(string _param1, bool _param2, bool _param3) => this.X\u0025\u00245\u0025\u002AQ(_param1, _param2, _param3, (object) null);

    private aE7ouUg X\u0025\u00245\u0025\u002AQ(
      string _param1,
      bool _param2,
      bool _param3,
      object _param4)
    {
      if (this._putFile == _param2)
        return this.GetLocalFileItemInfo(_param1);
      return !this.\u0032\u002A\u002A\u0029\u002BB\u002F ? this.GetRemoteFileItemInfo(_param1, _param4) : this.GetRemoteFileItemInfo(_param1, _param3, false, _param4);
    }

    private aE7ouUg \u0021G\u002B\u005EdL\u002B(
      gH\u002AMt\u00217 GlxwHPG,
      string _param2,
      string _param3,
      string _param4,
      W44\u003BZ\u003As _param5,
      out W44\u003BZ\u003As _param6)
    {
      aE7ouUg aE7ouUg = this.X\u0025\u00245\u0025\u002AQ(_param2, true, true, ((aE7ouUg) GlxwHPG).get_Item());
      if (aE7ouUg == null)
      {
        this.HandleException(this.CreateBatchException(string.Format(sgxPeiI.LiHKl\u0027x("-\u0010+1\u0004,X(\u00028+*\u001D\u0011xN\u0017,3\u000Ex\u00114\u0001#yk_\u001C-\u0013Vlq", "FYmwCpPrOdqkPO5"), (object) _param2), (Exception) null, Sk_\u002B\u002FO\u0029.CannotFindFile, _param3, _param4), Sk_\u002B\u002FO\u0029.CannotFindFile, _param3, _param4, W44\u003BZ\u003As.ThrowException, _param5, out _param6);
        return (aE7ouUg) null;
      }
      _param6 = W44\u003BZ\u003As.None;
      return aE7ouUg;
    }

    private void ther\u003FIc(
      bool _param1,
      string _param2,
      ref string _param3,
      ref string _param4,
      ref string _param5,
      ref s5d\u0027Qw\u002D _param6)
    {
      if (_param2.Length > 0 && _param2.IndexOfAny(this._putFile ? this.\u0025_kGRlx : Bpv\u002A\u002D\u002BP.\u003AW1\u002Df\u002A\u002A) < 0)
        return;
      Sk_\u002B\u002FO\u0029 type = _param1 ? Sk_\u002B\u002FO\u0029.FileNameIsInvalidOnTargetFileSystem : Sk_\u002B\u002FO\u0029.DirectoryNameIsInvalidOnTargetFileSystem;
      W44\u003BZ\u003As chosenAction;
      \u0029z5LT\u0021n z5LtN = this.HandleException(!_param1 ? this.CreateBatchException(string.Format(sgxPeiI.LiHKl\u0027x("*\u00187:\b,\u0017(\u001El7\"\u0015\u0002=\a\u0002e6\u0005.\u00196\u000E(y,\u0016Gi\u000F\u0003\":\u001Fx\u001C?\u001480-\u0019\u0013t\u0001\u001FewL#H'@ew", "FYmwCpPrOdqkPO5"), (object) _param2), (Exception) null, type, _param3, _param4) : this.CreateBatchException(string.Format(sgxPeiI.LiHKl\u0027x("(\u0018):K6\u00197\u0002l00X\u000Es\u0018\u0010)6\u000Fx\u00174G881\u001F\u0002iN\u0015 ,\u001F1\u0016;\u0013%6-XO:\u0015A8xBv", "FYmwCpPrOdqkPO5"), (object) _param2), (Exception) null, type, _param3, _param4), type, _param3, _param4, W44\u003BZ\u003As.ThrowException, W44\u003BZ\u003As.SkipRename, out chosenAction);
      switch (chosenAction)
      {
        case W44\u003BZ\u003As.Skip:
          _param6 = _param1 ? s5d\u0027Qw\u002D.FileSkipped : s5d\u0027Qw\u002D.DirectorySkipped;
          break;
        case W44\u003BZ\u003As.Rename:
          _param5 = _param5.Remove(_param5.Length - _param2.Length, _param2.Length) + z5LtN.a\u002F\u0023\u003AYp\u002F;
          if (this._putFile)
          {
            _param3 = _param5;
            break;
          }
          _param4 = _param5;
          break;
      }
    }

    protected \u0029z5LT\u0021n HandleCaughtException(
      Exception caught,
      string message,
      Sk_\u002B\u002FO\u0029 type,
      string remotePath,
      string localPath,
      aE7ouUg remoteInfo,
      aE7ouUg localInfo,
      W44\u003BZ\u003As possibleActions,
      out W44\u003BZ\u003As chosenAction)
    {
      Exception batchException = this.CreateBatchException(message, caught, type, remotePath, localPath);
      if (!this.IsInnerObjectUsable())
        throw batchException;
      return this.HandleException(batchException, type, remotePath, localPath, remoteInfo, localInfo, W44\u003BZ\u003As.ThrowException, possibleActions, out chosenAction);
    }

    protected \u0029z5LT\u0021n HandleException(
      Exception ex,
      Sk_\u002B\u002FO\u0029 type,
      string remotePath,
      string localPath,
      W44\u003BZ\u003As defaultAction,
      W44\u003BZ\u003As possibleActions,
      out W44\u003BZ\u003As chosenAction)
    {
      return this.HandleException(ex, type, remotePath, localPath, (aE7ouUg) null, (aE7ouUg) null, defaultAction, possibleActions, out chosenAction);
    }

    protected \u0029z5LT\u0021n HandleException(
      Exception ex,
      Sk_\u002B\u002FO\u0029 type,
      string remotePath,
      string localPath,
      aE7ouUg remoteInfo,
      aE7ouUg localInfo,
      W44\u003BZ\u003As defaultAction,
      W44\u003BZ\u003As possibleActions,
      out W44\u003BZ\u003As chosenAction)
    {
      Exception abortException = this.GetAbortException(ex);
      if (abortException != null)
        throw abortException;
      possibleActions |= W44\u003BZ\u003As.ThrowException;
      \u0029z5LT\u0021n e = new \u0029z5LT\u0021n(ex, defaultAction, possibleActions);
      this.OnBatchTransferProblemDetected(e, remoteInfo, localInfo);
      switch (e.\u002F\u0029rryUh)
      {
        case W44\u003BZ\u003As.Skip:
        case W44\u003BZ\u003As.Append:
        case W44\u003BZ\u003As.Overwrite:
        case W44\u003BZ\u003As.OverwriteOlder:
        case W44\u003BZ\u003As.OverwriteDifferentSize:
        case W44\u003BZ\u003As.Retry:
        case W44\u003BZ\u003As.FollowLink:
          if ((possibleActions & e.\u002F\u0029rryUh) != W44\u003BZ\u003As.None)
          {
            chosenAction = e.\u002F\u0029rryUh;
            return e;
          }
          break;
        case W44\u003BZ\u003As.Rename:
          if ((possibleActions & W44\u003BZ\u003As.Rename) != W44\u003BZ\u003As.None)
          {
            if (e.a\u002F\u0023\u003AYp\u002F == null)
              throw new InvalidOperationException(sgxPeiI.LiHKl\u0027x(":\u0019 \u007F%=\u000F\n\u000681c\b\u0015r\u001E\u00147+\u0012x\u0010;\u0014l-,X\u0005xN\u0002 +K/\u0010?\tl\u0018 \f\u000Er\0Q .\u001E9\u0014)G\u001E<-\u0019\nx@", "FYmwCpPrOdqkPO5"), ex);
            chosenAction = W44\u003BZ\u003As.Rename;
            return e;
          }
          break;
        case W44\u003BZ\u003As.ThrowException:
          throw ex;
        default:
          throw new InvalidOperationException(string.Format(sgxPeiI.LiHKl\u0027x(";\u001F.1\u0004/\u0016z&/-*\u0017\t=I\nu\"Lx\u000F;\u0014l*3\u001D\u0004t\b\u0018 ;E", "FYmwCpPrOdqkPO5"), (object) e.\u002F\u0029rryUh), ex);
      }
      throw new InvalidOperationException(string.Format(sgxPeiI.LiHKl\u0027x("/\u001216\u00046X}\u001C|$dX\u000EnN\u001F*+K9\u0016z\u0006 5,\u000F\u0002yN\u0003 ,\u001B7\u0016)\u0002l?,\nGi\u0006\u0014e$Z%X?\u001F/<3\f\u000Er\0_", "FYmwCpPrOdqkPO5"), (object) e.\u002F\u0029rryUh, (object) type), ex);
    }

    protected aE7ouUg GetLocalFileItemInfo(string localPath)
    {
      FileInfo fileInfo = new FileInfo(localPath);
      bool isReparsePoint = (fileInfo.Attributes & FileAttributes.ReparsePoint) != 0;
      bool isDirectory = (fileInfo.Attributes & FileAttributes.Directory) != 0;
      long length;
      if (isDirectory)
      {
        if (!Directory.Exists(localPath))
          return (aE7ouUg) null;
        length = 0L;
      }
      else
      {
        if (!fileInfo.Exists)
          return (aE7ouUg) null;
        length = fileInfo.Length;
      }
      return new aE7ouUg((object) null, fileInfo.Name, localPath, isReparsePoint, !isDirectory, isDirectory, length, fileInfo.LastWriteTime);
    }

    protected abstract bool \u0032\u002A\u002A\u0029\u002BB\u002F { get; }

    protected aE7ouUg GetRemoteFileItemInfo(
      string remotePath,
      bool followSymlinks,
      bool failIfNotFound)
    {
      return this.GetRemoteFileItemInfo(remotePath, followSymlinks, failIfNotFound, (object) null);
    }

    protected abstract aE7ouUg GetRemoteFileItemInfo(
      string remotePath,
      bool followSymlinks,
      bool failIfNotFound,
      object expectedRemoteItem);

    protected aE7ouUg GetRemoteFileItemInfo(string remotePath) => this.GetRemoteFileItemInfo(remotePath, (object) null);

    protected abstract aE7ouUg GetRemoteFileItemInfo(
      string remotePath,
      object expectedRemoteItem);

    protected int AppendLocalFileList(
      ArrayList dirs,
      ArrayList files,
      Oe_\u0027c\u003B\u0026 localPathInfo,
      Regex nameFilter,
      bool appendDirs,
      bool isXCopy)
    {
      files.Add((object) new gH\u002AMt\u00217((object) null, ((gH\u002AMt\u00217) localPathInfo).get_Name(), localPathInfo.W\u003AtAz\u003Fn, 0L, true));
      if (appendDirs)
      {
        string[] directories = Directory.GetDirectories(localPathInfo.W\u003AtAz\u003Fn);
        for (int index = 0; index < directories.Length; ++index)
        {
          string fileName = Path.GetFileName(directories[index]);
          if (nameFilter == null || isXCopy || nameFilter.IsMatch(fileName))
          {
            if (localPathInfo.Bo\u002Di3pf == null)
              dirs.Add((object) new Oe_\u0027c\u003B\u0026(fileName, directories[index], (string) null, false));
            else
              dirs.Add((object) new Oe_\u0027c\u003B\u0026(fileName, directories[index], localPathInfo.Bo\u002Di3pf + Path.DirectorySeparatorChar.ToString() + fileName, false));
          }
        }
      }
      string[] files1 = Directory.GetFiles(localPathInfo.W\u003AtAz\u003Fn);
      for (int index = 0; index < files1.Length; ++index)
      {
        FileInfo fileInfo = new FileInfo(files1[index]);
        if (nameFilter == null || nameFilter.IsMatch(fileInfo.Name))
        {
          files.Add((object) new gH\u002AMt\u00217((object) null, fileInfo.Name, fileInfo.Length));
          this._bytesTotal += fileInfo.Length;
        }
      }
      return files1.Length;
    }

    protected abstract int AppendRemoteFileList(
      ArrayList dirs,
      ArrayList files,
      Oe_\u0027c\u003B\u0026 remotePathInfo,
      Regex nameFilter,
      bool appendDirs,
      bool isXCopy,
      string remotePath,
      string localPath);

    protected void CreateLocalDirectory(string localPath) => Directory.CreateDirectory(localPath);

    protected abstract char \u0026hZ\u00400xR { get; }

    protected abstract char \u003758WA\u005E\u007E { get; }

    protected abstract char[] \u0025_kGRlx { get; }

    protected abstract bool IsInnerObjectUsable();

    protected abstract Exception CreateException(string message, Exception ex);

    protected abstract Exception CreateBatchException(
      string message,
      Exception ex,
      Sk_\u002B\u002FO\u0029 type,
      string remotePath,
      string localPath);

    protected abstract void CreateRemoteDirectory(string remotePath, string localPath);

    protected abstract long PutFile(
      object localItem,
      object remoteItem,
      string localPath,
      string remotePath,
      bool overwrite);

    protected abstract long PutFile(
      object localItem,
      object remoteItem,
      string localPath,
      string remotePath,
      long localOffset,
      long remoteOffset);

    protected abstract long GetFile(
      object remoteItem,
      object localItem,
      string remotePath,
      string localPath,
      bool overwrite);

    protected abstract long GetFile(
      object remoteItem,
      object localItem,
      string remotePath,
      string localPath,
      long remoteOffset,
      long localOffset);

    protected abstract void OnBatchTransferProgress(
      s5d\u0027Qw\u002D operation,
      string remotePath,
      string localPath);

    protected abstract void OnBatchTransferProgress(
      s5d\u0027Qw\u002D operation,
      aE7ouUg transferringFileInfo,
      string remotePath,
      string localPath);

    protected abstract void OnBatchTransferProblemDetected(
      \u0029z5LT\u0021n e,
      aE7ouUg remoteInfo,
      aE7ouUg localInfo);

    protected abstract void CheckAborted();

    protected abstract Exception GetAbortException(Exception ex);

    [CompilerGenerated]
    [SpecialName]
    public void add_BannerReceived(SshMessageEventHandler value)
    {
      // ISSUE: reference to a compiler-generated field
      SshMessageEventHandler messageEventHandler1 = ((NAwnAxL) this).YOotuRU;
      SshMessageEventHandler messageEventHandler2;
      do
      {
        messageEventHandler2 = messageEventHandler1;
        // ISSUE: reference to a compiler-generated field
        messageEventHandler1 = Interlocked.CompareExchange<SshMessageEventHandler>(ref ((NAwnAxL) this).YOotuRU, (SshMessageEventHandler) Delegate.Combine((Delegate) messageEventHandler2, (Delegate) value), messageEventHandler2);
      }
      while (messageEventHandler1 != messageEventHandler2);
    }
  }
}
