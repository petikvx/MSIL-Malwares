// Decompiled with JetBrains decompiler
// Type: s635191937287257.s075711490882900
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using s065175910567653;
using s111377166353221;
using s458160711200276;
using System;
using System.Collections.Generic;
using System.Runtime.InteropServices;

namespace s635191937287257
{
  public static class s075711490882900
  {
    public static unsafe Dictionary<string, s826130607911699> s978542719611778()
    {
      if (!s752892378058130.s569164546966561(62))
        throw new ApplicationException("Profile source only availabe on Win8 and beyond.");
      Dictionary<string, s826130607911699> dictionary = new Dictionary<string, s826130607911699>((IEqualityComparer<string>) StringComparer.OrdinalIgnoreCase);
      int s580962268671574_1 = 0;
      s134995860702422.s252129162195936(0UL, (s134995860702422.s267532197552653) 7, (void*) null, 0, ref s580962268671574_1);
      if (s580962268671574_1 != 0)
      {
        byte* s891441298970801 = stackalloc byte[s580962268671574_1];
        int s697879424542264_1 = s134995860702422.s252129162195936(0UL, (s134995860702422.s267532197552653) 7, (void*) s891441298970801, s580962268671574_1, ref s580962268671574_1);
        if (s697879424542264_1 == 0)
        {
          s134995860702422.s609320491393639 s609320491393639 = new s134995860702422.s609320491393639();
          s134995860702422.s151130862077355* s151130862077355Ptr = (s134995860702422.s151130862077355*) s891441298970801;
          while (true)
          {
            char* chPtr = (char*) (s151130862077355Ptr + 1);
            // ISSUE: cast to a reference type
            // ISSUE: explicit reference operation
            (^(s134995860702422.s782533197164731&) ref s609320491393639).s175459558449861 = s151130862077355Ptr->s541794053135542;
            s609320491393639.s438948875068453 = 0;
            int s580962268671574_2 = 0;
            int s697879424542264_2 = s134995860702422.s252129162195936(0UL, (s134995860702422.s267532197552653) 5, (void*) &s609320491393639, sizeof (s134995860702422.s609320491393639), ref s580962268671574_2);
            if (s697879424542264_2 != 0)
              Marshal.ThrowExceptionForHR(s134995860702422.s378247297349470(s697879424542264_2));
            string key = new string(chPtr);
            dictionary.Add(key, new s826130607911699()
            {
              s663739292500226 = key,
              s101851816578193 = s151130862077355Ptr->s541794053135542,
              s615398116455740 = s609320491393639.s438948875068453,
              s968361826949724 = s151130862077355Ptr->s491453258757279,
              s266125438026814 = s151130862077355Ptr->s882440872649825
            });
            if (((s134995860702422.s609320491393639*) s151130862077355Ptr)->s622091904703627 != 0)
              s151130862077355Ptr = (s134995860702422.s151130862077355*) (((s134995860702422.s609320491393639*) s151130862077355Ptr)->s622091904703627 + (IntPtr) s151130862077355Ptr);
            else
              break;
          }
        }
        else
          Marshal.ThrowExceptionForHR(s134995860702422.s378247297349470(s697879424542264_1));
      }
      return dictionary;
    }

    public static void s838938908633397(int s491906211753319, int s416959835644392) => s075711490882900.s145984536235626(new int[1]
    {
      s491906211753319
    }, new int[1]{ s416959835644392 });

    public static unsafe void s145984536235626(int[] s252846347188582, int[] s829221094317192)
    {
      if (!s752892378058130.s569164546966561(62))
        throw new ApplicationException("Profile source only available on Win8 and beyond.");
      s134995860702422.s006339029243813(11U);
      s134995860702422.s609320491393639 s609320491393639 = new s134995860702422.s609320491393639();
      for (int index = 0; index < s829221094317192.Length; ++index)
      {
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        (^(s134995860702422.s782533197164731&) ref s609320491393639).s175459558449861 = s252846347188582[index];
        s609320491393639.s438948875068453 = s829221094317192[index];
        int s697879424542264 = s134995860702422.s702249946667553(0UL, (s134995860702422.s267532197552653) 5, (void*) &s609320491393639, sizeof (s134995860702422.s609320491393639));
        if (s697879424542264 != 0)
          Marshal.ThrowExceptionForHR(s134995860702422.s378247297349470(s697879424542264));
      }
      fixed (int* s342077011301735 = s252846347188582)
      {
        int s697879424542264 = s134995860702422.s702249946667553(0UL, (s134995860702422.s267532197552653) 6, (void*) s342077011301735, s252846347188582.Length * 4);
        if (s697879424542264 != 0)
          Marshal.ThrowExceptionForHR(s134995860702422.s378247297349470(s697879424542264));
      }
    }
  }
}
