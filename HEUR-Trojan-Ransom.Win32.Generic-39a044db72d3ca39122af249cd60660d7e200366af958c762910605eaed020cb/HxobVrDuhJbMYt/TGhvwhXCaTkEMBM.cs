// Decompiled with JetBrains decompiler
// Type: HxobVrDuhJbMYt.TGhvwhXCaTkEMBM
// Assembly: sloc, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 8380720F-5D35-42C0-94D8-715B8457E8C4
// Assembly location: C:\Users\Administrateur\Downloads\toto\HEUR-Trojan-Ransom.Win32.Generic-39a044db72d3ca39122af249cd60660d7e200366af958c762910605eaed020cb.exe

using System;
using System.Collections;
using System.Collections.Generic;
using System.IO;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

namespace HxobVrDuhJbMYt
{
  public sealed class TGhvwhXCaTkEMBM : IEnumerable<string>, IEnumerable
  {
    private Dictionary<ulong, vDHOYTKrzyM> minCNdILhnyVCEm;
    private Dictionary<ulong, vDHOYTKrzyM> vwwuzsFGQn;
    private readonly string biXmnUuhREv;

    public TGhvwhXCaTkEMBM([In] string obj0) => this.biXmnUuhREv = obj0;

    IEnumerator IEnumerable.GetEnumerator() => (IEnumerator) this.GetEnumerator();

    public IEnumerator<string> GetEnumerator() => (IEnumerator<string>) new TGhvwhXCaTkEMBM.XSYMTkZkhNfnx(0)
    {
      IIchnqynIYD = this
    };

    private void HBngouaibnpHB()
    {
      if (this.minCNdILhnyVCEm != null)
        return;
      new MlaUJHhJrSKE().wByqwxhiyFl(this.biXmnUuhREv, (HashSet<string>) null, out this.minCNdILhnyVCEm, out this.vwwuzsFGQn);
    }

    private sealed class XSYMTkZkhNfnx : IEnumerator<string>, IDisposable, IEnumerator
    {
      private string XoiewYhfspGOaJoZl;
      private int sGfjnHSAWphWOtu;
      public TGhvwhXCaTkEMBM IIchnqynIYD;
      public List<string> VpOknCafZjdtr;
      public vDHOYTKrzyM bWZwuusJedwpuvIF;
      public vDHOYTKrzyM dboAzrTYFsVr;
      public int ZerbosTpyfBjiGc;
      public string KiRPLXuwogFXl;
      public Dictionary<ulong, vDHOYTKrzyM>.ValueCollection.Enumerator kQboBTXlWtv;

      bool IEnumerator.MoveNext()
      {
        // ISSUE: fault handler
        try
        {
          switch (this.sGfjnHSAWphWOtu)
          {
            case 0:
              this.sGfjnHSAWphWOtu = -1;
              this.IIchnqynIYD.HBngouaibnpHB();
              this.VpOknCafZjdtr = new List<string>();
              this.kQboBTXlWtv = this.IIchnqynIYD.minCNdILhnyVCEm.Values.GetEnumerator();
              this.sGfjnHSAWphWOtu = 1;
              goto label_10;
            case 2:
              this.sGfjnHSAWphWOtu = 1;
              break;
            default:
label_12:
              return false;
          }
label_9:
label_10:
          if (this.kQboBTXlWtv.MoveNext())
          {
            this.bWZwuusJedwpuvIF = this.kQboBTXlWtv.Current;
            this.VpOknCafZjdtr.Clear();
            this.dboAzrTYFsVr = this.bWZwuusJedwpuvIF;
            this.ZerbosTpyfBjiGc = -1;
            do
            {
              if (this.dboAzrTYFsVr.get_ParentFrn() != 0UL)
                this.VpOknCafZjdtr.Add(this.dboAzrTYFsVr.get_Name());
              this.dboAzrTYFsVr = !this.IIchnqynIYD.minCNdILhnyVCEm.ContainsKey(this.dboAzrTYFsVr.get_ParentFrn()) ? (!this.IIchnqynIYD.vwwuzsFGQn.ContainsKey(this.dboAzrTYFsVr.get_ParentFrn()) ? (vDHOYTKrzyM) null : this.IIchnqynIYD.vwwuzsFGQn[this.dboAzrTYFsVr.get_ParentFrn()]) : this.IIchnqynIYD.minCNdILhnyVCEm[this.dboAzrTYFsVr.get_ParentFrn()];
            }
            while (this.dboAzrTYFsVr != null && ++this.ZerbosTpyfBjiGc < 1000);
            if (this.VpOknCafZjdtr.Count != 0)
            {
              this.VpOknCafZjdtr.Reverse();
              this.KiRPLXuwogFXl = this.IIchnqynIYD.biXmnUuhREv + (object) '\\' + Path.Combine(this.VpOknCafZjdtr.ToArray());
              this.XoiewYhfspGOaJoZl = this.KiRPLXuwogFXl;
              this.sGfjnHSAWphWOtu = 2;
              return true;
            }
            goto label_9;
          }
          else
          {
            this.\u003C\u003Em__Finally7();
            goto label_12;
          }
        }
        __fault
        {
          this.System\u002EIDisposable\u002EDispose();
        }
      }

      [SpecialName]
      string IEnumerator<string>.get_Current() => this.XoiewYhfspGOaJoZl;

      void IEnumerator.Reset() => throw new NotSupportedException();

      void IDisposable.Dispose()
      {
        switch (this.sGfjnHSAWphWOtu)
        {
          case 1:
          case 2:
            try
            {
            }
            finally
            {
              this.\u003C\u003Em__Finally7();
            }
            break;
        }
      }

      [SpecialName]
      object IEnumerator.get_Current() => (object) this.XoiewYhfspGOaJoZl;

      public XSYMTkZkhNfnx([In] int obj0) => this.sGfjnHSAWphWOtu = obj0;

      private void \u003C\u003Em__Finally7()
      {
        this.sGfjnHSAWphWOtu = -1;
        this.kQboBTXlWtv.Dispose();
      }
    }
  }
}
