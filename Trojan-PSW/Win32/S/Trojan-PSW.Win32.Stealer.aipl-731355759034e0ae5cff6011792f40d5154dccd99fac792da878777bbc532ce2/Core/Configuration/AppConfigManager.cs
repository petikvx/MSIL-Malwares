// Decompiled with JetBrains decompiler
// Type: Core.Configuration.AppConfigManager
// Assembly: AnsiCharMarsha, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 45449883-CB33-464D-BFFF-85C1D8F95247
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\Trojan-PSW.Win32.Stealer.aipl-731355759034e0ae5cff6011792f40d5154dccd99fac792da878777bbc532ce2.exe

using Core.Helpers;
using System;
using System.Collections.Specialized;
using System.Configuration;
using System.Diagnostics;

namespace Core.Configuration
{
  public class AppConfigManager : IAppConfigManager
  {
    public NameValueCollection AppSettings
    {
      [DebuggerStepThrough] get => ConfigurationManager.AppSettings;
    }

    public string ConnectionStrings(string name) => (ConfigurationManager.ConnectionStrings[name] ?? throw new ConfigurationErrorsException("A connection string named '{0}' could not be found in the application configuration file.".FormatWith((object) name))).ConnectionString;

    public TType GetAppSetting<TType>(
      string key,
      TType defaultValue,
      Func<string, TType> converter)
    {
      Checks.Argument.IsNotEmpty(key, nameof (key));
      return string.IsNullOrEmpty(this.AppSettings[key]) ? defaultValue : converter(this.AppSettings[key]);
    }

    [DebuggerStepThrough]
    public T GetSection<T>(string sectionName) => (T) ConfigurationManager.GetSection(sectionName);
  }
}
