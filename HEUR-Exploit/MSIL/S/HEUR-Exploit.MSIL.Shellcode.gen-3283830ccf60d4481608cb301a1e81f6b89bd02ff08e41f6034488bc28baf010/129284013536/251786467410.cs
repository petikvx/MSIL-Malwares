// Decompiled with JetBrains decompiler
// Type: 129284013536.251786467410
// Assembly: 087135227926, Version=10.0.0.0, Culture=neutral, PublicKeyToken=30ad4fe6b2a6aeed
// MVID: 0DB320EA-9C28-4716-BA63-69641BABDE67
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Exploit.MSIL.Shellcode.gen-3283830ccf60d4481608cb301a1e81f6b89bd02ff08e41f6034488bc28baf010.exe

using \u003129284013536;
using \u003235014932865;
using \u003462605226301;
using System;
using System.IO;
using System.Runtime.CompilerServices;
using System.Threading;
using System.Threading.Tasks;

namespace \u003129284013536
{
  internal class \u003251786467410
  {
    private const int \u003728792468517 = 76;
    private const int \u003454043485344 = 57;
    private readonly char[] \u003311950827810 = new char[76];
    private readonly TextWriter \u003503176450423;
    private byte[] \u003259833296805;
    private int \u003128524688145;

    public \u003251786467410(TextWriter writer)
    {
      \u003821784578685.\u003260732825936((object) writer, nameof (writer));
      this.\u003503176450423 = writer;
    }

    private void \u003658541435363(byte[] _param1, int _param2, int _param3)
    {
      if (_param1 == null)
        throw new ArgumentNullException("buffer");
      if (_param2 < 0)
        throw new ArgumentOutOfRangeException("index");
      if (_param3 < 0)
        throw new ArgumentOutOfRangeException("count");
      if (_param3 > _param1.Length - _param2)
        throw new ArgumentOutOfRangeException("count");
    }

    public void \u003221190731736(byte[] _param1, int _param2, int _param3)
    {
      this.\u003658541435363(_param1, _param2, _param3);
      if (this.\u003128524688145 > 0)
      {
        if (this.\u003266956772366(_param1, _param2, ref _param3))
          return;
        this.\u003905625052126(this.\u003311950827810, 0, Convert.ToBase64CharArray(this.\u003259833296805, 0, 3, this.\u003311950827810, 0));
      }
      this.\u003714118548248(_param1, _param2, ref _param3);
      int num = _param2 + _param3;
      int length = 57;
      for (; _param2 < num; _param2 += length)
      {
        if (_param2 + length > num)
          length = num - _param2;
        this.\u003905625052126(this.\u003311950827810, 0, Convert.ToBase64CharArray(_param1, _param2, length, this.\u003311950827810, 0));
      }
    }

    private void \u003714118548248(byte[] _param1, int _param2, ref int _param3)
    {
      int num = _param3 % 3;
      if (num > 0)
      {
        _param3 -= num;
        if (this.\u003259833296805 == null)
          this.\u003259833296805 = new byte[3];
        for (int index = 0; index < num; ++index)
          this.\u003259833296805[index] = _param1[_param2 + _param3 + index];
      }
      this.\u003128524688145 = num;
    }

    private bool \u003266956772366(byte[] _param1, int _param2, ref int _param3)
    {
      int num = this.\u003128524688145;
      while (num < 3 && _param3 > 0)
      {
        this.\u003259833296805[num++] = _param1[_param2++];
        --_param3;
      }
      if (_param3 != 0 || num >= 3)
        return false;
      this.\u003128524688145 = num;
      return true;
    }

    public void \u003656014229604()
    {
      if (this.\u003128524688145 <= 0)
        return;
      this.\u003905625052126(this.\u003311950827810, 0, Convert.ToBase64CharArray(this.\u003259833296805, 0, this.\u003128524688145, this.\u003311950827810, 0));
      this.\u003128524688145 = 0;
    }

    private void \u003905625052126(char[] _param1, int _param2, int _param3) => this.\u003503176450423.Write(_param1, _param2, _param3);

    public Task \u003176049741289(
      byte[] _param1,
      int _param2,
      int _param3,
      CancellationToken _param4)
    {
      // ISSUE: variable of a compiler-generated type
      \u003251786467410.\u003426774660032 stateMachine;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u003547877187017 = this;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u003374861218230 = _param1;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u003919293137833 = _param2;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u003447737214421 = _param3;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u003569145363209 = _param4;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u003118709719349 = AsyncTaskMethodBuilder.Create();
      // ISSUE: cast to a reference type
      // ISSUE: explicit reference operation
      // ISSUE: reference to a compiler-generated field
      (^(\u003493533682182.\u003101545117271<>&) ref stateMachine).\u003843349475929 = -1;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u003118709719349.Start<\u003251786467410.\u003426774660032>(ref stateMachine);
      // ISSUE: reference to a compiler-generated field
      return stateMachine.\u003118709719349.Task;
    }

    private Task \u003666461430124(
      char[] _param1,
      int _param2,
      int _param3,
      CancellationToken _param4)
    {
      return this.\u003503176450423.\u003591086711473(_param1, _param2, _param3, _param4);
    }

    public Task \u003281175988499(CancellationToken _param1)
    {
      if (_param1.IsCancellationRequested)
        return _param1.\u003092200590438();
      if (this.\u003128524688145 <= 0)
        return \u003493533682182.\u003464038437734;
      int base64CharArray = Convert.ToBase64CharArray(this.\u003259833296805, 0, this.\u003128524688145, this.\u003311950827810, 0);
      this.\u003128524688145 = 0;
      return this.\u003666461430124(this.\u003311950827810, 0, base64CharArray, _param1);
    }
  }
}
