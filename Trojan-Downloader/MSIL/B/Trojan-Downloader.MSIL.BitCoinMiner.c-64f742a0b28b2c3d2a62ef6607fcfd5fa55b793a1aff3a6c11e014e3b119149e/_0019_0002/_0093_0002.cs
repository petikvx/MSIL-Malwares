// Decompiled with JetBrains decompiler
// Type: .
// Assembly: WindowsBC, Version=1.0.0.0, Culture=neutral, PublicKeyToken=9909ee17073e3364
// MVID: 658BFC85-36E1-493D-98E6-AE9127D73D60
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00004-msil\Trojan-Downloader.MSIL.BitCoinMiner.c-64f742a0b28b2c3d2a62ef6607fcfd5fa55b793a1aff3a6c11e014e3b119149e.exe

using \u000E;
using \u0019\u0002;
using \u0093;
using ICSharpCode.SharpZipLib.Zip;
using System;
using System.IO;
using System.Runtime.InteropServices;
using System.Text;

namespace \u0019\u0002
{
  internal sealed class \u0093\u0002 : \u009B
  {
    private string \u0001;
    private static readonly char[] \u0002;
    private static readonly char[] \u0003;

    static \u0093\u0002()
    {
      char[] chArray = \u0001\u0004.\u0084\u0005();
      int length1 = chArray.Length + 2;
      \u0093\u0002.\u0003 = new char[length1];
      \u008F\u0003.\u0098((Array) chArray, 0, (Array) \u0093\u0002.\u0003, 0, chArray.Length);
      \u0093\u0002.\u0003[length1 - 1] = '*';
      \u0093\u0002.\u0003[length1 - 2] = '?';
      int length2 = chArray.Length + 4;
      \u0093\u0002.\u0002 = new char[length2];
      \u008F\u0003.\u0098((Array) chArray, 0, (Array) \u0093\u0002.\u0002, 0, chArray.Length);
      \u0093\u0002.\u0002[length2 - 1] = ':';
      \u0093\u0002.\u0002[length2 - 2] = '\\';
      \u0093\u0002.\u0002[length2 - 3] = '*';
      \u0093\u0002.\u0002[length2 - 4] = '?';
    }

    public string \u008D\u0003([In] string obj0)
    {
      obj0 = this.\u008C\u0003(obj0);
      if (\u0011\u0003.\u007E\u0004\u0002((object) obj0) <= 0)
        throw new ZipException(\u0008.\u000E\u0003(3837));
      if (!\u0006\u0004.\u007E\u000E\u0002((object) obj0, \u0008.\u000E\u0003(3895)))
        obj0 = \u0088\u0005.\u001F\u0002(obj0, \u0008.\u000E\u0003(3895));
      return obj0;
    }

    public string \u008C\u0003([In] string obj0)
    {
      switch (obj0)
      {
        case null:
          obj0 = string.Empty;
          break;
        default:
          string str = \u0014\u0004.\u007E\u0014\u0002((object) obj0);
          if (this.\u0001 != null && \u000F\u0004.\u007E\u0012\u0002((object) str, this.\u0001) == 0)
            obj0 = \u0088\u0003.\u007E\u0006\u0002((object) obj0, \u0011\u0003.\u007E\u0004\u0002((object) this.\u0001));
          obj0 = \u0003\u0005.\u007E\u0017\u0002((object) obj0, \u0008.\u000E\u0003(3832), \u0008.\u000E\u0003(3895));
          obj0 = \u009E.\u0095\u0003(obj0);
          while (\u0011\u0003.\u007E\u0004\u0002((object) obj0) > 0 && \u0089\u0003.\u007E\u0003\u0002((object) obj0, 0) == '/')
            obj0 = \u001A\u0005.\u007E\u0018\u0002((object) obj0, 0, 1);
          while (\u0011\u0003.\u007E\u0004\u0002((object) obj0) > 0 && \u0089\u0003.\u007E\u0003\u0002((object) obj0, \u0011\u0003.\u007E\u0004\u0002((object) obj0) - 1) == '/')
            obj0 = \u001A\u0005.\u007E\u0018\u0002((object) obj0, \u0011\u0003.\u007E\u0004\u0002((object) obj0) - 1, 1);
          for (int index = \u000F\u0004.\u007E\u0012\u0002((object) obj0, \u0008.\u000E\u0003(6806)); index >= 0; index = \u000F\u0004.\u007E\u0012\u0002((object) obj0, \u0008.\u000E\u0003(6806)))
            obj0 = \u001A\u0005.\u007E\u0018\u0002((object) obj0, index, 1);
          obj0 = \u0093\u0002.\u0098\u0004(obj0, '_');
          break;
      }
      return obj0;
    }

    private static string \u0098\u0004([In] string obj0, [In] char obj1)
    {
      int num = \u001F\u0005.\u007E\u0010\u0002((object) obj0, \u0093\u0002.\u0002);
      if (num >= 0)
      {
        StringBuilder stringBuilder = new StringBuilder(obj0);
        for (; num >= 0; num = num < \u0011\u0003.\u007E\u0004\u0002((object) obj0) ? \u0003\u0004.\u007E\u0011\u0002((object) obj0, \u0093\u0002.\u0002, num + 1) : -1)
          \u000F\u0003.\u007E\u0084\u0002((object) stringBuilder, num, obj1);
        obj0 = \u0014\u0004.\u007E\u0093((object) stringBuilder);
      }
      return \u0011\u0003.\u007E\u0004\u0002((object) obj0) <= (int) ushort.MaxValue ? obj0 : throw new PathTooLongException();
    }

    public static bool \u0005\u0006([In] string obj0, [In] bool obj1)
    {
      bool flag = obj0 != null;
      if (flag)
        flag = !obj1 ? \u001F\u0005.\u007E\u0010\u0002((object) obj0, \u0093\u0002.\u0002) < 0 && \u0096\u0003.\u007E\u000F\u0002((object) obj0, '/') != 0 : \u001F\u0005.\u007E\u0010\u0002((object) obj0, \u0093\u0002.\u0003) < 0;
      return flag;
    }
  }
}
