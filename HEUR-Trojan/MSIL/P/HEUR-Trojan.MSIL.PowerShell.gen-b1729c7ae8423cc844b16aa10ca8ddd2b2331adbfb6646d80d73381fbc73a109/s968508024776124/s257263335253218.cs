// Decompiled with JetBrains decompiler
// Type: s968508024776124.s257263335253218
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using MySql.Data.MySqlClient;
using s017226464571622;
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Data.Common;
using System.Drawing;
using System.IO;
using System.Windows.Forms;

namespace s968508024776124
{
  public class s257263335253218 : Form
  {
    public static List<s438326487474189> s465150669868369 = new List<s438326487474189>();
    private MySqlConnection s763124528594364;
    private IContainer s740933580559115 = (IContainer) null;
    private Panel s142410558171859;
    private Button s100169481243287;
    private s649353295731481 s113887657251110;
    private s716856097811520 s158598154658156;

    public s257263335253218() => this.s603974324862961();

    private void s618773078327799(object s984685658621177, EventArgs s041728585834869)
    {
      if (this.s100169481243287.Text.Contains("Tambah"))
      {
        this.s100169481243287.Text = "Tampil Film";
        ((DbConnection) this.s763124528594364).Close();
        this.s158598154658156.s115415053129807((s961065812846028) 1);
      }
      else
      {
        this.s100169481243287.Text = "Tambah Film";
        this.s113887657251110.BringToFront();
        this.s483814292205183();
      }
    }

    private void s819567776879946(object s631679269523379, EventArgs s370932346853344) => this.s113887657251110.BringToFront();

    public void s537151261452503()
    {
      if (((DbConnection) this.s763124528594364).State == ConnectionState.Open)
      {
        ((DbConnection) this.s763124528594364).Close();
        ((DbConnection) this.s763124528594364).Open();
      }
      if (((DbConnection) this.s763124528594364).State == ConnectionState.Open)
        return;
      ((DbConnection) this.s763124528594364).Open();
    }

    public void s483814292205183()
    {
      this.s537151261452503();
      s257263335253218.s465150669868369.Clear();
      this.s113887657251110.s321676375681771.Controls.Clear();
      MySqlCommand mySqlCommand = new MySqlCommand();
      mySqlCommand.Connection = this.s763124528594364;
      ((DbCommand) mySqlCommand).CommandText = "SELECT id_film,judul,sinopsis,gambar FROM daftar_film";
      MySqlDataAdapter mySqlDataAdapter = new MySqlDataAdapter(mySqlCommand);
      DataTable dataTable = new DataTable();
      ((DbDataAdapter) mySqlDataAdapter).Fill(dataTable);
      for (int index = 0; index < dataTable.Rows.Count; ++index)
      {
        s438326487474189 s438326487474189 = new s438326487474189();
        s438326487474189.s309608421127236 = dataTable.Rows[index][0].ToString();
        s438326487474189.s224045485287573 = dataTable.Rows[index][1].ToString();
        s438326487474189.s182713185627734 = dataTable.Rows[index][2].ToString();
        MemoryStream memoryStream = new MemoryStream((byte[]) dataTable.Rows[index][3]);
        s438326487474189.s356584208380627 = Image.FromStream((Stream) memoryStream);
        s438326487474189.s350699563107917 = new Action<string>(this.s593013778413986);
        s438326487474189.s256102028513558 = new Action<string>(this.s822015660340010);
        s257263335253218.s465150669868369.Add(s438326487474189);
      }
      this.s113887657251110.s321676375681771.Controls.AddRange((Control[]) s257263335253218.s465150669868369.ToArray());
    }

    private void s426053699573553()
    {
      this.s158598154658156.s578802085222296 = new Action(this.s042354465446131);
      this.s158598154658156.s566752472077198 = new Action<string>(this.s187150114721657);
      this.s158598154658156.s761082573588554 = new Action(this.s731181705028319);
    }

    private void s153998176472826(object s851836308911154, EventArgs s490497646128704)
    {
      this.s763124528594364 = new MySqlConnection("Server=localhost;Database=bioskop_tixket_id;Uid=root;Pwd=;");
      try
      {
        this.s537151261452503();
        Console.WriteLine("Connection Berhasil dibuka!!!");
      }
      catch (MySqlException ex)
      {
        int num = (int) MessageBox.Show("Error: " + ((Exception) ex).Message);
      }
      this.s483814292205183();
      this.s426053699573553();
    }

    private void s731181705028319()
    {
      OpenFileDialog openFileDialog1 = new OpenFileDialog();
      openFileDialog1.Filter = "Choose Image(*.jpg; *.png)|*.jpg; *.png";
      OpenFileDialog openFileDialog2 = openFileDialog1;
      if (openFileDialog2.ShowDialog() != DialogResult.OK)
        return;
      this.s158598154658156.s008182466440918 = Image.FromFile(openFileDialog2.FileName);
    }

    private void s042354465446131()
    {
      this.s537151261452503();
      MySqlCommand mySqlCommand = new MySqlCommand();
      mySqlCommand.Connection = this.s763124528594364;
      ((DbCommand) mySqlCommand).CommandText = "INSERT INTO daftar_film (id_film,judul,sinopsis,gambar,nama_bioskop,lokasi,harga,jadwal_tayang,durasi_film_menit) values (@id_film,@judul,@sinopsis,@gambar,@nama_bioskop,@lokasi,@harga,@jadwal_tayang,@durasi_film_menit)";
      mySqlCommand.Parameters.AddWithValue("@id_film", (object) ((s143727101091926) this.s158598154658156).get_IdFilm());
      mySqlCommand.Parameters.AddWithValue("@judul", (object) this.s158598154658156.s546218973024887);
      mySqlCommand.Parameters.AddWithValue("@sinopsis", (object) this.s158598154658156.s949939090366270);
      MemoryStream memoryStream = new MemoryStream();
      this.s158598154658156.s008182466440918.Save((Stream) memoryStream, this.s158598154658156.s008182466440918.RawFormat);
      byte[] array = memoryStream.ToArray();
      mySqlCommand.Parameters.AddWithValue("@gambar", (object) array);
      mySqlCommand.Parameters.AddWithValue("@nama_bioskop", (object) this.s158598154658156.s024082739263332);
      mySqlCommand.Parameters.AddWithValue("@lokasi", (object) this.s158598154658156.s499574949614829);
      mySqlCommand.Parameters.AddWithValue("@harga", (object) this.s158598154658156.s659517897909557);
      mySqlCommand.Parameters.AddWithValue("@jadwal_tayang", (object) this.s158598154658156.s354282116123725);
      mySqlCommand.Parameters.AddWithValue("@durasi_film_menit", (object) this.s158598154658156.s544434728303246);
      try
      {
        int num1 = ((DbCommand) mySqlCommand).ExecuteNonQuery();
        if (num1 > 0)
        {
          int num2 = (int) MessageBox.Show("Data berhasil dimasukkan!!!");
          Console.WriteLine("{0} row/rows affected", (object) num1);
        }
        else
        {
          int num3 = (int) MessageBox.Show("Data tidak berhasil diinput, Try Again!!!");
        }
      }
      catch (MySqlException ex)
      {
        int num = (int) MessageBox.Show("Error Data tidak berhasil diInput\n" + ((Exception) ex).Message);
      }
      ((DbConnection) this.s763124528594364).Close();
    }

    private void s822015660340010(string s941309489543074)
    {
      try
      {
        this.s537151261452503();
        MySqlCommand mySqlCommand = new MySqlCommand();
        mySqlCommand.Connection = this.s763124528594364;
        ((DbCommand) mySqlCommand).CommandText = "DELETE FROM daftar_film WHERE id_film = @idFilm";
        mySqlCommand.Parameters.AddWithValue("@idFilm", (object) s941309489543074);
        int num = ((DbCommand) mySqlCommand).ExecuteNonQuery();
        ((DbConnection) this.s763124528594364).Close();
        if (num <= 0 || MessageBox.Show(string.Format("data dengan id {0} berhasil dihapus", (object) s941309489543074)) != DialogResult.OK)
          return;
        this.s483814292205183();
      }
      catch (MySqlException ex)
      {
        int num = (int) MessageBox.Show("Error: " + ((Exception) ex).Message);
      }
    }

    private void s593013778413986(string s547919897409432)
    {
      try
      {
        this.s537151261452503();
        this.s100169481243287.Text = "Tampil Film";
        this.s158598154658156.s115415053129807((s961065812846028) 0);
        MySqlCommand mySqlCommand = new MySqlCommand();
        mySqlCommand.Connection = this.s763124528594364;
        ((DbCommand) mySqlCommand).CommandText = "SELECT id_film,judul,sinopsis,gambar,nama_bioskop,lokasi,harga,jadwal_tayang,durasi_film_menit FROM daftar_film WHERE id_film = @idFilm";
        mySqlCommand.Parameters.AddWithValue("@idFilm", (object) s547919897409432);
        MySqlDataReader mySqlDataReader = mySqlCommand.ExecuteReader();
        if (!((DbDataReader) mySqlDataReader).Read())
          return;
        this.s158598154658156.s637253638280100 = ((DbDataReader) mySqlDataReader)["id_film"].ToString();
        this.s158598154658156.s546218973024887 = ((DbDataReader) mySqlDataReader)["judul"].ToString();
        this.s158598154658156.s949939090366270 = ((DbDataReader) mySqlDataReader)["sinopsis"].ToString();
        this.s158598154658156.s024082739263332 = ((DbDataReader) mySqlDataReader)["nama_bioskop"].ToString();
        this.s158598154658156.s499574949614829 = ((DbDataReader) mySqlDataReader)["lokasi"].ToString();
        this.s158598154658156.s659517897909557 = (int) ((DbDataReader) mySqlDataReader)["harga"];
        this.s158598154658156.s354282116123725 = (DateTime) ((DbDataReader) mySqlDataReader)["jadwal_tayang"];
        this.s158598154658156.s544434728303246 = (int) ((DbDataReader) mySqlDataReader)["durasi_film_menit"];
        this.s158598154658156.s008182466440918 = Image.FromStream((Stream) new MemoryStream((byte[]) ((DbDataReader) mySqlDataReader)["gambar"]));
      }
      catch (MySqlException ex)
      {
        int num = (int) MessageBox.Show("Error: " + ((Exception) ex).Message);
      }
    }

    private void s187150114721657(string s761662938431511)
    {
      this.s537151261452503();
      MySqlCommand mySqlCommand = new MySqlCommand("UPDATE daftar_film SET judul = @judul,sinopsis = @sinopsis,gambar = @gambar,nama_bioskop = @nama_bioskop,lokasi = @lokasi,harga = @harga,jadwal_tayang = @jadwal_tayang,durasi_film_menit = @durasi_film_menit WHERE id_film = @id_film", this.s763124528594364);
      mySqlCommand.Parameters.AddWithValue("@id_film", (object) s761662938431511);
      mySqlCommand.Parameters.AddWithValue("@judul", (object) this.s158598154658156.s546218973024887);
      mySqlCommand.Parameters.AddWithValue("@sinopsis", (object) this.s158598154658156.s949939090366270);
      MemoryStream memoryStream = new MemoryStream();
      this.s158598154658156.s008182466440918.Save((Stream) memoryStream, this.s158598154658156.s008182466440918.RawFormat);
      byte[] array = memoryStream.ToArray();
      mySqlCommand.Parameters.AddWithValue("@gambar", (object) array);
      mySqlCommand.Parameters.AddWithValue("@nama_bioskop", (object) this.s158598154658156.s024082739263332);
      mySqlCommand.Parameters.AddWithValue("@lokasi", (object) this.s158598154658156.s499574949614829);
      mySqlCommand.Parameters.AddWithValue("@harga", (object) this.s158598154658156.s659517897909557);
      mySqlCommand.Parameters.AddWithValue("@jadwal_tayang", (object) this.s158598154658156.s354282116123725);
      mySqlCommand.Parameters.AddWithValue("@durasi_film_menit", (object) this.s158598154658156.s544434728303246);
      try
      {
        int num1 = ((DbCommand) mySqlCommand).ExecuteNonQuery();
        if (num1 > 0)
        {
          int num2 = (int) MessageBox.Show("Data berhasil diperbaharui!!!");
          Console.WriteLine("{0} row/rows affected", (object) num1);
        }
        else
        {
          int num3 = (int) MessageBox.Show("Data tidak berhasil diperbaharui, Try Again!!!");
        }
      }
      catch (MySqlException ex)
      {
        int num = (int) MessageBox.Show("Error Data tidak berhasil diperbaharui\n" + ((Exception) ex).Message);
      }
      ((DbConnection) this.s763124528594364).Close();
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.s740933580559115 != null)
        this.s740933580559115.Dispose();
      base.Dispose(disposing);
    }

    private void s603974324862961()
    {
      this.s142410558171859 = new Panel();
      this.s158598154658156 = new s716856097811520();
      this.s113887657251110 = new s649353295731481();
      this.s100169481243287 = new Button();
      this.s142410558171859.SuspendLayout();
      this.SuspendLayout();
      this.s142410558171859.Controls.Add((Control) this.s158598154658156);
      this.s142410558171859.Controls.Add((Control) this.s113887657251110);
      this.s142410558171859.Location = new Point(12, 54);
      this.s142410558171859.Name = "panel1";
      this.s142410558171859.Size = new Size(1045, 476);
      this.s142410558171859.TabIndex = 2;
      this.s158598154658156.s761082573588554 = (Action) null;
      this.s158598154658156.s544434728303246 = 0;
      this.s158598154658156.s008182466440918 = (Image) null;
      this.s158598154658156.s659517897909557 = 1000;
      this.s158598154658156.s637253638280100 = (string) null;
      this.s158598154658156.s578802085222296 = (Action) null;
      this.s158598154658156.s354282116123725 = new DateTime(2019, 6, 19, 0, 0, 0, 0);
      this.s158598154658156.s546218973024887 = (string) null;
      this.s158598154658156.Location = new Point(0, 0);
      this.s158598154658156.s499574949614829 = (string) null;
      this.s158598154658156.s024082739263332 = (string) null;
      this.s158598154658156.Name = "tambahFilmControl1";
      this.s158598154658156.s949939090366270 = (string) null;
      this.s158598154658156.Size = new Size(1045, 476);
      this.s158598154658156.TabIndex = 1;
      this.s113887657251110.BorderStyle = BorderStyle.FixedSingle;
      this.s113887657251110.Location = new Point(0, 0);
      this.s113887657251110.Name = "daftarFilmControl1";
      this.s113887657251110.Size = new Size(1045, 476);
      this.s113887657251110.TabIndex = 0;
      this.s100169481243287.Location = new Point(926, 11);
      this.s100169481243287.Name = "tambahFilmButton";
      this.s100169481243287.Size = new Size(131, 37);
      this.s100169481243287.TabIndex = 3;
      this.s100169481243287.Text = "Tambah Film";
      this.s100169481243287.UseVisualStyleBackColor = true;
      this.s100169481243287.Click += new EventHandler(this.s618773078327799);
      this.AutoScaleDimensions = new SizeF(8f, 16f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(1072, 542);
      this.Controls.Add((Control) this.s100169481243287);
      this.Controls.Add((Control) this.s142410558171859);
      this.Name = nameof (s257263335253218);
      this.StartPosition = FormStartPosition.CenterScreen;
      this.Text = "Admin Tixket ID";
      this.Load += new EventHandler(this.s819567776879946);
      this.Shown += new EventHandler(this.s153998176472826);
      this.s142410558171859.ResumeLayout(false);
      this.ResumeLayout(false);
    }
  }
}
