// Decompiled with JetBrains decompiler
// Type: _7Wonders.CardForm
// Assembly: RegistryValueOptio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: F0CE6BD7-7133-4BAA-AA7C-EED6180A3501
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\Trojan-Spy.Win32.Noon.bcnu-15423b4b842ca05303dfec7d55fbd64d467bf3ce0e3f0c732f86e2b6c9d81745.exe

using System;
using System.ComponentModel;
using System.Drawing;
using System.Windows.Forms;

namespace _7Wonders
{
  public class CardForm : Form
  {
    private Card _Card;
    private Playerboard theBoard;
    private DecisionForm theForm;
    private IContainer components = (IContainer) null;
    private Button buildButton;
    private Button sellButton;
    private Button wonderButton;
    private RichTextBox richTextBox1;
    private Label label1;
    private Label label2;

    public CardForm(Card aCard, int mode, Playerboard board)
    {
      this.InitializeComponent();
      this._Card = aCard;
      this.theBoard = board;
      this.Text = this._Card.name;
      this.BackColor = this.getColor(this._Card.color);
      this.richTextBox1.Text = this._Card.description;
      this.showCost();
      if (mode == 0)
      {
        this.buildButton.Visible = false;
        this.wonderButton.Visible = false;
        this.sellButton.Text = "Pick";
      }
      if (mode != 2)
        return;
      this.buildButton.Visible = false;
      this.sellButton.Visible = false;
      this.wonderButton.Visible = false;
    }

    public CardForm(Card aCard, DecisionForm form)
    {
      this.InitializeComponent();
      this.theForm = form;
      this._Card = aCard;
      this.Text = this._Card.name;
      this.BackColor = this.getColor(this._Card.color);
      this.richTextBox1.Text = this._Card.description;
      this.showCost();
      this.buildButton.Visible = false;
      this.wonderButton.Visible = false;
      this.sellButton.Text = "Choose";
    }

    public CardForm(Card aCard)
    {
      this.InitializeComponent();
      this._Card = aCard;
      this.Text = this._Card.name;
      this.BackColor = this.getColor(this._Card.color);
      this.richTextBox1.Text = this._Card.description;
      this.showCost();
      this.buildButton.Visible = false;
      this.wonderButton.Visible = false;
      this.sellButton.Visible = false;
    }

    public CardForm() => this.InitializeComponent();

    public Color getColor(string c)
    {
      switch (c)
      {
        case "Black":
          return Color.Black;
        case "Blue":
          return Color.Blue;
        case "Brown":
          return Color.Brown;
        case "Green":
          return Color.Green;
        case "Grey":
          return Color.Gray;
        case "Purple":
          return Color.Purple;
        case "Red":
          return Color.Crimson;
        case "White":
          return Color.White;
        case "Wondrous":
          return Color.Orange;
        case "Yellow":
          return Color.Yellow;
        default:
          return Color.Beige;
      }
    }

    private void sellButton_Click(object sender, EventArgs e)
    {
      if (this.sellButton.Text == "Pick")
        this.theBoard.PickCard(this._Card);
      else if (this.sellButton.Text == "Choose")
        this.theForm.ChosenCard(this._Card);
      else
        this.theBoard.SellCard(this._Card);
      this.Close();
    }

    private void showCost()
    {
      string str1 = "";
      string str2 = "";
      int[] cost = this._Card.cost;
      if (cost[0] > 0)
        str1 = cost[0].ToString() + " Coin ";
      if (cost[1] > 0)
        str1 = str1 + cost[1].ToString() + " Clay ";
      if (cost[2] > 0)
        str1 = str1 + cost[2].ToString() + " Ore ";
      if (cost[3] > 0)
        str1 = str1 + cost[3].ToString() + " Stone ";
      if (cost[4] > 0)
        str1 = str1 + cost[4].ToString() + " Wood";
      if (cost[5] > 0)
        str2 = str2 + cost[5].ToString() + " Glass ";
      if (cost[6] > 0)
        str2 = str2 + cost[6].ToString() + " Papyrus ";
      if (cost[7] > 0)
        str2 = str2 + cost[7].ToString() + " Silk ";
      if (str1 == "")
      {
        this.label1.Text = str2;
        this.label2.Text = "";
      }
      else
      {
        this.label1.Text = str1;
        this.label2.Text = str2;
      }
      if (!(this._Card.color == "Black") && !(this._Card.color == "Blue") && !(this._Card.color == "Purple"))
        return;
      this.label1.ForeColor = Color.White;
      this.label2.ForeColor = Color.White;
    }

    private void buildButton_Click(object sender, EventArgs e)
    {
      this.theBoard.BuildCard(this._Card);
      this.Close();
    }

    private void wonderButton_Click(object sender, EventArgs e)
    {
      this.theBoard.BuildWonder(this._Card);
      this.Close();
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.buildButton = new Button();
      this.sellButton = new Button();
      this.wonderButton = new Button();
      this.richTextBox1 = new RichTextBox();
      this.label1 = new Label();
      this.label2 = new Label();
      this.SuspendLayout();
      this.buildButton.Location = new Point(12, 12);
      this.buildButton.Name = "buildButton";
      this.buildButton.Size = new Size(53, 23);
      this.buildButton.TabIndex = 0;
      this.buildButton.Text = "Build";
      this.buildButton.UseVisualStyleBackColor = true;
      this.buildButton.Click += new EventHandler(this.buildButton_Click);
      this.sellButton.Location = new Point(71, 12);
      this.sellButton.Name = "sellButton";
      this.sellButton.Size = new Size(53, 23);
      this.sellButton.TabIndex = 1;
      this.sellButton.Text = "Sell";
      this.sellButton.UseVisualStyleBackColor = true;
      this.sellButton.Click += new EventHandler(this.sellButton_Click);
      this.wonderButton.Location = new Point(130, 12);
      this.wonderButton.Name = "wonderButton";
      this.wonderButton.Size = new Size(53, 23);
      this.wonderButton.TabIndex = 2;
      this.wonderButton.Text = "Wonder";
      this.wonderButton.UseVisualStyleBackColor = true;
      this.wonderButton.Click += new EventHandler(this.wonderButton_Click);
      this.richTextBox1.Location = new Point(12, 41);
      this.richTextBox1.Name = "richTextBox1";
      this.richTextBox1.Size = new Size(171, 58);
      this.richTextBox1.TabIndex = 3;
      this.richTextBox1.Text = "";
      this.label1.AutoSize = true;
      this.label1.Location = new Point(12, 102);
      this.label1.Name = "label1";
      this.label1.Size = new Size(182, 13);
      this.label1.TabIndex = 4;
      this.label1.Text = "1 gold, 1 clay, 1 ore, 1 stone, 1 wood";
      this.label2.AutoSize = true;
      this.label2.Location = new Point(12, 115);
      this.label2.Name = "label2";
      this.label2.Size = new Size(122, 13);
      this.label2.TabIndex = 5;
      this.label2.Text = "1 glass, 1 papyrus, 1 silk";
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(208, 237);
      this.Controls.Add((Control) this.label2);
      this.Controls.Add((Control) this.label1);
      this.Controls.Add((Control) this.richTextBox1);
      this.Controls.Add((Control) this.wonderButton);
      this.Controls.Add((Control) this.sellButton);
      this.Controls.Add((Control) this.buildButton);
      this.Name = nameof (CardForm);
      this.Text = nameof (CardForm);
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
