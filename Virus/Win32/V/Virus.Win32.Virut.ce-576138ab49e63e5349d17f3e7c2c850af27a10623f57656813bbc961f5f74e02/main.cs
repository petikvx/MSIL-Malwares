// Decompiled with JetBrains decompiler
// Type: hotfile_link_generator.main
// Assembly: hotfile link generator, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 493A96F2-70F7-4A1D-A2D2-B76427A45AE1
// Assembly location: C:\Users\Administrateur\Desktop\Virusshare-00005-msil\Virus.Win32.Virut.ce-576138ab49e63e5349d17f3e7c2c850af27a10623f57656813bbc961f5f74e02.exe

using hotfile_link_generator.Properties;
using System;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.Net;
using System.Security.Cryptography;
using System.Text;
using System.Threading;
using System.Windows.Forms;

namespace hotfile_link_generator
{
  public class main : Form
  {
    public static string adf_link_to_use = "";
    public static string value_to_use = "";
    private Random random;
    private code[] codes;
    private bool habl = true;
    private Thread convert_th;
    private Thread adf_th;
    private IContainer components = (IContainer) null;
    private PictureBox pictureBox1;
    private PictureBox pictureBox2;
    private Button button1;
    private TextBox textBox1;
    private TextBox textBox2;
    private Label label1;
    private ProgressBar progressBar1;
    private NotifyIcon notifyIcon1;
    private Button button2;
    private WebBrowser webBrowser1;
    private LinkLabel linkLabel1;
    private System.Windows.Forms.Timer timer1;
    private LinkLabel linkLabel2;
    private Label label2;
    private Label label3;
    private Label label4;
    private Button button3;
    private Button button4;
    private TextBox textBox3;
    private GroupBox groupBox1;

    private string DownloadData(string url)
    {
      byte[] bytes = new byte[0];
      try
      {
        WebResponse response = WebRequest.Create(url).GetResponse();
        Stream responseStream = response.GetResponseStream();
        byte[] buffer = new byte[1024];
        int contentLength = (int) response.ContentLength;
        MemoryStream memoryStream = new MemoryStream();
        while (true)
        {
          int count = responseStream.Read(buffer, 0, buffer.Length);
          Application.DoEvents();
          if (count != 0)
            memoryStream.Write(buffer, 0, count);
          else
            break;
        }
        bytes = memoryStream.ToArray();
        responseStream.Close();
        memoryStream.Close();
      }
      catch (Exception ex)
      {
      }
      return Encoding.ASCII.GetString(bytes);
    }

    private void readcodes()
    {
      string mainstring1 = myfn2.stringpart(this.DownloadData("http://livecookiescodes.blogspot.com/2011/03/control.html"), "<ahmed>", "</ahmed>").Replace("<div>", "").Replace("</div>", "").Replace("<br />", "\r\n");
      for (int index = 0; index < 5; ++index)
        mainstring1 = mainstring1.Replace("\r\n\r\n", "\r\n");
      this.codes = new code[int.Parse(myfn2.cut_this(ref mainstring1, "\r\n"))];
      string str = myfn2.cut_this(ref mainstring1, "</code123>").Replace("<code123>", "");
      for (int index = 0; str != null && index < this.codes.Length; ++index)
      {
        string mainstring2 = str.Replace("\r\n<code123>", "").Replace("<code123>", "");
        string l = myfn2.cut_this(ref mainstring2, "\r\n").Replace("link=", "");
        string v = mainstring2.Replace("value=", "");
        this.codes[index] = new code(l, v);
        str = myfn2.cut_this(ref mainstring1, "</code123>");
      }
    }

    public main() => this.InitializeComponent();

    public string GetMD5Hash(string input)
    {
      byte[] hash = new MD5CryptoServiceProvider().ComputeHash(Encoding.UTF8.GetBytes(input));
      StringBuilder stringBuilder = new StringBuilder();
      foreach (byte num in hash)
        stringBuilder.Append(num.ToString("x2").ToLower());
      return stringBuilder.ToString();
    }

    private void convert()
    {
      this.progressBar1.Maximum = this.textBox1.Lines.Length;
      this.progressBar1.Value = 0;
      string[] lines = this.textBox1.Lines;
      for (int index = 0; index < lines.Length; ++index)
      {
        this.progressBar1.Maximum = this.textBox1.Lines.Length;
        this.progressBar1.Value = index + 1;
        if (!(lines[index] == "") && lines[index].Contains("http://"))
        {
          string directLink = this.Get_direct_link(Form2.hf_user, Form2.hf_pass, lines[index]);
          TextBox textBox2 = this.textBox2;
          textBox2.Text = textBox2.Text + directLink + "\r\n";
        }
      }
      this.button1.Text = "Convert";
      if (Form2.use_auth_code)
        this.button1.Enabled = false;
      this.notifyIcon1.BalloonTipTitle = "";
      this.notifyIcon1.BalloonTipText = "Done....";
      this.notifyIcon1.ShowBalloonTip(5000);
      try
      {
        this.convert_th.Abort();
      }
      catch
      {
      }
    }

    private void adf()
    {
      try
      {
        this.webBrowser1.Navigate(Form2.adf_link2);
        Thread.Sleep(15000);
      }
      catch
      {
      }
      try
      {
        this.webBrowser1.Navigate(Form2.adf_link3);
        Thread.Sleep(15000);
      }
      catch
      {
      }
      try
      {
        this.webBrowser1.Navigate(Form2.adf_link);
        Thread.Sleep(15000);
      }
      catch
      {
      }
      try
      {
        this.webBrowser1.Navigate("");
      }
      catch
      {
      }
      try
      {
        this.adf_th.Abort();
      }
      catch
      {
      }
    }

    private void Form1_Load(object sender, EventArgs e)
    {
      if (Form2.use_auth_code)
      {
        this.readcodes();
      }
      else
      {
        this.groupBox1.Visible = false;
        this.button1.Enabled = true;
      }
      this.random = new Random();
      this.notifyIcon1.Text = "FS premium link Generator";
      Control.CheckForIllegalCrossThreadCalls = false;
      this.convert_th = new Thread(new ThreadStart(this.convert));
      this.adf_th = new Thread(new ThreadStart(this.adf));
      this.adf_th.Start();
    }

    private string Get_direct_link(string username, string password, string url)
    {
      WebRequest webRequest = WebRequest.Create(url);
      string s = username + ":" + password;
      webRequest.Credentials = (ICredentials) new CredentialCache()
      {
        {
          new Uri(url),
          "Basic",
          new NetworkCredential(username, password)
        }
      };
      webRequest.Headers.Add("Authorization", "Basic " + Convert.ToBase64String(new ASCIIEncoding().GetBytes(s)));
      try
      {
        string absoluteUri = webRequest.GetResponse().ResponseUri.AbsoluteUri;
        return absoluteUri == url ? "acount is dead OR Your link deleted" : absoluteUri;
      }
      catch
      {
        return "error";
      }
    }

    private void button1_Click(object sender, EventArgs e)
    {
      if (Form2.use_auth_code && this.textBox3.Text.Trim() == "")
      {
        int num1 = (int) MessageBox.Show("a link will open , get the code from it and post it here \r\n example 'klijuhgtyf'");
      }
      else if (Form2.use_auth_code && this.textBox3.Text.Trim() != main.value_to_use)
      {
        int num2 = (int) MessageBox.Show("worng code");
        this.button1.Enabled = false;
      }
      else if (this.button1.Text == "Convert")
      {
        this.textBox2.Text = "";
        this.convert_th = new Thread(new ThreadStart(this.convert));
        this.convert_th.Start();
        this.button1.Text = "Stop";
      }
      else
      {
        if (!(this.button1.Text == "Stop"))
          return;
        this.convert_th.Abort();
        this.button1.Text = "Convert";
        if (Form2.use_auth_code)
          this.button1.Enabled = false;
      }
    }

    private void textBox1_TextChanged(object sender, EventArgs e) => this.label1.Text = this.textBox1.Lines.Length.ToString();

    private void notifyIcon1_MouseDoubleClick(object sender, MouseEventArgs e)
    {
      this.Show();
      this.WindowState = FormWindowState.Normal;
    }

    private void button2_Click(object sender, EventArgs e)
    {
      this.textBox1.Text = this.textBox2.Text = "";
      this.progressBar1.Value = this.progressBar1.Maximum;
    }

    private void main_FormClosing(object sender, FormClosingEventArgs e)
    {
      try
      {
        this.adf_th.Abort();
      }
      catch
      {
      }
      Application.Exit();
    }

    private void pictureBox2_Click(object sender, EventArgs e)
    {
      this.linkLabel2.Visible = false;
      this.timer1.Enabled = false;
      try
      {
        Process.Start(Form2.website_link);
      }
      catch
      {
      }
    }

    private void pictureBox1_Click(object sender, EventArgs e)
    {
      try
      {
        Process.Start(Form2.website_link);
      }
      catch
      {
      }
    }

    private void main_Resize(object sender, EventArgs e)
    {
      if (this.WindowState != FormWindowState.Minimized)
        return;
      this.Hide();
    }

    private void linkLabel1_LinkClicked(object sender, LinkLabelLinkClickedEventArgs e) => new about().Show();

    private void timer1_Tick(object sender, EventArgs e)
    {
      if (this.habl)
      {
        this.linkLabel2.Visible = true;
        this.pictureBox2.Width -= 10;
        this.pictureBox2.Height -= 10;
        this.habl = false;
      }
      else
      {
        this.linkLabel2.Visible = false;
        this.pictureBox2.Width += 10;
        this.pictureBox2.Height += 10;
        this.habl = true;
      }
    }

    private void linkLabel2_LinkClicked(object sender, LinkLabelLinkClickedEventArgs e) => this.pictureBox2_Click((object) null, (EventArgs) null);

    private void contextMenuStrip1_Opening(object sender, CancelEventArgs e)
    {
    }

    private void button3_Click(object sender, EventArgs e)
    {
      try
      {
        Clipboard.SetText(this.textBox2.Text);
      }
      catch
      {
      }
    }

    private void textBox2_TextChanged(object sender, EventArgs e)
    {
    }

    private void button4_Click(object sender, EventArgs e)
    {
      this.textBox3.Text = "";
      int index = this.random.Next(0, this.codes.Length - 1);
      main.adf_link_to_use = this.codes[index].link;
      main.value_to_use = this.codes[index].value;
      this.button1.Enabled = true;
      Process.Start(main.adf_link_to_use);
    }

    private void webBrowser1_DocumentCompleted(
      object sender,
      WebBrowserDocumentCompletedEventArgs e)
    {
    }

    private void groupBox1_Enter(object sender, EventArgs e)
    {
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.components = (IContainer) new Container();
      ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (main));
      this.button1 = new Button();
      this.textBox1 = new TextBox();
      this.textBox2 = new TextBox();
      this.label1 = new Label();
      this.progressBar1 = new ProgressBar();
      this.notifyIcon1 = new NotifyIcon(this.components);
      this.button2 = new Button();
      this.webBrowser1 = new WebBrowser();
      this.linkLabel1 = new LinkLabel();
      this.timer1 = new System.Windows.Forms.Timer(this.components);
      this.linkLabel2 = new LinkLabel();
      this.label2 = new Label();
      this.label3 = new Label();
      this.label4 = new Label();
      this.button3 = new Button();
      this.pictureBox1 = new PictureBox();
      this.pictureBox2 = new PictureBox();
      this.button4 = new Button();
      this.textBox3 = new TextBox();
      this.groupBox1 = new GroupBox();
      ((ISupportInitialize) this.pictureBox1).BeginInit();
      ((ISupportInitialize) this.pictureBox2).BeginInit();
      this.groupBox1.SuspendLayout();
      this.SuspendLayout();
      this.button1.Enabled = false;
      this.button1.Location = new Point(260, 250);
      this.button1.Name = "button1";
      this.button1.Size = new Size(135, 28);
      this.button1.TabIndex = 2;
      this.button1.Text = "Convert";
      this.button1.UseVisualStyleBackColor = true;
      this.button1.Click += new EventHandler(this.button1_Click);
      this.textBox1.Location = new Point(58, 147);
      this.textBox1.Multiline = true;
      this.textBox1.Name = "textBox1";
      this.textBox1.ScrollBars = ScrollBars.Both;
      this.textBox1.Size = new Size(524, 97);
      this.textBox1.TabIndex = 3;
      this.textBox1.WordWrap = false;
      this.textBox1.TextChanged += new EventHandler(this.textBox1_TextChanged);
      this.textBox2.Location = new Point(58, 312);
      this.textBox2.Multiline = true;
      this.textBox2.Name = "textBox2";
      this.textBox2.ScrollBars = ScrollBars.Both;
      this.textBox2.Size = new Size(524, 113);
      this.textBox2.TabIndex = 4;
      this.textBox2.WordWrap = false;
      this.textBox2.TextChanged += new EventHandler(this.textBox2_TextChanged);
      this.label1.AutoSize = true;
      this.label1.Location = new Point(72, 251);
      this.label1.Name = "label1";
      this.label1.Size = new Size(14, 15);
      this.label1.TabIndex = 5;
      this.label1.Text = "0";
      this.progressBar1.Location = new Point(0, 457);
      this.progressBar1.Name = "progressBar1";
      this.progressBar1.Size = new Size(602, 24);
      this.progressBar1.TabIndex = 6;
      this.notifyIcon1.Icon = (Icon) componentResourceManager.GetObject("notifyIcon1.Icon");
      this.notifyIcon1.Text = "notifyIcon1";
      this.notifyIcon1.Visible = true;
      this.notifyIcon1.MouseDoubleClick += new MouseEventHandler(this.notifyIcon1_MouseDoubleClick);
      this.button2.Location = new Point(289, 283);
      this.button2.Name = "button2";
      this.button2.Size = new Size(70, 22);
      this.button2.TabIndex = 7;
      this.button2.Text = "Clear";
      this.button2.UseVisualStyleBackColor = true;
      this.button2.Click += new EventHandler(this.button2_Click);
      this.webBrowser1.Location = new Point(151, 13);
      this.webBrowser1.MinimumSize = new Size(23, 23);
      this.webBrowser1.Name = "webBrowser1";
      this.webBrowser1.ScriptErrorsSuppressed = true;
      this.webBrowser1.Size = new Size(441, 169);
      this.webBrowser1.TabIndex = 8;
      this.webBrowser1.Visible = false;
      this.webBrowser1.DocumentCompleted += new WebBrowserDocumentCompletedEventHandler(this.webBrowser1_DocumentCompleted);
      this.linkLabel1.AutoSize = true;
      this.linkLabel1.Font = new Font("Comic Sans MS", 9.75f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.linkLabel1.LinkColor = Color.Red;
      this.linkLabel1.Location = new Point(96, 484);
      this.linkLabel1.Name = "linkLabel1";
      this.linkLabel1.Size = new Size(457, 18);
      this.linkLabel1.TabIndex = 9;
      ((Label) this.linkLabel1).TabStop = true;
      this.linkLabel1.Text = "Want to find us on facebook  , make Donation  ,  send account : Clickhere ";
      this.linkLabel1.LinkClicked += new LinkLabelLinkClickedEventHandler(this.linkLabel1_LinkClicked);
      this.timer1.Enabled = true;
      this.timer1.Tick += new EventHandler(this.timer1_Tick);
      this.linkLabel2.AutoSize = true;
      this.linkLabel2.Font = new Font("Comic Sans MS", 9.75f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.linkLabel2.LinkColor = Color.Red;
      this.linkLabel2.Location = new Point(87, 13);
      this.linkLabel2.Name = "linkLabel2";
      this.linkLabel2.Size = new Size(103, 18);
      this.linkLabel2.TabIndex = 10;
      ((Label) this.linkLabel2).TabStop = true;
      this.linkLabel2.Text = "Click me to stop";
      this.linkLabel2.LinkClicked += new LinkLabelLinkClickedEventHandler(this.linkLabel2_LinkClicked);
      this.label2.AutoSize = true;
      this.label2.Font = new Font("Comic Sans MS", 8.25f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.label2.Location = new Point(8, 150);
      this.label2.Name = "label2";
      this.label2.Size = new Size(54, 32);
      this.label2.TabIndex = 11;
      this.label2.Text = "Fileserve\r\n Links:";
      this.label3.AutoSize = true;
      this.label3.Font = new Font("Comic Sans MS", 8.25f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.label3.Location = new Point(1, 336);
      this.label3.Name = "label3";
      this.label3.Size = new Size(61, 32);
      this.label3.TabIndex = 12;
      this.label3.Text = "Premium\r\n   links  :";
      this.label4.AutoSize = true;
      this.label4.Location = new Point(-1, 251);
      this.label4.Name = "label4";
      this.label4.Size = new Size(67, 15);
      this.label4.TabIndex = 13;
      this.label4.Text = "Link Count :";
      this.button3.Location = new Point(236, 425);
      this.button3.Name = "button3";
      this.button3.Size = new Size(140, 26);
      this.button3.TabIndex = 14;
      this.button3.Text = "Copy Premium Links";
      this.button3.UseVisualStyleBackColor = true;
      this.button3.Click += new EventHandler(this.button3_Click);
      this.pictureBox1.Cursor = Cursors.Hand;
      this.pictureBox1.Image = (Image) Resources.fileserves;
      this.pictureBox1.Location = new Point(302, -8);
      this.pictureBox1.Name = "pictureBox1";
      this.pictureBox1.Size = new Size(331, 169);
      this.pictureBox1.SizeMode = PictureBoxSizeMode.StretchImage;
      this.pictureBox1.TabIndex = 0;
      this.pictureBox1.TabStop = false;
      this.pictureBox1.Click += new EventHandler(this.pictureBox1_Click);
      this.pictureBox2.Cursor = Cursors.Hand;
      this.pictureBox2.Image = (Image) Resources._111;
      this.pictureBox2.Location = new Point(2, 14);
      this.pictureBox2.Name = "pictureBox2";
      this.pictureBox2.Size = new Size(327, (int) sbyte.MaxValue);
      this.pictureBox2.SizeMode = PictureBoxSizeMode.StretchImage;
      this.pictureBox2.TabIndex = 1;
      this.pictureBox2.TabStop = false;
      this.pictureBox2.Click += new EventHandler(this.pictureBox2_Click);
      this.button4.Location = new Point(36, 41);
      this.button4.Name = "button4";
      this.button4.Size = new Size(75, 23);
      this.button4.TabIndex = 15;
      this.button4.Text = "Get Code";
      this.button4.UseVisualStyleBackColor = true;
      this.button4.Click += new EventHandler(this.button4_Click);
      this.textBox3.Location = new Point(6, 15);
      this.textBox3.Name = "textBox3";
      this.textBox3.Size = new Size(138, 23);
      this.textBox3.TabIndex = 16;
      this.groupBox1.Controls.Add((Control) this.textBox3);
      this.groupBox1.Controls.Add((Control) this.button4);
      this.groupBox1.Location = new Point(99, 242);
      this.groupBox1.Name = "groupBox1";
      this.groupBox1.Size = new Size(155, 64);
      this.groupBox1.TabIndex = 17;
      this.groupBox1.TabStop = false;
      this.groupBox1.Text = "auth code";
      this.groupBox1.Enter += new EventHandler(this.groupBox1_Enter);
      this.AcceptButton = (IButtonControl) this.button1;
      this.AutoScaleDimensions = new SizeF(7f, 15f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(614, 511);
      this.Controls.Add((Control) this.button3);
      this.Controls.Add((Control) this.textBox2);
      this.Controls.Add((Control) this.label4);
      this.Controls.Add((Control) this.label3);
      this.Controls.Add((Control) this.linkLabel2);
      this.Controls.Add((Control) this.linkLabel1);
      this.Controls.Add((Control) this.progressBar1);
      this.Controls.Add((Control) this.button2);
      this.Controls.Add((Control) this.textBox1);
      this.Controls.Add((Control) this.label1);
      this.Controls.Add((Control) this.button1);
      this.Controls.Add((Control) this.pictureBox2);
      this.Controls.Add((Control) this.pictureBox1);
      this.Controls.Add((Control) this.webBrowser1);
      this.Controls.Add((Control) this.label2);
      this.Controls.Add((Control) this.groupBox1);
      this.Font = new Font("Comic Sans MS", 8.25f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.FormBorderStyle = FormBorderStyle.Fixed3D;
      this.Icon = (Icon) componentResourceManager.GetObject("$this.Icon");
      this.MaximizeBox = false;
      this.Name = nameof (main);
      this.Text = "FS premium link Generator V1.2";
      this.FormClosing += new FormClosingEventHandler(this.main_FormClosing);
      this.Load += new EventHandler(this.Form1_Load);
      this.Resize += new EventHandler(this.main_Resize);
      ((ISupportInitialize) this.pictureBox1).EndInit();
      ((ISupportInitialize) this.pictureBox2).EndInit();
      this.groupBox1.ResumeLayout(false);
      this.groupBox1.PerformLayout();
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
