// Decompiled with JetBrains decompiler
// Type: NChanges.PathHelper
// Assembly: FUNCD, Version=1.4.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 38B3918C-7BBD-4048-BF6D-F5A856A1A18A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan-Ransom.Win32.Convagent.gen-2f81e8b71640e7b5770deccc56c23d75240c34a5914dcb138ec2972e624a0f03.exe

using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;

namespace NChanges
{
  public static class PathHelper
  {
    public static IEnumerable<string> ExpandPaths(IEnumerable<string> paths) => paths.SelectMany<string, string>((Func<string, IEnumerable<string>>) (p => PathHelper.ExpandPath(p)));

    public static IEnumerable<string> ExpandPath(string path)
    {
      string path1 = ".";
      string searchPattern = path;
      if (path.Contains<char>(Path.DirectorySeparatorChar) || path.Contains<char>(Path.AltDirectorySeparatorChar))
      {
        path1 = Path.GetDirectoryName(path);
        searchPattern = Path.GetFileName(path);
      }
      return (IEnumerable<string>) Directory.GetFiles(path1, searchPattern);
    }

    public static string FormatPath(string output, AssemblyInfo assembly) => output.Replace("%name%", assembly.Name).Replace("%version%", assembly.Version);

    public static void EnsureFolderExists(string outputPath)
    {
      string directoryName = Path.GetDirectoryName(outputPath);
      if (string.IsNullOrEmpty(directoryName) || Directory.Exists(directoryName))
        return;
      Directory.CreateDirectory(directoryName);
    }
  }
}
