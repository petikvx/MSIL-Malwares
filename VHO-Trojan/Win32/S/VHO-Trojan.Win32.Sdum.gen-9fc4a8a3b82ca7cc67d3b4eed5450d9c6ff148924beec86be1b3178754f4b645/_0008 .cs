// Decompiled with JetBrains decompiler
// Type:  
// Assembly: Vqblspvdqljhpsgi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: FE8081E8-66FB-4850-FD50-A5695502DCE6
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\VHO-Trojan.Win32.Sdum.gen-9fc4a8a3b82ca7cc67d3b4eed5450d9c6ff148924beec86be1b3178754f4b645.exe

using System;
using System.Runtime.CompilerServices;
using System.Security.Cryptography;
using System.Threading;

internal sealed class \u0008\u2000 : \u0006, IDisposable
{
  private readonly \u000F\u2000 \u0002;
  private readonly bool \u0003;
  private readonly bool \u0005;
  private readonly int \u0008;
  private readonly int \u0006;
  private \u0008\u2000.\u0002 \u000E;
  private bool \u000F;
  private readonly object \u0002\u2000;

  public \u0008\u2000(bool _param1, \u000F\u2000 _param2, bool _param3 = false)
  {
    object obj1 = new object();
    if (true)
      goto label_4;
label_1:
    // ISSUE: explicit constructor call
    base.\u002Ector();
    int num1 = _param1 ? 1 : 0;
    if (true)
      goto label_5;
label_2:
    \u000F\u2000 obj2 = _param2;
    if (true)
      goto label_6;
label_3:
    this.\u0005 = _param3;
    this.\u0005 = true;
    int num2 = _param2.\u0002().\u0002();
    this.\u0008 = \u0008\u2000.\u0002(num2, _param1);
    this.\u0006 = \u0008\u2000.\u0003(num2, _param1);
    return;
label_6:
    this.\u0002 = obj2;
    goto label_3;
label_5:
    this.\u0003 = num1 != 0;
    goto label_2;
label_4:
    this.\u0002\u2000 = obj1;
    goto label_1;
  }

  public bool \u0002()
  {
    if (true)
      ;
    return this.\u0003;
  }

  [CompilerGenerated]
  [SpecialName]
  public int \u0006\u2009​\u0002()
  {
    if (true)
      ;
    return this.\u0008;
  }

  [CompilerGenerated]
  [SpecialName]
  public int \u0006\u2009​\u0003()
  {
    if (true)
      ;
    return this.\u0006;
  }

  private static int \u0002(int _param0, bool _param1)
  {
    int num1 = _param1 ? 1 : 0;
    if (true)
      ;
    if (num1 == 0)
    {
      int num2 = _param0;
      if (true)
        ;
      return (num2 + 7) / 8;
    }
    int num3 = _param0;
    if (true)
      ;
    return (num3 - 1) / 8;
  }

  private static int \u0003(int _param0, bool _param1)
  {
    int num1 = _param1 ? 1 : 0;
    if (true)
      ;
    if (num1 == 0)
    {
      int num2 = _param0;
      if (true)
        ;
      return (num2 - 1) / 8;
    }
    int num3 = _param0;
    if (true)
      ;
    return (num3 + 7) / 8;
  }

  public int \u0006\u2009​\u0002(
    byte[] _param1,
    int _param2,
    int _param3,
    byte[] _param4,
    int _param5,
    RandomNumberGenerator _param6)
  {
    if (true)
      goto label_2;
label_1:
    \u0008\u2000.\u0002 obj1 = this.\u000E;
    \u0008\u2000.\u0002 obj2;
    if (true)
      obj2 = obj1;
    int num1;
    try
    {
      int num2 = obj2.\u0003.\u0006\u2009​\u0002(_param1, _param2, _param3, _param4, _param5, _param6);
      if (true)
        num1 = num2;
    }
    catch (Exception ex) when (obj2.\u0002)
    {
      this.\u0002();
      num1 = this.\u000E.\u0003.\u0006\u2009​\u0002(_param1, _param2, _param3, _param4, _param5, _param6);
    }
    return num1;
label_2:
    this.\u0003();
    goto label_1;
  }

  private void \u0002()
  {
    object obj1 = this.\u0002\u2000;
    if (true)
      goto label_2;
label_1:
    object obj2;
    object obj3 = obj2;
    if (true)
      Monitor.Enter(obj3);
    try
    {
      \u0008\u2000.\u0002 obj4 = this.\u000E;
      if (true)
        goto label_6;
label_5:
      \u0008\u2000.\u0002 obj5;
      if (!obj5.\u0002)
        return;
      try
      {
        if (obj5.\u0003 is IDisposable disposable)
          disposable.Dispose();
      }
      catch
      {
      }
      this.\u000E = new \u0008\u2000.\u0002()
      {
        \u0002 = false,
        \u0003 = this.\u0008\u2000\u2009​\u0002(this.\u0003, this.\u0002) ?? throw new InvalidOperationException()
      };
      return;
label_6:
      obj5 = obj4;
      goto label_5;
    }
    finally
    {
      Monitor.Exit(obj2);
    }
label_2:
    obj2 = obj1;
    goto label_1;
  }

  private void \u0003()
  {
    if (this.\u000F)
      return;
    object obj1 = this.\u0002\u2000;
    if (true)
      goto label_3;
label_2:
    object obj2;
    object obj3 = obj2;
    if (true)
      Monitor.Enter(obj3);
    try
    {
      if (this.\u000F)
        return;
      if (!this.\u0005)
      {
        \u0006 obj4 = this.\u0008\u2000\u2009​\u0003(this.\u0003, this.\u0002);
        if (true)
          goto label_11;
label_9:
        \u0006 obj5;
        if (obj4 != null)
        {
          this.\u000E = new \u0008\u2000.\u0002()
          {
            \u0002 = true,
            \u0003 = obj5
          };
          goto label_16;
        }
        else
          goto label_13;
label_11:
        obj5 = obj4;
        goto label_9;
      }
label_13:
      this.\u000E = new \u0008\u2000.\u0002()
      {
        \u0002 = false,
        \u0003 = this.\u0008\u2000\u2009​\u0002(this.\u0003, this.\u0002) ?? throw new InvalidOperationException()
      };
label_16:
      this.\u000F = true;
      return;
    }
    finally
    {
      Monitor.Exit(obj2);
    }
label_3:
    obj2 = obj1;
    goto label_2;
  }

  protected virtual \u0006 \u0008\u2000\u2009​\u0002(bool _param1, \u000F\u2000 _param2)
  {
    int num = _param1 ? 1 : 0;
    if (true)
      ;
    \u000F\u2000 obj = _param2;
    if (true)
      ;
    return (\u0006) new \u000E\u2000\u2000(num != 0, obj);
  }

  protected virtual \u0006 \u0008\u2000\u2009​\u0003(bool _param1, \u000F\u2000 _param2)
  {
    int num = _param1 ? 1 : 0;
    if (true)
      ;
    \u000F\u2000 obj = _param2;
    if (true)
      ;
    return (\u0006) \u000E.\u0002(num != 0, obj);
  }

  public void Dispose()
  {
    IDisposable disposable1 = this.\u000E?.\u0003 as IDisposable;
    if (true)
      goto label_3;
label_1:
    IDisposable disposable2;
    if (disposable2 == null)
      return;
    disposable2.Dispose();
    if (false)
      return;
    this.\u000E = (\u0008\u2000.\u0002) null;
    return;
label_3:
    disposable2 = disposable1;
    goto label_1;
  }

  private sealed class \u0002
  {
    public bool \u0002;
    public \u0006 \u0003;

    public \u0002()
    {
      if (true)
        ;
      // ISSUE: explicit constructor call
      base.\u002Ector();
    }
  }
}
