// Decompiled with JetBrains decompiler
// Type: MiniGames_Team9.Score
// Assembly: DependentHan, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: A86A1B94-F21E-4DD9-9B87-E146CFB070D9
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.07\UDS-Trojan.Win32.GenericML.xnet-3c000108374c842e22e4bf480441d013e260c170c6d87defb15c322a4d136adb.exe

using System;
using System.ComponentModel;
using System.Data;
using System.Data.SqlClient;
using System.Drawing;
using System.Windows.Forms;

namespace MiniGames_Team9
{
  public class Score : UserControl
  {
    private SqlConnection Conn;
    private SqlCommandBuilder cmd;
    private SqlDataAdapter adap;
    private DataTable mytable;
    private string strconn = "Server = localhost; Database = quanlisocre; UId = root; Pwd = 01267440262Tri; Character Set=utf8";
    private string query_select = "SELECT * FROM diemso";
    private IContainer components = (IContainer) null;
    private DataGridView dataGridView1;
    private Button btnadd;
    private PictureBox pictureBox1;
    private Button btnupdate;
    private Button btndelete;
    private PictureBox pictureBox2;
    private PictureBox pictureBox3;
    private TextBox txtlaoitk;
    private TextBox TB_Score;
    private Label label1;
    private Label label3;
    private Label label2;
    private Label label4;
    private TextBox TB_TenNguoiChoi;
    private TextBox TB_HoTen;
    private TextBox Id;
    private Label label8;
    private Label label9;
    private PictureBox pictureBox7;

    public Score() => this.InitializeComponent();

    private void PhanQuyen()
    {
      if (Const.Users.LoaiTaiKhoan == Users.LoaiTK.User)
        this.btnadd.Enabled = this.btndelete.Enabled = this.btnupdate.Enabled = false;
      this.txtlaoitk.Text = Const.Users.TenHienThi;
    }

    private void Score_Load(object sender, EventArgs e)
    {
      this.PhanQuyen();
      try
      {
        this.Conn = new SqlConnection(this.strconn);
        this.Conn.Open();
        this.adap = new SqlDataAdapter(this.query_select, this.Conn);
        this.cmd = new SqlCommandBuilder(this.adap);
        this.mytable = new DataTable();
        this.adap.Fill(this.mytable);
        this.Conn.Close();
        this.dataGridView1.DataSource = (object) this.mytable;
      }
      catch (SqlException ex)
      {
        int num = (int) MessageBox.Show("Lỗi kết nối Sql", "Lỗi", MessageBoxButtons.OK, MessageBoxIcon.Hand);
      }
    }

    private void Id_TextChanged(object sender, EventArgs e)
    {
    }

    private void TB_HoTen_TextChanged(object sender, EventArgs e)
    {
    }

    private void label4_Click(object sender, EventArgs e)
    {
    }

    private void label2_Click(object sender, EventArgs e)
    {
    }

    private void label3_Click(object sender, EventArgs e)
    {
    }

    private void label1_Click(object sender, EventArgs e)
    {
    }

    private void TB_Score_TextChanged(object sender, EventArgs e)
    {
    }

    private void TB_TenNguoiChoi_TextChanged(object sender, EventArgs e)
    {
    }

    private void btnadd_Click(object sender, EventArgs e)
    {
      this.Conn.Open();
      new SqlCommand("INSERT INTO diemso (`ID`,`UserName`, `NameGame`, `Score`) VALUES ('" + this.Id.Text + "','" + this.TB_HoTen.Text + "','" + this.TB_TenNguoiChoi.Text + "','" + this.TB_Score.Text + "')", this.Conn).ExecuteNonQuery();
      this.Conn.Close();
      this.Read_Data();
    }

    private void Read_Data()
    {
      this.Conn.Open();
      this.adap = new SqlDataAdapter(this.query_select, this.Conn);
      this.cmd = new SqlCommandBuilder(this.adap);
      this.mytable = new DataTable();
      this.adap.Fill(this.mytable);
      this.Conn.Close();
      this.dataGridView1.DataSource = (object) this.mytable;
    }

    private void btnupdate_Click(object sender, EventArgs e)
    {
      this.Conn.Open();
      new SqlCommand("UPDATE diemso SET `UserName`='" + this.TB_HoTen.Text + "', `NameGame`='" + this.TB_TenNguoiChoi.Text + "', `Score`='" + this.TB_Score.Text + "' WHERE ID = '" + int.Parse(this.Id.Text).ToString() + "'", this.Conn).ExecuteNonQuery();
      this.Conn.Close();
      this.Read_Data();
    }

    private void btndelete_Click(object sender, EventArgs e)
    {
      this.Conn.Open();
      new SqlCommand("DELETE FROM diemso WHERE `ID`='" + int.Parse(this.Id.Text).ToString() + "'", this.Conn).ExecuteNonQuery();
      this.Conn.Close();
      this.Read_Data();
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (Score));
      this.dataGridView1 = new DataGridView();
      this.btnadd = new Button();
      this.btnupdate = new Button();
      this.btndelete = new Button();
      this.txtlaoitk = new TextBox();
      this.TB_Score = new TextBox();
      this.label1 = new Label();
      this.label3 = new Label();
      this.label2 = new Label();
      this.label4 = new Label();
      this.TB_TenNguoiChoi = new TextBox();
      this.TB_HoTen = new TextBox();
      this.Id = new TextBox();
      this.label8 = new Label();
      this.label9 = new Label();
      this.pictureBox7 = new PictureBox();
      this.pictureBox3 = new PictureBox();
      this.pictureBox2 = new PictureBox();
      this.pictureBox1 = new PictureBox();
      ((ISupportInitialize) this.dataGridView1).BeginInit();
      ((ISupportInitialize) this.pictureBox7).BeginInit();
      ((ISupportInitialize) this.pictureBox3).BeginInit();
      ((ISupportInitialize) this.pictureBox2).BeginInit();
      ((ISupportInitialize) this.pictureBox1).BeginInit();
      this.SuspendLayout();
      this.dataGridView1.ColumnHeadersHeightSizeMode = DataGridViewColumnHeadersHeightSizeMode.AutoSize;
      this.dataGridView1.Location = new Point(18, 201);
      this.dataGridView1.Name = "dataGridView1";
      this.dataGridView1.Size = new Size(422, 180);
      this.dataGridView1.TabIndex = 0;
      this.btnadd.BackColor = Color.FromArgb(64, 64, 64);
      this.btnadd.BackgroundImageLayout = ImageLayout.Center;
      this.btnadd.Cursor = Cursors.Default;
      this.btnadd.FlatStyle = FlatStyle.Flat;
      this.btnadd.Font = new Font("Microsoft Sans Serif", 9.75f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.btnadd.ForeColor = Color.White;
      this.btnadd.Location = new Point(446, 344);
      this.btnadd.Name = "btnadd";
      this.btnadd.Size = new Size(105, 37);
      this.btnadd.TabIndex = 1;
      this.btnadd.Text = "Add";
      this.btnadd.TextAlign = ContentAlignment.MiddleRight;
      this.btnadd.UseVisualStyleBackColor = false;
      this.btnadd.Click += new EventHandler(this.btnadd_Click);
      this.btnupdate.BackColor = Color.FromArgb(64, 64, 64);
      this.btnupdate.BackgroundImageLayout = ImageLayout.Center;
      this.btnupdate.Cursor = Cursors.Default;
      this.btnupdate.FlatStyle = FlatStyle.Flat;
      this.btnupdate.Font = new Font("Microsoft Sans Serif", 9.75f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.btnupdate.ForeColor = Color.White;
      this.btnupdate.Location = new Point(570, 344);
      this.btnupdate.Name = "btnupdate";
      this.btnupdate.Size = new Size(105, 37);
      this.btnupdate.TabIndex = 3;
      this.btnupdate.Text = "UpDate";
      this.btnupdate.TextAlign = ContentAlignment.MiddleRight;
      this.btnupdate.UseVisualStyleBackColor = false;
      this.btnupdate.Click += new EventHandler(this.btnupdate_Click);
      this.btndelete.BackColor = Color.FromArgb(64, 64, 64);
      this.btndelete.BackgroundImageLayout = ImageLayout.Center;
      this.btndelete.Cursor = Cursors.Default;
      this.btndelete.FlatStyle = FlatStyle.Flat;
      this.btndelete.Font = new Font("Microsoft Sans Serif", 9.75f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.btndelete.ForeColor = Color.White;
      this.btndelete.Location = new Point(700, 344);
      this.btndelete.Name = "btndelete";
      this.btndelete.Size = new Size(105, 37);
      this.btndelete.TabIndex = 4;
      this.btndelete.Text = "Delete";
      this.btndelete.TextAlign = ContentAlignment.MiddleRight;
      this.btndelete.UseVisualStyleBackColor = false;
      this.btndelete.Click += new EventHandler(this.btndelete_Click);
      this.txtlaoitk.Location = new Point(376, 170);
      this.txtlaoitk.Name = "txtlaoitk";
      this.txtlaoitk.Size = new Size(61, 20);
      this.txtlaoitk.TabIndex = 31;
      this.TB_Score.Location = new Point(602, 310);
      this.TB_Score.Name = "TB_Score";
      this.TB_Score.Size = new Size(134, 20);
      this.TB_Score.TabIndex = 30;
      this.TB_Score.TextChanged += new EventHandler(this.TB_Score_TextChanged);
      this.label1.AutoSize = true;
      this.label1.Font = new Font("Monotype Corsiva", 14.25f, FontStyle.Italic, GraphicsUnit.Point, (byte) 0);
      this.label1.Location = new Point(476, 310);
      this.label1.Name = "label1";
      this.label1.Size = new Size(47, 22);
      this.label1.TabIndex = 29;
      this.label1.Text = nameof (Score);
      this.label1.Click += new EventHandler(this.label1_Click);
      this.label3.AutoSize = true;
      this.label3.Font = new Font("Monotype Corsiva", 14.25f, FontStyle.Italic, GraphicsUnit.Point, (byte) 0);
      this.label3.Location = new Point(476, 261);
      this.label3.Name = "label3";
      this.label3.Size = new Size(89, 22);
      this.label3.TabIndex = 28;
      this.label3.Text = "GameName";
      this.label3.Click += new EventHandler(this.label3_Click);
      this.label2.AutoSize = true;
      this.label2.Font = new Font("Monotype Corsiva", 14.25f, FontStyle.Italic, GraphicsUnit.Point, (byte) 0);
      this.label2.Location = new Point(476, 207);
      this.label2.Name = "label2";
      this.label2.Size = new Size(83, 22);
      this.label2.TabIndex = 27;
      this.label2.Text = "UserName";
      this.label2.Click += new EventHandler(this.label2_Click);
      this.label4.AutoSize = true;
      this.label4.Font = new Font("Monotype Corsiva", 14.25f, FontStyle.Italic, GraphicsUnit.Point, (byte) 0);
      this.label4.Location = new Point(476, 163);
      this.label4.Name = "label4";
      this.label4.Size = new Size(30, 22);
      this.label4.TabIndex = 26;
      this.label4.Text = "ID";
      this.label4.Click += new EventHandler(this.label4_Click);
      this.TB_TenNguoiChoi.Location = new Point(602, 261);
      this.TB_TenNguoiChoi.Name = "TB_TenNguoiChoi";
      this.TB_TenNguoiChoi.Size = new Size(134, 20);
      this.TB_TenNguoiChoi.TabIndex = 25;
      this.TB_TenNguoiChoi.TextChanged += new EventHandler(this.TB_TenNguoiChoi_TextChanged);
      this.TB_HoTen.Location = new Point(602, 207);
      this.TB_HoTen.Name = "TB_HoTen";
      this.TB_HoTen.Size = new Size(134, 20);
      this.TB_HoTen.TabIndex = 24;
      this.TB_HoTen.TextChanged += new EventHandler(this.TB_HoTen_TextChanged);
      this.Id.Location = new Point(602, 163);
      this.Id.Name = "Id";
      this.Id.Size = new Size(134, 20);
      this.Id.TabIndex = 23;
      this.Id.TextChanged += new EventHandler(this.Id_TextChanged);
      this.label8.AutoSize = true;
      this.label8.Font = new Font("Monotype Corsiva", 11.25f, FontStyle.Bold | FontStyle.Italic, GraphicsUnit.Point, (byte) 0);
      this.label8.ForeColor = Color.Black;
      this.label8.Location = new Point(386, 103);
      this.label8.Name = "label8";
      this.label8.Size = new Size(120, 17);
      this.label8.TabIndex = 103;
      this.label8.Text = "C# UI Designing";
      this.label9.AutoSize = true;
      this.label9.Font = new Font("Monotype Corsiva", 11.25f, FontStyle.Bold | FontStyle.Italic, GraphicsUnit.Point, (byte) 0);
      this.label9.ForeColor = Color.Black;
      this.label9.Location = new Point(432, 120);
      this.label9.Name = "label9";
      this.label9.Size = new Size(74, 17);
      this.label9.TabIndex = 104;
      this.label9.Text = "By Team 9";
      this.pictureBox7.BackColor = SystemColors.ControlLightLight;
      this.pictureBox7.Location = new Point(254, 25);
      this.pictureBox7.Name = "pictureBox7";
      this.pictureBox7.Size = new Size(283, 112);
      this.pictureBox7.SizeMode = PictureBoxSizeMode.Zoom;
      this.pictureBox7.TabIndex = 102;
      this.pictureBox7.TabStop = false;
      this.pictureBox3.Image = (Image) componentResourceManager.GetObject("pictureBox3.Image");
      this.pictureBox3.Location = new Point(700, 344);
      this.pictureBox3.Name = "pictureBox3";
      this.pictureBox3.Size = new Size(36, 37);
      this.pictureBox3.SizeMode = PictureBoxSizeMode.StretchImage;
      this.pictureBox3.TabIndex = 6;
      this.pictureBox3.TabStop = false;
      this.pictureBox2.Image = (Image) componentResourceManager.GetObject("pictureBox2.Image");
      this.pictureBox2.Location = new Point(570, 344);
      this.pictureBox2.Name = "pictureBox2";
      this.pictureBox2.Size = new Size(36, 37);
      this.pictureBox2.SizeMode = PictureBoxSizeMode.StretchImage;
      this.pictureBox2.TabIndex = 5;
      this.pictureBox2.TabStop = false;
      this.pictureBox1.Image = (Image) componentResourceManager.GetObject("pictureBox1.Image");
      this.pictureBox1.Location = new Point(446, 344);
      this.pictureBox1.Name = "pictureBox1";
      this.pictureBox1.Size = new Size(36, 37);
      this.pictureBox1.SizeMode = PictureBoxSizeMode.StretchImage;
      this.pictureBox1.TabIndex = 2;
      this.pictureBox1.TabStop = false;
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.BackColor = SystemColors.ControlLightLight;
      this.Controls.Add((Control) this.label8);
      this.Controls.Add((Control) this.label9);
      this.Controls.Add((Control) this.pictureBox7);
      this.Controls.Add((Control) this.txtlaoitk);
      this.Controls.Add((Control) this.TB_Score);
      this.Controls.Add((Control) this.label1);
      this.Controls.Add((Control) this.label3);
      this.Controls.Add((Control) this.label2);
      this.Controls.Add((Control) this.label4);
      this.Controls.Add((Control) this.TB_TenNguoiChoi);
      this.Controls.Add((Control) this.TB_HoTen);
      this.Controls.Add((Control) this.Id);
      this.Controls.Add((Control) this.pictureBox3);
      this.Controls.Add((Control) this.pictureBox2);
      this.Controls.Add((Control) this.btndelete);
      this.Controls.Add((Control) this.btnupdate);
      this.Controls.Add((Control) this.pictureBox1);
      this.Controls.Add((Control) this.btnadd);
      this.Controls.Add((Control) this.dataGridView1);
      this.Name = nameof (Score);
      this.Size = new Size(814, 395);
      this.Load += new EventHandler(this.Score_Load);
      ((ISupportInitialize) this.dataGridView1).EndInit();
      ((ISupportInitialize) this.pictureBox7).EndInit();
      ((ISupportInitialize) this.pictureBox3).EndInit();
      ((ISupportInitialize) this.pictureBox2).EndInit();
      ((ISupportInitialize) this.pictureBox1).EndInit();
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
