// Decompiled with JetBrains decompiler
// Type: 863551779269.170836697276
// Assembly: 190180155270, Version=7.6.1.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
// MVID: 20B0A582-54C5-4C64-BCB9-2AC73608F590
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Exploit.MSIL.Shellcode.gen-211b9bdeb7639f8b1f0606b7671a4d1fdbf246968b078ff103eac9aa4c2cd108.exe

using \u003076805912680;
using \u003083977589061;
using \u003127401678560;
using \u003414589035697;
using \u003587301525415;
using \u003589226503932;
using \u003633587791253;
using \u003693935594932;
using \u003788176632903;
using \u003863551779269;
using Microsoft.ProgramSynthesis.Utils;
using Microsoft.ProgramSynthesis.Wrangling.Logging;
using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Linq;
using System.Runtime.CompilerServices;

namespace \u003863551779269
{
  public sealed class \u003170836697276
  {
    public const string \u003343938319534 = "geographiccoordinate";
    public const string \u003435639655239 = "ipv6address";
    public const string \u003493517921686 = "ipv4address";
    public const string \u003762098714558 = "emailaddress";
    public const string \u003845444641600 = "usphonenumber";
    public const string \u003856729474380 = "uszipcode";

    public IReadOnlyList<IColumnInfo> \u003237598601113 { get; }

    public string \u003328914921632 { get; }

    public ILogger \u003375399720051 { get; }

    public \u003170836697276(
      IEnumerable<IColumnInfo> columnInfos,
      ILogger logger = null,
      string sessionType = null)
    {
      this.\u003237598601113 = (IReadOnlyList<IColumnInfo>) columnInfos.ToList<IColumnInfo>();
      this.\u003328914921632 = sessionType ?? "GenericDomainTypeProfileSession";
      this.\u003375399720051 = logger;
    }

    private void \u003892718776711(ILogger _param1, double _param2, Guid _param3)
    {
      List<KeyValuePair<string, double>> keyValuePairList1 = new List<KeyValuePair<string, double>>()
      {
        KVP.Create<string, double>("LearnTime", _param2)
      };
      List<KeyValuePair<string, string>> keyValuePairList2 = new List<KeyValuePair<string, string>>()
      {
        KVP.Create<string, string>("SessionType", this.\u003328914921632),
        KVP.Create<string, string>("Id", _param3.ToString())
      };
      _param1.TrackEvent("ProfileDomainTypesEvent", (IReadOnlyCollection<KeyValuePair<string, double>>) keyValuePairList1, (IReadOnlyCollection<KeyValuePair<string, string>>) keyValuePairList2, (IReadOnlyCollection<KeyValuePair<string, string>>) new KeyValuePair<string, string>[0]);
    }

    private \u003078066913023 \u003257857203352(
      ILogger _param1_1,
      Guid _param2,
      IColumnInfo _param3,
      IReadOnlyList<\u003034344720948> _param4,
      IEnumerable<string> _param5)
    {
      Stopwatch stopwatch = Stopwatch.StartNew();
      foreach (string str in _param3.Data)
      {
        foreach (\u003034344720948 obj in (IEnumerable<\u003034344720948>) _param4)
          obj.\u003363538376408(str);
      }
      \u003034344720948 obj1 = CollectionUtils.ArgMax<\u003034344720948, int>((IEnumerable<\u003034344720948>) _param4, (Func<\u003034344720948, int>) (_param1_2 => _param1_2.\u003890819538124));
      stopwatch.Stop();
      \u003078066913023 obj2 = 2.0 * (double) obj1.\u003890819538124 < (double) obj1.\u003225532190549 ? new \u003078066913023(_param3, "unknown", -1, obj1.\u003270511979803, obj1.\u003122817715793, obj1.\u003225532190549) : new \u003078066913023(_param3, obj1.\u003796138049191, obj1.\u003890819538124, obj1.\u003270511979803, obj1.\u003122817715793, obj1.\u003225532190549);
      this.\u003892718776711(_param1_1, (double) stopwatch.ElapsedMilliseconds, _param2);
      return obj2;
    }

    public List<\u003078066913023> \u003769680811551(
      ILogger _param1,
      IEnumerable<string> _param2,
      Guid? _param3 = null)
    {
      List<\u003078066913023> objList = new List<\u003078066913023>(this.\u003237598601113.Count);
      Guid guid = _param3 ?? Guid.NewGuid();
      List<string> list1 = _param2.ToList<string>();
      try
      {
        foreach (IColumnInfo columnInfo in (IEnumerable<IColumnInfo>) this.\u003237598601113)
        {
          List<\u003034344720948> list2 = _param2.Select<string, \u003034344720948>(new Func<string, \u003034344720948>(\u003170836697276.\u003701673027330)).ToList<\u003034344720948>();
          objList.Add(this.\u003257857203352(_param1, guid, columnInfo, (IReadOnlyList<\u003034344720948>) list2, (IEnumerable<string>) list1));
        }
      }
      catch (Exception ex)
      {
        _param1?.TrackException(ex);
      }
      return objList;
    }

    private static \u003034344720948 \u003701673027330(string _param0)
    {
      Predicate<string> validator;
      switch (_param0)
      {
        case "geographiccoordinate":
          validator = (Predicate<string>) (_param1 => \u003146473532277.\u003106224598430.\u003209288609168(_param1));
          break;
        case "ipv4address":
          validator = (Predicate<string>) (_param1 => \u003004485059634.\u003265841963890.\u003610874529658(_param1));
          break;
        case "ipv6address":
          validator = (Predicate<string>) (_param1 => \u003218959882389.\u003829382734021.\u003503793670195(_param1));
          break;
        case "emailaddress":
          validator = (Predicate<string>) (_param1 => \u003530732081753.\u003963927522343.\u003810117135050(_param1));
          break;
        case "usphonenumber":
          validator = (Predicate<string>) (_param1 => \u003504235283795.\u003318859092103.\u003967979264057(_param1));
          break;
        case "uszipcode":
          validator = (Predicate<string>) (_param1 => \u003990615919977.\u003560277463342.\u003540729014506(_param1));
          break;
        default:
          throw new NotImplementedException(FormattableString.Invariant(FormattableStringFactory.Create("Unsupported domain type name: {0}.", (object) _param0)));
      }
      return new \u003034344720948(validator, _param0);
    }
  }
}
