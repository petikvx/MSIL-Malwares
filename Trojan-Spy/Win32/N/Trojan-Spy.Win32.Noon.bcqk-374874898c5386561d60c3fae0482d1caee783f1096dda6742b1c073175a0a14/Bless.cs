// Decompiled with JetBrains decompiler
// Type: mmxAH.Bless
// Assembly: IAsyncLocalValue, Version=1.0.2.2, Culture=neutral, PublicKeyToken=null
// MVID: 5C4F3FBF-C751-4B18-BBEA-B1DDBC6F76B9
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\Trojan-Spy.Win32.Noon.bcqk-374874898c5386561d60c3fae0482d1caee783f1096dda6742b1c073175a0a14.exe

using System.IO;

namespace mmxAH
{
  public class Bless : SpecialCard
  {
    public Bless(GameEngine eng)
    {
      this.en = eng;
      this.CodeName = nameof (Bless);
      this.text = this.en.scTexts[1];
    }

    public override void Init(Investigator invest, bool isWrite = true)
    {
      if (invest.RemoveSpecCards("Curse"))
        return;
      invest.RemoveSpecCards(nameof (Bless), false);
      this.isFirstTurn = true;
      base.Init(invest, isWrite);
      this.InitTriger();
      invest.SetSTTresh((byte) 4);
    }

    public override void Discard(bool isPrint)
    {
      this.inv.SetSTTresh((byte) 5);
      this.inv.myTrigers.RemoveTriger(this.CodeName);
      base.Discard(isPrint);
    }

    public override void WriteToSave(BinaryWriter wr)
    {
      wr.Write((byte) 1);
      wr.Write(this.isFirstTurn);
    }

    public override void ReadFromSaveIndivid(BinaryReader rd) => this.isFirstTurn = rd.ReadBoolean();
  }
}
