// Decompiled with JetBrains decompiler
// Type: Microsoft.InfoCards.DataRowIndexBuffer
// Assembly: infocard, Version=3.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089
// MVID: 1D4D5564-A025-490C-AF1D-DF4FBB709D1F
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00001-msil\Virus.Win32.Expiro.w-f8f9f26e940480624825f6bddbea86e70fc4aa746c4dd8efa7d98dcb477000ed.exe

using System.Collections.Generic;

namespace Microsoft.InfoCards
{
  internal class DataRowIndexBuffer
  {
    private Dictionary<string, List<IndexObject>> m_objects;

    public DataRowIndexBuffer() => this.m_objects = new Dictionary<string, List<IndexObject>>();

    public string[] GetIndexNames() => new List<string>((IEnumerable<string>) this.m_objects.Keys).ToArray();

    public List<IndexObject> this[string name]
    {
      get
      {
        if (!this.m_objects.ContainsKey(name))
          this.m_objects.Add(name, new List<IndexObject>());
        return this.m_objects[name];
      }
    }

    public void Clear() => this.m_objects.Clear();

    public void ClearIndexValues(string name) => this.m_objects.Remove(name);

    public void AddIndexValue(string name, IndexObject obj) => this[name].Add(obj);

    public void AddIndexValues(string name, IndexObject[] objs) => this[name].AddRange((IEnumerable<IndexObject>) objs);

    public void SetIndexValues(string name, IndexObject[] indexObjects)
    {
      this[name].Clear();
      this[name].AddRange((IEnumerable<IndexObject>) indexObjects);
    }

    public int GetValueCount(string name) => !this.m_objects.ContainsKey(name) ? 0 : this.m_objects[name].Count;
  }
}
