// Decompiled with JetBrains decompiler
// Type: Slot_Machine_Game.Forms.frmSlotMachine
// Assembly: ZoneIdentityPermiss, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: BCCCDF50-F63D-44CD-9025-FE0750D75711
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Email-Worm.MSIL.LovGate.gen-8503ec362c0351dd0c8eae05901b49b5a32a9332fcb8c7a3a4c3dbdbedc75ad2.exe

using Slot_Machine_Game.Classes;
using System;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.Media;
using System.Windows.Forms;

namespace Slot_Machine_Game.Forms
{
  public class frmSlotMachine : Form
  {
    private int currentBet = 0;
    private int winnings = 0;
    private int totalScore = GlobalsClass.playerObject.getBalance();
    private string name = GlobalsClass.playerObject.getName();
    private int randNumForReel_1;
    private int randNumForReel_2;
    private int randNumForReel_3;
    private SoundPlayer jackpotNoise = new SoundPlayer("D:\\GitHub\\Slot_Machine_Game\\Slot_Machine_Game\\Resources\\jackpot.wav");
    private SoundPlayer winNoise = new SoundPlayer("D:\\GitHub\\Slot_Machine_Game\\Slot_Machine_Game\\Resources\\slot_win.wav");
    private SoundPlayer loseNoise = new SoundPlayer("D:\\GitHub\\Slot_Machine_Game\\Slot_Machine_Game\\Resources\\lose.wav");
    private IContainer components = (IContainer) null;
    private Label lblSlotMachineTitle;
    private PictureBox pbSlotReel1;
    private PictureBox pbSlotReel2;
    private PictureBox pbSlotReel3;
    private Label lblBalance;
    private TextBox txtBalance;
    private TextBox txtBet;
    private Button btnCashOut;
    private Button btnSpin;
    private Button btnIncreaseBet;
    private ImageList imgListForReels;
    private Label lblBet;
    private PictureBox pictureBox1;
    private PictureBox pictureBox2;
    private Button btnDecreaseBet;
    private Label label1;
    private TextBox txtPlayerName;
    private TextBox txtWinnings;
    private Label lblWinnings;

    public frmSlotMachine() => this.InitializeComponent();

    private void frmSlotMachine_Load(object sender, EventArgs e)
    {
      this.txtBalance.Text = this.totalScore.ToString();
      this.txtPlayerName.Text = this.name;
      this.txtPlayerName.Enabled = false;
    }

    private void btnIncreaseBet_Click(object sender, EventArgs e)
    {
      ++this.currentBet;
      if (this.currentBet > this.totalScore)
      {
        this.btnDecreaseBet.Visible = true;
        int num = (int) MessageBox.Show("You don't have enough coins for that bet...", "Error");
        this.btnIncreaseBet.Visible = false;
        this.btnSpin.Focus();
        --this.currentBet;
      }
      else
      {
        if (this.currentBet <= 3)
        {
          this.btnDecreaseBet.Visible = true;
          this.txtBet.Text = this.currentBet.ToString();
          if (this.currentBet == 3)
            this.btnIncreaseBet.Visible = false;
        }
        else if (this.currentBet == 3)
          this.btnIncreaseBet.Visible = false;
        if (this.currentBet != 0)
          this.btnSpin.Enabled = true;
      }
    }

    private void btnDecreaseBet_Click(object sender, EventArgs e)
    {
      if (this.currentBet > 1)
      {
        this.btnIncreaseBet.Visible = true;
        --this.currentBet;
        this.txtBet.Text = this.currentBet.ToString();
        if (this.currentBet != 1)
          return;
        this.btnDecreaseBet.Visible = false;
      }
      else
      {
        int num = (int) MessageBox.Show("Can't decrease any further...", "Error");
      }
    }

    private void btnSpin_Click(object sender, EventArgs e)
    {
      if (this.currentBet <= this.totalScore)
      {
        this.btnSpin.BackColor = Color.SteelBlue;
        this.spin();
        this.winnings = this.calculateReelCombos();
        this.txtWinnings.Text = this.winnings.ToString();
        if (this.winnings > 0)
        {
          new frmDisplayWinnings(this.txtWinnings.Text).Show();
          this.totalScore += this.winnings;
          this.txtBalance.Text = this.totalScore.ToString();
        }
        else if (this.winnings == 0)
        {
          frmDisplayWinnings frmDisplayWinnings = new frmDisplayWinnings(this.txtWinnings.Text);
          frmDisplayWinnings.Show();
          this.totalScore -= this.currentBet;
          this.txtBalance.Text = this.totalScore.ToString();
          if (this.totalScore <= 0)
            frmDisplayWinnings.Hide();
        }
        if (this.totalScore > 0)
          return;
        this.youFailed();
        new frmDisplayFinalWinnings().Show();
        this.Hide();
      }
      else
      {
        int num = (int) MessageBox.Show("You don't have the coins for that bet...", "Error");
      }
    }

    private void youFailed()
    {
      this.loseNoise.Play();
      int num = (int) MessageBox.Show("Give up, just quit, because in this life, you can’t win. Yeah, you can try, but in the end you’re just gonna lose, big time, because the world is run by the Man. The Man, oh, you don’t know the Man? He’s everywhere. In the White House… down the hall… Ms. Mullins, she’s the Man. And the Man ruined the ozone, he’s burning down the Amazon, and he kidnapped Shamu and put her in a chlorine tank! And there used to be a way to stick it to the Man. It was called rock ‘n roll, but guess what, oh no, the Man ruined that, too, with a little thing called MTV! So don’t waste your time trying to make anything cool or pure or awesome ’cause the Man is just gonna call you a fat washed up loser and crush your soul. So do yourselves a favor and just GIVE UP!", "Out Of Coins");
    }

    private void btnCashOut_Click(object sender, EventArgs e)
    {
      GlobalsClass.playerObject.setScore(this.totalScore);
      new frmDisplayFinalWinnings().Show();
      this.Hide();
    }

    private void spin()
    {
      Stopwatch stopwatch = new Stopwatch();
      stopwatch.Start();
      while (stopwatch.Elapsed < TimeSpan.FromSeconds(3.0))
      {
        this.randNumForReel_1 = GlobalsClass.rngObject.getRandomNum();
        this.randNumForReel_2 = GlobalsClass.rngObject.getRandomNum();
        this.randNumForReel_3 = GlobalsClass.rngObject.getRandomNum();
        this.pbSlotReel1.Image = this.imgListForReels.Images[this.randNumForReel_1];
        this.pbSlotReel1.Refresh();
        this.pbSlotReel2.Image = this.imgListForReels.Images[this.randNumForReel_2];
        this.pbSlotReel2.Refresh();
        this.pbSlotReel3.Image = this.imgListForReels.Images[this.randNumForReel_3];
        this.pbSlotReel3.Refresh();
      }
      stopwatch.Stop();
    }

    private int calculateReelCombos()
    {
      int[] numArray = new int[5];
      ++numArray[this.randNumForReel_1];
      ++numArray[this.randNumForReel_2];
      ++numArray[this.randNumForReel_3];
      if (numArray[0] == 3)
      {
        this.jackpotNoise.Play();
        return 100 * this.currentBet;
      }
      if (numArray[1] == 3)
      {
        this.winNoise.Play();
        return 50 * this.currentBet;
      }
      if (numArray[2] == 3)
      {
        this.winNoise.Play();
        return 25 * this.currentBet;
      }
      if (numArray[3] == 3)
      {
        this.winNoise.Play();
        return 10 * this.currentBet;
      }
      if (numArray[4] == 3)
      {
        this.winNoise.Play();
        return 5 * this.currentBet;
      }
      if (numArray[1] == 2)
      {
        this.winNoise.Play();
        switch (this.currentBet)
        {
          case 2:
            return 5;
          case 3:
            return 6;
          default:
            return 4;
        }
      }
      else if (numArray[2] == 2)
      {
        this.winNoise.Play();
        switch (this.currentBet)
        {
          case 2:
            return 4;
          case 3:
            return 5;
          default:
            return 3;
        }
      }
      else if (numArray[3] == 2)
      {
        this.winNoise.Play();
        switch (this.currentBet)
        {
          case 2:
            return 3;
          case 3:
            return 4;
          default:
            return 2;
        }
      }
      else if (numArray[4] == 2)
      {
        this.winNoise.Play();
        switch (this.currentBet)
        {
          case 2:
            return 2;
          case 3:
            return 3;
          default:
            return 1;
        }
      }
      else
      {
        this.loseNoise.Play();
        return 0;
      }
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.components = (IContainer) new Container();
      ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (frmSlotMachine));
      this.lblSlotMachineTitle = new Label();
      this.pbSlotReel1 = new PictureBox();
      this.pbSlotReel2 = new PictureBox();
      this.pbSlotReel3 = new PictureBox();
      this.lblBalance = new Label();
      this.txtBalance = new TextBox();
      this.txtBet = new TextBox();
      this.btnCashOut = new Button();
      this.btnSpin = new Button();
      this.btnIncreaseBet = new Button();
      this.imgListForReels = new ImageList(this.components);
      this.lblBet = new Label();
      this.pictureBox1 = new PictureBox();
      this.pictureBox2 = new PictureBox();
      this.btnDecreaseBet = new Button();
      this.label1 = new Label();
      this.txtPlayerName = new TextBox();
      this.txtWinnings = new TextBox();
      this.lblWinnings = new Label();
      ((ISupportInitialize) this.pbSlotReel1).BeginInit();
      ((ISupportInitialize) this.pbSlotReel2).BeginInit();
      ((ISupportInitialize) this.pbSlotReel3).BeginInit();
      ((ISupportInitialize) this.pictureBox1).BeginInit();
      ((ISupportInitialize) this.pictureBox2).BeginInit();
      this.SuspendLayout();
      this.lblSlotMachineTitle.AutoSize = true;
      this.lblSlotMachineTitle.Font = new Font("Microsoft Sans Serif", 32f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.lblSlotMachineTitle.ForeColor = Color.Maroon;
      this.lblSlotMachineTitle.Image = (Image) componentResourceManager.GetObject("lblSlotMachineTitle.Image");
      this.lblSlotMachineTitle.Location = new Point(27, 22);
      this.lblSlotMachineTitle.Name = "lblSlotMachineTitle";
      this.lblSlotMachineTitle.Size = new Size(754, 51);
      this.lblSlotMachineTitle.TabIndex = 0;
      this.lblSlotMachineTitle.Text = "                                                             ";
      this.pbSlotReel1.BorderStyle = BorderStyle.FixedSingle;
      this.pbSlotReel1.Location = new Point(20, 144);
      this.pbSlotReel1.Name = "pbSlotReel1";
      this.pbSlotReel1.Size = new Size(251, 251);
      this.pbSlotReel1.TabIndex = 1;
      this.pbSlotReel1.TabStop = false;
      this.pbSlotReel2.BorderStyle = BorderStyle.FixedSingle;
      this.pbSlotReel2.Location = new Point(276, 144);
      this.pbSlotReel2.Name = "pbSlotReel2";
      this.pbSlotReel2.Size = new Size(251, 251);
      this.pbSlotReel2.TabIndex = 2;
      this.pbSlotReel2.TabStop = false;
      this.pbSlotReel3.BorderStyle = BorderStyle.FixedSingle;
      this.pbSlotReel3.Location = new Point(532, 144);
      this.pbSlotReel3.Name = "pbSlotReel3";
      this.pbSlotReel3.Size = new Size(251, 251);
      this.pbSlotReel3.TabIndex = 3;
      this.pbSlotReel3.TabStop = false;
      this.lblBalance.AutoSize = true;
      this.lblBalance.Font = new Font("Microsoft Sans Serif", 14f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.lblBalance.Image = (Image) componentResourceManager.GetObject("lblBalance.Image");
      this.lblBalance.Location = new Point(512, 95);
      this.lblBalance.Name = "lblBalance";
      this.lblBalance.Size = new Size(154, 24);
      this.lblBalance.TabIndex = 5;
      this.lblBalance.Text = "                        ";
      this.txtBalance.Font = new Font("Microsoft Sans Serif", 14f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.txtBalance.Location = new Point(675, 94);
      this.txtBalance.Name = "txtBalance";
      this.txtBalance.Size = new Size(100, 29);
      this.txtBalance.TabIndex = 7;
      this.txtBalance.TabStop = false;
      this.txtBalance.TextAlign = HorizontalAlignment.Center;
      this.txtBet.Font = new Font("Microsoft Sans Serif", 32f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.txtBet.Location = new Point(614, 485);
      this.txtBet.Multiline = true;
      this.txtBet.Name = "txtBet";
      this.txtBet.Size = new Size(58, 55);
      this.txtBet.TabIndex = 10;
      this.txtBet.TabStop = false;
      this.txtBet.Text = "0";
      this.txtBet.TextAlign = HorizontalAlignment.Center;
      this.btnCashOut.BackColor = Color.FromArgb(0, 0, 64);
      this.btnCashOut.BackgroundImage = (Image) componentResourceManager.GetObject("btnCashOut.BackgroundImage");
      this.btnCashOut.BackgroundImageLayout = ImageLayout.Stretch;
      this.btnCashOut.DialogResult = DialogResult.Cancel;
      this.btnCashOut.FlatAppearance.BorderColor = Color.FromArgb(0, 0, 64);
      this.btnCashOut.FlatAppearance.BorderSize = 0;
      this.btnCashOut.FlatStyle = FlatStyle.Flat;
      this.btnCashOut.Font = new Font("Microsoft Sans Serif", 12f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.btnCashOut.Location = new Point(40, 446);
      this.btnCashOut.Name = "btnCashOut";
      this.btnCashOut.Size = new Size(231, 68);
      this.btnCashOut.TabIndex = 4;
      this.btnCashOut.UseVisualStyleBackColor = false;
      this.btnCashOut.Click += new EventHandler(this.btnCashOut_Click);
      this.btnSpin.BackColor = Color.Transparent;
      this.btnSpin.BackgroundImage = (Image) componentResourceManager.GetObject("btnSpin.BackgroundImage");
      this.btnSpin.BackgroundImageLayout = ImageLayout.Stretch;
      this.btnSpin.Cursor = Cursors.Hand;
      this.btnSpin.Enabled = false;
      this.btnSpin.FlatAppearance.BorderColor = Color.SteelBlue;
      this.btnSpin.FlatAppearance.BorderSize = 0;
      this.btnSpin.FlatStyle = FlatStyle.Flat;
      this.btnSpin.Font = new Font("Microsoft Sans Serif", 28f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.btnSpin.ForeColor = Color.SteelBlue;
      this.btnSpin.Location = new Point(298, 405);
      this.btnSpin.Name = "btnSpin";
      this.btnSpin.Size = new Size(203, 202);
      this.btnSpin.TabIndex = 3;
      this.btnSpin.UseVisualStyleBackColor = false;
      this.btnSpin.Click += new EventHandler(this.btnSpin_Click);
      this.btnIncreaseBet.BackColor = Color.FromArgb(0, 0, 64);
      this.btnIncreaseBet.BackgroundImage = (Image) componentResourceManager.GetObject("btnIncreaseBet.BackgroundImage");
      this.btnIncreaseBet.BackgroundImageLayout = ImageLayout.Stretch;
      this.btnIncreaseBet.FlatAppearance.BorderSize = 0;
      this.btnIncreaseBet.FlatStyle = FlatStyle.Flat;
      this.btnIncreaseBet.Font = new Font("Microsoft Sans Serif", 32f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.btnIncreaseBet.Location = new Point(675, 483);
      this.btnIncreaseBet.Name = "btnIncreaseBet";
      this.btnIncreaseBet.Size = new Size(63, 59);
      this.btnIncreaseBet.TabIndex = 2;
      this.btnIncreaseBet.UseVisualStyleBackColor = false;
      this.btnIncreaseBet.Click += new EventHandler(this.btnIncreaseBet_Click);
      this.imgListForReels.ImageStream = (ImageListStreamer) componentResourceManager.GetObject("imgListForReels.ImageStream");
      this.imgListForReels.TransparentColor = Color.Transparent;
      this.imgListForReels.Images.SetKeyName(0, "pic1_seven.png");
      this.imgListForReels.Images.SetKeyName(1, "pic2_banana.png");
      this.imgListForReels.Images.SetKeyName(2, "pic3_apple.png");
      this.imgListForReels.Images.SetKeyName(3, "pic4_orange.png");
      this.imgListForReels.Images.SetKeyName(4, "pic5_cherry.png");
      this.lblBet.AutoSize = true;
      this.lblBet.BackColor = Color.FromArgb(0, 0, 64);
      this.lblBet.Font = new Font("Arial", 18f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.lblBet.ForeColor = Color.White;
      this.lblBet.Location = new Point(610, 446);
      this.lblBet.Name = "lblBet";
      this.lblBet.Size = new Size(61, 29);
      this.lblBet.TabIndex = 11;
      this.lblBet.Text = "BET";
      this.pictureBox1.BackColor = Color.FromArgb(0, 0, 64);
      this.pictureBox1.BackgroundImageLayout = ImageLayout.Stretch;
      this.pictureBox1.BorderStyle = BorderStyle.FixedSingle;
      this.pictureBox1.Location = new Point(505, 419);
      this.pictureBox1.Margin = new Padding(2);
      this.pictureBox1.Name = "pictureBox1";
      this.pictureBox1.Size = new Size(276, 170);
      this.pictureBox1.TabIndex = 13;
      this.pictureBox1.TabStop = false;
      this.pictureBox2.BackColor = Color.FromArgb(0, 0, 64);
      this.pictureBox2.BackgroundImageLayout = ImageLayout.Stretch;
      this.pictureBox2.BorderStyle = BorderStyle.FixedSingle;
      this.pictureBox2.Location = new Point(18, 419);
      this.pictureBox2.Margin = new Padding(2);
      this.pictureBox2.Name = "pictureBox2";
      this.pictureBox2.Size = new Size(276, 170);
      this.pictureBox2.TabIndex = 14;
      this.pictureBox2.TabStop = false;
      this.btnDecreaseBet.BackColor = Color.FromArgb(0, 0, 64);
      this.btnDecreaseBet.BackgroundImage = (Image) componentResourceManager.GetObject("btnDecreaseBet.BackgroundImage");
      this.btnDecreaseBet.BackgroundImageLayout = ImageLayout.Stretch;
      this.btnDecreaseBet.FlatAppearance.BorderSize = 0;
      this.btnDecreaseBet.FlatStyle = FlatStyle.Flat;
      this.btnDecreaseBet.Font = new Font("Microsoft Sans Serif", 32f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.btnDecreaseBet.Location = new Point(544, 483);
      this.btnDecreaseBet.Name = "btnDecreaseBet";
      this.btnDecreaseBet.Size = new Size(63, 59);
      this.btnDecreaseBet.TabIndex = 15;
      this.btnDecreaseBet.UseVisualStyleBackColor = false;
      this.btnDecreaseBet.Click += new EventHandler(this.btnDecreaseBet_Click);
      this.label1.AutoSize = true;
      this.label1.Font = new Font("Microsoft Sans Serif", 32f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.label1.ForeColor = Color.Maroon;
      this.label1.Image = (Image) componentResourceManager.GetObject("label1.Image");
      this.label1.Location = new Point(20, 84);
      this.label1.Name = "label1";
      this.label1.Size = new Size(250, 51);
      this.label1.TabIndex = 16;
      this.label1.Text = "                   ";
      this.txtPlayerName.Font = new Font("Microsoft Sans Serif", 14f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.txtPlayerName.Location = new Point(276, 95);
      this.txtPlayerName.Name = "txtPlayerName";
      this.txtPlayerName.Size = new Size(100, 29);
      this.txtPlayerName.TabIndex = 17;
      this.txtPlayerName.TabStop = false;
      this.txtPlayerName.TextAlign = HorizontalAlignment.Center;
      this.txtWinnings.Font = new Font("Microsoft Sans Serif", 14f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.txtWinnings.Location = new Point(167, 531);
      this.txtWinnings.Name = "txtWinnings";
      this.txtWinnings.Size = new Size(100, 29);
      this.txtWinnings.TabIndex = 18;
      this.txtWinnings.TabStop = false;
      this.txtWinnings.TextAlign = HorizontalAlignment.Center;
      this.lblWinnings.AutoSize = true;
      this.lblWinnings.BackColor = Color.FromArgb(0, 0, 64);
      this.lblWinnings.Font = new Font("Arial", 18f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.lblWinnings.ForeColor = Color.White;
      this.lblWinnings.Location = new Point(43, 528);
      this.lblWinnings.Name = "lblWinnings";
      this.lblWinnings.Size = new Size(123, 29);
      this.lblWinnings.TabIndex = 19;
      this.lblWinnings.Text = "Winnings";
      this.AcceptButton = (IButtonControl) this.btnIncreaseBet;
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.AutoSize = true;
      this.BackColor = Color.SteelBlue;
      this.CancelButton = (IButtonControl) this.btnCashOut;
      this.ClientSize = new Size(802, 624);
      this.Controls.Add((Control) this.lblWinnings);
      this.Controls.Add((Control) this.txtWinnings);
      this.Controls.Add((Control) this.txtPlayerName);
      this.Controls.Add((Control) this.label1);
      this.Controls.Add((Control) this.btnDecreaseBet);
      this.Controls.Add((Control) this.lblBet);
      this.Controls.Add((Control) this.btnIncreaseBet);
      this.Controls.Add((Control) this.txtBet);
      this.Controls.Add((Control) this.btnCashOut);
      this.Controls.Add((Control) this.pictureBox2);
      this.Controls.Add((Control) this.pictureBox1);
      this.Controls.Add((Control) this.btnSpin);
      this.Controls.Add((Control) this.txtBalance);
      this.Controls.Add((Control) this.lblBalance);
      this.Controls.Add((Control) this.pbSlotReel3);
      this.Controls.Add((Control) this.pbSlotReel2);
      this.Controls.Add((Control) this.pbSlotReel1);
      this.Controls.Add((Control) this.lblSlotMachineTitle);
      this.Name = nameof (frmSlotMachine);
      this.StartPosition = FormStartPosition.CenterScreen;
      this.Text = "Slot Machine";
      this.Load += new EventHandler(this.frmSlotMachine_Load);
      ((ISupportInitialize) this.pbSlotReel1).EndInit();
      ((ISupportInitialize) this.pbSlotReel2).EndInit();
      ((ISupportInitialize) this.pbSlotReel3).EndInit();
      ((ISupportInitialize) this.pictureBox1).EndInit();
      ((ISupportInitialize) this.pictureBox2).EndInit();
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
