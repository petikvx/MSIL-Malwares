// Decompiled with JetBrains decompiler
// Type: AvkJoyfOeh7dTxCa0j.AyYZhxHWDYeGQG7AFn
// Assembly: CLAIMVALUESATTRIBUT, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 02CC8C23-A5FB-4ECC-B8C2-95BA2C4203FD
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan-Spy.MSIL.Stealer.gen-f4bef0754be1d8e60471746bb06004a86ab38cb0ffb281973fd45f81b610307e.exe

using System;
using System.Collections.Generic;
using System.Globalization;
using System.IO;
using System.Runtime.CompilerServices;
using System.Text;
using System.Text.RegularExpressions;
using System.Xml.XPath;

namespace AvkJoyfOeh7dTxCa0j
{
  public static class AyYZhxHWDYeGQG7AFn
  {
    private static readonly Regex cZj82vVUys;
    private static readonly UTF8Encoding MON8IIpJAT;
    public static readonly Uri uC38KkcwU4;
    private static Uri wDM8zHVw77;
    internal static AyYZhxHWDYeGQG7AFn JTHchj3wIbnlleojq67;

    [SpecialName]
    public static Uri JGs8L7dnYr() => AyYZhxHWDYeGQG7AFn.wDM8zHVw77;

    [SpecialName]
    public static void UPY8MPYIjV(Uri _param0) => AyYZhxHWDYeGQG7AFn.wDM8zHVw77 = _param0;

    public static HV3ZyQdJE0Z1pMphII XJT84FL1tG(int _param0, string _param1) => AyYZhxHWDYeGQG7AFn.gN28EGxOyR("/account/Characters.xml.aspx", (IDictionary<string, string>) AyYZhxHWDYeGQG7AFn.JJ48tR24ON(_param0, _param1));

    public static HV3ZyQdJE0Z1pMphII dv385D9mju(
      int _param0,
      string _param1,
      int _param2)
    {
      return AyYZhxHWDYeGQG7AFn.gN28EGxOyR("/char/CharacterSheet.xml.aspx", (IDictionary<string, string>) AyYZhxHWDYeGQG7AFn.zjq86IQSsA(_param0, _param1, _param2));
    }

    public static HV3ZyQdJE0Z1pMphII XVR8agqvIc(
      int _param0,
      string _param1,
      int _param2)
    {
      return AyYZhxHWDYeGQG7AFn.gN28EGxOyR("/char/AssetList.xml.aspx", (IDictionary<string, string>) AyYZhxHWDYeGQG7AFn.zjq86IQSsA(_param0, _param1, _param2));
    }

    public static HV3ZyQdJE0Z1pMphII Wev8NdyLUj(
      int _param0,
      string _param1,
      int _param2)
    {
      return AyYZhxHWDYeGQG7AFn.BUf8sYowaq("/char/AssetList.xml.aspx", (IDictionary<string, string>) AyYZhxHWDYeGQG7AFn.zjq86IQSsA(_param0, _param1, _param2));
    }

    public static HV3ZyQdJE0Z1pMphII keZ83b6qWu(
      int _param0,
      string _param1,
      int _param2,
      int _param3)
    {
      return AyYZhxHWDYeGQG7AFn.gN28EGxOyR("/corp/AssetList.xml.aspx", (IDictionary<string, string>) AyYZhxHWDYeGQG7AFn.sCP8d3yL0L(_param0, _param1, _param2, _param3));
    }

    public static HV3ZyQdJE0Z1pMphII dFf8knI0w0(
      int _param0,
      string _param1,
      int _param2,
      int _param3)
    {
      return AyYZhxHWDYeGQG7AFn.BUf8sYowaq("/corp/AssetList.xml.aspx", (IDictionary<string, string>) AyYZhxHWDYeGQG7AFn.sCP8d3yL0L(_param0, _param1, _param2, _param3));
    }

    private static Dictionary<string, string> JJ48tR24ON(int _param0, string _param1) => new Dictionary<string, string>()
    {
      ["userID"] = _param0.ToString(),
      ["apiKey"] = _param1,
      ["version"] = "2"
    };

    private static Dictionary<string, string> zjq86IQSsA(
      int _param0,
      string _param1,
      int _param2)
    {
      return new Dictionary<string, string>()
      {
        ["userID"] = _param0.ToString(),
        ["apiKey"] = _param1,
        ["characterID"] = _param2.ToString(),
        ["version"] = "2"
      };
    }

    private static Dictionary<string, string> sCP8d3yL0L(
      int _param0,
      string _param1,
      int _param2,
      int _param3)
    {
      return new Dictionary<string, string>()
      {
        ["userID"] = _param0.ToString(),
        ["apiKey"] = _param1,
        ["characterID"] = _param2.ToString(),
        ["corporationID"] = _param3.ToString(),
        ["version"] = "2"
      };
    }

    public static HV3ZyQdJE0Z1pMphII BUf8sYowaq(
      string _param0,
      IDictionary<string, string> _param1)
    {
      return vUVYekerQS9BdcWk3X.ywcOVNkLfD(AyYZhxHWDYeGQG7AFn.oIb8o116eX(_param0, _param1), (O5yF9YwSBrf30h3eJt) new AyYZhxHWDYeGQG7AFn.vaICeB1djr7edeJLKx());
    }

    public static HV3ZyQdJE0Z1pMphII gN28EGxOyR(
      string _param0,
      IDictionary<string, string> _param1)
    {
      string str = AyYZhxHWDYeGQG7AFn.oIb8o116eX(_param0, _param1);
      O5yF9YwSBrf30h3eJt o5yF9YwSbrf30h3eJt = (O5yF9YwSBrf30h3eJt) new AyYZhxHWDYeGQG7AFn.vaICeB1djr7edeJLKx();
      return vUVYekerQS9BdcWk3X.E10OwSYxEb(new Uri(AyYZhxHWDYeGQG7AFn.wDM8zHVw77, _param0).ToString(), str, o5yF9YwSbrf30h3eJt, (IEnumerable<KeyValuePair<string, string>>) _param1, (S68g4BO8yPnc05dptk) (tempPath =>
      {
        using (FileStream fileStream = File.Open(tempPath, FileMode.Open, FileAccess.Read))
        {
          XPathDocument xpathDocument = new XPathDocument((Stream) fileStream);
          int num = 0;
          // ISSUE: reference to a compiler-generated method
          if (AyYZhxHWDYeGQG7AFn.plewjIrZ3c34m6glwR.Wkxc9xCWex15yWa38AI())
            num = 0;
          switch (num)
          {
            default:
              XPathNavigator navigator = xpathDocument.CreateNavigator();
              XPathNavigator xpathNavigator = navigator.SelectSingleNode("/eveapi/error");
              if (xpathNavigator != null)
              {
                // ISSUE: reference to a compiler-generated method
                // ISSUE: reference to a compiler-generated method
                throw new FNxiAGNoFvNWKoEjbG(AyYZhxHWDYeGQG7AFn.plewjIrZ3c34m6glwR.ieC1seCyjuK1EfRf4WV(AyYZhxHWDYeGQG7AFn.plewjIrZ3c34m6glwR.wS8y8uCbOidZZFKmDOo((object) xpathNavigator, (object) "@code")), xpathNavigator.Value);
              }
              if (navigator.SelectSingleNode("/eveapi") != null)
                break;
              throw new FNxiAGNoFvNWKoEjbG(0, "No valid eveapi XML found in response.");
          }
        }
      }));
    }

    private static DateTime rvB8QI6Q3O(string _param0)
    {
      DateTime localTime;
      using (FileStream fileStream = File.Open(_param0, FileMode.Open, FileAccess.Read))
      {
        localTime = TimeZone.CurrentTimeZone.ToLocalTime(DateTime.Parse(new XPathDocument((Stream) fileStream).CreateNavigator().SelectSingleNode("/eveapi/cachedUntil").Value, (IFormatProvider) CultureInfo.InvariantCulture));
        int num1 = 0;
        if (!AyYZhxHWDYeGQG7AFn.S1MaTa3k5t6imLBrqOy())
          goto label_4;
label_3:
        switch (num1)
        {
          default:
            goto label_1;
        }
label_4:
        int num2;
        num1 = num2;
        goto label_3;
      }
label_1:
      return localTime;
    }

    private static string oIb8o116eX(string _param0, IDictionary<string, string> _param1)
    {
      if (string.IsNullOrEmpty(_param0))
        throw new ArgumentNullException("apiPath");
      string input = _param0.StartsWith("/") ? _param0.Substring(1) : _param0;
      string str1 = AyYZhxHWDYeGQG7AFn.cZj82vVUys.Replace(input, "").Replace('/', '.');
      string str2 = vUVYekerQS9BdcWk3X.kETO5kVOIL((IEnumerable<KeyValuePair<string, string>>) _param1);
      string path2 = str1.Insert(str1.LastIndexOf('.'), "." + str2);
      string path = Path.Combine(vUVYekerQS9BdcWk3X.e5iON7x0UC(), path2);
      string directoryName = Path.GetDirectoryName(path);
      if (!Directory.Exists(directoryName))
        Directory.CreateDirectory(directoryName);
      return path;
    }

    static AyYZhxHWDYeGQG7AFn()
    {
      YKUvaI4TsnyoXODJ2q.GJnKaSGoKIybi();
      AyYZhxHWDYeGQG7AFn.cZj82vVUys = new Regex("\\.aspx$");
      AyYZhxHWDYeGQG7AFn.MON8IIpJAT = new UTF8Encoding(false);
      AyYZhxHWDYeGQG7AFn.uC38KkcwU4 = new Uri("http://api.eve-online.com/");
      int num1 = 0;
      if (false)
        goto label_2;
label_1:
      switch (num1)
      {
        default:
          AyYZhxHWDYeGQG7AFn.wDM8zHVw77 = AyYZhxHWDYeGQG7AFn.uC38KkcwU4;
          return;
      }
label_2:
      int num2;
      num1 = num2;
      goto label_1;
    }

    internal static bool S1MaTa3k5t6imLBrqOy() => AyYZhxHWDYeGQG7AFn.JTHchj3wIbnlleojq67 == null;

    internal static AyYZhxHWDYeGQG7AFn xAKuDK3amvYRDiqrnge() => AyYZhxHWDYeGQG7AFn.JTHchj3wIbnlleojq67;

    private class vaICeB1djr7edeJLKx : O5yF9YwSBrf30h3eJt
    {
      private static AyYZhxHWDYeGQG7AFn.vaICeB1djr7edeJLKx LYWQ3UCrsT3SvUo3KgH;

      public DateTime imBhWkgtpC(string _param1) => AyYZhxHWDYeGQG7AFn.rvB8QI6Q3O(_param1);

      public vaICeB1djr7edeJLKx()
      {
        YKUvaI4TsnyoXODJ2q.GJnKaSGoKIybi();
        // ISSUE: explicit constructor call
        base.\u002Ector();
      }

      internal static bool lpTQ5YCQ8hdgN1N7nCE() => AyYZhxHWDYeGQG7AFn.vaICeB1djr7edeJLKx.LYWQ3UCrsT3SvUo3KgH == null;

      internal static AyYZhxHWDYeGQG7AFn.vaICeB1djr7edeJLKx dX7NnvCJfUCmBO42iBw() => AyYZhxHWDYeGQG7AFn.vaICeB1djr7edeJLKx.LYWQ3UCrsT3SvUo3KgH;
    }
  }
}
