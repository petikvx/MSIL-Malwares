// Decompiled with JetBrains decompiler
// Type: TfjrOj8JnuRYvOsMN.4nbeWlB8uPWaaI8sS
// Assembly: bouNMGxVgGi4SRgWO, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60
// MVID: 3F6A2AF1-3CCB-4F01-AA36-FA31C2E4CFE8
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Backdoor.MSIL.Agent.gen-bc408b9f362db28b2e931ff336ec5661cc0ce27b0cdc0ce215fec1b7381aca7f.exe

using abIg3qdW3UpZqiLUe;
using Microsoft.TemplateEngine.Abstractions;
using Microsoft.TemplateEngine.Abstractions.Mount;
using Newtonsoft.Json.Linq;
using PgLEPpSpDk54KWT6E;
using System;
using System.Collections.Generic;
using zjOMGQo4U7RNSpo2h;

namespace TfjrOj8JnuRYvOsMN
{
  public class \u0034nbeWlB8uPWaaI8sS : 
    ITemplate,
    ITemplateInfo,
    IShortNameList,
    ITemplateWithTimestamp
  {
    private readonly JObject oHJOmGQLJs0PLlkug;
    private IReadOnlyDictionary<string, ICacheTag> \u0037EJ0iU85GRVjKJp2I;
    private IReadOnlyDictionary<string, ICacheParameter> \u0038gtIrA5tafGSALGcP;
    private IReadOnlyList<ITemplateParameter> K4RBko5WkTGQ39Ilx;

    public \u0034nbeWlB8uPWaaI8sS(
      JObject raw,
      IGenerator generator,
      IFile configFile,
      IRunnableProjectConfig config,
      IFile localeConfigFile,
      IFile hostConfigFile)
    {
      config.SourceFile = configFile;
      this.pvwjShE6JXFOLl5r9 = configFile;
      this.eKMR2RkRlntfMJaVc = generator;
      this.JkLe0G7hR0qhDVWg9 = ((IFileSystemInfo) configFile).MountPoint;
      this.urjCr6Veu08qPufws = config;
      this.HJuEqv787AZRSMoOO = config.DefaultName;
      this.ID2feswsrLlSGKIlu = config.Name;
      this.Y7FJK8LSdwji0jZrw = config.Identity ?? config.Name;
      this.h1EivWyDd9LBlWXro = config.ShortNameList ?? (IReadOnlyList<string>) new List<string>();
      this.LHdY0AtJK6S5vYBd4 = config.Author;
      this.Kipl2pt7Csktb82WJ = config.Tags ?? (IReadOnlyDictionary<string, ICacheTag>) new Dictionary<string, ICacheTag>((IEqualityComparer<string>) StringComparer.OrdinalIgnoreCase);
      this.\u0033uFclZh6JPblNPF4u = config.CacheParameters ?? (IReadOnlyDictionary<string, ICacheParameter>) new Dictionary<string, ICacheParameter>((IEqualityComparer<string>) StringComparer.OrdinalIgnoreCase);
      this.KMO6oVFbAmn2Iz9Xg = config.Description;
      this.tmbc7CXlLJGc3VXz2 = config.Classifications;
      this.LgATX7kO3QPp1rIFi = config.GroupIdentity;
      this.nY1CNng4pY9a8mW85 = config.Precedence;
      this.dsHp64BWq5lXnkCFd = localeConfigFile;
      this.ryBHtFm7ZL3Lc2m7V = ((JToken) raw).ToJy8q7qvluuajW9v("preferNameDirectory");
      this.\u0033kPRYq4yvCRpSOIGv = ((IFileSystemInfo) hostConfigFile)?.MountPoint?.Info?.MountPointId ?? Guid.Empty;
      this.ud5HBVICOM4f0cnvd = ((IFileSystemInfo) hostConfigFile)?.FullPath;
      this.oFGZtHD1A30WRuvNd = ((JToken) raw).nVxA6yY1QJJUqxmoF("thirdPartyNotices");
      this.oHJOmGQLJs0PLlkug = raw;
      this.ZwIALCFnOqfH43KOg = config.BaselineInfo;
      this.iG20jUlAuPh8TRoT7 = config.HasScriptRunningPostActions;
      if (!(config is ITemplateWithTimestamp itemplateWithTimestamp))
        return;
      this.OzUm1SvnvpGbO7iim = itemplateWithTimestamp.ConfigTimestampUtc;
    }

    public IDirectory iTZ8Vro86iNwqHvPi => ((IFileSystemInfo) ((IFileSystemInfo) this.pvwjShE6JXFOLl5r9)?.Parent)?.Parent;

    public string Y7FJK8LSdwji0jZrw { get; }

    public Guid csZGMy1OHrNHirSlT => ((IIdentifiedComponent) this.eKMR2RkRlntfMJaVc).Id;

    public string LHdY0AtJK6S5vYBd4 { get; }

    public string KMO6oVFbAmn2Iz9Xg { get; }

    public IReadOnlyList<string> tmbc7CXlLJGc3VXz2 { get; }

    public IRunnableProjectConfig urjCr6Veu08qPufws { get; private set; }

    public string HJuEqv787AZRSMoOO { get; }

    public IGenerator eKMR2RkRlntfMJaVc { get; }

    public string LgATX7kO3QPp1rIFi { get; }

    public int nY1CNng4pY9a8mW85 { get; set; }

    public string ID2feswsrLlSGKIlu { get; }

    public string yGwKBXuRhwV3Aj80p
    {
      get => this.h1EivWyDd9LBlWXro.Count > 0 ? this.h1EivWyDd9LBlWXro[0] : string.Empty;
      set => this.h1EivWyDd9LBlWXro = this.h1EivWyDd9LBlWXro.Count <= 0 ? (IReadOnlyList<string>) new List<string>()
      {
        value
      } : throw new Exception("Can't set the short name when the ShortNameList already has entries.");
    }

    public IReadOnlyList<string> h1EivWyDd9LBlWXro { get; private set; }

    public IMountPoint JkLe0G7hR0qhDVWg9 { get; }

    public IReadOnlyDictionary<string, ICacheTag> Kipl2pt7Csktb82WJ
    {
      get => this.\u0037EJ0iU85GRVjKJp2I;
      set
      {
        this.\u0037EJ0iU85GRVjKJp2I = value;
        this.K4RBko5WkTGQ39Ilx = (IReadOnlyList<ITemplateParameter>) null;
      }
    }

    public IReadOnlyDictionary<string, ICacheParameter> \u0033uFclZh6JPblNPF4u
    {
      get => this.\u0038gtIrA5tafGSALGcP;
      set
      {
        this.\u0038gtIrA5tafGSALGcP = value;
        this.K4RBko5WkTGQ39Ilx = (IReadOnlyList<ITemplateParameter>) null;
      }
    }

    public IReadOnlyList<ITemplateParameter> IYK39U8wfW1UVPf2j
    {
      get
      {
        if (this.K4RBko5WkTGQ39Ilx == null)
        {
          List<ITemplateParameter> itemplateParameterList = new List<ITemplateParameter>();
          foreach (KeyValuePair<string, ICacheTag> keyValuePair in (IEnumerable<KeyValuePair<string, ICacheTag>>) this.Kipl2pt7Csktb82WJ)
          {
            ITemplateParameter itemplateParameter = (ITemplateParameter) new ckgfOYwQVcmI3lHXN()
            {
              RWvAX7XIWjB7LsE1n = keyValuePair.Key,
              iYZwjXxx1u0aG37T7 = keyValuePair.Value.Description,
              IiDGwXg9xkw4cSAwD = keyValuePair.Value.DefaultValue,
              eGiLBksYQaFkLZlBR = keyValuePair.Value.ChoicesAndDescriptions,
              \u0038DBEv3DWcN5nNg1o1 = "choice"
            };
            if (itemplateParameter is IAllowDefaultIfOptionWithoutValue optionWithoutValue1 && keyValuePair.Value is IAllowDefaultIfOptionWithoutValue optionWithoutValue2)
            {
              optionWithoutValue1.DefaultIfOptionWithoutValue = optionWithoutValue2.DefaultIfOptionWithoutValue;
              itemplateParameterList.Add((ITemplateParameter) (optionWithoutValue1 as ckgfOYwQVcmI3lHXN));
            }
            else
              itemplateParameterList.Add(itemplateParameter);
          }
          foreach (KeyValuePair<string, ICacheParameter> keyValuePair in (IEnumerable<KeyValuePair<string, ICacheParameter>>) this.\u0033uFclZh6JPblNPF4u)
          {
            ITemplateParameter itemplateParameter = (ITemplateParameter) new ckgfOYwQVcmI3lHXN()
            {
              RWvAX7XIWjB7LsE1n = keyValuePair.Key,
              iYZwjXxx1u0aG37T7 = keyValuePair.Value.Description,
              \u0038DBEv3DWcN5nNg1o1 = keyValuePair.Value.DataType,
              IiDGwXg9xkw4cSAwD = keyValuePair.Value.DefaultValue
            };
            if (itemplateParameter is IAllowDefaultIfOptionWithoutValue optionWithoutValue3 && keyValuePair.Value is IAllowDefaultIfOptionWithoutValue optionWithoutValue4)
            {
              optionWithoutValue3.DefaultIfOptionWithoutValue = optionWithoutValue4.DefaultIfOptionWithoutValue;
              itemplateParameterList.Add((ITemplateParameter) (optionWithoutValue3 as ckgfOYwQVcmI3lHXN));
            }
            else
              itemplateParameterList.Add(itemplateParameter);
          }
          this.K4RBko5WkTGQ39Ilx = (IReadOnlyList<ITemplateParameter>) itemplateParameterList;
        }
        return this.K4RBko5WkTGQ39Ilx;
      }
    }

    public IFile pvwjShE6JXFOLl5r9 { get; }

    public IFileSystemInfo SIb0QI7n9XxGcDzOM => (IFileSystemInfo) this.pvwjShE6JXFOLl5r9;

    public Guid IO0hMGobwiLk51RiU => this.SIb0QI7n9XxGcDzOM.MountPoint.Info.MountPointId;

    public string UtiKN5mOrFVmLli8p => this.SIb0QI7n9XxGcDzOM.FullPath;

    public IFile dsHp64BWq5lXnkCFd { get; }

    public IFileSystemInfo MGYHwrB2IgaktD5QY => (IFileSystemInfo) this.dsHp64BWq5lXnkCFd;

    public Guid \u0032p7aINFlpBpCN1FMd => this.MGYHwrB2IgaktD5QY.MountPoint.Info.MountPointId;

    public string WPOBe26VKQ30W642I => this.MGYHwrB2IgaktD5QY.FullPath;

    public bool ryBHtFm7ZL3Lc2m7V { get; }

    public Guid \u0033kPRYq4yvCRpSOIGv { get; }

    public string ud5HBVICOM4f0cnvd { get; }

    public string oFGZtHD1A30WRuvNd { get; }

    public IReadOnlyDictionary<string, IBaselineInfo> ZwIALCFnOqfH43KOg { get; set; }

    public bool iG20jUlAuPh8TRoT7 { get; set; }

    public DateTime? OzUm1SvnvpGbO7iim { get; set; }
  }
}
