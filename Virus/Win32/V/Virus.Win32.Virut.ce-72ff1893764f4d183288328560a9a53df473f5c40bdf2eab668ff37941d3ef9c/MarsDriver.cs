// Decompiled with JetBrains decompiler
// Type: Com.HP.PLS.UsageTracking.PE.MarsDriver
// Assembly: hppusg, Version=1.0.2680.22021, Culture=neutral, PublicKeyToken=null
// MVID: 70D0B824-0174-41FD-8984-AD6133AB72F5
// Assembly location: C:\Users\Administrateur\Desktop\Virusshare-00005-msil\Virus.Win32.Virut.ce-72ff1893764f4d183288328560a9a53df473f5c40bdf2eab668ff37941d3ef9c.exe

using Interop.MarsCore;
using System;
using System.ComponentModel;
using System.Drawing;
using System.Windows.Forms;

namespace Com.HP.PLS.UsageTracking.PE
{
  public class MarsDriver : Form
  {
    private Label label4;
    private Label label3;
    private TextBox textBox1;
    private Label label2;
    private Label label1;
    private Button button1;
    private Button button2;
    private Button button3;
    private Label label5;
    private Container components = (Container) null;

    public MarsDriver()
    {
      this.InitializeComponent();
      this.Show();
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.label4 = new Label();
      this.label3 = new Label();
      this.textBox1 = new TextBox();
      this.label2 = new Label();
      this.label1 = new Label();
      this.button1 = new Button();
      this.button2 = new Button();
      this.button3 = new Button();
      this.label5 = new Label();
      this.SuspendLayout();
      this.label4.Font = new Font("Microsoft Sans Serif", 8.25f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.label4.Location = new Point(8, 272);
      this.label4.Name = "label4";
      this.label4.Size = new Size(100, 16);
      this.label4.TabIndex = 12;
      this.label4.Text = "Output:";
      this.label4.TextAlign = ContentAlignment.BottomLeft;
      this.label3.Location = new Point(18, 33);
      this.label3.Name = "label3";
      this.label3.Size = new Size(48, 23);
      this.label3.TabIndex = 11;
      this.label3.Text = "eID:";
      this.label3.TextAlign = ContentAlignment.MiddleLeft;
      this.textBox1.Location = new Point(74, 33);
      this.textBox1.Name = "textBox1";
      this.textBox1.Size = new Size(32, 20);
      this.textBox1.TabIndex = 10;
      this.textBox1.Text = "8";
      this.label2.Location = new Point(8, 72);
      this.label2.Name = "label2";
      this.label2.Size = new Size(158, 23);
      this.label2.TabIndex = 9;
      this.label2.Text = "Simulate Mars call to Orwell:";
      this.label1.AllowDrop = true;
      this.label1.AutoSize = true;
      this.label1.Location = new Point(16, 304);
      this.label1.Name = "label1";
      this.label1.Size = new Size(0, 16);
      this.label1.TabIndex = 8;
      this.label1.Click += new EventHandler(this.label1_Click);
      this.button1.Location = new Point(8, 96);
      this.button1.Name = "button1";
      this.button1.Size = new Size(120, 23);
      this.button1.TabIndex = 7;
      this.button1.Text = "CollectTrackedSet";
      this.button1.Click += new EventHandler(this.button1_Click);
      this.button2.Location = new Point(8, 192);
      this.button2.Name = "button2";
      this.button2.Size = new Size(152, 23);
      this.button2.TabIndex = 13;
      this.button2.Text = "Call IsDeviceConnected()";
      this.button2.Click += new EventHandler(this.button2_Click);
      this.button3.Location = new Point(8, 224);
      this.button3.Name = "button3";
      this.button3.Size = new Size(152, 23);
      this.button3.TabIndex = 14;
      this.button3.Text = "Retrieve Data From Device";
      this.button3.Click += new EventHandler(this.button3_Click);
      this.label5.Location = new Point(8, 160);
      this.label5.Name = "label5";
      this.label5.Size = new Size(144, 23);
      this.label5.TabIndex = 15;
      this.label5.Text = "Simulate Calls to Orwell:";
      this.label5.Click += new EventHandler(this.label5_Click);
      this.AutoScaleBaseSize = new Size(5, 13);
      this.ClientSize = new Size(360, 414);
      this.Controls.Add((Control) this.label5);
      this.Controls.Add((Control) this.button3);
      this.Controls.Add((Control) this.button2);
      this.Controls.Add((Control) this.label4);
      this.Controls.Add((Control) this.label3);
      this.Controls.Add((Control) this.textBox1);
      this.Controls.Add((Control) this.label2);
      this.Controls.Add((Control) this.label1);
      this.Controls.Add((Control) this.button1);
      this.Name = nameof (MarsDriver);
      this.Text = "Form1";
      this.Load += new EventHandler(this.MarsDriver_Load_1);
      this.ResumeLayout(false);
    }

    private void button1_Click(object sender, EventArgs e)
    {
      UsageStorageCallback instance1 = UsageStorageCallback.Instance;
      if (instance1 == null)
      {
        this.label1.ResetText();
        this.label1.Text = "The UsageStorageCallback object has not been created yet.";
      }
      else if (this.textBox1.Text == null || this.textBox1.TextLength <= 0)
      {
        this.label1.Text = "ERROR: Please enter a valid eID (3, 8)!";
      }
      else
      {
        string s = this.textBox1.Text.Trim();
        HPCUE_TrackedSetEnum hpcueTrackedSetEnum = (HPCUE_TrackedSetEnum) 3;
        if (s.Equals("8") || s.Equals("3"))
        {
          switch (int.Parse(s))
          {
            case 3:
              hpcueTrackedSetEnum = (HPCUE_TrackedSetEnum) 3;
              break;
            case 8:
              hpcueTrackedSetEnum = (HPCUE_TrackedSetEnum) 8;
              break;
            default:
              hpcueTrackedSetEnum = (HPCUE_TrackedSetEnum) 8;
              break;
          }
        }
        else
          this.label1.Text = "Warning: eID is not 3 or 8.  Using eID = 8.";
        string text = this.label1.Text;
        MarsTrackerProxy instance2 = MarsTrackerProxy.Instance;
        this.label1.Text = text + "\nThe UsageStorageCallback object is active.\nCalling CollectTrackedSets..";
        instance1.CollectTrackedSet(instance2.InstanceID, hpcueTrackedSetEnum, (UsageStorage) null);
      }
    }

    private void label1_Click(object sender, EventArgs e)
    {
    }

    private void MarsDriver_Load(object sender, EventArgs e) => this.label1.ResetText();

    private void MarsDriver_Load_1(object sender, EventArgs e)
    {
    }

    private void label5_Click(object sender, EventArgs e)
    {
    }

    private void button2_Click(object sender, EventArgs e)
    {
      TestTrackerProxy instance = TestTrackerProxy.Instance;
      if (instance == null)
        return;
      this.label1.Text = "Is device connected = " + ((TrackerProxy) instance).ClientDevice.IsDeviceConnected().ToString();
    }

    private void button3_Click(object sender, EventArgs e)
    {
      TestTrackerProxy instance = TestTrackerProxy.Instance;
      instance.RetrieveData(3, (UsageStorage) null);
      this.label1.Text = "Retrieved data for eid=3";
      instance.RetrieveData(8, (UsageStorage) null);
      this.label1.Text = "Retrieved dat for eid=8";
    }
  }
}
