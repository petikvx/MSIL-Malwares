// Decompiled with JetBrains decompiler
// Type: s686708834606903.s953925013719849
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using FastSerialization;
using s000167190524782;
using s001416132363642;
using s009907969975747;
using s021267245900384;
using s025420649509424;
using s053820894464182;
using s094083356292532;
using s108107958967019;
using s111377166353221;
using s116897696906278;
using s119009636400799;
using s134096877844438;
using s139589282377056;
using s145974322046209;
using s155502270017538;
using s155571305277686;
using s159737362896741;
using s171841645290092;
using s179458635260178;
using s190996497545784;
using s206923188273504;
using s213089826844990;
using s214170901478238;
using s215099480790428;
using s217114026863387;
using s235622752181854;
using s271542235666520;
using s272004370277110;
using s297449729949532;
using s302206583356359;
using s319900137549381;
using s340848439677719;
using s342080316044389;
using s345301068684082;
using s347470753205370;
using s353195373616777;
using s354939329968896;
using s383588729028383;
using s387710862726222;
using s388377415288553;
using s411269037667317;
using s418410312208900;
using s421409323735343;
using s423715911845194;
using s431171512563892;
using s432851493392539;
using s433929272052922;
using s436030126443604;
using s442252528567994;
using s479888279788464;
using s497735698446526;
using s502719414289374;
using s502762629278250;
using s505190836887489;
using s508878009835558;
using s519192205615344;
using s524124129995258;
using s528813736053581;
using s534859580764535;
using s535820167059183;
using s538598479691955;
using s551269714710412;
using s555751328692804;
using s556324700548673;
using s564412675469531;
using s573174190489126;
using s576624654086884;
using s587197687005387;
using s608328409785312;
using s616307831319041;
using s624851937681282;
using s627321409542780;
using s643617086547964;
using s644632876640750;
using s648185729169454;
using s650049430295322;
using s679889277206639;
using s713328882406766;
using s736322905406258;
using s741627039812349;
using s742632018787840;
using s743898255106522;
using s769900199774925;
using s771529318614778;
using s790378171014915;
using s800090574810683;
using s814626784262558;
using s823821695919048;
using s838187214298364;
using s840198171569712;
using s850039077282665;
using s852002970843533;
using s859483659459112;
using s863705558192595;
using s863951767982564;
using s866758743033523;
using s874166642857481;
using s874883349466851;
using s877373011507287;
using s878358404072606;
using s881185898513515;
using s885500789572734;
using s894879159756793;
using s927068671643956;
using s935466933889679;
using s936889381026554;
using s954304824645883;
using s959478525374724;
using s962360155664524;
using s985393833263885;
using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.IO;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Text;
using System.Threading;

namespace s686708834606903
{
  public sealed class s953925013719849 : 
    s470725726477034,
    IDisposable,
    IFastSerializable,
    IFastSerializableVersion
  {
    private int s860322792556183;
    private s953925013719849.s887372128019690 s480932139527328;
    private s953925013719849.s421948275016902 s672313168780124;
    private Dictionary<ulong, s953925013719849.s421948275016902> s469074702134923 = new Dictionary<ulong, s953925013719849.s421948275016902>();
    private Dictionary<ulong, s953925013719849.s421948275016902> s197149443134704 = new Dictionary<ulong, s953925013719849.s421948275016902>();
    private static char[] s099857079342018 = new char[2]
    {
      '\\',
      '/'
    };
    internal const int s253098658781341 = 104;
    private string s154146724468004;
    private int s542224231531017;
    private int s674656463163429;
    private string s809990920470372;
    private string s818541666885848;
    private long s209957134984445;
    private bool s048728593414489;
    private bool s565822153995113;
    private s130497541240854 s798082389356255;
    private int s604034146760554;
    private string s888015528405495;
    private s695099563455931 s010022728883850;
    private s353225494468418 s143306269958771;
    private s604695337689154 s884102370803262;
    private s875958956371404 s331653912014948;
    private s146782071934304 s963429334271493;
    private DeferedRegion s037073557394067;
    private DeferedRegion s602797216177595;
    private DeferedRegion s251956267042740;
    private DeferedRegion s707565044631737;
    private s473104975773947 s199357960539743;
    private GrowableArray<s953925013719849.s923788715572248> s255261239133326;
    private int s794859289587172;
    private bool s448794852656748;
    private int s685301775074725;
    private bool s828840775274350;
    private bool s747885479028768;
    private bool s660631395713929;
    private bool s718718464503218;
    private s399735979708807 s177548701675016;
    private List<s764056440229462> s415174777626462;
    private List<s857862604129316> s348101395282843;
    private Dictionary<s825034638267429, string> s273598910599377;
    private s831768100600903 s893807802780582;
    private GrowableArray<s953925013719849.s795610042381770> s832144861097087;
    private GrowableArray<s953925013719849.s795610042381770> s855105742819860;
    private GrowableArray<s953925013719849.s292301582656752> s881900831034299;
    private s726691949965431 s921987298224619;
    private PinnedStreamReader s935512636720585;
    private Dictionary<string, s126519166327702> s858980706940057;
    internal GrowableArray<Guid> s089293475028413;
    internal const int s608156641996756 = 1024;
    private static readonly Func<s130497541240854, s953925013719849.s795610042381770, int> s307796244039082 = new Func<s130497541240854, s953925013719849.s795610042381770, int>(s953925013719849.s974440264194165.s663191029944129.s458914284035291);
    private static readonly Func<s130497541240854, s953925013719849.s292301582656752, int> s020867435713768 = new Func<s130497541240854, s953925013719849.s292301582656752, int>(s953925013719849.s974440264194165.s663191029944129.s069323174175616);
    internal s726691949965431 s998411788497258;
    internal s726691949965431 s202689369210087;
    internal s493856516565921 s520338466465461;
    internal bool s963225961874276;
    internal s993604466763239 s672528484906197;
    private Queue<s953925013719849.s661307348688474> s458313909586995;
    private Timer s002931925348858;
    private Func<s034852122986107, ulong, bool> s742809843802108;

    public static string s378428078948150(
      string s427527032131837,
      string s078526586095925 = null,
      s493856516565921 s342495505095841 = null,
      s748366080249292 s548618253280166 = null)
    {
      if (s078526586095925 == null)
        s078526586095925 = Path.ChangeExtension(s427527032131837, ".etlx");
      using (s726691949965431 s472620963878064 = s726691949965431.s622202295483407(s427527032131837, s548618253280166))
      {
        if (s472620963878064.s915243113681282 != 0 && s342495505095841 != null && s342495505095841.s366712850800448 != null)
          s342495505095841.s366712850800448(false, s472620963878064.s915243113681282, 0);
        s953925013719849.s932123332527615(s472620963878064, s078526586095925, s342495505095841);
      }
      return s078526586095925;
    }

    public static s953925013719849 s253998962706016(
      string s979875891861152,
      s493856516565921 s063185113993518 = null)
    {
      if (s979875891861152.EndsWith(".etl", StringComparison.OrdinalIgnoreCase))
        s979875891861152 = Path.ChangeExtension(s979875891861152, ".etlx");
      string str = Path.ChangeExtension(s979875891861152, ".etl");
      bool flag = false;
      if (File.Exists(str) && (!File.Exists(s979875891861152) || File.GetLastWriteTimeUtc(s979875891861152) < File.GetLastWriteTimeUtc(str)))
      {
        s953925013719849.s378428078948150(str, s979875891861152, s063185113993518);
        flag = true;
      }
      try
      {
        return new s953925013719849(s979875891861152);
      }
      catch (Exception ex)
      {
        if (flag)
          throw;
      }
      s953925013719849.s378428078948150(str, s979875891861152, s063185113993518);
      return new s953925013719849(s979875891861152);
    }

    public static s993604466763239 s996780836649667(
      s224125339561461 s603916186446997)
    {
      return new s953925013719849(s603916186446997).s672528484906197;
    }

    public static string s980590339218995(
      string s243200481859376,
      string s314411379639186 = null,
      s493856516565921 s957204385378516 = null)
    {
      if (s314411379639186 == null)
        s314411379639186 = s243200481859376 + ".etlx";
      using (s384585984974928 s118064721338968 = new s384585984974928(s243200481859376))
      {
        if (s118064721338968.s915243113681282 != 0 && s957204385378516 != null && s957204385378516.s366712850800448 != null)
          s957204385378516.s366712850800448(false, s118064721338968.s915243113681282, 0);
        s953925013719849.s308554132081192(s118064721338968, s314411379639186, (s493856516565921) null);
      }
      return s314411379639186;
    }

    public static string s505848701226180(
      string s744463202811399,
      string s212962388177281 = null,
      s493856516565921 s151951852096969 = null)
    {
      if (s212962388177281 == null)
        s212962388177281 = s744463202811399 + ".etlx";
      using (s091584904371036 s406425624455219 = new s091584904371036(s744463202811399))
      {
        if (s406425624455219.s915243113681282 != 0 && s151951852096969 != null && s151951852096969.s366712850800448 != null)
          s151951852096969.s366712850800448(false, s406425624455219.s915243113681282, 0);
        s953925013719849.s645409133803745((s726691949965431) s406425624455219, s212962388177281, s151951852096969);
      }
      return s212962388177281;
    }

    public s953925013719849(string etlxFilePath)
      : this()
    {
      this.s493670491634216(etlxFilePath);
    }

    public s473104975773947 s427461272038725
    {
      get
      {
        if (this.s100927375859058)
          throw new NotSupportedException("Enumeration is not supported on real time sessions.");
        return this.s199357960539743;
      }
    }

    public s695099563455931 s386698456584430 => this.s010022728883850;

    public s353225494468418 s132713297009023 => this.s143306269958771;

    public s831768100600903 s427569464106482 => this.s893807802780582;

    public s604695337689154 s331550318228488 => this.s884102370803262;

    public s875958956371404 s517247949554964 => this.s331653912014948;

    public s146782071934304 s232777981693516 => this.s963429334271493;

    public s939662400885077 s714670246936389(s034852122986107 s028596253973155) => this.s884102370803262.get_Item(this.s067433782849983(s028596253973155));

    public s147978847785798 s067433782849983(s034852122986107 s139893271440990) => this.s852803909566808(s139893271440990.s980614047227979);

    public s130497541240854 s222111120871574 => (s130497541240854) this.s794859289587172;

    public s034852122986107 s735866033839651(s130497541240854 s331750901351627)
    {
      int num1 = (int) ((uint) s331750901351627 / 1024U);
      int num2 = (int) (s331750901351627 - (uint) (num1 * 1024));
      if (this.s255261239133326.Count <= num1)
        return (s034852122986107) null;
      IEnumerator<s034852122986107> enumerator = ((IEnumerable<s034852122986107>) new s473104975773947(this, this.s255261239133326[num1].s954706018554011, long.MaxValue, (Predicate<s034852122986107>) null, false)).GetEnumerator();
      while (enumerator.MoveNext())
      {
        s034852122986107 current = enumerator.Current;
        if (current.s980614047227979 == s331750901351627)
          return current.s994455335614443();
      }
      return (s034852122986107) null;
    }

    public int s769992762610920 => this.s794859289587172;

    public virtual long s410426603752910 => new FileInfo(this.s154146724468004).Length;

    public virtual int s620810650703300 => this.s674656463163429;

    public string s050860405158148 => this.s154146724468004;

    public string s934991785678979 => this.s888015528405495;

    public string s729843826046126 => this.s809990920470372;

    public string s858629621550856 => this.s818541666885848;

    public DateTime s958235860358845 => this.s209957134984445 == 0L ? DateTime.MaxValue : DateTime.FromFileTime(this.s209957134984445);

    public int? s192528337579256 => this.s348947355737433;

    public bool s823349012240603 => this.s048728593414489;

    public int s415017020712936 => this.s542224231531017;

    public bool s431254852010000 => this.s331550318228488.s205966286230606 > 0;

    public TimeSpan s407580712989469 => new TimeSpan((long) this.s604034146760554);

    public bool s889859480088482()
    {
      if (this.s100927375859058)
        return true;
      string strB = Environment.MachineName;
      int length1 = strB.IndexOf('.');
      if (length1 > 0)
        strB = strB.Substring(0, length1);
      string strA = this.s934991785678979;
      if (string.IsNullOrEmpty(strA))
        return true;
      int length2 = strA.IndexOf('.');
      if (length2 > 0)
        strA = strA.Substring(0, length2);
      return string.Compare(strA, strB, StringComparison.OrdinalIgnoreCase) == 0;
    }

    public bool s111947439014765 => this.s565822153995113;

    public s130497541240854 s225961345420537 => this.s798082389356255;

    public IEnumerable<s126519166327702> s722050133250554 => (IEnumerable<s126519166327702>) this.s858980706940057.Values;

    public virtual string s609604201041036()
    {
      StringBuilder stringBuilder = new StringBuilder();
      stringBuilder.AppendLine(" <s953925013719849Header ");
      stringBuilder.AppendLine("   MachineName=" + s471684335504367.s732483410121786((object) this.s934991785678979));
      stringBuilder.AppendLine("   EventCount=" + s471684335504367.s639751879214616(this.s769992762610920));
      stringBuilder.AppendLine("   FilePath=" + s471684335504367.s732483410121786((object) this.s050860405158148));
      stringBuilder.AppendLine("   EventsLost=" + s471684335504367.s639751879214616(this.s915243113681282));
      stringBuilder.AppendLine("   SessionStartTime=" + s471684335504367.s732483410121786((object) this.s434343679328065));
      stringBuilder.AppendLine("   SessionEndTime=" + s471684335504367.s732483410121786((object) this.s930757625200574));
      stringBuilder.AppendLine("   SessionDuration=" + s471684335504367.s732483410121786((object) this.s318618519427206.ToString()));
      stringBuilder.AppendLine("   NumberOfProcessors=" + s471684335504367.s639751879214616(this.s475615597014157));
      stringBuilder.AppendLine("   CpuSpeedMHz=" + s471684335504367.s639751879214616(this.s013492632383263));
      stringBuilder.AppendLine("   MemorySizeMeg=" + s471684335504367.s639751879214616(this.s415017020712936));
      stringBuilder.AppendLine("   PointerSize=" + s471684335504367.s639751879214616(this.s689287821023553));
      stringBuilder.AppendLine(" />");
      return stringBuilder.ToString();
    }

    internal virtual void s721789600772306(s034852122986107 s341836855580293)
    {
      if (this.s100927375859058)
        this.s672528484906197.s391163098429473(s341836855580293);
      else if ((object) s341836855580293.s282757928832612 != null && !this.s963225961874276)
        throw new ApplicationException("You may not register callbacks in TraceEventParsers that you attach directly to a s953925013719849.\r\nInstead you should use TraceEvents.GetSource() and attach TraceEventParsers to that and define callbacks on them");
    }

    internal virtual void s574138228064880(
      Delegate s112144935779462,
      Guid s120568831828330,
      int s946507566714252)
    {
      if (!this.s100927375859058)
        return;
      this.s672528484906197.s478891907093359(s112144935779462, s120568831828330, s946507566714252);
    }

    internal virtual void s145989546072472(s126519166327702 s396344371555588)
    {
      string fullName = s396344371555588.GetType().FullName;
      if (this.s858980706940057.ContainsKey(fullName))
        return;
      this.s858980706940057[fullName] = s396344371555588;
    }

    internal virtual void s967917236069687(Func<s034852122986107, bool> s910969260004678)
    {
      if (!this.s100927375859058)
        return;
      this.s672528484906197.s203013486833060(s910969260004678);
    }

    internal virtual string s058135399086166(Guid s366818367288630)
    {
      s726691949965431 s716375239406682 = this.s416286468939227();
      string str = ((ITraceParserServices) s716375239406682).TaskNameForGuid(s366818367288630);
      this.s465397258898571(s716375239406682);
      return str;
    }

    internal virtual string s450782489186333(Guid s158458838238826)
    {
      s726691949965431 s716375239406682 = this.s416286468939227();
      string str = ((ITraceParserServices) s716375239406682).ProviderNameForGuid(s158458838238826);
      this.s465397258898571(s716375239406682);
      return str;
    }

    private s953925013719849()
    {
      this.s010022728883850 = new s695099563455931(this);
      this.s143306269958771 = new s353225494468418(this);
      this.s199357960539743 = new s473104975773947(this);
      this.s893807802780582 = new s831768100600903(this);
      this.s331653912014948 = new s875958956371404(this, this.s893807802780582);
      this.s884102370803262 = new s604695337689154(this, this.s331653912014948);
      this.s858980706940057 = new Dictionary<string, s126519166327702>();
      this.s963429334271493 = new s146782071934304(this);
      this.s888015528405495 = "";
      this.s809990920470372 = "";
      this.s818541666885848 = "";
      this.s604034146760554 = 10000;
      this.s742809843802108 = new Func<s034852122986107, ulong, bool>(this.s477044677066439);
      this.s798082389356255 = s130497541240854.Invalid;
    }

    private unsafe s953925013719849(s224125339561461 session)
      : this()
    {
      this.s100927375859058 = true;
      this.s888015528405495 = Environment.MachineName;
      this.s672528484906197 = new s993604466763239(this.s199357960539743, true);
      this.s458313909586995 = new Queue<s953925013719849.s661307348688474>();
      this.s002931925348858 = new Timer(new TimerCallback(this.s805637941975857), (object) null, 1000, 1000);
      this.s824321134384686 = s302986156607931.s300084204096549();
      Action<s034852122986107> action = (Action<s034852122986107>) (s447558904201089 =>
      {
        lock (this.s458313909586995)
        {
          s428443643405107 s428443643405107 = this.s232777981693516.s823886567301889(s447558904201089);
          ++s428443643405107.s282713729448135;
          s428443643405107.s625800121001213 += (long) s447558904201089.s268530766974660;
          s447558904201089.s973336997529299 = (s130497541240854) this.s794859289587172;
          this.s480932139527328.s416743373055960(s447558904201089, s447558904201089.s973336997529299, s428443643405107);
          ++this.s794859289587172;
          if (this.s202689369210087 != null)
          {
            this.s998411788497258.s667860393794299 = (s130497541240854) this.s794859289587172;
            this.s202689369210087.s667860393794299 = (s130497541240854) this.s794859289587172;
          }
          if (s447558904201089.s102913512010943 == 0 && s447558904201089 is s842589405245694)
            return;
          ushort s934424027936993 = s447558904201089.s598076025198321->s934424027936993;
          if (s934424027936993 != (ushort) 0)
            this.s747885479028768 |= this.s918207775216525(s447558904201089, s934424027936993, s428443643405107);
          this.s458313909586995.Enqueue((s953925013719849.s661307348688474) new s953925013719849.s292301582656752(s447558904201089.s994455335614443(), Environment.TickCount));
        }
      });
      if (session.s624101517095145 != null)
      {
        session.s624101517095145.s826438762965357.s880805771966016 = (object) this.s458313909586995;
        session.s891925715219034 = true;
        session.s826438762965357.s880805771966016 = (object) this.s458313909586995;
        this.s202689369210087 = (s726691949965431) session.s624101517095145.s826438762965357;
        this.s877990303609545(this.s202689369210087);
        this.s202689369210087.s049539798171424.s388204795291822 = (s470725726477034) this;
        this.s202689369210087.s433112295278096 += action;
      }
      this.s998411788497258 = (s726691949965431) session.s826438762965357;
      this.s877990303609545(this.s998411788497258);
      this.s998411788497258.s049539798171424.s388204795291822 = (s470725726477034) this;
      this.s998411788497258.s433112295278096 += action;
    }

    private static void s678691091390354<T>(
      ref GrowableArray<T> s148559956845080,
      int s569744775526285)
    {
      Array.Copy((Array) s148559956845080.UnderlyingArray, s148559956845080.Count - s569744775526285, (Array) s148559956845080.UnderlyingArray, 0, s569744775526285);
      s148559956845080.Count = s569744775526285;
    }

    private unsafe void s596071398336723(s034852122986107 s319189093740010)
    {
      s034852122986107 s180318052354735 = this.s672528484906197.s128380686175907(s319189093740010.s598076025198321);
      s180318052354735.s969799445044717 = s319189093740010.s969799445044717;
      s180318052354735.s973336997529299 = s319189093740010.s973336997529299;
      this.s672528484906197.s551418563715328(s180318052354735);
      GC.SuppressFinalize((object) s319189093740010);
      Marshal.FreeHGlobal(s319189093740010.s462961891819157);
    }

    private void s805637941975857(object s874471733803033)
    {
      lock (this.s458313909586995)
      {
        int tickCount = Environment.TickCount;
        while (this.s458313909586995.Count != 0)
        {
          s953925013719849.s661307348688474 s661307348688474 = this.s458313909586995.Peek();
          if ((tickCount - s661307348688474.s885560591458013 & 1073741823) >= 1000)
          {
            this.s596071398336723(s661307348688474.s667156283047735);
            this.s458313909586995.Dequeue();
          }
          else
            break;
        }
        int num = Math.Max(this.s458313909586995.Count * 3, 1000);
        if (this.s832144861097087.Count > num)
          s953925013719849.s678691091390354<s953925013719849.s795610042381770>(ref this.s832144861097087, this.s458313909586995.Count);
        if (this.s881900831034299.Count > num)
          s953925013719849.s678691091390354<s953925013719849.s292301582656752>(ref this.s881900831034299, this.s458313909586995.Count);
        if (this.s855105742819860.Count <= num)
          return;
        s953925013719849.s678691091390354<s953925013719849.s795610042381770>(ref this.s855105742819860, this.s458313909586995.Count);
      }
    }

    public s320811790897239 s783243425252711(
      ulong s910724590259660,
      s034852122986107 s821992764079222)
    {
      s130497541240854 s980614047227979 = s821992764079222.s980614047227979;
      int num;
      if (!this.s881900831034299.BinarySearch<s130497541240854>(s980614047227979, ref num, s953925013719849.s020867435713768))
        return s320811790897239.Invalid;
      while ((long) this.s881900831034299[num].s824236193750060 != (long) s910724590259660)
      {
        ++num;
        if (num >= this.s881900831034299.Count || this.s881900831034299[num].s616760371544077 != s980614047227979)
          return s320811790897239.Invalid;
      }
      return this.s881900831034299[num].s056086706313060;
    }

    internal s472535400249754 s674784641454962(
      ulong s851499051865350,
      s034852122986107 s994900921886924)
    {
      s320811790897239 codeAddressIndex = this.s783243425252711(s851499051865350, s994900921886924);
      return codeAddressIndex == s320811790897239.Invalid ? (s472535400249754) null : this.s331653912014948.get_Item(codeAddressIndex);
    }

    internal s147978847785798 s852803909566808(s130497541240854 s091490135863464)
    {
      ((DeferedRegion) ref this.s602797216177595).FinishRead(false);
      int num;
      return this.s832144861097087.BinarySearch<s130497541240854>(s091490135863464, ref num, s953925013719849.s307796244039082) ? this.s832144861097087[num].s106565032733924 : s147978847785798.Invalid;
    }

    internal static void s308554132081192(
      s384585984974928 s118064721338968,
      string s693878180944225,
      s493856516565921 s102205377205393)
    {
      if (s102205377205393 == null)
        s102205377205393 = new s493856516565921();
      s953925013719849 s953925013719849 = new s953925013719849();
      s953925013719849.s998411788497258 = (s726691949965431) s118064721338968;
      s953925013719849.s520338466465461 = s102205377205393;
      s118064721338968.s207192314735066();
      foreach (string key in (IEnumerable<string>) s118064721338968.s177805615221944.Keys)
        s953925013719849.s177805615221944[key] = s118064721338968.s177805615221944[key];
      string str = s693878180944225 + ".new";
      try
      {
        using (new Serializer(str, (IFastSerializable) s953925013719849))
          ;
        if (File.Exists(s693878180944225))
          File.Delete(s693878180944225);
        File.Move(str, s693878180944225);
      }
      finally
      {
        if (File.Exists(str))
          File.Delete(str);
      }
    }

    internal static void s645409133803745(
      s726691949965431 s406425624455219,
      string s613990311188085,
      s493856516565921 s507552929133680)
    {
      if (s507552929133680 == null)
        s507552929133680 = new s493856516565921();
      s953925013719849 s953925013719849 = new s953925013719849();
      s953925013719849.s998411788497258 = s406425624455219;
      s953925013719849.s520338466465461 = s507552929133680;
      s032656591930018 s172105390192914 = s406425624455219.s172105390192914;
      foreach (string key in (IEnumerable<string>) s406425624455219.s177805615221944.Keys)
        s953925013719849.s177805615221944[key] = s406425624455219.s177805615221944[key];
      string str = s613990311188085 + ".new";
      try
      {
        using (new Serializer(str, (IFastSerializable) s953925013719849))
          ;
        if (File.Exists(s613990311188085))
          File.Delete(s613990311188085);
        File.Move(str, s613990311188085);
      }
      finally
      {
        if (File.Exists(str))
          File.Delete(str);
      }
    }

    internal s147978847785798 s724873136027995(s130497541240854 s939579515392082)
    {
      ((DeferedRegion) ref this.s707565044631737).FinishRead(false);
      int num;
      return this.s855105742819860.BinarySearch<s130497541240854>(s939579515392082, ref num, s953925013719849.s307796244039082) ? this.s855105742819860[num].s106565032733924 : s147978847785798.Invalid;
    }

    internal static void s932123332527615(
      s726691949965431 s472620963878064,
      string s536249731730928,
      s493856516565921 s105667159203382)
    {
      if (s105667159203382 == null)
        s105667159203382 = new s493856516565921();
      using (s953925013719849 source = new s953925013719849())
      {
        source.s998411788497258 = s472620963878064;
        source.s520338466465461 = s105667159203382;
        if (s105667159203382.s026426304244937 != null && Directory.Exists(s105667159203382.s026426304244937))
        {
          string str = Path.Combine(s105667159203382.s026426304244937, "TMF");
          if (Directory.Exists(str))
          {
            s105667159203382.s015842442624934.WriteLine("Looking for WPP metaData in {0}", (object) str);
            s394911298493117 s394911298493117 = new s394911298493117((s470725726477034) source, str);
          }
          s105667159203382.s015842442624934.WriteLine("Looking for explicit manifests in {0}", (object) s105667159203382.s026426304244937);
          s472620963878064.s172105390192914.s604691564910558(s105667159203382.s026426304244937);
        }
        s032656591930018 s172105390192914 = s472620963878064.s172105390192914;
        s341710869261760 s590853507783886 = s472620963878064.s590853507783886;
        s137522757078529 s349033646356209 = s472620963878064.s349033646356209;
        foreach (string key in (IEnumerable<string>) s472620963878064.s177805615221944.Keys)
          source.s177805615221944[key] = s472620963878064.s177805615221944[key];
        string str1 = s536249731730928 + ".new";
        try
        {
          using (new Serializer(str1, (IFastSerializable) source))
            ;
          if (File.Exists(s536249731730928))
            File.Delete(s536249731730928);
          File.Move(str1, s536249731730928);
        }
        finally
        {
          if (File.Exists(str1))
            File.Delete(str1);
        }
      }
    }

    internal void s568293786363381()
    {
      this.s963225961874276 = true;
      s137522757078529 s349033646356209 = this.s349033646356209;
      s341710869261760 s590853507783886 = this.s590853507783886;
      s040814293346438 s040814293346438 = new s040814293346438((s470725726477034) this);
      s441429739204476 s441429739204476 = new s441429739204476((s470725726477034) this);
      s846447177549074 s846447177549074 = new s846447177549074((s470725726477034) this);
      s610265292024715 s610265292024715 = new s610265292024715((s470725726477034) this);
      s427676338100941 s427676338100941 = new s427676338100941((s470725726477034) this);
      s099993533952962 s099993533952962 = new s099993533952962((s470725726477034) this);
      s727338593376591 s727338593376591 = new s727338593376591((s470725726477034) this);
      s101197287898668 s101197287898668 = new s101197287898668((s470725726477034) this);
      s443404416681100 s443404416681100 = new s443404416681100((s470725726477034) this);
      s349072221572769 s349072221572769 = new s349072221572769((s470725726477034) this);
      s972405744074626 s972405744074626 = new s972405744074626((s470725726477034) this);
      s721791185263115 s721791185263115 = new s721791185263115((s470725726477034) this);
      s416516777446305 s416516777446305 = new s416516777446305((s470725726477034) this);
      s032656591930018 s172105390192914 = this.s172105390192914;
      this.s963225961874276 = false;
    }

    internal virtual unsafe Guid s545411002071154(
      s134995860702422.s648877553938236* s310539478680509)
    {
      if (s310539478680509->s934424027936993 == (ushort) 1)
      {
        int s884679247404646 = (int) s310539478680509->s884679247404646;
        if ((uint) s884679247404646 < (uint) this.s089293475028413.Count)
          return this.s089293475028413[s884679247404646];
      }
      return Guid.Empty;
    }

    internal virtual int s718609172154992(s034852122986107 s058182076349660)
    {
      s147978847785798 s347991303732170 = s058182076349660.s896522493390522();
      if (s347991303732170 == s147978847785798.Invalid)
        return -1;
      s399735979708807 s399735979708807 = this.s331550318228488.s787329097023964(s347991303732170);
      return s399735979708807 == null ? -1 : s399735979708807.s928493568721550;
    }

    internal virtual int s077182620870285(s034852122986107 s705958306040662)
    {
      s147978847785798 s347991303732170 = s705958306040662.s896522493390522();
      if (s347991303732170 == s147978847785798.Invalid)
        return -1;
      s399735979708807 s399735979708807 = this.s331550318228488.s787329097023964(s347991303732170);
      return s399735979708807 == null ? -1 : s399735979708807.s772648742937858.s308323137639863;
    }

    private void s391383654724259(
      int s769502060828330,
      long s941795774817567,
      int s529348564476912)
    {
      s399735979708807 s399735979708807 = this.s132713297009023.s038692507240772(s769502060828330, s941795774817567);
      if (s399735979708807 == null || s399735979708807.s687685100197420 != null || !s399735979708807.s510512023497714.s542331327669562)
        return;
      s399735979708807.s510512023497714.s036455382225980[s769502060828330] = s529348564476912;
    }

    private void s877990303609545(s726691949965431 s672433144250167)
    {
      // ISSUE: variable of a compiler-generated type
      s953925013719849.s831615631712833 s831615631712833 = (s953925013719849.s831615631712833) new s953925013719849.s661307348688474();
      ((s953925013719849.s661307348688474) s831615631712833).s229667879926478 = this;
      this.s448794852656748 = false;
      this.s828840775274350 = false;
      this.s747885479028768 = false;
      this.s660631395713929 = false;
      this.s718718464503218 = false;
      this.s685301775074725 = 1024;
      this.s480932139527328 = (s953925013719849.s887372128019690) new s953925013719849.s923788715572248(this);
      this.s794859289587172 = 0;
      this.s415174777626462 = new List<s764056440229462>();
      this.s348101395282843 = new List<s857862604129316>();
      this.s273598910599377 = new Dictionary<s825034638267429, string>();
      this.s824321134384686 = s672433144250167.s689287821023553;
      this.s715999696684854 = s672433144250167.s715999696684854;
      this.s843632117898745 = s672433144250167.s843632117898745;
      this.s605285401142765 = s672433144250167.s605285401142765;
      this.s432147997440474 = s672433144250167.s432147997440474;
      this.s560950662468685 = s672433144250167.s560950662468685;
      this.s336446448723642 = s672433144250167.s013492632383263;
      this.s558633164156824 = s672433144250167.s475615597014157;
      this.s674656463163429 = s672433144250167.s915243113681282;
      this.s745687107734249 = s672433144250167.s973353471711757;
      s137522757078529 s349033646356209 = s672433144250167.s349033646356209;
      Action<s034852122986107> action1 = (Action<s034852122986107>) (s741564988984362 => { });
      s349033646356209.s364739463586962 += action1;
      s672433144250167.s590853507783886.s063115370896926 += (Action<s696635378718225>) action1;
      s672433144250167.s590853507783886.s527700297640902 += (Action<s851823392248921>) action1;
      s672433144250167.s590853507783886.s773969859990477 += (Action<s328456344725342>) action1;
      s672433144250167.s590853507783886.s712042068778796 += (Action<s785544324131349>) action1;
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s274896781471519 += new Action<s435513404871277>(s831615631712833.s052738036197326);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s433779701037871 += new Action<s484624499182539>(s831615631712833.s247824916113850);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s144013131946639 += new Action<s861806673953339>(s831615631712833.s205872003287905);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s567329967493575 += new Action<s499525253300813>(s831615631712833.s318704238250119);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s496436999410637 += new Action<s499525253300813>(s831615631712833.s874757358522746);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s579549244593158 += new Action<s173097959943856>(s831615631712833.s436153948586502);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s169003433143969 += new Action<s451576749122597>(s831615631712833.s806494614348061);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s187477189211598 += new Action<s173097959943856>(s831615631712833.s179873848920672);
      // ISSUE: reference to a compiler-generated field
      s831615631712833.s805029532387687 = (s828613797941418) null;
      // ISSUE: reference to a compiler-generated field
      s831615631712833.s459715539058024 = (s544041397145791) null;
      // ISSUE: reference to a compiler-generated field
      s831615631712833.s600157672683000 = (s893150746217985) null;
      // ISSUE: reference to a compiler-generated field
      s831615631712833.s435132793743704 = (s045113750567070) null;
      // ISSUE: reference to a compiler-generated field
      s831615631712833.s219063391027870 = 0L;
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s333481852993085 += new Action<s498194338000187>(s831615631712833.s614444013819172);
      s101197287898668 s101197287898668 = new s101197287898668((s470725726477034) s672433144250167);
      // ISSUE: reference to a compiler-generated method
      s101197287898668.s364739463586962 += new Action<s034852122986107>(s831615631712833.s407825717950994);
      // ISSUE: reference to a compiler-generated method
      s101197287898668.s187065731165567 += new Action<s828613797941418>(s831615631712833.s531090962119401);
      // ISSUE: reference to a compiler-generated method
      s101197287898668.s194108218822074 += new Action<s544041397145791>(s831615631712833.s130222465542578);
      // ISSUE: reference to a compiler-generated method
      s101197287898668.s564300492169167 += new Action<s893150746217985>(s831615631712833.s730910027088940);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s123965400394690<s718335776375384>(new Action<s718335776375384>(s831615631712833.s124434007159953));
      // ISSUE: reference to a compiler-generated method
      s672433144250167.s590853507783886.s940431883190693 += new Action<s729342687901186>(s831615631712833.s992200033260946);
      // ISSUE: reference to a compiler-generated method
      s672433144250167.s590853507783886.s947759291899015 += new Action<s729342687901186>(s831615631712833.s668879053671835);
      // ISSUE: reference to a compiler-generated method
      s672433144250167.s590853507783886.s164438609502743 += new Action<s729342687901186>(s831615631712833.s096423245223577);
      s040814293346438 s040814293346438 = new s040814293346438((s470725726477034) s672433144250167);
      // ISSUE: reference to a compiler-generated method
      Action<s729342687901186> action2 = new Action<s729342687901186>(s831615631712833.s206127450721422);
      s040814293346438.s272593957414516 += action2;
      s040814293346438.s823833272291149 += action2;
      // ISSUE: reference to a compiler-generated method
      Action<s764056440229462> action3 = new Action<s764056440229462>(s831615631712833.s175210681899588);
      s672433144250167.s590853507783886.s842690808722828 += action3;
      s672433144250167.s590853507783886.s579260091743733 += action3;
      s040814293346438.s652315231027956 += action3;
      // ISSUE: reference to a compiler-generated method
      s672433144250167.s590853507783886.s995113631621713 += new Action<s764056440229462>(s831615631712833.s734349822658849);
      // ISSUE: reference to a compiler-generated method
      s672433144250167.s590853507783886.s997784161957518 += new Action<s853395568672483>(s831615631712833.s347679154304509);
      // ISSUE: reference to a compiler-generated method
      s040814293346438.s975424450456502 += new Action<s853395568672483>(s831615631712833.s018654020167491);
      // ISSUE: reference to a compiler-generated method
      Action<s764056440229462> action4 = new Action<s764056440229462>(s831615631712833.s084551139585160);
      s672433144250167.s590853507783886.s682222165598480 += action4;
      s040814293346438.s936981883735139 += action4;
      s610265292024715 s610265292024715 = new s610265292024715((s470725726477034) s672433144250167);
      // ISSUE: reference to a compiler-generated method
      s610265292024715.s123965400394690<s577853071762939>(new Action<s577853071762939>(s831615631712833.s529492142571058));
      // ISSUE: reference to a compiler-generated method
      Action<s857862604129316> action5 = new Action<s857862604129316>(s831615631712833.s347449699044756);
      s610265292024715.s576891584038738 += action5;
      s610265292024715.s956090400756765 += action5;
      // ISSUE: reference to a compiler-generated method
      Action<s857862604129316> action6 = new Action<s857862604129316>(s831615631712833.s718581528885300);
      s610265292024715.s541541148808488 += action6;
      s610265292024715.s775399052035538 += action6;
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s123965400394690<s816351461597422>(new Action<s816351461597422>(s831615631712833.s353413283389206));
      // ISSUE: reference to a compiler-generated method
      Action<s084793946420224> action7 = new Action<s084793946420224>(s831615631712833.s824481816726135);
      s672433144250167.s590853507783886.s228354376895037 += action7;
      // ISSUE: reference to a compiler-generated method
      Action<s856311124729237> action8 = new Action<s856311124729237>(s831615631712833.s371463327784224);
      new s721791185263115((s470725726477034) s672433144250167).s263827476799235 += action8;
      s846447177549074 s846447177549074 = new s846447177549074((s470725726477034) s672433144250167);
      s846447177549074.s146389574834349 += action7;
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s266496483248572 += new Action<s562141471268748>(s831615631712833.s538400124221796);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s518593868324751 += new Action<s847089347479603>(s831615631712833.s156074572320860);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s683646874290584 += new Action<s847089347479603>(s831615631712833.s268978011792280);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s123965400394690<s432899429985355>(new Action<s432899429985355>(s831615631712833.s397185669070288));
      // ISSUE: reference to a compiler-generated method
      s672433144250167.s590853507783886.s759779971650065 += new Action<s977257401406624>(s831615631712833.s338745126070227);
      // ISSUE: reference to a compiler-generated method
      s672433144250167.s590853507783886.s561846326742246 += new Action<s076815708147999>(s831615631712833.s854740951343150);
      // ISSUE: reference to a compiler-generated method
      s672433144250167.s590853507783886.s940922579097117 += new Action<s690222123698444>(s831615631712833.s390131738983887);
      // ISSUE: reference to a compiler-generated method
      s846447177549074.s428412991587588 += new Action<s623318142816388>(s831615631712833.s404062924913677);
      // ISSUE: reference to a compiler-generated method
      new s099993533952962((s470725726477034) s672433144250167).s031865301783252 += new Action<s585246681357434>(s831615631712833.s054586341867741);
      // ISSUE: reference to a compiler-generated method
      s672433144250167.s590853507783886.s260083313631617 += new Action<s251397686873402>(s831615631712833.s082970957876565);
      // ISSUE: reference to a compiler-generated method
      s672433144250167.s590853507783886.s624966695377368 += new Action<s377728259226803>(s831615631712833.s084426483916253);
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated method
      s831615631712833.s531382257870745 = new Action<s034852122986107>(s831615631712833.s076208681261298);
      // ISSUE: reference to a compiler-generated method
      s846447177549074.s529135823108537 += new Action<s251397686873402>(s831615631712833.s397798459784698);
      // ISSUE: reference to a compiler-generated method
      s846447177549074.s839272321236201 += new Action<s251397686873402>(s831615631712833.s786644879928632);
      // ISSUE: reference to a compiler-generated method
      s846447177549074.s005343905192900 += new Action<s615532166201970>(s831615631712833.s724802618009930);
      // ISSUE: reference to a compiler-generated method
      s846447177549074.s332257679197648 += new Action<s088636896560228>(s831615631712833.s541616824613762);
      // ISSUE: reference to a compiler-generated method
      s672433144250167.s590853507783886.s397704543187869 += new Action<s427317475058596>(s831615631712833.s245363068847309);
      // ISSUE: reference to a compiler-generated method
      s672433144250167.s590853507783886.s775487480088021 += new Action<s974948245862616>(s831615631712833.s748911040488070);
      s516912170260088 s516912170260088 = new s516912170260088((s470725726477034) s672433144250167);
      // ISSUE: reference to a compiler-generated method
      s516912170260088.s599707313979485 += new Action<s502576883230939>(s831615631712833.s928939432727986);
      // ISSUE: reference to a compiler-generated method
      s516912170260088.s698881209543621 += new Action<s991144443766410>(s831615631712833.s952426063822885);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s988213177465257 += new Action<s842589405245694>(s831615631712833.s737762425646643);
      // ISSUE: reference to a compiler-generated field
      s831615631712833.s074653125342429 = false;
      // ISSUE: reference to a compiler-generated field
      s831615631712833.s306372611017006 = false;
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s145566532141884 += new Action<s266110564457507>(s831615631712833.s690453537919153);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s396311370441762 += new Action<s266110564457507>(s831615631712833.s253506149374234);
      // ISSUE: reference to a compiler-generated method
      s349033646356209.s396311370441762 += new Action<s266110564457507>(s831615631712833.s389507602434778);
    }

    private void s863702448750629(s726691949965431 s004068988998576, IStreamWriter s513689923925460)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      s953925013719849.s819504447454810 s819504447454810 = (s953925013719849.s819504447454810) new s953925013719849.s382922507151577();
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s382922507151577) s819504447454810).s160019457725732 = this;
      // ISSUE: reference to a compiler-generated field
      s819504447454810.s817093956904684 = s513689923925460;
      this.s877990303609545(s004068988998576);
      // ISSUE: reference to a compiler-generated method
      s004068988998576.s349033646356209.s727978190028170 += new Action<s987181206886714>(s819504447454810.s132910268361236);
      // ISSUE: reference to a compiler-generated field
      s819504447454810.s680787883984609 = 20000000;
      // ISSUE: reference to a compiler-generated field
      s819504447454810.s870009195839762 = 0.0;
      if (this.s520338466465461 != null)
      {
        if (this.s520338466465461.s869755609276487 != 0.0)
        {
          this.s520338466465461.s015842442624934.WriteLine("Skipping the {0:n3} MSec of the trace.", (object) this.s520338466465461.s869755609276487);
          this.s448794852656748 = true;
          // ISSUE: reference to a compiler-generated field
          s819504447454810.s870009195839762 = this.s520338466465461.s869755609276487;
        }
        if (this.s520338466465461.s404175971370270 >= 1000)
        {
          // ISSUE: reference to a compiler-generated field
          s819504447454810.s680787883984609 = this.s520338466465461.s404175971370270;
        }
        else if (this.s520338466465461.s404175971370270 != 0)
          this.s520338466465461.s015842442624934.WriteLine("MaxEventCount {0} < 1000, assumed in error, ignoring", (object) this.s520338466465461.s404175971370270);
      }
      // ISSUE: reference to a compiler-generated field
      this.s520338466465461.s015842442624934.WriteLine("Collecting a maximum of {0:n0} events.", (object) s819504447454810.s680787883984609);
      // ISSUE: reference to a compiler-generated field
      s819504447454810.s902058163646958 = 0U;
      // ISSUE: reference to a compiler-generated field
      s819504447454810.s581940023866309 = (double) s004068988998576.s762081333169084 / 1000000.0;
      // ISSUE: reference to a compiler-generated field
      s819504447454810.s436840898014324 = DateTime.Now;
      // ISSUE: reference to a compiler-generated field
      s819504447454810.s820664151045959 = long.MinValue;
      // ISSUE: reference to a compiler-generated method
      s004068988998576.s433112295278096 += new Action<s034852122986107>(s819504447454810.s482533919549556);
      try
      {
        s004068988998576.s227650494626187();
      }
      catch (Exception ex)
      {
        this.s520338466465461.s015842442624934.WriteLine("[ERROR: processing events ****]");
        if (this.s520338466465461.s831309681021085)
        {
          this.s520338466465461.s015842442624934.WriteLine("***** The following Exception was thrown during processing *****");
          this.s520338466465461.s015842442624934.WriteLine(ex.ToString());
          this.s520338466465461.s015842442624934.WriteLine("***** However ContinueOnError is set, so we continue processing  what we have *****");
          this.s520338466465461.s015842442624934.WriteLine("Continuing Processing...");
        }
        else
        {
          this.s520338466465461.s015842442624934.WriteLine("***** Consider using /ContinueOnError to ignore the bad part of the trace.  *****");
          throw;
        }
      }
      // ISSUE: reference to a compiler-generated field
      if (this.s794859289587172 >= s819504447454810.s680787883984609 && this.s520338466465461 != null && this.s520338466465461.s015842442624934 != null)
      {
        if (this.s520338466465461.s366712850800448 != null)
          this.s520338466465461.s366712850800448(true, this.s915243113681282, this.s794859289587172);
        // ISSUE: reference to a compiler-generated field
        this.s520338466465461.s015842442624934.WriteLine("Truncated events to {0:n} events.  Use /MaxEventCount to change.", (object) s819504447454810.s680787883984609);
        this.s520338466465461.s015842442624934.WriteLine("However  is a hard limit of 4GB of of processed (ETLX) data, increasing it over 15M will probably hit that.");
        this.s520338466465461.s015842442624934.WriteLine("Instead you can use /SkipMSec:X to skip the beginning events and thus see the next window of /MaxEventCount the file.");
      }
      this.s672313168780124 = (s953925013719849.s421948275016902) null;
      this.s480932139527328.s206401366536155();
      if (this.s469074702134923.Count != 0)
        this.s639100242681190(false, "Warning: " + (object) this.s469074702134923.Count + " undefined kernel stacks at the end of the trace.", (s034852122986107) null);
      this.s469074702134923 = (Dictionary<ulong, s953925013719849.s421948275016902>) null;
      if (this.s197149443134704.Count != 0)
        this.s639100242681190(false, "Warning: " + (object) this.s197149443134704.Count + " undefined user stacks at the end of the trace.", (s034852122986107) null);
      this.s197149443134704 = (Dictionary<ulong, s953925013719849.s421948275016902>) null;
      foreach (s764056440229462 s832057314151990 in this.s415174777626462)
        this.s331653912014948.s577126392867789(s832057314151990);
      foreach (s857862604129316 s406480079353671 in this.s348101395282843)
        this.s331653912014948.s794407387222290(s406480079353671, this.s273598910599377);
      foreach (s399735979708807 s399735979708807 in (IEnumerable<s399735979708807>) this.s132713297009023)
      {
        if (s399735979708807.s008826881515337 != null)
          this.s949739156553145(ref s399735979708807.s008826881515337, s604695337689154.s784601619739599(s399735979708807.s519833341027850), (s953925013719849.s421948275016902) null);
        if (s399735979708807.s510512023497714 == null)
        {
          this.s639100242681190(true, "Warning: could not determine the process for thread " + (object) s399735979708807.s928493568721550, (s034852122986107) null);
          s572171018010254 s572171018010254 = this.s386698456584430.s171137586167662(-1, 0L);
          s572171018010254.s503519833641966 = "UNKNOWN_PROCESS";
          s399735979708807.s510512023497714 = s572171018010254;
        }
        s399735979708807.s772648742937858.s080325781320568 += s399735979708807.s147586392711051;
      }
      foreach (s572171018010254 s119857735519073 in (IEnumerable<s572171018010254>) this.s386698456584430)
      {
        using (IEnumerator<s431378815911435> enumerator = s119857735519073.s698122617354455.s042553584346059())
        {
          while (enumerator.MoveNext())
          {
            // ISSUE: object of a compiler-generated type is created
            // ISSUE: variable of a compiler-generated type
            s953925013719849.s577976458885623 s577976458885623 = (s953925013719849.s577976458885623) new s953925013719849.s819504447454810();
            // ISSUE: reference to a compiler-generated field
            ((s953925013719849.s819504447454810) s577976458885623).s003198992463268 = enumerator.Current;
            // ISSUE: reference to a compiler-generated field
            // ISSUE: reference to a compiler-generated field
            if (((s953925013719849.s819504447454810) s577976458885623).s003198992463268.s415612365267078 == long.MaxValue && ((s953925013719849.s819504447454810) s577976458885623).s003198992463268.s047007760161899 != 0UL)
            {
              // ISSUE: reference to a compiler-generated field
              // ISSUE: reference to a compiler-generated field
              // ISSUE: method pointer
              // ISSUE: object of a compiler-generated type is created
              this.s517247949554964.s212380666293052(s119857735519073, ((s953925013719849.s819504447454810) s577976458885623).s003198992463268.s047007760161899, ((s953925013719849.s819504447454810) s577976458885623).s003198992463268.s500842533606289.s606517787478562, false, (s875958956371404.s763329264221943) new s604695337689154.s208706968736051((object) s577976458885623, __methodptr(s284996086811153)));
            }
            // ISSUE: reference to a compiler-generated field
            if (((s953925013719849.s819504447454810) s577976458885623).s003198992463268.s415612365267078 > this.s560950662468685)
            {
              // ISSUE: reference to a compiler-generated field
              ((s953925013719849.s819504447454810) s577976458885623).s003198992463268.s415612365267078 = this.s560950662468685;
            }
          }
        }
        if (s119857735519073.s475005698990932 > this.s560950662468685)
          s119857735519073.s475005698990932 = this.s560950662468685;
        if (this.s520338466465461 != null && this.s520338466465461.s015842442624934 != null && s119857735519073.s792397891772220.Count > 0)
          this.s520338466465461.s015842442624934.WriteLine("There were {0} address that did not resolve to a module or method in process {1} ({2})", (object) s119857735519073.s792397891772220.Count, (object) s119857735519073.s657075392570271, (object) s119857735519073.s308323137639863);
        s119857735519073.s846391804077321 = (Dictionary<ulong, s320811790897239>) null;
        s119857735519073.s792397891772220.Clear();
        s119857735519073.s211593240361184();
      }
      for (int s262273746905063 = 0; s262273746905063 < this.s517247949554964.s117445044974708; ++s262273746905063)
      {
        int s402150643119029 = this.s517247949554964.s888142620471651[s262273746905063].s402150643119029;
        s689802712977948 moduleFileIndex = this.s517247949554964.s119857474429490((s320811790897239) s262273746905063);
        if (moduleFileIndex != s689802712977948.Invalid)
          this.s517247949554964.s575685476659282.get_Item(moduleFileIndex).s019551155267864 += s402150643119029;
        this.s517247949554964.s904480229619549 += s402150643119029;
      }
      this.s832144861097087.Sort((Comparison<s953925013719849.s795610042381770>) ((s868885753428783, s556860163223178) => (int) (s868885753428783.s003376865312908 - s556860163223178.s003376865312908)));
      this.s855105742819860.Sort((Comparison<s953925013719849.s795610042381770>) ((s687000374897594, s796407479208784) => (int) (s687000374897594.s003376865312908 - s796407479208784.s003376865312908)));
      this.s520338466465461.s015842442624934.WriteLine("{0} distinct processes.", (object) this.s010022728883850.s022024230865801);
      this.s520338466465461.s015842442624934.WriteLine("Totals");
      this.s520338466465461.s015842442624934.WriteLine("  {0,8:n0} events.", (object) this.s794859289587172);
      this.s520338466465461.s015842442624934.WriteLine("  {0,8:n0} events with stack traces.", (object) this.s832144861097087.Count);
      this.s520338466465461.s015842442624934.WriteLine("  {0,8:n0} events with code addresses in them.", (object) this.s881900831034299.Count);
      this.s520338466465461.s015842442624934.WriteLine("  {0,8:n0} total code address instances. (stacks or other)", (object) this.s331653912014948.s144025980884644);
      this.s520338466465461.s015842442624934.WriteLine("  {0,8:n0} unique code addresses. ", (object) this.s331653912014948.s117445044974708);
      this.s520338466465461.s015842442624934.WriteLine("  {0,8:n0} unique stacks.", (object) this.s884102370803262.s205966286230606);
      this.s520338466465461.s015842442624934.WriteLine("  {0,8:n0} unique managed methods parsed.", (object) this.s331653912014948.s964865809619446.s801775752597254);
      this.s520338466465461.s015842442624934.WriteLine("  {0,8:n0} CLR method event records.", (object) this.s331653912014948.s920247082323663);
      // ISSUE: reference to a compiler-generated field
      this.s520338466465461.s015842442624934.WriteLine("[Conversion complete {0:n0} events.  Conversion took {1:n0} sec.]", (object) this.s794859289587172, (object) (DateTime.Now - s819504447454810.s436840898014324).TotalSeconds);
    }

    private static bool s182573976805361(string s481148785394928, string s050447240488158) => false;

    private bool s477044677066439(s034852122986107 s495952673361300, ulong s326662245652699)
    {
      s320811790897239 codeAddressIndex = this.s331653912014948.s639098805848738(this.s386698456584430.s171137586167662(s495952673361300.s102913512010943, s495952673361300.s218856315967206), s326662245652699);
      this.s881900831034299.Add((s953925013719849.s292301582656752) new s953925013719849.s795610042381770(this.s222111120871574, s326662245652699, codeAddressIndex));
      return true;
    }

    private unsafe void s765949720736641(
      s987181206886714 s838202051794535,
      IStreamWriter s462133031905521)
    {
      int s001274643318731 = ((s134995860702422.s728170393225391*) s838202051794535.s598076025198321)->s870227314561507.s001274643318731;
      ushort s855605335439496 = s838202051794535.s598076025198321->s855605335439496;
      s838202051794535.s598076025198321->s855605335439496 = (ushort) (s838202051794535.s891831363155566 + 4);
      int num = 1;
      for (int s522344770633214 = 0; s522344770633214 < s838202051794535.s945751705142421; ++s522344770633214)
      {
        s687269766802010 s687269766802010 = s838202051794535.s566240395933222(s522344770633214);
        if (s687269766802010.s642447788452296 >= 0)
        {
          ((s134995860702422.s728170393225391*) s838202051794535.s598076025198321)->s870227314561507.s001274643318731 = s687269766802010.s642447788452296;
          if (this.s685301775074725 >= 1024)
          {
            this.s255261239133326.Add((s953925013719849.s923788715572248) new s953925013719849.s421948275016902(s838202051794535.s218856315967206, s462133031905521.GetLabel()));
            this.s685301775074725 = 0;
          }
          s953925013719849.s816930858757869((IntPtr) (void*) s838202051794535.s598076025198321, s462133031905521, 104);
          s953925013719849.s816930858757869((IntPtr) (void*) &num, s462133031905521, 4);
          s953925013719849.s816930858757869(s687269766802010.s275193618238632, s462133031905521, (int) s838202051794535.s598076025198321->s855605335439496 - 4);
          ++this.s685301775074725;
          ++this.s794859289587172;
        }
      }
      s838202051794535.s598076025198321->s855605335439496 = s855605335439496;
      ((s134995860702422.s728170393225391*) s838202051794535.s598076025198321)->s870227314561507.s001274643318731 = s001274643318731;
    }

    private s953925013719849.s421948275016902 s924696426909112(
      s034852122986107 s394471880862437,
      long s410815098870305)
    {
      // ISSUE: unable to decompile the method.
    }

    private bool s949739156553145(
      ref s953925013719849.s421948275016902 s606418856758123,
      s147978847785798 s915009868826784,
      s953925013719849.s421948275016902 s367588143262687)
    {
      bool flag = false;
      s953925013719849.s421948275016902 s538734354425782;
      for (s953925013719849.s421948275016902 s421948275016902 = s606418856758123; s421948275016902 != null; s421948275016902 = s538734354425782)
      {
        s538734354425782 = s421948275016902.s538734354425782;
        s421948275016902.s538734354425782 = (s953925013719849.s421948275016902) null;
        s421948275016902.s833758592980967 = false;
        s421948275016902.s373407603107456(s915009868826784, this);
        if (s421948275016902 == s367588143262687)
          flag = true;
      }
      s606418856758123 = (s953925013719849.s421948275016902) null;
      return flag;
    }

    private bool s214867657420786(
      ref s953925013719849.s421948275016902 s980934775953951,
      ulong s674843561036919,
      s953925013719849.s421948275016902 s448251217628724)
    {
      bool flag = false;
      s953925013719849.s421948275016902 s538734354425782;
      for (s953925013719849.s421948275016902 s421948275016902 = s980934775953951; s421948275016902 != null; s421948275016902 = s538734354425782)
      {
        s538734354425782 = s421948275016902.s538734354425782;
        s421948275016902.s538734354425782 = (s953925013719849.s421948275016902) null;
        s421948275016902.s833758592980967 = false;
        s421948275016902.s210745089373511(s674843561036919, this);
        if (s421948275016902 == s448251217628724)
          flag = true;
      }
      s980934775953951 = (s953925013719849.s421948275016902) null;
      return flag;
    }

    private unsafe void s021795548899932(s432899429985355 s893153769696421)
    {
      if (s893153769696421.s877734371426652 == 0)
        this.s639100242681190(false, "Empty Stack definition", (s034852122986107) s893153769696421);
      else if (s953925013719849.s774864558129592(s893153769696421.s046283605376258(s893153769696421.s877734371426652 - 1), s893153769696421.s223907750800220))
      {
        s953925013719849.s421948275016902 s421948275016902;
        if (this.s469074702134923.TryGetValue(s893153769696421.s102637971863478, out s421948275016902))
        {
          this.s469074702134923.Remove(s893153769696421.s102637971863478);
          s953925013719849.s421948275016902 s875651145043412;
          for (; s421948275016902 != null; s421948275016902 = s875651145043412)
          {
            s421948275016902.s940921927741084 = 0UL;
            s875651145043412 = s421948275016902.s875651145043412;
            s421948275016902.s875651145043412 = (s953925013719849.s421948275016902) null;
            s421948275016902.s195472472199518(s893153769696421.s943400165078810, s893153769696421.s877734371426652, this.s824321134384686, s893153769696421.s218856315967206, this);
          }
        }
        else
          this.s639100242681190(false, "Found a kernel stack definition without any uses", (s034852122986107) s893153769696421);
      }
      else
      {
        s953925013719849.s421948275016902 s421948275016902;
        if (this.s197149443134704.TryGetValue(s893153769696421.s102637971863478, out s421948275016902))
        {
          this.s197149443134704.Remove(s893153769696421.s102637971863478);
          s147978847785798 s331521447556334 = this.s884102370803262.s174633741246568(s893153769696421.s943400165078810, s893153769696421.s877734371426652, s893153769696421.s223907750800220, s421948275016902.s573449978248119, s421948275016902.s600931915122359);
          s953925013719849.s421948275016902 s452208215701397;
          for (; s421948275016902 != null; s421948275016902 = s452208215701397)
          {
            s421948275016902.s894665512599069 = 0UL;
            s452208215701397 = s421948275016902.s452208215701397;
            s421948275016902.s452208215701397 = (s953925013719849.s421948275016902) null;
            s421948275016902.s373407603107456(s331521447556334, this);
          }
        }
        else
          this.s639100242681190(false, "Found a user stack definition without any uses", (s034852122986107) s893153769696421);
      }
    }

    private s953925013719849.s421948275016902 s018142524487354(
      s130497541240854 s889065751622222,
      s399735979708807 s127537033693655,
      s130497541240854 s057034733523140)
    {
      s953925013719849.s421948275016902 s421948275016902 = this.s672313168780124;
      if (s421948275016902 == null)
      {
        s421948275016902 = new s953925013719849.s421948275016902();
      }
      else
      {
        this.s672313168780124 = s421948275016902.s875651145043412;
        // ISSUE: reference to a compiler-generated method
        ((s169903726244967<>.s278339033837803) s421948275016902).s780785305695238();
      }
      s421948275016902.s268239548514649(s889065751622222, s127537033693655, s057034733523140);
      return s421948275016902;
    }

    private void s853812919999436(s953925013719849.s421948275016902 s551853320464333)
    {
      s551853320464333.s875651145043412 = this.s672313168780124;
      this.s672313168780124 = s551853320464333;
    }

    private void s860180557620873(
      s034852122986107 s653282596567443,
      string s121308066227249,
      bool s743262917437973 = false)
    {
      if (string.IsNullOrWhiteSpace(s121308066227249))
        return;
      s399735979708807 s399735979708807 = this.s132713297009023.s038692507240772(s653282596567443.s772030317894180, s653282596567443.s218856315967206);
      if (s399735979708807 == null || !(s399735979708807.s687685100197420 == null | s743262917437973))
        return;
      s399735979708807.s687685100197420 = s121308066227249;
    }

    internal static bool s774864558129592(ulong s378592192194261, int s396591820621678) => s396591820621678 == 4 ? s378592192194261 >= 2147483648UL : s378592192194261 >= 18446462598732840960UL;

    internal unsafe bool s918207775216525(
      s034852122986107 s889858198525469,
      ushort s282387735329803,
      s428443643405107 s433265925053576)
    {
      bool flag = false;
      s134995860702422.s042871462687652* s884679247404646 = s889858198525469.s598076025198321->s884679247404646;
      Guid* guidPtr = (Guid*) null;
      for (int index = 0; index < (int) s282387735329803; ++index)
      {
        if (s884679247404646[index].s270740346342371 == (ushort) 6 || s884679247404646[index].s270740346342371 == (ushort) 5)
        {
          int num1 = s884679247404646[index].s270740346342371 == (ushort) 6 ? 8 : 4;
          // ISSUE: cast to a reference type
          // ISSUE: explicit reference operation
          // ISSUE: reference to a compiler-generated field
          ulong* numPtr1 = &(^(s134995860702422.s025896498123982.s107830700884913&) ref ((s134995860702422.s619021218427252*) s884679247404646[index].s566029008717659)->s337163297528096).s336058864221732;
          int num2 = ((int) s884679247404646[index].s711754183083976 - 8) / num1;
          s572171018010254 s416966011858480 = this.s010022728883850.s171137586167662(s889858198525469.s102913512010943, s889858198525469.s218856315967206);
          s399735979708807 s399735979708807 = this.s132713297009023.s823936611440501(s889858198525469.s004308050466113(), s889858198525469.s218856315967206, s416966011858480);
          s130497541240854 s794859289587172 = (s130497541240854) this.s794859289587172;
          byte* numPtr2 = (byte*) ((IntPtr) numPtr1 + ((int) s884679247404646[index].s711754183083976 - 8 - num1));
          ulong s378592192194261 = num1 != 4 ? (ulong) *(long*) numPtr2 : (ulong) *(uint*) numPtr2;
          if (this.s689287821023553 == 4)
            s378592192194261 &= 18446744069414584320UL;
          if (s953925013719849.s774864558129592(s378592192194261, this.s689287821023553) && s889858198525469.s102913512010943 != 0 && s889858198525469.s102913512010943 != 4)
          {
            s953925013719849.s421948275016902 s421948275016902 = this.s018142524487354(s794859289587172, s399735979708807, s130497541240854.Invalid);
            if (!s421948275016902.s195472472199518((void*) numPtr1, num2, num1, s889858198525469.s218856315967206, this))
              s421948275016902.s956127774777354(ref s399735979708807.s008826881515337);
            if (s433265925053576 != null)
              ++s433265925053576.s723722964837605;
          }
          else
          {
            s147978847785798 s147978847785798 = this.s884102370803262.s174633741246568((void*) numPtr1, num2, num1, s399735979708807);
            if (s889858198525469.s228250182984697 == (s076337548137908) 18 && s889858198525469.s770722554724548 == (s531105564102108) 24 && s889858198525469.s066186047870744 == s137522757078529.s533197861145069)
            {
              flag = true;
              this.s949739156553145(ref s399735979708807.s008826881515337, s147978847785798, (s953925013719849.s421948275016902) null);
              s399735979708807.s799994418418297 = s889858198525469.s218856315967206;
            }
            else
            {
              this.s688137993557962(s794859289587172, s147978847785798);
              if (s433265925053576 != null)
                ++s433265925053576.s723722964837605;
            }
          }
        }
        else if (s884679247404646[index].s270740346342371 == (ushort) 1)
          guidPtr = (Guid*) s884679247404646[index].s566029008717659;
      }
      if ((IntPtr) guidPtr != IntPtr.Zero)
      {
        s889858198525469.s598076025198321->s934424027936993 = (ushort) 1;
        s889858198525469.s598076025198321->s884679247404646 = (s134995860702422.s042871462687652*) this.s089293475028413.Count;
        this.s089293475028413.Add(*guidPtr);
      }
      else
      {
        s889858198525469.s598076025198321->s934424027936993 = (ushort) 0;
        s889858198525469.s598076025198321->s884679247404646 = (s134995860702422.s042871462687652*) null;
      }
      return flag;
    }

    internal virtual string s893338700252805(int s481410270947507, long s926672298569483)
    {
      s572171018010254 s572171018010254 = this.s386698456584430.s308629139141652(s481410270947507, s926672298569483);
      return s572171018010254 != null ? s572171018010254.s657075392570271 : this.s598086227699338(s481410270947507, s926672298569483);
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing)
      {
        if (this.s002931925348858 != null)
          this.s002931925348858.Dispose();
        if (((DeferedRegion) ref this.s037073557394067).Deserializer != null)
          ((DeferedRegion) ref this.s037073557394067).Deserializer.Dispose();
      }
      base.Dispose(disposing);
    }

    private static unsafe void s816930858757869(
      IntPtr s715455611986212,
      IStreamWriter s614889234105868,
      int s142072173777197)
    {
      int* numPtr = (int*) (void*) s715455611986212;
      for (int index = s142072173777197 >> 2; index > 0; --index)
        s614889234105868.Write(*numPtr++);
    }

    internal void s639100242681190(
      bool s779502723624913,
      string s126168984670523,
      s034852122986107 s467287040547408)
    {
      if (s779502723624913)
        return;
      TextWriter textWriter1 = (TextWriter) null;
      if (this.s520338466465461 != null)
        textWriter1 = this.s520338466465461.s015842442624934;
      bool flag = false;
      if (textWriter1 == null && !flag)
        return;
      Trace.Write("WARNING: ");
      string str1 = "";
      if (s467287040547408 != null)
        str1 = "Time: " + s467287040547408.s739924403627474.ToString("f4").PadLeft(12) + " PID: " + s467287040547408.s102913512010943.ToString().PadLeft(4) + ": ";
      Trace.WriteLine(s126168984670523);
      if (textWriter1 == null)
        return;
      textWriter1.Write("WARNING: ");
      if (str1 != null)
        textWriter1.Write(str1);
      textWriter1.WriteLine(s126168984670523);
      int num1;
      if (s467287040547408 is s498194338000187 s498194338000187)
      {
        textWriter1.WriteLine("    FILE: " + s498194338000187.s625755965888663);
        textWriter1.WriteLine("    BASE: 0x" + s498194338000187.s074803911345324.ToString("x"));
        TextWriter textWriter2 = textWriter1;
        num1 = s498194338000187.s668593236485430;
        string str2 = "    SIZE: 0x" + num1.ToString("x");
        textWriter2.WriteLine(str2);
      }
      ulong num2;
      if (s467287040547408 is s729342687901186 s729342687901186)
      {
        textWriter1.WriteLine("    NGEN:     " + s729342687901186.s763198779974216);
        textWriter1.WriteLine("    ILFILE:   " + s729342687901186.s367743152460067);
        TextWriter textWriter3 = textWriter1;
        num2 = (ulong) s729342687901186.s985365826672308;
        string str3 = "    MODULEID: 0x" + num2.ToString("x");
        textWriter3.WriteLine(str3);
      }
      if (!(s467287040547408 is s764056440229462 s239021836219207))
        return;
      textWriter1.WriteLine("    METHOD:   " + s953925013719849.s778614847910967(s239021836219207));
      TextWriter textWriter4 = textWriter1;
      num2 = (ulong) s239021836219207.s727908633187596;
      string str4 = "    MODULEID: " + num2.ToString("x");
      textWriter4.WriteLine(str4);
      TextWriter textWriter5 = textWriter1;
      num2 = s239021836219207.s602444799937384;
      string str5 = "    START:    " + num2.ToString("x");
      textWriter5.WriteLine(str5);
      TextWriter textWriter6 = textWriter1;
      num1 = s239021836219207.s416011208236688;
      string str6 = "    LENGTH:   " + num1.ToString("x");
      textWriter6.WriteLine(str6);
    }

    internal static string s778614847910967(s764056440229462 s239021836219207)
    {
      string s319125827618716 = s239021836219207.s319125827618716;
      int startIndex = s319125827618716.IndexOf('(');
      string str = startIndex < 0 ? "" : s319125827618716.Substring(startIndex);
      return s239021836219207.s033525546810908 + "." + s239021836219207.s537038846992746 + str;
    }

    internal int s688522233650520(long s295993369241593)
    {
      int num;
      this.s255261239133326.BinarySearch<long>(s295993369241593, ref num, (Func<long, s953925013719849.s923788715572248, int>) ((s952169376152899, s804397799584461) => s952169376152899.CompareTo(s804397799584461.s954706018554011)));
      if (num < 0)
        num = 0;
      return num;
    }

    internal unsafe void s982058615034618(
      PinnedStreamReader s006247756588629,
      long s648549236191613,
      int s265175361433056,
      out int s160240004855424,
      StreamLabel[] s689099778952320)
    {
      ((MemoryStreamReader) s006247756588629).Goto(this.s255261239133326[s265175361433056].s286338163505493);
      int index = -1;
      while (index < 1023)
      {
        ++index;
        if (s689099778952320 != null)
          s689099778952320[index] = ((MemoryStreamReader) s006247756588629).Current;
        s134995860702422.s648877553938236* pointer = (s134995860702422.s648877553938236*) s006247756588629.GetPointer(104);
        if (((s134995860702422.s728170393225391*) pointer)->s870227314561507.s473266651679490 < s648549236191613)
        {
          int s855605335439496 = (int) pointer->s855605335439496;
          IStreamWriterExentions.Skip((IStreamReader) s006247756588629, 104 + (s855605335439496 + 3 & -4));
        }
        else
          break;
      }
      s160240004855424 = index;
    }

    internal PinnedStreamReader s370336007881422()
    {
      if (this.s935512636720585 == null)
        this.s935512636720585 = ((PinnedStreamReader) ((DeferedRegion) ref this.s037073557394067).Deserializer.Reader).Clone();
      PinnedStreamReader s935512636720585 = this.s935512636720585;
      this.s935512636720585 = (PinnedStreamReader) null;
      return s935512636720585;
    }

    internal void s069408685749785(PinnedStreamReader s298189895832350)
    {
      if (this.s935512636720585 != null)
        return;
      this.s935512636720585 = s298189895832350;
    }

    internal s993604466763239 s875216268699685(s993604466763239 s947760655741683)
    {
      List<s126519166327702> s126519166327702List = new List<s126519166327702>();
      foreach (s126519166327702 s836391936820175 in this.s722050133250554)
      {
        if (s836391936820175.s059222011177211)
          this.s290321198039637(s836391936820175, s947760655741683);
        else
          s126519166327702List.Add(s836391936820175);
      }
      foreach (s126519166327702 s836391936820175 in s126519166327702List)
        this.s290321198039637(s836391936820175, s947760655741683);
      return s947760655741683;
    }

    private void s290321198039637(
      s126519166327702 s836391936820175,
      s993604466763239 s219295153462025)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      s953925013719849.s629681434509433 s629681434509433 = (s953925013719849.s629681434509433) new s953925013719849.s577976458885623();
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s577976458885623) s629681434509433).s631081134434719 = s836391936820175;
      // ISSUE: reference to a compiler-generated field
      s629681434509433.s750171046255739 = s219295153462025;
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated method
      ((s953925013719849.s577976458885623) s629681434509433).s631081134434719.s944072452776731((Func<string, string, s600954608090611>) null, new Action<s034852122986107>(s629681434509433.s133813562385931));
    }

    internal s726691949965431 s416286468939227()
    {
      if (this.s921987298224619 == null)
        this.s921987298224619 = (s726691949965431) this.s875216268699685(new s993604466763239(this.s199357960539743));
      s726691949965431 s921987298224619 = this.s921987298224619;
      this.s921987298224619 = (s726691949965431) null;
      return s921987298224619;
    }

    internal void s465397258898571(s726691949965431 s716375239406682)
    {
      if (this.s921987298224619 != null)
        return;
      this.s921987298224619 = s716375239406682;
    }

    private void s493670491634216(string s919995992131623)
    {
      Deserializer deserializer = new Deserializer((IStreamReader) new PinnedStreamReader(s919995992131623, 65536), s919995992131623);
      deserializer.TypeResolver = (Func<string, Type>) (s932231966729815 => Type.GetType(s932231966729815));
      deserializer.RegisterFactory(typeof (s953925013719849), (Func<IFastSerializable>) (() => (IFastSerializable) this));
      deserializer.RegisterFactory(typeof (s572171018010254), (Func<IFastSerializable>) (() => (IFastSerializable) new s572171018010254(0, (s953925013719849) null, ~s878863610233214.Invalid)));
      deserializer.RegisterFactory(typeof (s695099563455931), (Func<IFastSerializable>) (() => (IFastSerializable) new s695099563455931((s953925013719849) null)));
      deserializer.RegisterFactory(typeof (s353225494468418), (Func<IFastSerializable>) (() => (IFastSerializable) new s353225494468418((s953925013719849) null)));
      deserializer.RegisterFactory(typeof (s399735979708807), (Func<IFastSerializable>) (() => (IFastSerializable) new s399735979708807(0, (s572171018010254) null, ~s543941511077464.Invalid)));
      deserializer.RegisterFactory(typeof (s946499924469656), (Func<IFastSerializable>) (() => (IFastSerializable) new s946499924469656(s528638463248059.Invalid, (s946499924469656) null, s130497541240854.Invalid, s147978847785798.Invalid, 0L, 0UL, false, false, (s946499924469656.s773019430080014) -1)));
      deserializer.RegisterFactory(typeof (s831768100600903), (Func<IFastSerializable>) (() => (IFastSerializable) new s831768100600903((s953925013719849) null)));
      deserializer.RegisterFactory(typeof (s045113750567070), (Func<IFastSerializable>) (() => (IFastSerializable) new s045113750567070((string) null, 0UL, ~s689802712977948.Invalid)));
      deserializer.RegisterFactory(typeof (s401337373502864), (Func<IFastSerializable>) (() => (IFastSerializable) new s401337373502864((s875958956371404) null)));
      deserializer.RegisterFactory(typeof (s875958956371404), (Func<IFastSerializable>) (() => (IFastSerializable) new s875958956371404((s953925013719849) null, (s831768100600903) null)));
      deserializer.RegisterFactory(typeof (s604695337689154), (Func<IFastSerializable>) (() => (IFastSerializable) new s604695337689154((s953925013719849) null, (s875958956371404) null)));
      deserializer.RegisterFactory(typeof (s146782071934304), (Func<IFastSerializable>) (() => (IFastSerializable) new s146782071934304((s953925013719849) null)));
      deserializer.RegisterFactory(typeof (s428443643405107), (Func<IFastSerializable>) (() => (IFastSerializable) new s428443643405107((s146782071934304) null, (s034852122986107) null)));
      deserializer.RegisterFactory(typeof (s941863378021032), (Func<IFastSerializable>) (() => (IFastSerializable) new s941863378021032((s572171018010254) null)));
      deserializer.RegisterFactory(typeof (s431378815911435), (Func<IFastSerializable>) (() => (IFastSerializable) new s431378815911435((s572171018010254) null, (s045113750567070) null, 0UL)));
      deserializer.RegisterFactory(typeof (s999988868482030), (Func<IFastSerializable>) (() => (IFastSerializable) new s999988868482030((s572171018010254) null, (s045113750567070) null, 0L)));
      deserializer.RegisterFactory(typeof (s073460428085580), (Func<IFastSerializable>) (() => (IFastSerializable) new s073460428085580((byte[]) null, (s089193367613511.s896777389041752) 1, (byte) 0, (byte) 0, "")));
      deserializer.RegisterFactory(typeof (s244632129848843), (Func<IFastSerializable>) (() => (IFastSerializable) new s244632129848843((Action<s034852122986107>) null, 0, 0, (string) null, Guid.Empty, 0, (string) null, Guid.Empty, (string) null)));
      deserializer.RegisterDefaultFactory((Func<Type, IFastSerializable>) (s688987326575153 => s688987326575153.GetTypeInfo().IsSubclassOf(typeof (s126519166327702)) ? (IFastSerializable) Activator.CreateInstance(s688987326575153, new object[1]) : (IFastSerializable) null));
      deserializer.GetEntryObject();
      this.s568293786363381();
      this.s154146724468004 = s919995992131623;
    }

    internal static string s804847436886997(string s465129278971729)
    {
      int num1 = s465129278971729.LastIndexOfAny(s953925013719849.s099857079342018);
      int startIndex = num1 >= 0 ? num1 + 1 : 0;
      int num2 = s465129278971729.LastIndexOf('.');
      if (num2 < startIndex)
        num2 = s465129278971729.Length;
      return s465129278971729.Substring(startIndex, num2 - startIndex);
    }

    void IFastSerializable.s629040131114663(Serializer s000663887702008)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      s953925013719849.s412546846244178 s412546846244178 = (s953925013719849.s412546846244178) new s953925013719849.s629681434509433();
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s629681434509433) s412546846244178).s655425313140053 = this;
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610 = s000663887702008;
      // ISSUE: reference to a compiler-generated field
      int num = (int) s412546846244178.s967270625492610.Writer.GetLabel() + 1 & 7;
      if (num > 0)
        num = 8 - num;
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write((byte) num);
      for (int index = 0; index < num; ++index)
      {
        // ISSUE: reference to a compiler-generated field
        s412546846244178.s967270625492610.Write((byte) 0);
      }
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated method
      ((DeferedRegion) ref this.s037073557394067).Write(s412546846244178.s967270625492610, new Action(s412546846244178.s051469797943509));
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s715999696684854.ToFileTimeUtc());
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s824321134384686);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s558633164156824);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s336446448723642);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write((byte) this.s745687107734249.Major);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write((byte) this.s745687107734249.Minor);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write((byte) this.s745687107734249.MajorRevision);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write((byte) this.s745687107734249.MinorRevision);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s306774774326568);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s432147997440474);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s560950662468685);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s674656463163429);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s888015528405495);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s542224231531017);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write((IFastSerializable) this.s010022728883850);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write((IFastSerializable) this.s143306269958771);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write((IFastSerializable) this.s331653912014948);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write((IFastSerializable) this.s963429334271493);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write((IFastSerializable) this.s884102370803262);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write((IFastSerializable) this.s893807802780582);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s255261239133326.Count);
      for (int index = 0; index < this.s255261239133326.Count; ++index)
      {
        // ISSUE: reference to a compiler-generated field
        s412546846244178.s967270625492610.Write(this.s255261239133326[index].s954706018554011);
        // ISSUE: reference to a compiler-generated field
        s412546846244178.s967270625492610.Write(this.s255261239133326[index].s286338163505493);
      }
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s255261239133326.Count);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s794859289587172);
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated method
      ((DeferedRegion) ref this.s602797216177595).Write(s412546846244178.s967270625492610, new Action(s412546846244178.s830274568818554));
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated method
      ((DeferedRegion) ref this.s602797216177595).Write(s412546846244178.s967270625492610, new Action(s412546846244178.s884071913590813));
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated method
      ((DeferedRegion) ref this.s251956267042740).Write(s412546846244178.s967270625492610, new Action(s412546846244178.s795045898063736));
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s465060200874984.Count);
      foreach (KeyValuePair<string, object> keyValuePair in (IEnumerable<KeyValuePair<string, object>>) this.s177805615221944)
      {
        // ISSUE: reference to a compiler-generated field
        s412546846244178.s967270625492610.Write(keyValuePair.Key);
        IFastSerializable ifastSerializable = (IFastSerializable) keyValuePair.Value;
        // ISSUE: reference to a compiler-generated field
        s412546846244178.s967270625492610.Write(ifastSerializable);
      }
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s465060200874984.Count);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s604034146760554);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s809990920470372);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s818541666885848);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s209957134984445);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s348947355737433 ?? int.MinValue);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s048728593414489);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s089293475028413.Count);
      for (int index = 0; index < this.s089293475028413.Count; ++index)
      {
        // ISSUE: reference to a compiler-generated field
        s412546846244178.s967270625492610.Write(this.s089293475028413[index]);
      }
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write(this.s565822153995113);
      // ISSUE: reference to a compiler-generated field
      s412546846244178.s967270625492610.Write((int) this.s798082389356255);
    }

    void IFastSerializable.s375522259363615(Deserializer s394532791984333)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      s953925013719849.s002828325856459 s002828325856459 = (s953925013719849.s002828325856459) new s953925013719849.s412546846244178();
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897 = s394532791984333;
      // ISSUE: reference to a compiler-generated field
      s002828325856459.s949857980396667 = this;
      byte num1;
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref num1);
      for (; num1 > (byte) 0; --num1)
      {
        byte num2;
        // ISSUE: reference to a compiler-generated field
        ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref num2);
      }
      // ISSUE: reference to a compiler-generated field
      ((DeferedRegion) ref this.s037073557394067).Read(((s953925013719849.s412546846244178) s002828325856459).s681650830254897, (Action) null);
      // ISSUE: reference to a compiler-generated field
      this.s715999696684854 = DateTime.FromFileTimeUtc(((s953925013719849.s412546846244178) s002828325856459).s681650830254897.ReadInt64());
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s824321134384686);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s558633164156824);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s336446448723642);
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated field
      this.s745687107734249 = new Version((int) ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.ReadByte(), (int) ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.ReadByte(), (int) ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.ReadByte(), (int) ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.ReadByte());
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s605285401142765);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s432147997440474);
      this.s843632117898745 = this.s432147997440474;
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s560950662468685);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s674656463163429);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s888015528405495);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s542224231531017);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read<s695099563455931>(ref this.s010022728883850);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read<s353225494468418>(ref this.s143306269958771);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read<s875958956371404>(ref this.s331653912014948);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read<s146782071934304>(ref this.s963429334271493);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read<s604695337689154>(ref this.s884102370803262);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read<s831768100600903>(ref this.s893807802780582);
      // ISSUE: reference to a compiler-generated field
      int num3 = ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.ReadInt();
      this.s255261239133326 = new GrowableArray<s953925013719849.s923788715572248>(num3 + 1);
      s953925013719849.s923788715572248 s923788715572248 = new s953925013719849.s923788715572248();
      for (int index = 0; index < num3; ++index)
      {
        // ISSUE: reference to a compiler-generated field
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref (^(s953925013719849.s421948275016902&) ref s923788715572248).s954706018554011);
        // ISSUE: reference to a compiler-generated field
        ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref s923788715572248.s286338163505493);
        this.s255261239133326.Add(s923788715572248);
      }
      // ISSUE: reference to a compiler-generated field
      int num4 = ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.ReadInt();
      if (num3 != num4)
        throw new SerializationException("Redundant count check fail.");
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s794859289587172);
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated method
      ((DeferedRegion) ref this.s602797216177595).Read(((s953925013719849.s412546846244178) s002828325856459).s681650830254897, new Action(s002828325856459.s414899918721869));
      ((DeferedRegion) ref this.s602797216177595).FinishRead(false);
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated method
      ((DeferedRegion) ref this.s707565044631737).Read(((s953925013719849.s412546846244178) s002828325856459).s681650830254897, new Action(s002828325856459.s410821963725601));
      ((DeferedRegion) ref this.s707565044631737).FinishRead(false);
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated method
      ((DeferedRegion) ref this.s251956267042740).Read(((s953925013719849.s412546846244178) s002828325856459).s681650830254897, new Action(s002828325856459.s378738220527824));
      ((DeferedRegion) ref this.s251956267042740).FinishRead(false);
      // ISSUE: reference to a compiler-generated field
      int num5 = ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.ReadInt();
      for (int index = 0; index < num5; ++index)
      {
        string key;
        // ISSUE: reference to a compiler-generated field
        ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref key);
        // ISSUE: reference to a compiler-generated field
        IFastSerializable ifastSerializable = ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.ReadObject();
        this.s465060200874984[key] = (object) ifastSerializable;
      }
      // ISSUE: reference to a compiler-generated field
      int num6 = ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.ReadInt();
      if (num5 != num6)
        throw new SerializationException("Redundant count check fail.");
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s604034146760554);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s809990920470372);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s818541666885848);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s209957134984445);
      int num7;
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref num7);
      if (num7 != int.MinValue)
        this.s348947355737433 = new int?(num7);
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s048728593414489);
      // ISSUE: reference to a compiler-generated field
      int num8 = ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.ReadInt();
      this.s089293475028413.Clear();
      for (int index = 0; index < num8; ++index)
      {
        Guid guid;
        // ISSUE: reference to a compiler-generated field
        ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref guid);
        this.s089293475028413.Add(guid);
      }
      // ISSUE: reference to a compiler-generated field
      ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.Read(ref this.s565822153995113);
      // ISSUE: reference to a compiler-generated field
      this.s798082389356255 = (s130497541240854) ((s953925013719849.s412546846244178) s002828325856459).s681650830254897.ReadInt();
    }

    int IFastSerializableVersion.s274622494414222 => 72;

    int IFastSerializableVersion.s932252379890630 => ((IFastSerializableVersion) this).Version;

    int IFastSerializableVersion.s693670467880647 => ((IFastSerializableVersion) this).Version;

    internal void s688137993557962(
      s130497541240854 s896690238045173,
      s147978847785798 s413794071978491)
    {
      int count = this.s832144861097087.Count;
      if (this.s100927375859058)
      {
        while (0 < count)
        {
          --count;
          s130497541240854 s003376865312908 = this.s832144861097087[count].s003376865312908;
          if (s003376865312908 <= s896690238045173)
          {
            if (s003376865312908 == s896690238045173)
            {
              this.s639100242681190(true, "Warning, two stacks given to the same event with ID " + (object) s896690238045173 + " discarding the second one", (s034852122986107) null);
              return;
            }
            ++count;
            break;
          }
        }
      }
      this.s832144861097087.Insert(count, (s953925013719849.s795610042381770) new s953925013719849.s887372128019690(s896690238045173, s413794071978491));
    }

    internal class s421948275016902
    {
      internal ulong s940921927741084;
      internal ulong s894665512599069;
      internal s953925013719849.s421948275016902 s875651145043412;
      internal s953925013719849.s421948275016902 s452208215701397;
      internal s953925013719849.s421948275016902 s538734354425782;
      internal bool s833758592980967;
      private GrowableArray<s320811790897239> s244865325413758;
      public long s954706018554011;

      public void s268239548514649(
        s130497541240854 s555194298098411,
        s399735979708807 s877968056355562,
        s130497541240854 s941003799525010)
      {
        this.s600931915122359 = s147978847785798.Invalid;
        this.s548282698398069 = s555194298098411;
        this.s573449978248119 = s877968056355562;
        this.s456030597731105 = s941003799525010;
      }

      public unsafe bool s195472472199518(
        void* s236598348525930,
        int s080099660799682,
        int s851147361209043,
        long s485866767251775,
        s953925013719849 s932426076117571)
      {
        this.s244865325413758.Clear();
        for (int index = 0; index < s080099660799682; ++index)
        {
          ulong s794136365008612 = s851147361209043 != 8 ? (ulong) *(uint*) ((IntPtr) s236598348525930 + (IntPtr) index * 4) : (ulong) *(long*) ((IntPtr) s236598348525930 + (IntPtr) index * 8);
          this.s244865325413758.Add(s932426076117571.s331550318228488.s462846571074637.s639098805848738(this.s573449978248119.s772648742937858, s794136365008612));
        }
        switch (this.s573449978248119.s772648742937858.s308323137639863)
        {
          case 0:
          case 4:
            this.s600931915122359 = s604695337689154.s784601619739599(this.s573449978248119.s519833341027850);
            break;
        }
        return this.s632184009409828(s932426076117571);
      }

      public bool s426554217045094(ulong s723631563470165, s953925013719849 s475449422533440)
      {
        if (this.s940921927741084 != 0UL)
        {
          s475449422533440.s639100242681190(false, "Error, an event has two kernel stack keys 0x" + s723631563470165.ToString("x") + " and " + this.s940921927741084.ToString("x"), (s034852122986107) null);
          return true;
        }
        this.s940921927741084 = s723631563470165;
        bool flag = false;
        switch (this.s573449978248119.s772648742937858.s308323137639863)
        {
          case 0:
          case 4:
            this.s600931915122359 = s604695337689154.s784601619739599(this.s573449978248119.s519833341027850);
            flag = true;
            break;
        }
        s953925013719849.s421948275016902 s421948275016902;
        s475449422533440.s469074702134923.TryGetValue(s723631563470165, out s421948275016902);
        this.s875651145043412 = s421948275016902;
        s475449422533440.s469074702134923[s723631563470165] = this;
        return flag;
      }

      public void s373407603107456(
        s147978847785798 s331521447556334,
        s953925013719849 s801307758363743)
      {
        this.s600931915122359 = s331521447556334;
        this.s632184009409828(s801307758363743);
      }

      public void s210745089373511(ulong s558671030253983, s953925013719849 s714563067183233)
      {
        if (this.s894665512599069 != 0UL)
        {
          s714563067183233.s639100242681190(false, "Error, an event has two user stack keys 0x" + s558671030253983.ToString("x") + " and " + this.s894665512599069.ToString("x"), (s034852122986107) null);
        }
        else
        {
          this.s894665512599069 = s558671030253983;
          s953925013719849.s421948275016902 s421948275016902;
          s714563067183233.s197149443134704.TryGetValue(this.s894665512599069, out s421948275016902);
          this.s452208215701397 = s421948275016902;
          s714563067183233.s197149443134704[this.s894665512599069] = this;
        }
      }

      private bool s632184009409828(s953925013719849 s171893009338999)
      {
        if (this.s600931915122359 != s147978847785798.Invalid)
        {
          bool flag = false;
          if (this.s244865325413758.Count != 0)
          {
            flag = true;
            for (int index = this.s244865325413758.Count - 1; 0 <= index; --index)
              this.s600931915122359 = s171893009338999.s331550318228488.s299715455534772(this.s244865325413758[index], this.s600931915122359);
            this.s244865325413758.Count = 0;
          }
          if (flag || this.s940921927741084 == 0UL)
          {
            if (this.s600931915122359 >= ~s147978847785798.Invalid)
            {
              s171893009338999.s688137993557962(this.s548282698398069, this.s600931915122359);
              if (this.s456030597731105 != s130497541240854.Invalid)
                s171893009338999.s855105742819860.Add((s953925013719849.s795610042381770) new s953925013719849.s887372128019690(this.s456030597731105, this.s600931915122359));
            }
            if (this.s940921927741084 == 0UL && this.s894665512599069 == 0UL && !this.s833758592980967)
            {
              this.s573449978248119 = (s399735979708807) null;
              s171893009338999.s853812919999436(this);
            }
            else
            {
              if (this.s940921927741084 == 0UL)
                s171893009338999.s639100242681190(false, "Warning, finished a stack when kernel key " + this.s940921927741084.ToString("x") + " still unresolved.", (s034852122986107) null);
              if (this.s894665512599069 == 0UL)
                s171893009338999.s639100242681190(false, "Warning, finished a stack when user key " + this.s894665512599069.ToString("x") + " still unresolved.", (s034852122986107) null);
              if (this.s833758592980967)
                s171893009338999.s639100242681190(false, "Warning, finished a stack is still waiting to return from kernel.", (s034852122986107) null);
            }
            return true;
          }
        }
        return false;
      }

      internal bool s071867487377461 => this.s573449978248119 == null;

      internal s130497541240854 s548282698398069
      {
        get => ((s169903726244967<>.s278339033837803) this).s944598213735648;
        private set => ((s169903726244967<>.s278339033837803) this).s944598213735648 = value;
      }

      internal s130497541240854 s456030597731105 { get; set; }

      internal s399735979708807 s573449978248119 { get; private set; }

      internal s147978847785798 s600931915122359 { get; private set; }

      internal void s956127774777354(
        ref s953925013719849.s421948275016902 s869012549527067)
      {
        if (this.s833758592980967)
          return;
        this.s538734354425782 = s869012549527067;
        this.s833758592980967 = true;
        s869012549527067 = this;
      }

      public s421948275016902()
      {
      }

      public s421948275016902(long TimeQPC, StreamLabel Position)
      {
        this.s954706018554011 = TimeQPC;
        ((s953925013719849.s923788715572248) this).s286338163505493 = Position;
      }
    }

    private struct s923788715572248
    {
      public StreamLabel s286338163505493;
      [SpecialName]
      public int value__;

      public s923788715572248(s953925013719849 log)
      {
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        (^(s953925013719849.s887372128019690&) ref this).s321783011092151 = log;
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        (^(s953925013719849.s887372128019690&) ref this).s725513990246669 = new s953925013719849.s887372128019690.s786864744632566[2048];
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        (^(s953925013719849.s887372128019690&) ref this).s370335799160749 = 0;
      }
    }

    private enum s369935281959598
    {
      Invalid = -1, // 0xFFFFFFFF
      s114059700768371 = 2048, // 0x00000800
    }

    private struct s887372128019690
    {
      private s953925013719849.s887372128019690.s786864744632566[] s725513990246669;
      private int s370335799160749;
      private s953925013719849 s321783011092151;
      internal s130497541240854 s003376865312908;

      public void s206401366536155() => this.s725513990246669 = (s953925013719849.s887372128019690.s786864744632566[]) null;

      public void s416743373055960(
        s034852122986107 s737995872968113,
        s130497541240854 s989890412091080,
        s428443643405107 s429411353219151)
      {
        this.s725513990246669[this.s370335799160749].s953679553735461 = s737995872968113.s004308050466113();
        this.s725513990246669[this.s370335799160749].s989782105853426 = (ushort) s737995872968113.s049216409398562;
        this.s725513990246669[this.s370335799160749].s183343541096720 = s737995872968113.s218856315967206;
        this.s725513990246669[this.s370335799160749].s467706199561415 = s989890412091080;
        this.s725513990246669[this.s370335799160749].s057334738032973 = s429411353219151;
        this.s725513990246669[this.s370335799160749].s665764118852289 = s737995872968113.s066186047870744 == s341710869261760.s847322030468754 || s737995872968113.s066186047870744 == s846447177549074.s935498721809907;
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        // ISSUE: reference to a compiler-generated field
        (^(s134995860702422.s354715168584383.s122142191235527&) ref this.s725513990246669[this.s370335799160749]).s763003103359536 = false;
        this.s725513990246669[this.s370335799160749].s114536040296732 = s130497541240854.Invalid;
        if (s737995872968113 is s892463431402546 s892463431402546)
        {
          this.s725513990246669[this.s370335799160749].s114536040296732 = this.s321783011092151.s132713297009023.s823936611440501(s892463431402546.s772030317894180, s892463431402546.s218856315967206, (s572171018010254) null).s786164943800903;
          this.s321783011092151.s132713297009023.s823936611440501(s892463431402546.s411417226423455, s892463431402546.s218856315967206, (s572171018010254) null).s786164943800903 = s989890412091080;
        }
        this.s370335799160749 = this.s370335799160749 + 1 & 2047;
      }

      public s953925013719849.s369935281959598 s556749393968134(
        s953925013719849.s369935281959598 s499327650614407,
        int s772779364833796,
        bool s301152983521460 = false,
        s130497541240854 s883954304312677 = ~s130497541240854.Invalid)
      {
        // ISSUE: unable to decompile the method.
      }

      public s953925013719849.s369935281959598 s199051868215741(
        long s802625444405969,
        int s861118466653446,
        int s942730342653689)
      {
        // ISSUE: unable to decompile the method.
      }

      public s953925013719849.s369935281959598 s267158370859497 => (s953925013719849.s369935281959598) this.s370335799160749;

      public bool s432677260139486(s953925013719849.s369935281959598 s782563691589407)
      {
        // ISSUE: unable to decompile the method.
      }

      public bool s813385390841335(s953925013719849.s369935281959598 s923879403068538)
      {
        // ISSUE: unable to decompile the method.
      }

      public void s463507573982041(s953925013719849.s369935281959598 s098042745609839)
      {
        // ISSUE: unable to decompile the method.
      }

      public int s926062414766039(s953925013719849.s369935281959598 s039579817267475)
      {
        // ISSUE: unable to decompile the method.
      }

      public s130497541240854 s389450184688068(
        s953925013719849.s369935281959598 s369256304488493)
      {
        // ISSUE: unable to decompile the method.
      }

      public s130497541240854 s181107034790576(
        s953925013719849.s369935281959598 s521269615604011)
      {
        // ISSUE: unable to decompile the method.
      }

      public s428443643405107 s006709922501812(
        s953925013719849.s369935281959598 s522802756776624)
      {
        // ISSUE: unable to decompile the method.
      }

      public s953925013719849.s421948275016902 s439122556332681(
        s953925013719849.s369935281959598 s132140870211992)
      {
        // ISSUE: unable to decompile the method.
      }

      public void s799771805780811(
        s953925013719849.s369935281959598 s665443310343869,
        s953925013719849.s421948275016902 s630979916049743)
      {
        // ISSUE: unable to decompile the method.
      }

      internal s887372128019690(s130497541240854 eventIndex, s147978847785798 stackIndex)
      {
        this.s003376865312908 = eventIndex;
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        (^(s953925013719849.s795610042381770&) ref this).s106565032733924 = stackIndex;
      }

      private struct s786864744632566
      {
        public bool s665764118852289;
        public ushort s989782105853426;
        public long s183343541096720;
        public int s953679553735461;
        public s953925013719849.s421948275016902 s179608201303426;
        public s130497541240854 s467706199561415;
        public s130497541240854 s114536040296732;
        public s428443643405107 s057334738032973;
        public static readonly s875958956371404.s414055071545054.s231840533597209 s267481259964898;
      }
    }

    internal struct s795610042381770
    {
      internal s147978847785798 s106565032733924;
      public s130497541240854 s616760371544077;

      public s795610042381770(
        s130497541240854 eventIndex,
        ulong address,
        s320811790897239 codeAddressIndex)
      {
        this.s616760371544077 = eventIndex;
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        (^(s953925013719849.s292301582656752&) ref this).s824236193750060 = address;
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        (^(s953925013719849.s292301582656752&) ref this).s056086706313060 = codeAddressIndex;
      }
    }

    private struct s292301582656752
    {
      public ulong s824236193750060;
      public s320811790897239 s056086706313060;
      public s034852122986107 s667156283047735;

      public s292301582656752(s034852122986107 data, int enqueueTick)
      {
        this.s667156283047735 = data;
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        (^(s953925013719849.s661307348688474&) ref this).s885560591458013 = enqueueTick;
      }
    }

    private struct s661307348688474
    {
      public int s885560591458013;
      public s953925013719849 s229667879926478;

      public s661307348688474() => ((object) ref this).\u002Ector();
    }
  }
}
