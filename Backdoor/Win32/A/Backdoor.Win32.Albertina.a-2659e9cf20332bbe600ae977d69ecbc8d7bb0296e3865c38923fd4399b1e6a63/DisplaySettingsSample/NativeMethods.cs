// Decompiled with JetBrains decompiler
// Type: DisplaySettingsSample.NativeMethods
// Assembly: system64, Version=1.7.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 3A793DDC-251A-4171-9485-CC449337E9FB
// Assembly location: C:\Users\Administrateur\Desktop\Virusshare-00005-msil\Backdoor.Win32.Albertina.a-2659e9cf20332bbe600ae977d69ecbc8d7bb0296e3865c38923fd4399b1e6a63.exe

using Microsoft.VisualBasic;
using System.Diagnostics;
using System.Runtime.InteropServices;

namespace DisplaySettingsSample
{
  public class NativeMethods
  {
    public const int ENUM_CURRENT_SETTINGS = -1;
    public const int DISP_CHANGE_SUCCESSFUL = 0;
    public const int DISP_CHANGE_BADDUALVIEW = -6;
    public const int DISP_CHANGE_BADFLAGS = -4;
    public const int DISP_CHANGE_BADMODE = -2;
    public const int DISP_CHANGE_BADPARAM = -5;
    public const int DISP_CHANGE_FAILED = -1;
    public const int DISP_CHANGE_NOTUPDATED = -3;
    public const int DISP_CHANGE_RESTART = 1;
    public const int DMDO_DEFAULT = 0;
    public const int DMDO_90 = 1;
    public const int DMDO_180 = 2;
    public const int DMDO_270 = 3;

    [DebuggerNonUserCode]
    public NativeMethods()
    {
    }

    [DllImport("user32.dll", CharSet = CharSet.Ansi)]
    public static extern int EnumDisplaySettings(
      string lpszDeviceName,
      int iModeNum,
      ref DEVMODE lpDevMode);

    [DllImport("user32.dll", CharSet = CharSet.Ansi)]
    public static extern int ChangeDisplaySettings(ref DEVMODE lpDevMode, int dwFlags);

    public static DEVMODE CreateDevmode()
    {
      DEVMODE structure = new DEVMODE()
      {
        dmDeviceName = new string(new char[32]),
        dmFormName = new string(new char[32])
      };
      structure.dmSize = checked ((short) Conversion.Fix(Marshal.SizeOf((object) structure)));
      return structure;
    }
  }
}
