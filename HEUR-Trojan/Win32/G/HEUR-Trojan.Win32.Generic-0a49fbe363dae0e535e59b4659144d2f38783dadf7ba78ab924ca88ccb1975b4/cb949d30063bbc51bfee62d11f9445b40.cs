// Decompiled with JetBrains decompiler
// Type: A.cb949d30063bbc51bfee62d11f9445b40
// Assembly: WindowsApplication2Loader, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: F7227F94-C268-4B4C-B7D7-E3B6EE9F4271
// Assembly location: C:\Users\Administrateur\Downloads\VirusShare_CryptoRansom_20160715-msil\HEUR-Trojan.Win32.Generic-0a49fbe363dae0e535e59b4659144d2f38783dadf7ba78ab924ca88ccb1975b4.exe

using System;
using System.Reflection;
using System.Reflection.Emit;

namespace A
{
  internal sealed class cb949d30063bbc51bfee62d11f9445b40
  {
    private static ModuleHandle c22b054cccaf147126bab52922f807b7b;

    static cb949d30063bbc51bfee62d11f9445b40()
    {
      if ((object) typeof (MulticastDelegate) == null)
        return;
label_1:
      switch (2)
      {
        case 0:
          goto label_1;
        default:
          if (false)
          {
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle = __methodref (cb949d30063bbc51bfee62d11f9445b40.\u002Ecctor);
          }
          cb949d30063bbc51bfee62d11f9445b40.c22b054cccaf147126bab52922f807b7b = Assembly.GetExecutingAssembly().GetModules()[0].ModuleHandle;
          break;
      }
    }

    public static void ce82deede6f55e5fe198fc5e122e5e1ec(int _param0, int _param1, int _param2)
    {
      Type typeFromHandle;
      ConstructorInfo con;
      try
      {
        typeFromHandle = Type.GetTypeFromHandle(cb949d30063bbc51bfee62d11f9445b40.c22b054cccaf147126bab52922f807b7b.ResolveTypeHandle(_param0));
        object methodFromHandle;
        if (_param2 == 16777215)
        {
label_1:
          switch (7)
          {
            case 0:
              goto label_1;
            default:
              if (false)
              {
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle = __methodref (cb949d30063bbc51bfee62d11f9445b40.ce82deede6f55e5fe198fc5e122e5e1ec);
              }
              methodFromHandle = (object) MethodBase.GetMethodFromHandle(cb949d30063bbc51bfee62d11f9445b40.c22b054cccaf147126bab52922f807b7b.ResolveMethodHandle(_param1));
              break;
          }
        }
        else
          methodFromHandle = (object) MethodBase.GetMethodFromHandle(cb949d30063bbc51bfee62d11f9445b40.c22b054cccaf147126bab52922f807b7b.ResolveMethodHandle(_param1), cb949d30063bbc51bfee62d11f9445b40.c22b054cccaf147126bab52922f807b7b.ResolveTypeHandle(_param2));
        con = (ConstructorInfo) methodFromHandle;
      }
      catch (Exception ex)
      {
        throw;
      }
      foreach (FieldInfo field in typeFromHandle.GetFields(BindingFlags.Static | BindingFlags.NonPublic | BindingFlags.GetField))
      {
        try
        {
          ParameterInfo[] parameters = con.GetParameters();
          int length = parameters.Length + 1;
          Type[] parameterTypes = new Type[length];
          parameterTypes[0] = con.DeclaringType.MakeByRefType();
          for (int index = 1; index < length; ++index)
            parameterTypes[index] = parameters[index - 1].ParameterType;
label_13:
          switch (4)
          {
            case 0:
              goto label_13;
            default:
              DynamicMethod dynamicMethod = new DynamicMethod(string.Empty, (Type) null, parameterTypes, typeFromHandle, true);
              ILGenerator ilGenerator = dynamicMethod.GetILGenerator();
              if (length > 0)
              {
label_15:
                switch (5)
                {
                  case 0:
                    goto label_15;
                  default:
                    ilGenerator.Emit(OpCodes.Ldarg_0);
                    break;
                }
              }
              if (length > 1)
              {
label_18:
                switch (2)
                {
                  case 0:
                    goto label_18;
                  default:
                    ilGenerator.Emit(OpCodes.Ldarg_1);
                    break;
                }
              }
              if (length > 2)
              {
label_21:
                switch (6)
                {
                  case 0:
                    goto label_21;
                  default:
                    ilGenerator.Emit(OpCodes.Ldarg_2);
                    break;
                }
              }
              if (length > 3)
              {
label_24:
                switch (7)
                {
                  case 0:
                    goto label_24;
                  default:
                    ilGenerator.Emit(OpCodes.Ldarg_3);
                    break;
                }
              }
              if (length > 4)
              {
label_27:
                switch (4)
                {
                  case 0:
                    goto label_27;
                  default:
                    for (int index = 4; index < length; ++index)
                      ilGenerator.Emit(OpCodes.Ldarg_S, index);
label_31:
                    switch (1)
                    {
                      case 0:
                        goto label_31;
                    }
                    break;
                }
              }
              ilGenerator.Emit(OpCodes.Call, con);
              ilGenerator.Emit(OpCodes.Ret);
              Delegate @delegate = dynamicMethod.CreateDelegate(typeFromHandle);
              field.SetValue((object) null, (object) @delegate);
              continue;
          }
        }
        catch (Exception ex)
        {
        }
      }
label_36:
      switch (3)
      {
        case 0:
          goto label_36;
      }
    }
  }
}
