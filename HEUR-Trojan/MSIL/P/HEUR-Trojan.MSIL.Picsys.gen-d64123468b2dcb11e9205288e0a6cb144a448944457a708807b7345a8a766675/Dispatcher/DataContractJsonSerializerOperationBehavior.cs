// Decompiled with JetBrains decompiler
// Type: System.ServiceModel.Dispatcher.DataContractJsonSerializerOperationBehavior
// Assembly: Microsoft.Transactions.Bridge, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 51116F84-6FE2-4BD6-A908-2C88E06F45BB
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.07\HEUR-Trojan.MSIL.Picsys.gen-d64123468b2dcb11e9205288e0a6cb144a448944457a708807b7345a8a766675.exe

using System.Collections.Generic;
using System.Runtime.Serialization;
using System.Runtime.Serialization.Json;
using System.ServiceModel.Description;
using System.Xml;

namespace System.ServiceModel.Dispatcher
{
  internal class DataContractJsonSerializerOperationBehavior : 
    DataContractSerializerOperationBehavior
  {
    private bool alwaysEmitTypeInformation;

    public DataContractJsonSerializerOperationBehavior(
      OperationDescription description,
      int maxItemsInObjectGraph,
      bool ignoreExtensionDataObject,
      IDataContractSurrogate dataContractSurrogate,
      bool alwaysEmitTypeInformation)
      : base(description)
    {
      this.MaxItemsInObjectGraph = maxItemsInObjectGraph;
      this.IgnoreExtensionDataObject = ignoreExtensionDataObject;
      this.DataContractSurrogate = dataContractSurrogate;
      this.alwaysEmitTypeInformation = alwaysEmitTypeInformation;
    }

    public override XmlObjectSerializer CreateSerializer(
      Type type,
      string name,
      string ns,
      IList<Type> knownTypes)
    {
      return (XmlObjectSerializer) new DataContractJsonSerializer(type, name, (IEnumerable<Type>) knownTypes, this.MaxItemsInObjectGraph, this.IgnoreExtensionDataObject, this.DataContractSurrogate, this.alwaysEmitTypeInformation);
    }

    public override XmlObjectSerializer CreateSerializer(
      Type type,
      XmlDictionaryString name,
      XmlDictionaryString ns,
      IList<Type> knownTypes)
    {
      return (XmlObjectSerializer) new DataContractJsonSerializer(type, name, (IEnumerable<Type>) knownTypes, this.MaxItemsInObjectGraph, this.IgnoreExtensionDataObject, this.DataContractSurrogate, this.alwaysEmitTypeInformation);
    }
  }
}
