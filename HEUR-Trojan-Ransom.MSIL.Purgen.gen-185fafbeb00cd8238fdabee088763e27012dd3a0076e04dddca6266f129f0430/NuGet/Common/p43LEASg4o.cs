// Decompiled with JetBrains decompiler
// Type: NuGet.Common.p43LEASg4o
// Assembly: Ty6CWyxFEL, Version=5.0.0.2, Culture=neutral, PublicKeyToken=31bf3856ad364e35
// MVID: 271E2DAF-741A-443A-8BCF-B62C509DDC38
// Assembly location: C:\Users\Administrateur\Downloads\toto\HEUR-Trojan-Ransom.MSIL.Purgen.gen-185fafbeb00cd8238fdabee088763e27012dd3a0076e04dddca6266f129f0430.exe

using System;
using System.IO;

namespace NuGet.Common
{
  public static class p43LEASg4o
  {
    private const string \u0038yPs7oySq2 = "file://";

    public static Uri ibiWS7t6FE(string UHNwux1jwL, UriKind DyObFZhwr4 = UriKind.Absolute)
    {
      UHNwux1jwL = p43LEASg4o.BwBOVNcteN(UHNwux1jwL);
      return new Uri(UHNwux1jwL, DyObFZhwr4);
    }

    public static Uri FPwdmEXfpR(string GXMANPMo4g, UriKind jtTolPgGKn)
    {
      GXMANPMo4g = p43LEASg4o.BwBOVNcteN(GXMANPMo4g);
      Uri result;
      return !Uri.TryCreate(GXMANPMo4g, jtTolPgGKn, out result) ? (Uri) null : result;
    }

    private static string BwBOVNcteN(string Vem5BhmNnw)
    {
      if (Path.DirectorySeparatorChar == '/' && !string.IsNullOrEmpty(Vem5BhmNnw) && Vem5BhmNnw[0] == '/')
        Vem5BhmNnw = "file://" + Vem5BhmNnw;
      return Vem5BhmNnw;
    }

    public static string vbhRv11siY(string q6XiN27hT5) => !string.IsNullOrEmpty(q6XiN27hT5) ? Uri.EscapeDataString(q6XiN27hT5).Replace("'", "''").Replace("%27", "''") : q6XiN27hT5;

    public static string fIjBQF4hQg(string XVaRIfv2HG)
    {
      Uri result;
      return !string.IsNullOrEmpty(XVaRIfv2HG) && XVaRIfv2HG.StartsWith("file://", StringComparison.OrdinalIgnoreCase) && Uri.TryCreate(XVaRIfv2HG, UriKind.RelativeOrAbsolute, out result) ? result.LocalPath : XVaRIfv2HG;
    }

    public static string x1dZpwCyTn(string Psyh9aUKPt, string zXW4R6gD9Q) => string.IsNullOrEmpty(Psyh9aUKPt) ? zXW4R6gD9Q : p43LEASg4o.Pu7IHquB7C(Path.GetDirectoryName(Psyh9aUKPt), zXW4R6gD9Q);

    public static string Pu7IHquB7C(string wlHqatYoKr, string D5eY3Se6pC)
    {
      if (string.IsNullOrEmpty(wlHqatYoKr) || string.IsNullOrEmpty(D5eY3Se6pC))
        return D5eY3Se6pC;
      string str = p43LEASg4o.fIjBQF4hQg(D5eY3Se6pC);
      if (p43LEASg4o.FPwdmEXfpR(str, UriKind.Relative) != (Uri) null)
        return Path.GetFullPath(Path.Combine(wlHqatYoKr, str));
      Uri uri = p43LEASg4o.FPwdmEXfpR(str, UriKind.Absolute);
      return ((object) uri != null ? (uri.IsFile ? 1 : 0) : 0) != 0 ? Path.GetFullPath(str) : str;
    }
  }
}
