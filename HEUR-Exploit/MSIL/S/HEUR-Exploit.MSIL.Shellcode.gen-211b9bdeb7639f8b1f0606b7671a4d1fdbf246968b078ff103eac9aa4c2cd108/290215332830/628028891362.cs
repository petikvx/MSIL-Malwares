// Decompiled with JetBrains decompiler
// Type: 290215332830.628028891362
// Assembly: 190180155270, Version=7.6.1.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
// MVID: 20B0A582-54C5-4C64-BCB9-2AC73608F590
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Exploit.MSIL.Shellcode.gen-211b9bdeb7639f8b1f0606b7671a4d1fdbf246968b078ff103eac9aa4c2cd108.exe

using \u003290215332830;
using \u003326215498452;
using \u003368502807951;
using \u003369449654927;
using \u003735835744741;
using \u003818259827220;
using \u003882244590153;
using \u003949831847381;
using \u003974762711386;
using Microsoft.ProgramSynthesis.Utils;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Threading.Tasks;

namespace \u003290215332830
{
  public class \u003628028891362
  {
    private const int \u003078128545966 = 1048576;

    internal byte[] \u003612632556804 { get; private set; }

    private void \u003820080872477(Stream _param1) => this.\u003612632556804 = IOUtils.RepeatReadAndAllocate(_param1, 1048576);

    private \u003212044566473 \u003007400436955(Stream _param1_1)
    {
      this.\u003820080872477(_param1_1);
      List<IEncodingDetector> source1 = new List<IEncodingDetector>()
      {
        (IEncodingDetector) new \u003518243224967(),
        (IEncodingDetector) new \u003301729771079(),
        (IEncodingDetector) new \u003636443840557(),
        (IEncodingDetector) new \u003079108865494(),
        (IEncodingDetector) new \u003635634153482()
      };
      List<Task> taskList = new List<Task>();
      foreach (IEncodingDetector encodingDetector in source1)
      {
        // ISSUE: variable of a compiler-generated type
        \u003628028891362.\u003028948733295 obj = (\u003628028891362.\u003028948733295) new \u003749687239378.\u003871936369480();
        // ISSUE: reference to a compiler-generated field
        obj.\u003222837615239 = this;
        ((\u003749687239378.\u003871936369480) obj).\u003644710490770 = encodingDetector;
        // ISSUE: reference to a compiler-generated method
        taskList.Add(Task.Run(new Action(obj.\u003179496530882)));
      }
      Task.WaitAll(taskList.ToArray());
      IEnumerable<IEncodingDetector> source2 = (IEnumerable<IEncodingDetector>) source1.Where<IEncodingDetector>((Func<IEncodingDetector, bool>) (_param1_2 => (double) _param1_2.Confidence > 0.95)).GroupBy<IEncodingDetector, float>((Func<IEncodingDetector, float>) (_param1_3 => _param1_3.Confidence)).OrderByDescending<IGrouping<float, IEncodingDetector>, float>((Func<IGrouping<float, IEncodingDetector>, float>) (_param1_4 => _param1_4.Key)).FirstOrDefault<IGrouping<float, IEncodingDetector>>();
      if ((source2 != null ? (!source2.Any<IEncodingDetector>() ? 1 : 0) : 1) != 0)
        return \u003212044566473.Unknown;
      IEncodingDetector encodingDetector1 = CollectionUtils.ArgMin<IEncodingDetector, int>(source2, (Func<IEncodingDetector, int>) (_param1_5 => _param1_5.Precedence));
      return encodingDetector1 == null ? \u003212044566473.Unknown : encodingDetector1.DetectedType;
    }

    public static \u003212044566473 \u003929253803812(Stream _param0) => new \u003628028891362().\u003007400436955(_param0);

    public static \u003212044566473 \u003693835383146(byte[] _param0)
    {
      using (MemoryStream memoryStream = new MemoryStream(_param0))
        return \u003628028891362.\u003929253803812((Stream) memoryStream);
    }
  }
}
