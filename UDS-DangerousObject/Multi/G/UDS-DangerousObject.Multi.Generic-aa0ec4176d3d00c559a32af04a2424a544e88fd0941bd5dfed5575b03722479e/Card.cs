// Decompiled with JetBrains decompiler
// Type: SpiritIslandCompanion.Card
// Assembly: UriMarsha, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: BEDD9E55-A693-4C3C-9410-4BBEC72FF466
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\UDS-DangerousObject.Multi.Generic-aa0ec4176d3d00c559a32af04a2424a544e88fd0941bd5dfed5575b03722479e.exe

using System.ComponentModel;
using System.Windows.Controls;
using System.Windows.Media;

namespace SpiritIslandCompanion
{
  public abstract class Card : Image, INotifyPropertyChanged
  {
    private int _id;
    private ImageSource _frontImagePath;
    private ImageSource _backImagePath;

    public event PropertyChangedEventHandler PropertyChanged;

    private void NotifyPropertyChanged([CallerMemberName] string propertyName = null)
    {
      if (this.PropertyChanged == null)
        return;
      this.PropertyChanged((object) this, new PropertyChangedEventArgs(propertyName));
    }

    public int Id
    {
      get => this._id;
      set => this._id = value;
    }

    public ImageSource FrontSide
    {
      get => this._frontImagePath;
      set => this._frontImagePath = value;
    }

    public ImageSource BackSide
    {
      get => this._backImagePath;
      set => this._backImagePath = value;
    }

    public void FlipCard()
    {
      if (this.Source != this.BackSide)
        return;
      this.Source = this.FrontSide;
      this.NotifyPropertyChanged();
    }

    public bool IsFaceUp() => this.Source == this.FrontSide;

    public Card(int id, ImageSource front, ImageSource back, int height, int width)
    {
      this._id = id;
      this.Height = (double) height;
      this.Width = (double) width;
      this.FrontSide = front;
      this.BackSide = back;
      this.Source = this.BackSide;
      this.Stretch = Stretch.UniformToFill;
    }
  }
}
