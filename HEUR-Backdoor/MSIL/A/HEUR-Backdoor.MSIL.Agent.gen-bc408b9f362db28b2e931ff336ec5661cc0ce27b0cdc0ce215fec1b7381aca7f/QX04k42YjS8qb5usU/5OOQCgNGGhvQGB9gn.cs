// Decompiled with JetBrains decompiler
// Type: QX04k42YjS8qb5usU.5OOQCgNGGhvQGB9gn
// Assembly: bouNMGxVgGi4SRgWO, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60
// MVID: 3F6A2AF1-3CCB-4F01-AA36-FA31C2E4CFE8
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Backdoor.MSIL.Agent.gen-bc408b9f362db28b2e931ff336ec5661cc0ce27b0cdc0ce215fec1b7381aca7f.exe

using \u0033eVYd5LIQhZ7rzGZ2;
using fcxTd0CgJgB8stQvj;
using GUxwlAGXtz8Biqdzq;
using hszUvUxo54Yr3bglh;
using jlhFNVXvwEp5FRUh5;
using Microsoft.TemplateEngine.Abstractions;
using Microsoft.TemplateEngine.Core.Contracts;
using Microsoft.TemplateEngine.Core.Operations;
using Newtonsoft.Json.Linq;
using PgLEPpSpDk54KWT6E;
using System;
using System.Collections.Generic;
using System.Text;
using yh0ebcH9Dvo58RtWO;
using zjOMGQo4U7RNSpo2h;
using zpdIRWbRp5AiZJa82;

namespace QX04k42YjS8qb5usU
{
  public class \u0035OOQCgNGGhvQGB9gn : IMacro, IIdentifiedComponent, IDeferredMacro
  {
    public static readonly string ARqQrrkSOgtxoyaKt = "C++";

    public Guid at0st6YaDvDlTSoIy => new Guid("B57D64E0-9B4F-4ABE-9366-711170FD5294");

    public string f8qa85SYZ5ph1zImx => "switch";

    public void l8A1qEy03SvfoFRfo(
      IEngineEnvironmentSettings dPzyzwF2pBX8A4I54,
      IVariableCollection _param2,
      IMacroConfig lBPCpeqFDAmNZujxh,
      IParameterSet z6QfB9SvrtV5c8n65,
      eudKo284TuJqIEahM mnBZjQAu9YX2Qx2EE)
    {
      // ISSUE: method pointer
      ConditionEvaluator conditionEvaluator = lBPCpeqFDAmNZujxh is loXTJF5lKxjPQE5ZQ loXtjF5lKxjPqE5Zq ? HM7fHG9SqSJPjYb3N.bEgiIKupMFMDdf04i(loXtjF5lKxjPqE5Zq.pIXFWB2sXahAgkYdr, new ConditionEvaluator((object) null, __methodptr(Evaluate))) : throw new InvalidCastException("Couldn't cast the rawConfig as 5OOQCgNGGhvQGB9gnConfig");
      string str1 = string.Empty;
      foreach (KeyValuePair<string, string> keyValuePair in (IEnumerable<KeyValuePair<string, string>>) loXtjF5lKxjPqE5Zq.V8cmcGvOP6ArNdaO5)
      {
        string key = keyValuePair.Key;
        string str2 = keyValuePair.Value;
        if (string.IsNullOrEmpty(key))
        {
          str1 = str2;
          break;
        }
        byte[] bytes = Encoding.UTF8.GetBytes(key);
        int length = bytes.Length;
        int num = 0;
        IProcessorState iprocessorState = (IProcessorState) new wQpyfWUt1SnGnpMyV.tdgSBkWakqxHXZJfX(dPzyzwF2pBX8A4I54, _param2, bytes, Encoding.UTF8);
        bool flag;
        if (conditionEvaluator.Invoke(iprocessorState, ref length, ref num, ref flag))
        {
          str1 = str2;
          break;
        }
      }
      ITemplateParameter itemplateParameter;
      ckgfOYwQVcmI3lHXN parameter;
      if (z6QfB9SvrtV5c8n65.TryGetParameterDefinition(loXtjF5lKxjPqE5Zq.P4ev6Kv4ackEV7WAq, ref itemplateParameter))
      {
        parameter = (ckgfOYwQVcmI3lHXN) itemplateParameter;
        parameter.Cg57rESMJLQIVeHLw = true;
        if (string.IsNullOrEmpty(parameter.\u0038DBEv3DWcN5nNg1o1))
          parameter.\u0038DBEv3DWcN5nNg1o1 = loXtjF5lKxjPqE5Zq.\u0039yQo88i8RUAqP4eKm;
      }
      else
        parameter = new ckgfOYwQVcmI3lHXN()
        {
          Cg57rESMJLQIVeHLw = true,
          RWvAX7XIWjB7LsE1n = loXtjF5lKxjPqE5Zq.P4ev6Kv4ackEV7WAq,
          \u0038DBEv3DWcN5nNg1o1 = loXtjF5lKxjPqE5Zq.\u0039yQo88i8RUAqP4eKm
        };
      ((IDictionary<string, object>) _param2)[loXtjF5lKxjPqE5Zq.P4ev6Kv4ackEV7WAq] = (object) str1.ToString();
      mnBZjQAu9YX2Qx2EE((ITemplateParameter) parameter, str1.ToString());
    }

    public IMacroConfig rmpOdcyOvHVSgZ3ZC(
      IEngineEnvironmentSettings AIEOIjvbDMOVCBLyh,
      IMacroConfig WnwUZvTqhVo1g7oXL)
    {
      if (!(WnwUZvTqhVo1g7oXL is KZUSKKOdswxWjB6He kzuskkOdswxWjB6He))
        throw new InvalidCastException("Couldn't cast the rawConfig as a 5OOQCgNGGhvQGB9gnConfig");
      string evaluator = (string) null;
      JToken jtoken1;
      if (kzuskkOdswxWjB6He.dYZjsKaakeS43shkR.TryGetValue("evaluator", out jtoken1))
        evaluator = ((object) jtoken1).ToString();
      string dataType = (string) null;
      JToken jtoken2;
      if (kzuskkOdswxWjB6He.dYZjsKaakeS43shkR.TryGetValue("datatype", out jtoken2))
        dataType = ((object) jtoken2).ToString();
      List<KeyValuePair<string, string>> switches = new List<KeyValuePair<string, string>>();
      JToken jtoken3;
      if (kzuskkOdswxWjB6He.dYZjsKaakeS43shkR.TryGetValue("cases", out jtoken3))
      {
        foreach (JObject AxYz1PCII8bqfq9z9 in (JArray) jtoken3)
        {
          string key = ((JToken) AxYz1PCII8bqfq9z9).nVxA6yY1QJJUqxmoF("condition");
          string str = ((JToken) AxYz1PCII8bqfq9z9).nVxA6yY1QJJUqxmoF("value");
          switches.Add(new KeyValuePair<string, string>(key, str));
        }
      }
      return (IMacroConfig) new loXTJF5lKxjPQE5ZQ(kzuskkOdswxWjB6He.\u0036gh4E6uhQGL10SKFe, evaluator, dataType, (IList<KeyValuePair<string, string>>) switches);
    }
  }
}
