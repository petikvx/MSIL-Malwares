// Decompiled with JetBrains decompiler
// Type: mhZ8amQVr4JAO.7BKomckZ2VHww
// Assembly: Udby4Jt48oXkJ, Version=3.17.2.31, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: 37899E89-D673-4F5B-A193-2E4DF6A54096
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Gorgon.gen-bf535869266eca7a958714acade2ede1bff0e73f0aaa2702f389ededee6a8d6a.exe

using \u0036mHL90hQ651VX;
using System;
using System.Collections.Generic;
using System.Globalization;
using System.IO;
using System.Runtime.Serialization.Json;
using System.Text;

namespace mhZ8amQVr4JAO
{
  internal static class \u0037BKomckZ2VHww
  {
    public static string Ge3T8gnfaJw9f(string bnf3rSPYesYo6)
    {
      if (string.IsNullOrEmpty(bnf3rSPYesYo6))
        return bnf3rSPYesYo6;
      bnf3rSPYesYo6 = Uri.EscapeDataString(bnf3rSPYesYo6);
      bnf3rSPYesYo6 = bnf3rSPYesYo6.Replace("%20", "+");
      return bnf3rSPYesYo6;
    }

    public static string MQWBk3uOtEKdI(string _param0)
    {
      if (string.IsNullOrEmpty(_param0))
        return _param0;
      _param0 = _param0.Replace("+", "%20");
      _param0 = Uri.UnescapeDataString(_param0);
      return _param0;
    }

    public static void \u0033uSWsYPB2g3jg(
      StringBuilder tEPNkt6l7buz4,
      string RYDWghxttobgU,
      string sy9WCForZMmuh)
    {
      \u0037BKomckZ2VHww.SMN49GozKhA6b(tEPNkt6l7buz4, RYDWghxttobgU, sy9WCForZMmuh.ToCharArray());
    }

    public static string p4nyQXL4ClT3F(this IDictionary<string, string> bJn7UqZNrAzcK)
    {
      StringBuilder stringBuilder = new StringBuilder();
      foreach (string key in (IEnumerable<string>) bJn7UqZNrAzcK.Keys)
        stringBuilder.AppendFormat((IFormatProvider) CultureInfo.CurrentCulture, "{0}={1}&", new object[2]
        {
          (object) key,
          (object) \u0037BKomckZ2VHww.Ge3T8gnfaJw9f(bJn7UqZNrAzcK[key])
        });
      stringBuilder.Remove(stringBuilder.Length - 1, 1);
      return stringBuilder.ToString();
    }

    public static Dictionary<string, string> je5PBxJg4LPl2(
      string _param0,
      char Ri624HyYDiHZ9,
      bool lMLnaGlQNDDc1,
      bool g9swm5zxI4jej,
      Up2ciG6wVdM5T iQD9hqzGM9GlL)
    {
      return \u0037BKomckZ2VHww.pqWO0VdDDQE05(_param0, Ri624HyYDiHZ9, lMLnaGlQNDDc1, g9swm5zxI4jej, iQD9hqzGM9GlL, false);
    }

    public static Dictionary<string, string> JOkRJia4GcwSK(
      string vRwOHfx1arZ4L,
      char zOwhZkQ15lQaw,
      bool D5X3sWCqbNbc4,
      bool _param3,
      Up2ciG6wVdM5T mlf1xWcSIyFZP)
    {
      return \u0037BKomckZ2VHww.pqWO0VdDDQE05(vRwOHfx1arZ4L, zOwhZkQ15lQaw, D5X3sWCqbNbc4, _param3, mlf1xWcSIyFZP, true);
    }

    private static Dictionary<string, string> pqWO0VdDDQE05(
      string WePqQvbexTtRr,
      char ti3CgnpmgzVz0,
      bool _param2,
      bool U4apioE6tqYpj,
      Up2ciG6wVdM5T eBZXqtxeXc3A7,
      bool PQRGHNQaT95nD)
    {
      Dictionary<string, string> dictionary = new Dictionary<string, string>();
      foreach (string str1 in \u0037BKomckZ2VHww.ASdRicROyxLng(WePqQvbexTtRr, ti3CgnpmgzVz0))
      {
        List<string> stringList = \u0037BKomckZ2VHww.ASdRicROyxLng(str1, '=');
        if (stringList.Count == 2 && !string.IsNullOrWhiteSpace(stringList[0]) && !string.IsNullOrWhiteSpace(stringList[1]))
        {
          string key = stringList[0];
          string str2 = stringList[1];
          if (_param2)
          {
            key = \u0037BKomckZ2VHww.MQWBk3uOtEKdI(key);
            str2 = \u0037BKomckZ2VHww.MQWBk3uOtEKdI(str2);
          }
          if (U4apioE6tqYpj)
            key = key.Trim().ToLowerInvariant();
          string str3 = str2.Trim().Trim('"').Trim();
          if (dictionary.ContainsKey(key) && eBZXqtxeXc3A7 != null)
            eBZXqtxeXc3A7.\u0031CII3TGnWWaPA.\u0032jwLPJBtkUbzg(eBZXqtxeXc3A7, string.Format((IFormatProvider) CultureInfo.CurrentCulture, "Key/value pair list contains redundant key '{0}'.", new object[1]
            {
              (object) key
            }), "E:\\A\\_work\\115\\s\\src\\Microsoft.IdentityModel.Clients.ActiveDirectory\\Internal\\7BKomckZ2VHww.cs");
          dictionary[key] = str3;
        }
        else if (PQRGHNQaT95nD && stringList.Count > 2)
          throw new ArgumentException("input");
      }
      return dictionary;
    }

    public static Dictionary<string, string> vvzmwqlHCT7Qk(
      string vzUq26x4xnTLk,
      char MRG4RBZMjuPTT,
      bool HXfGOgviX81iS,
      Up2ciG6wVdM5T D05a7Mg8XBj9d)
    {
      return \u0037BKomckZ2VHww.pqWO0VdDDQE05(vzUq26x4xnTLk, MRG4RBZMjuPTT, HXfGOgviX81iS, true, D05a7Mg8XBj9d, false);
    }

    public static byte[] dNq4QGRGqnDBv(this string jhwPZ5zYo3p3l) => new StringBuilder(jhwPZ5zYo3p3l).Hwt1kvzmal9Tb();

    public static byte[] Hwt1kvzmal9Tb(this StringBuilder I4j9qboXCHfUl)
    {
      if (I4j9qboXCHfUl == null)
        return (byte[]) null;
      UTF8Encoding utF8Encoding = new UTF8Encoding();
      char[] chArray = new char[I4j9qboXCHfUl.Length];
      try
      {
        I4j9qboXCHfUl.CopyTo(0, chArray, 0, I4j9qboXCHfUl.Length);
        return utF8Encoding.GetBytes(chArray);
      }
      finally
      {
        chArray.Q58NcIDIIIOlr();
      }
    }

    public static void N0DBWL52gqHAp(this StringBuilder UCF2WEihYYizc)
    {
      if (UCF2WEihYYizc == null)
        return;
      for (int index = 0; index < UCF2WEihYYizc.Length; ++index)
        UCF2WEihYYizc[index] = char.MinValue;
      UCF2WEihYYizc.Length = 0;
    }

    public static void vMbQ1pNYEjBHs(this byte[] WYvMNFYb6NgjC)
    {
      if (WYvMNFYb6NgjC == null)
        return;
      for (int index = 0; index < WYvMNFYb6NgjC.Length; ++index)
        WYvMNFYb6NgjC[index] = (byte) 0;
    }

    public static void Q58NcIDIIIOlr(this char[] fz3djBZhVXby5)
    {
      if (fz3djBZhVXby5 == null)
        return;
      for (int index = 0; index < fz3djBZhVXby5.Length; ++index)
        fz3djBZhVXby5[index] = char.MinValue;
    }

    public static Stream ZRXsq5wZUGk0j(string WlbQJe5OJxlfe)
    {
      MemoryStream memoryStream = new MemoryStream();
      StreamWriter streamWriter = new StreamWriter((Stream) memoryStream);
      streamWriter.Write(WlbQJe5OJxlfe);
      streamWriter.Flush();
      memoryStream.Position = 0L;
      return (Stream) memoryStream;
    }

    public static T \u00314m8iFt02KblO<T>(string WetZsorXTMbSG)
    {
      DataContractJsonSerializer contractJsonSerializer = new DataContractJsonSerializer(typeof (T));
      if (WetZsorXTMbSG == null)
        return default (T);
      using (Stream stream = \u0037BKomckZ2VHww.ZRXsq5wZUGk0j(WetZsorXTMbSG))
        return (T) contractJsonSerializer.ReadObject(stream);
    }

    internal static string wISyHjnTzVJxc(string IeDOL66c4Bs6m)
    {
      string str = string.Empty;
      if (!string.IsNullOrEmpty(IeDOL66c4Bs6m))
        str = Convert.ToBase64String(Encoding.UTF8.GetBytes(IeDOL66c4Bs6m));
      return str;
    }

    internal static string XndKhTp739av7(string vEt4Td9hpelqQ)
    {
      string str = (string) null;
      if (!string.IsNullOrEmpty(vEt4Td9hpelqQ))
      {
        byte[] bytes = Convert.FromBase64String(vEt4Td9hpelqQ);
        str = Encoding.UTF8.GetString(bytes, 0, bytes.Length);
      }
      return str;
    }

    internal static char[] XZJmhmLrtnVP9(char[] XNtIl8KahVkg8)
    {
      if (XNtIl8KahVkg8 == null)
        return (char[]) null;
      char[] array = new char[XNtIl8KahVkg8.Length * 2];
      int num = 0;
      char[] chArray = new char[1];
      foreach (char ch in XNtIl8KahVkg8)
      {
        chArray[0] = ch;
        char[] charArray = \u0037BKomckZ2VHww.Ge3T8gnfaJw9f(new string(chArray)).ToCharArray();
        if (num + charArray.Length > array.Length)
          Array.Resize<char>(ref array, array.Length + XNtIl8KahVkg8.Length * 2);
        charArray.CopyTo((Array) array, num);
        num += charArray.Length;
      }
      Array.Resize<char>(ref array, num);
      return array;
    }

    internal static List<string> ASdRicROyxLng(string _param0, char SQfD1blH4ryvz)
    {
      List<string> stringList = new List<string>();
      if (string.IsNullOrWhiteSpace(_param0))
        return stringList;
      int startIndex = 0;
      bool flag = false;
      for (int index = 0; index < _param0.Length; ++index)
      {
        if ((int) _param0[index] == (int) SQfD1blH4ryvz && !flag)
        {
          string str = _param0.Substring(startIndex, index - startIndex);
          if (!string.IsNullOrWhiteSpace(str.Trim()))
            stringList.Add(str);
          startIndex = index + 1;
        }
        else if (_param0[index] == '"')
          flag = !flag;
      }
      string str1 = _param0.Substring(startIndex);
      if (!string.IsNullOrWhiteSpace(str1.Trim()))
        stringList.Add(str1);
      return stringList;
    }

    internal static void SMN49GozKhA6b(
      StringBuilder PA4amjJ6KedPk,
      string EIAkgfidXdB56,
      char[] a8E9SqIIttLWF)
    {
      string str = PA4amjJ6KedPk.Length == 0 ? string.Empty : "&";
      PA4amjJ6KedPk.AppendFormat((IFormatProvider) CultureInfo.CurrentCulture, "{0}{1}=", new object[2]
      {
        (object) str,
        (object) EIAkgfidXdB56
      });
      PA4amjJ6KedPk.Append(a8E9SqIIttLWF);
    }

    internal static string \u0038xVCLKnNQg78r(byte[] _param0)
    {
      char[] dst = new char[_param0.Length / 2];
      Buffer.BlockCopy((Array) _param0, 0, (Array) dst, 0, _param0.Length);
      return new string(dst);
    }
  }
}
