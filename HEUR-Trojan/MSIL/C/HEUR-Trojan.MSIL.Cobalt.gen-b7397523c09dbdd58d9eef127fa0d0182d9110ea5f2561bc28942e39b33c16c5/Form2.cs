// Decompiled with JetBrains decompiler
// Type: WindowsFormsApplication2.Form2
// Assembly: WindowsFormsApplication2, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: FE9A6395-9CA7-468B-A6A3-13D09A57D63A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Cobalt.gen-b7397523c09dbdd58d9eef127fa0d0182d9110ea5f2561bc28942e39b33c16c5.exe

using System;
using System.ComponentModel;
using System.Data;
using System.Data.OleDb;
using System.Drawing;
using System.Drawing.Printing;
using System.Windows.Forms;

namespace WindowsFormsApplication2
{
  public class Form2 : Form
  {
    public string connectionString = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + Application.StartupPath + "/POS.accdb";
    private OleDbDataAdapter da;
    private BindingSource bindingSource = (BindingSource) null;
    private OleDbCommandBuilder oleCommandBuilder = (OleDbCommandBuilder) null;
    private DataTable dataTable = new DataTable();
    private IContainer components = (IContainer) null;
    private GroupBox groupBox2;
    private Label label1;
    private MaskedTextBox CNIC;
    private TextBox Phone;
    private Label label13;
    private Button button2;
    private TextBox CName;
    private Label label8;
    private DataGridView dataGridView1;
    private Button button1;
    private PrintDocument printDocument1;

    public Form2() => this.InitializeComponent();

    private void button2_Click(object sender, EventArgs e)
    {
      if (!(this.CName.Text != "") || !(this.CNIC.Text != ""))
        return;
      using (OleDbConnection connection = new OleDbConnection(this.connectionString))
      {
        OleDbCommand oleDbCommand = new OleDbCommand("INSERT INTO Customer(CustomerName,CNIC,Phone) VALUES ('" + this.CName.Text + "','" + this.CNIC.Text + "','" + this.Phone.Text + "')", connection);
        try
        {
          connection.Open();
          oleDbCommand.ExecuteReader();
          connection.Close();
          int num = (int) MessageBox.Show("New Renter Added");
          this.CName.Clear();
          this.CNIC.Clear();
          this.Phone.Clear();
          this.DataRecordBind("Select * from Customer");
        }
        catch (Exception ex)
        {
          int num = (int) MessageBox.Show(ex.Message);
        }
      }
    }

    private void DataRecordBind(string strSQL)
    {
      this.dataGridView1.DataSource = (object) null;
      this.dataTable.Clear();
      OleDbConnection selectConnection = new OleDbConnection(this.connectionString);
      selectConnection.Open();
      selectConnection.CreateCommand().CommandText = strSQL;
      try
      {
        this.da = new OleDbDataAdapter(strSQL, selectConnection);
        this.oleCommandBuilder = new OleDbCommandBuilder(this.da);
        this.da.Fill(this.dataTable);
        this.bindingSource = new BindingSource()
        {
          DataSource = (object) this.dataTable
        };
        this.dataGridView1.DataSource = (object) this.bindingSource;
      }
      catch (Exception ex)
      {
        int num = (int) MessageBox.Show(ex.ToString(), "Error", MessageBoxButtons.OK, MessageBoxIcon.Hand);
      }
      selectConnection.Close();
    }

    private void button1_Click(object sender, EventArgs e)
    {
      if (MessageBox.Show("Update Renter?", "Warning", MessageBoxButtons.YesNo) != DialogResult.Yes)
        return;
      this.dataGridView1.EndEdit();
      this.da.Update(this.dataTable);
      int num = (int) MessageBox.Show("Renter Record Updated");
      this.DataRecordBind("Select * from Customer");
    }

    private void Form2_Load(object sender, EventArgs e) => this.DataRecordBind("Select * from Customer");

    private void label1_Click(object sender, EventArgs e)
    {
    }

    private void Phone_TextChanged(object sender, EventArgs e)
    {
    }

    private void CName_TextChanged(object sender, EventArgs e) => this.DataRecordBind("Select * from Customer where CustomerName like '" + this.CName.Text + "%'");

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.groupBox2 = new GroupBox();
      this.label1 = new Label();
      this.CNIC = new MaskedTextBox();
      this.Phone = new TextBox();
      this.label13 = new Label();
      this.button2 = new Button();
      this.CName = new TextBox();
      this.label8 = new Label();
      this.dataGridView1 = new DataGridView();
      this.button1 = new Button();
      this.printDocument1 = new PrintDocument();
      this.groupBox2.SuspendLayout();
      ((ISupportInitialize) this.dataGridView1).BeginInit();
      this.SuspendLayout();
      this.groupBox2.Controls.Add((Control) this.label1);
      this.groupBox2.Controls.Add((Control) this.CNIC);
      this.groupBox2.Controls.Add((Control) this.Phone);
      this.groupBox2.Controls.Add((Control) this.label13);
      this.groupBox2.Controls.Add((Control) this.button2);
      this.groupBox2.Controls.Add((Control) this.CName);
      this.groupBox2.Controls.Add((Control) this.label8);
      this.groupBox2.Location = new Point(22, 12);
      this.groupBox2.Name = "groupBox2";
      this.groupBox2.Size = new Size(1055, 143);
      this.groupBox2.TabIndex = 8;
      this.groupBox2.TabStop = false;
      this.groupBox2.Text = "Renter";
      this.label1.AutoSize = true;
      this.label1.Font = new Font("Microsoft Sans Serif", 9.75f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.label1.Location = new Point(30, 106);
      this.label1.Name = "label1";
      this.label1.Size = new Size(47, 16);
      this.label1.TabIndex = 27;
      this.label1.Text = "Phone";
      this.label1.Click += new EventHandler(this.label1_Click);
      this.CNIC.Font = new Font("Microsoft Sans Serif", 9.75f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.CNIC.Location = new Point(112, 61);
      this.CNIC.Mask = "#####-#######-#";
      this.CNIC.Name = "CNIC";
      this.CNIC.Size = new Size(256, 22);
      this.CNIC.TabIndex = 1;
      this.Phone.Font = new Font("Microsoft Sans Serif", 12f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.Phone.Location = new Point(112, 100);
      this.Phone.MaxLength = 12;
      this.Phone.Name = "Phone";
      this.Phone.Size = new Size(208, 26);
      this.Phone.TabIndex = 3;
      this.Phone.Text = "000";
      this.Phone.TextChanged += new EventHandler(this.Phone_TextChanged);
      this.label13.AutoSize = true;
      this.label13.Font = new Font("Microsoft Sans Serif", 9.75f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.label13.Location = new Point(30, 65);
      this.label13.Name = "label13";
      this.label13.Size = new Size(39, 16);
      this.label13.TabIndex = 22;
      this.label13.Text = "CNIC";
      this.button2.Font = new Font("Microsoft Sans Serif", 9.75f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.button2.Location = new Point(832, 98);
      this.button2.Name = "button2";
      this.button2.Size = new Size(217, 33);
      this.button2.TabIndex = 5;
      this.button2.Text = "Add Customer Info";
      this.button2.UseVisualStyleBackColor = true;
      this.button2.Click += new EventHandler(this.button2_Click);
      this.CName.Font = new Font("Microsoft Sans Serif", 12f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.CName.Location = new Point(112, 24);
      this.CName.MaxLength = 10000;
      this.CName.Name = "CName";
      this.CName.Size = new Size(625, 26);
      this.CName.TabIndex = 0;
      this.CName.TextChanged += new EventHandler(this.CName_TextChanged);
      this.label8.AutoSize = true;
      this.label8.Font = new Font("Microsoft Sans Serif", 9.75f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.label8.Location = new Point(30, 29);
      this.label8.Name = "label8";
      this.label8.Size = new Size(45, 16);
      this.label8.TabIndex = 15;
      this.label8.Text = "Name";
      this.dataGridView1.AutoSizeColumnsMode = DataGridViewAutoSizeColumnsMode.Fill;
      this.dataGridView1.AutoSizeRowsMode = DataGridViewAutoSizeRowsMode.AllCells;
      this.dataGridView1.ColumnHeadersHeightSizeMode = DataGridViewColumnHeadersHeightSizeMode.AutoSize;
      this.dataGridView1.Location = new Point(22, 161);
      this.dataGridView1.Name = "dataGridView1";
      this.dataGridView1.Size = new Size(1055, 409);
      this.dataGridView1.TabIndex = 9;
      this.button1.Font = new Font("Microsoft Sans Serif", 9.75f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.button1.Location = new Point(861, 591);
      this.button1.Name = "button1";
      this.button1.Size = new Size(217, 33);
      this.button1.TabIndex = 10;
      this.button1.Text = "Update Renter Info";
      this.button1.UseVisualStyleBackColor = true;
      this.button1.Click += new EventHandler(this.button1_Click);
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(1090, 636);
      this.Controls.Add((Control) this.button1);
      this.Controls.Add((Control) this.dataGridView1);
      this.Controls.Add((Control) this.groupBox2);
      this.Name = nameof (Form2);
      this.Text = "Renter Info";
      this.Load += new EventHandler(this.Form2_Load);
      this.groupBox2.ResumeLayout(false);
      this.groupBox2.PerformLayout();
      ((ISupportInitialize) this.dataGridView1).EndInit();
      this.ResumeLayout(false);
    }
  }
}
