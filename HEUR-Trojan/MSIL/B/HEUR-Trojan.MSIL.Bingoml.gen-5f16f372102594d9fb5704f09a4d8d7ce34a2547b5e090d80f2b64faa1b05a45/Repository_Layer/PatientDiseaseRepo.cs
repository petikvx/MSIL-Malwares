// Decompiled with JetBrains decompiler
// Type: HospitalMgmtSys.Repository_Layer.PatientDiseaseRepo
// Assembly: HospitalMgmtSys, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: C7566877-C1AA-4E10-A05D-DB3E9254F927
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Bingoml.gen-5f16f372102594d9fb5704f09a4d8d7ce34a2547b5e090d80f2b64faa1b05a45.exe

using HospitalMgmtSys.Data_Layer;
using System;
using System.Collections.Generic;
using System.Data;
using System.Windows.Forms;

namespace HospitalMgmtSys.Repository_Layer
{
  public class PatientDiseaseRepo
  {
    public static int DeleteInfoBasedOnDoctor(int doctorID) => DataAccess.ExecuteQuery(string.Format("DELETE FROM patientdisease WHERE doctorid = '" + (object) doctorID + "'; "));

    public static void InsertPresonDisease(
      List<string> diseaseList,
      List<string> medicineList,
      int personid,
      int doctorid)
    {
      try
      {
        int index1 = 0;
        for (int index2 = 0; index1 < diseaseList.Count || index2 < medicineList.Count; ++index2)
        {
          string str1 = index1 < diseaseList.Count ? diseaseList[index1] : "";
          string str2 = index2 < medicineList.Count ? medicineList[index2] : "";
          DataAccess.ExecuteQuery("insert into patientdisease values(" + (object) personid + ",'" + str1 + "','" + str2 + "'," + (object) doctorid + ");");
          DataAccess.ExecuteQuery("update appointment set complete=1 where personid=" + (object) personid + ";");
          ++index1;
        }
        int num = (int) MessageBox.Show("Saved SuccessFully");
      }
      catch (Exception ex)
      {
        int num = (int) MessageBox.Show(ex.Message);
      }
    }

    public static DataTable GetIndividualMedicine(int personid) => DataAccess.GetDataTable("select medicinename from patientdisease where personid=" + (object) personid + ";");

    public static DataTable GetIndividualDisease(int personid) => DataAccess.GetDataTable("select diseasename from patientdisease where personid=" + (object) personid + ";");

    public static void DeletePatientDisease(int personid) => DataAccess.ExecuteQuery("delete from patientdisease where personid=" + (object) personid + ";");
  }
}
