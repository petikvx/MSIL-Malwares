// Decompiled with JetBrains decompiler
// Type: mmxAH.SkillTestInfos
// Assembly: IAsyncLocalValue, Version=1.0.2.2, Culture=neutral, PublicKeyToken=null
// MVID: 5C4F3FBF-C751-4B18-BBEA-B1DDBC6F76B9
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\Trojan-Spy.Win32.Noon.bcqk-374874898c5386561d60c3fae0482d1caee783f1096dda6742b1c073175a0a14.exe

namespace mmxAH
{
  public class SkillTestInfos
  {
    private SkillTestInfoEntry[] infos;
    private short mpmodif;

    public SkillTestInfos()
    {
      this.infos = new SkillTestInfoEntry[10];
      for (int index = 0; index < this.infos.Length; ++index)
      {
        this.infos[index] = new SkillTestInfoEntry();
        this.infos[index].CharModif = (short) 0;
        this.infos[index].SCmodif = (short) 0;
        this.infos[index].ClueDiceRathio = (byte) 1;
        this.infos[index].isReroll = false;
      }
      this.mpmodif = (short) 0;
    }

    public SkillTestInfoEntry GetInfo(SkillTestType t) => this.infos[(int) t];

    public string PrintInfo(SkillTestType t, SystemStrings strs)
    {
      SkillTestInfoEntry info = this.infos[(int) t];
      string str1 = "";
      if (info.CharModif != (short) 0)
      {
        if (info.CharModif > (short) 0)
          str1 += "+";
        str1 += info.CharModif.ToString();
      }
      if (info.SCmodif != (short) 0)
      {
        if (str1 != "")
          str1 += ", ";
        if (info.SCmodif > (short) 0)
          str1 += "+";
        str1 = str1 + info.SCmodif.ToString() + " " + strs.GetString(SSType.ToChecks) + " ";
      }
      if (info.ClueDiceRathio != (byte) 1)
      {
        if (str1 != "")
          str1 += ", ";
        str1 = str1 + strs.GetNumberClueToken((short) 1) + " = + " + info.ClueDiceRathio.ToString() + "d6";
      }
      if (info.isReroll)
      {
        if (str1 != "")
          str1 += ", ";
        str1 += strs.GetString(SSType.Reroll);
      }
      if (str1 != "")
        str1 = "\t" + strs.GetCharekteresticName(t) + " : " + str1;
      if (t == SkillTestType.Speed && this.mpmodif != (short) 0)
      {
        string str2 = str1 + "\t" + strs.GetString(SSType.MovementPoints);
        if (this.mpmodif > (short) 0)
          str2 += "+";
        str1 = str2 + this.mpmodif.ToString();
      }
      return str1;
    }

    public void ChangeMpModif(short changevalue) => this.mpmodif += changevalue;

    public short GetMPModif() => this.mpmodif;
  }
}
