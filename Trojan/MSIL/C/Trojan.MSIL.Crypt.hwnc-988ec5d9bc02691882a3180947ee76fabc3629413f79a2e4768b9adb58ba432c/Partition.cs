// Decompiled with JetBrains decompiler
// Type: Winter_Sports_Rental.Partition
// Assembly: CLRIPropertyValueImpl, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 890FDB68-4B7D-4035-A759-8056CF611D6F
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.05-msil\Trojan.MSIL.Crypt.hwnc-988ec5d9bc02691882a3180947ee76fabc3629413f79a2e4768b9adb58ba432c.exe

using System;

namespace Winter_Sports_Rental
{
  public class Partition : IPartition
  {
    private string _Name;
    private int _MemorySize;
    private Partition.State _State;
    private IJob _curJob;

    public Partition(int ID, int MemorySize)
    {
      this._Name = "Partition_" + Convert.ToString(ID);
      this._MemorySize = MemorySize;
      this._State = Partition.State.Free;
      this._curJob = (IJob) null;
    }

    public Partition.State getState()
    {
      this.checkSetState();
      return this._State;
    }

    public IJob getCurJob()
    {
      this.checkSetState();
      return this._curJob;
    }

    public void AssignJob(ref IJob Job)
    {
      this._State = Partition.State.Busy;
      this._curJob = Job;
    }

    public void ResetPartition()
    {
      this._State = Partition.State.Free;
      this._curJob = (IJob) null;
    }

    public int getMemorySize() => this._MemorySize;

    public string getName() => this._Name;

    private void checkSetState()
    {
      if (this._curJob == null)
        this._State = Partition.State.Free;
      else if (this._curJob.isComplete())
      {
        this._State = Partition.State.Free;
        this._curJob = (IJob) null;
      }
    }

    public enum State : byte
    {
      Free = 1,
      Busy = 2,
    }
  }
}
