// Decompiled with JetBrains decompiler
// Type: 5EwSaTp.ZTUhTvi
// Assembly: rIHK739, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
// MVID: DCC06416-0005-44FB-A994-2D27682899C4
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Gorgon.gen-5d65c8f014ae86140156310feb48e80c8d76bb6b8eb7eaf6f0a843d5bb38d6b4.exe

using \u0035EwSaTp;
using BwmLLFL;
using Ek7S0Nv;
using mu7vwcH;
using R94PbgT;
using System;

namespace \u0035EwSaTp
{
  public class ZTUhTvi : U3kQ1UH
  {
    public static readonly TimeSpan \u003822mh2B = TimeSpan.FromSeconds(10.0);
    public static readonly TimeSpan xBUeM8X = TimeSpan.FromSeconds(30.0);
    public static readonly TimeSpan YxpOnj8 = TimeSpan.FromSeconds(1.0);
    private readonly TimeSpan \u0031SjlqP6;
    private readonly TimeSpan ia0v5XA;
    private readonly TimeSpan Ce5MXXl;
    private readonly int diDcuxs;

    public ZTUhTvi()
      : this(U3kQ1UH.Q7lEaDd, ZTUhTvi.YxpOnj8, ZTUhTvi.xBUeM8X, ZTUhTvi.\u003822mh2B)
    {
    }

    public ZTUhTvi(
      int retryCount,
      TimeSpan minBackoff,
      TimeSpan maxBackoff,
      TimeSpan deltaBackoff)
      : this((string) null, retryCount, minBackoff, maxBackoff, deltaBackoff, U3kQ1UH.\u0036kRgj3p)
    {
    }

    public ZTUhTvi(
      string name,
      int retryCount,
      TimeSpan minBackoff,
      TimeSpan maxBackoff,
      TimeSpan deltaBackoff)
      : this(name, retryCount, minBackoff, maxBackoff, deltaBackoff, U3kQ1UH.\u0036kRgj3p)
    {
    }

    public ZTUhTvi(
      string name,
      int retryCount,
      TimeSpan minBackoff,
      TimeSpan maxBackoff,
      TimeSpan deltaBackoff,
      bool firstFastRetry)
      : base(name, firstFastRetry)
    {
      h0TO3hZ.\u0039EXdbA7(retryCount, nameof (retryCount));
      h0TO3hZ.UcwulQV(minBackoff.Ticks, nameof (minBackoff));
      h0TO3hZ.UcwulQV(maxBackoff.Ticks, nameof (maxBackoff));
      h0TO3hZ.UcwulQV(deltaBackoff.Ticks, nameof (deltaBackoff));
      h0TO3hZ.fkHgLMf(minBackoff.TotalMilliseconds, maxBackoff.TotalMilliseconds, nameof (minBackoff));
      this.diDcuxs = retryCount;
      this.Ce5MXXl = minBackoff;
      this.ia0v5XA = maxBackoff;
      this.\u0031SjlqP6 = deltaBackoff;
    }

    public virtual Mn6ny2c a1wojRS() => (Mn6ny2c) ((nrhs91v, _param2) =>
    {
      if (nrhs91v >= this.diDcuxs)
        return new HB7SI8t(false, TimeSpan.Zero);
      Random random1 = new Random();
      double num1 = Math.Pow(2.0, (double) nrhs91v) - 1.0;
      Random random2 = random1;
      TimeSpan timeSpan = this.\u0031SjlqP6;
      int minValue = (int) (timeSpan.TotalMilliseconds * 0.8);
      timeSpan = this.\u0031SjlqP6;
      int maxValue = (int) (timeSpan.TotalMilliseconds * 1.2);
      double num2 = (double) random2.Next(minValue, maxValue);
      double num3 = num1 * num2;
      timeSpan = this.Ce5MXXl;
      double val1 = timeSpan.TotalMilliseconds + num3;
      timeSpan = this.ia0v5XA;
      double totalMilliseconds = timeSpan.TotalMilliseconds;
      return new HB7SI8t(true, TimeSpan.FromMilliseconds((double) (int) Math.Min(val1, totalMilliseconds)));
    });
  }
}
