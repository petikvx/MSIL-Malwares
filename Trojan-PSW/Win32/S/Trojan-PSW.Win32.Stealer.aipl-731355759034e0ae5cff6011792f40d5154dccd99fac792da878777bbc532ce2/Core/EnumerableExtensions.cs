// Decompiled with JetBrains decompiler
// Type: Core.EnumerableExtensions
// Assembly: AnsiCharMarsha, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 45449883-CB33-464D-BFFF-85C1D8F95247
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\Trojan-PSW.Win32.Stealer.aipl-731355759034e0ae5cff6011792f40d5154dccd99fac792da878777bbc532ce2.exe

using System;
using System.Collections.Generic;
using System.Linq;

namespace Core
{
  public static class EnumerableExtensions
  {
    public static IEnumerable<TSource> DistinctBy<TSource, TSelection>(
      this IEnumerable<TSource> source,
      Func<TSource, TSelection> selector)
    {
      return source.Distinct<TSource>((IEqualityComparer<TSource>) new EnumerableExtensions.SelectorEqualityComparer<TSource, TSelection>(selector));
    }

    private class SelectorEqualityComparer<TSource, TSelection> : IEqualityComparer<TSource>
    {
      public Func<TSource, TSelection> _selector;

      public SelectorEqualityComparer(Func<TSource, TSelection> selector) => this._selector = selector;

      public bool Equals(TSource x, TSource y) => object.Equals((object) this._selector(x), (object) this._selector(y));

      public int GetHashCode(TSource obj) => this._selector(obj).GetHashCode();
    }
  }
}
