// Decompiled with JetBrains decompiler
// Type: AjScript.Compiler.BaseVisitorProcessor`1
// Assembly: CryptoAPITransf, Version=1.4.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 3C6B9EE6-9C07-49E4-80B0-30EE0F446F3E
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.05\HEUR-Trojan-Ransom.Win32.Convagent.gen-2c751eac7d8b2b4131c0622a8b5234b05661d29d6f5d49745e4bea13c6c01648.exe

using System;
using System.Collections.Generic;

namespace AjScript.Compiler
{
  public class BaseVisitorProcessor<C> : IVisitorProcessor<C> where C : IVisitorContext
  {
    private IDictionary<Type, IVisitor<C>> visitors = (IDictionary<Type, IVisitor<C>>) new Dictionary<Type, IVisitor<C>>();

    public void RegisterVisitor(Type type, IVisitor<C> visitor) => this.visitors[type] = visitor;

    public void RegisterVisitor<T>(IVisitor<T, C> visitor) => this.visitors[typeof (T)] = (IVisitor<C>) visitor;

    public void Process(C context, object element) => this.visitors[element.GetType()].Process((IVisitorProcessor<C>) this, context, element);
  }
}
