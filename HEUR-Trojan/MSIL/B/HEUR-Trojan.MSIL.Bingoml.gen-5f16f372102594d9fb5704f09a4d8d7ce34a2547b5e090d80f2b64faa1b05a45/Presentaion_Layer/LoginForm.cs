// Decompiled with JetBrains decompiler
// Type: HospitalMgmtSys.Presentaion_Layer.LoginForm
// Assembly: HospitalMgmtSys, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: C7566877-C1AA-4E10-A05D-DB3E9254F927
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Bingoml.gen-5f16f372102594d9fb5704f09a4d8d7ce34a2547b5e090d80f2b64faa1b05a45.exe

using HospitalMgmtSys.Data_Layer;
using HospitalMgmtSys.Properties;
using HospitalMgmtSys.Repository_Layer;
using System;
using System.ComponentModel;
using System.Data.SqlClient;
using System.Drawing;
using System.Windows.Forms;

namespace HospitalMgmtSys.Presentaion_Layer
{
  public class LoginForm : Form
  {
    private static LoginForm loginForm = (LoginForm) null;
    private SqlConnection sqlConnection;
    private Timer timer = new Timer();
    private IContainer components = (IContainer) null;
    private Panel panelLoginMain;
    private Button btnLogin;
    private TextBox txtPassword;
    private TextBox txtUsername;
    private Label lblPassword;
    private Label lblUsername;
    private Panel panel1;
    private Label lblClock;
    private Label lblDate;

    private LoginForm() => this.InitializeComponent();

    public static LoginForm GetLoginForm()
    {
      if (LoginForm.loginForm == null)
        LoginForm.loginForm = new LoginForm();
      return LoginForm.loginForm;
    }

    private void btnLogin_Click(object sender, EventArgs e)
    {
      this.sqlConnection = DataAccess.Sqlcon;
      if (!LoginVerification.VerifyLogin(this.txtUsername.Text, this.txtPassword.Text))
        return;
      string designation = UserLoginInfo.Designation;
      if (!(designation == "Manager"))
      {
        if (!(designation == "Doctor"))
        {
          if (designation == "Receptionist")
          {
            this.txtUsername.Text = string.Empty;
            this.txtPassword.Text = string.Empty;
            this.Visible = false;
            new ReceptionistForm().Visible = true;
          }
        }
        else
        {
          this.txtUsername.Text = string.Empty;
          this.txtPassword.Text = string.Empty;
          this.Visible = false;
          new DoctorForm().Visible = true;
        }
      }
      else
      {
        this.txtUsername.Text = string.Empty;
        this.txtPassword.Text = string.Empty;
        this.Visible = false;
        new ManagerForm().Visible = true;
      }
    }

    private void LoginForm_Load(object sender, EventArgs e)
    {
      this.txtUsername.Focus();
      this.SetUpButton();
      this.timer.Interval = 1000;
      this.timer.Tick += new EventHandler(this.timer1_Tick);
      this.timer.Start();
    }

    private void timer1_Tick(object sender, EventArgs e)
    {
      string str1 = DateTime.Now.ToString("HH:mm:ss");
      string str2 = DateTime.Now.ToString("dd:MM:yyyy");
      this.lblClock.Text = str1;
      this.lblDate.Text = str2;
    }

    private void SetUpButton()
    {
      this.btnLogin.FlatStyle = FlatStyle.Flat;
      this.btnLogin.FlatAppearance.BorderSize = 0;
      this.btnLogin.FlatAppearance.BorderColor = Color.FromArgb(0, (int) byte.MaxValue, (int) byte.MaxValue, (int) byte.MaxValue);
    }

    private void LoginForm_VisibleChanged(object sender, EventArgs e) => this.txtUsername.Focus();

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (LoginForm));
      this.panelLoginMain = new Panel();
      this.lblDate = new Label();
      this.lblClock = new Label();
      this.panel1 = new Panel();
      this.btnLogin = new Button();
      this.txtPassword = new TextBox();
      this.txtUsername = new TextBox();
      this.lblPassword = new Label();
      this.lblUsername = new Label();
      this.panelLoginMain.SuspendLayout();
      this.panel1.SuspendLayout();
      this.SuspendLayout();
      this.panelLoginMain.BackColor = Color.White;
      this.panelLoginMain.BackgroundImage = (Image) Resources.LoginPic;
      this.panelLoginMain.Controls.Add((Control) this.lblDate);
      this.panelLoginMain.Controls.Add((Control) this.lblClock);
      this.panelLoginMain.Controls.Add((Control) this.panel1);
      this.panelLoginMain.Dock = DockStyle.Fill;
      this.panelLoginMain.Location = new Point(0, 0);
      this.panelLoginMain.Name = "panelLoginMain";
      this.panelLoginMain.Size = new Size(1262, 673);
      this.panelLoginMain.TabIndex = 0;
      this.lblDate.AutoSize = true;
      this.lblDate.BackColor = Color.FromArgb(0, 88, 172, 250);
      this.lblDate.Font = new Font("Monotype Corsiva", 16.2f, FontStyle.Italic, GraphicsUnit.Point, (byte) 0);
      this.lblDate.Location = new Point(1086, 67);
      this.lblDate.Name = "lblDate";
      this.lblDate.Size = new Size(0, 34);
      this.lblDate.TabIndex = 6;
      this.lblClock.AutoSize = true;
      this.lblClock.BackColor = Color.FromArgb(0, 88, 172, 250);
      this.lblClock.Font = new Font("Monotype Corsiva", 16.2f, FontStyle.Italic, GraphicsUnit.Point, (byte) 0);
      this.lblClock.Location = new Point(1086, 22);
      this.lblClock.Name = "lblClock";
      this.lblClock.Size = new Size(0, 34);
      this.lblClock.TabIndex = 6;
      this.panel1.BackColor = Color.FromArgb(100, 88, 172, 250);
      this.panel1.Controls.Add((Control) this.btnLogin);
      this.panel1.Controls.Add((Control) this.txtPassword);
      this.panel1.Controls.Add((Control) this.txtUsername);
      this.panel1.Controls.Add((Control) this.lblPassword);
      this.panel1.Controls.Add((Control) this.lblUsername);
      this.panel1.Location = new Point(434, 113);
      this.panel1.Name = "panel1";
      this.panel1.Size = new Size(438, 421);
      this.panel1.TabIndex = 5;
      this.btnLogin.BackColor = Color.FromArgb(169, 208, 245);
      this.btnLogin.FlatStyle = FlatStyle.Flat;
      this.btnLogin.Font = new Font("Times New Roman", 13.8f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.btnLogin.Location = new Point(143, 216);
      this.btnLogin.Name = "btnLogin";
      this.btnLogin.Size = new Size(103, 47);
      this.btnLogin.TabIndex = 3;
      this.btnLogin.Text = "Login";
      this.btnLogin.UseVisualStyleBackColor = false;
      this.btnLogin.Click += new EventHandler(this.btnLogin_Click);
      this.txtPassword.BackColor = Color.FromArgb(169, 208, 245);
      this.txtPassword.Font = new Font("Times New Roman", 13.8f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.txtPassword.Location = new Point(152, 128);
      this.txtPassword.Name = "txtPassword";
      this.txtPassword.PasswordChar = '*';
      this.txtPassword.Size = new Size(249, 34);
      this.txtPassword.TabIndex = 2;
      this.txtUsername.BackColor = Color.FromArgb(169, 208, 245);
      this.txtUsername.Font = new Font("Times New Roman", 13.8f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.txtUsername.Location = new Point(152, 65);
      this.txtUsername.Name = "txtUsername";
      this.txtUsername.Size = new Size(249, 34);
      this.txtUsername.TabIndex = 1;
      this.lblPassword.AutoSize = true;
      this.lblPassword.BackColor = Color.FromArgb(0, 88, 172, 250);
      this.lblPassword.Font = new Font("Times New Roman", 13.8f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.lblPassword.Location = new Point(18, 136);
      this.lblPassword.Name = "lblPassword";
      this.lblPassword.Size = new Size(110, 26);
      this.lblPassword.TabIndex = 0;
      this.lblPassword.Text = "Password";
      this.lblUsername.AutoSize = true;
      this.lblUsername.BackColor = Color.FromArgb(0, 88, 172, 250);
      this.lblUsername.Font = new Font("Times New Roman", 13.8f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.lblUsername.Location = new Point(18, 73);
      this.lblUsername.Name = "lblUsername";
      this.lblUsername.Size = new Size(115, 26);
      this.lblUsername.TabIndex = 0;
      this.lblUsername.Text = "Username";
      this.AutoScaleDimensions = new SizeF(8f, 16f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(1262, 673);
      this.Controls.Add((Control) this.panelLoginMain);
      this.FormBorderStyle = FormBorderStyle.FixedSingle;
      this.Icon = (Icon) componentResourceManager.GetObject("$this.Icon");
      this.MaximizeBox = false;
      this.MaximumSize = new Size(1280, 720);
      this.MinimumSize = new Size(1280, 720);
      this.Name = nameof (LoginForm);
      this.StartPosition = FormStartPosition.CenterScreen;
      this.Text = "Login";
      this.Load += new EventHandler(this.LoginForm_Load);
      this.VisibleChanged += new EventHandler(this.LoginForm_VisibleChanged);
      this.panelLoginMain.ResumeLayout(false);
      this.panelLoginMain.PerformLayout();
      this.panel1.ResumeLayout(false);
      this.panel1.PerformLayout();
      this.ResumeLayout(false);
    }
  }
}
