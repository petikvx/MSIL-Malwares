// Decompiled with JetBrains decompiler
// Type: s895988393875566.s823238258772928
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using System;
using System.IO;
using System.Runtime.InteropServices;

namespace s895988393875566
{
  internal sealed class s823238258772928 : IDisposable
  {
    private int s906708165107232;
    private int s694208847753053;
    private byte[] s443472855444531;
    private unsafe byte* s360483687898657;
    private GCHandle s059910903776355;
    private Stream s638347033894866;

    public s823238258772928(Stream stream, int buffSize = 512)
    {
      this.s638347033894866 = stream;
      this.s913908160468436(buffSize);
    }

    public unsafe byte* s271180648206790(int s521271407428280, int s830837124261026)
    {
      if (s830837124261026 > this.s443472855444531.Length)
        this.s913908160468436(s830837124261026);
      if (this.s906708165107232 > s521271407428280 || s521271407428280 + s830837124261026 > this.s906708165107232 + this.s694208847753053)
      {
        this.s906708165107232 = s521271407428280;
        this.s638347033894866.Seek((long) this.s906708165107232, SeekOrigin.Begin);
        int num;
        for (this.s694208847753053 = 0; this.s694208847753053 < this.s443472855444531.Length; this.s694208847753053 += num)
        {
          num = this.s638347033894866.Read(this.s443472855444531, this.s694208847753053, s830837124261026 - this.s694208847753053);
          if (num == 0)
            break;
        }
      }
      return this.s360483687898657 + (s521271407428280 - this.s906708165107232);
    }

    public int s150407265099538 => this.s694208847753053;

    public void s695544131832071()
    {
      GC.SuppressFinalize((object) this);
      this.s059910903776355.Free();
    }

    ~s823238258772928() => this.s294818440313794();

    private void s294818440313794()
    {
      try
      {
        if (!this.s059910903776355.IsAllocated)
          return;
        this.s059910903776355.Free();
      }
      catch (Exception ex)
      {
      }
    }

    private unsafe void s913908160468436(int s767820973630512)
    {
      this.s294818440313794();
      this.s443472855444531 = new byte[s767820973630512];
      fixed (byte* numPtr = this.s443472855444531)
        this.s360483687898657 = numPtr;
      this.s694208847753053 = 0;
      this.s059910903776355 = GCHandle.Alloc((object) this.s443472855444531, GCHandleType.Pinned);
    }
  }
}
