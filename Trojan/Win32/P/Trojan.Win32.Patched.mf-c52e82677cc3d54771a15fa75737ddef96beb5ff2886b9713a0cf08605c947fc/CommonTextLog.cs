// Decompiled with JetBrains decompiler
// Type: activation.CommonTextLog
// Assembly: Activation, Version=1.0.0.10170, Culture=neutral, PublicKeyToken=null
// MVID: 2DB4F8B3-8DF5-4A65-8363-C3E1D25DD750
// Assembly location: C:\Users\Administrateur\Desktop\Virusshare-00005-msil\Trojan.Win32.Patched.mf-c52e82677cc3d54771a15fa75737ddef96beb5ff2886b9713a0cf08605c947fc.exe

using System;
using System.IO;
using System.Text;

namespace activation
{
  internal class CommonTextLog
  {
    private static readonly string programDataPath = "C:\\";

    public void AddTextLog(string errMsg)
    {
      string str = "test4registerunit";
      StringBuilder stringBuilder = new StringBuilder(CommonTextLog.programDataPath);
      stringBuilder.AppendFormat("\\{0}.log", (object) str);
      try
      {
        FileStream fileStream = new FileStream(stringBuilder.ToString(), FileMode.OpenOrCreate);
        if (null == fileStream)
          return;
        fileStream.Position = fileStream.Length;
        StreamWriter streamWriter = new StreamWriter((Stream) fileStream);
        streamWriter.Write(DateTime.Now.ToString() + ": " + errMsg + Environment.NewLine);
        streamWriter.Flush();
        streamWriter.Close();
        fileStream.Close();
      }
      catch
      {
      }
    }
  }
}
