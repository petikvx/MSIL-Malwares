// Decompiled with JetBrains decompiler
// Type: SpectraCyber.cDatabaseQueue
// Assembly: STAThreadAttrib, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 6EE3DE1A-E148-4FBA-A193-65BEA1824C00
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan-PSW.MSIL.Stealer.gen-f6a784c2aa30ddaf03919958455d18bf51533a475c21a73eff578df0174cc5d4.exe

using System.Collections.Generic;
using System.Threading;

namespace SpectraCyber
{
  internal class cDatabaseQueue : List<cDatabaseItem>
  {
    private Semaphore msemaNotProcessed;

    public cDatabaseQueue() => this.msemaNotProcessed = new Semaphore(0, int.MaxValue);

    public new void Add(cDatabaseItem pItem)
    {
      base.Add(pItem);
      this.msemaNotProcessed.Release();
    }

    public cDatabaseItem GetFirstItem()
    {
      this.msemaNotProcessed.WaitOne();
      cDatabaseItem firstItem = this[0];
      this.Remove(firstItem);
      return firstItem;
    }
  }
}
