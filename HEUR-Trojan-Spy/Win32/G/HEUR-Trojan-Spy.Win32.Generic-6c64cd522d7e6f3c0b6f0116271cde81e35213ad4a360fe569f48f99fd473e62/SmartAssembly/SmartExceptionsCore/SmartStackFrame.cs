// Decompiled with JetBrains decompiler
// Type: SmartAssembly.SmartExceptionsCore.SmartStackFrame
// Assembly: qouzb, Version=0.0.0.0, Culture=neutral, PublicKeyToken=34256fcd934ca661
// MVID: 528C9DDA-94F5-4688-B6FB-056FFA07C362
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan-Spy.Win32.Generic-6c64cd522d7e6f3c0b6f0116271cde81e35213ad4a360fe569f48f99fd473e62.exe

using System;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Runtime.Serialization;
using System.Security;

namespace SmartAssembly.SmartExceptionsCore
{
  [Serializable]
  public class SmartStackFrame : ISerializable
  {
    public readonly int MethodID;
    public readonly object[] Objects;
    public readonly int ILOffset;
    public readonly int ExceptionStackDepth;

    [SecurityCritical]
    [MethodImpl(MethodImplOptions.NoInlining)]
    public virtual void GetObjectData([In] SerializationInfo obj0, [In] StreamingContext obj1)
    {
      int num1 = 5;
      while (true)
      {
        int num2 = num1;
        while (true)
        {
          switch (num2)
          {
            case 0:
            case 5:
              obj0.AddValue("UnhandledException.MethodID", (object) this.MethodID, typeof (int));
              if (true)
              {
                num2 = 6;
                continue;
              }
              goto label_9;
            case 1:
              goto label_9;
            case 2:
            case 3:
              goto label_2;
            case 4:
              goto label_6;
            case 6:
              goto label_1;
            case 7:
              goto label_15;
            default:
              goto label_5;
          }
        }
label_1:
        obj0.AddValue("UnhandledException.ILOffset", (object) this.ILOffset, typeof (int));
        obj0.AddValue("UnhandledException.ExceptionStackDepth", (object) this.ExceptionStackDepth, typeof (int));
        num1 = 3;
        continue;
label_2:
        int num3 = this.Objects == null ? 0 : this.Objects.Length;
        obj0.AddValue("UnhandledException.Objects.Length", (object) num3, typeof (int));
        goto label_6;
label_5:
        num1 = 4;
        continue;
label_6:
        int index = 0;
        goto label_18;
label_9:
        string name;
        try
        {
          if (this.Objects[index] == null)
          {
            int num4 = 2;
            while (true)
            {
              switch (num4)
              {
                case 0:
                case 2:
                  goto label_11;
                case 1:
                case 3:
                  goto label_17;
                default:
                  if (true)
                  {
                    num4 = 3;
                    continue;
                  }
                  goto label_17;
              }
            }
label_11:
            obj0.AddValue(name, (object) null, typeof (object));
          }
          else
            obj0.AddValue(name, (object) (this.Objects[index].GetType().ToString() + " - " + this.Objects[index]), typeof (string));
        }
        catch (Exception ex)
        {
        }
label_17:
        ++index;
label_18:
        if (index < num3)
        {
          name = string.Format("UnhandledException.Objects[{0}]", (object) index);
          num1 = 1;
        }
        else
          num1 = 7;
      }
label_15:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal SmartStackFrame([In] SerializationInfo obj0, [In] StreamingContext obj1)
    {
      int num1 = 5;
      if (true)
        goto label_9;
label_1:
      int index;
      int int32;
      int num2;
      if (index >= int32)
      {
        num2 = 7;
        goto label_8;
      }
      else
      {
        try
        {
          this.Objects[index] = obj0.GetValue(string.Format("UnhandledException.Objects[{0}]", (object) index), typeof (string));
        }
        catch (Exception ex)
        {
          this.Objects[index] = (object) "Could not deserialize the obect";
        }
        ++index;
        if (!SmartStackFrame.ingWWy5Qyb1KQO3GlLt())
        {
          num1 = 2;
          goto label_9;
        }
        else
          goto label_7;
      }
label_3:
      index = 0;
      goto label_1;
label_7:
      this.ExceptionStackDepth = obj0.GetInt32("UnhandledException.ExceptionStackDepth");
      int32 = obj0.GetInt32("UnhandledException.Objects.Length");
      this.Objects = new object[int32];
      goto label_3;
label_8:
      num1 = num2;
label_9:
      while (true)
      {
        switch (num1)
        {
          case 0:
          case 5:
            goto label_13;
          case 1:
            goto label_3;
          case 2:
          case 4:
            goto label_1;
          case 3:
            goto label_12;
          case 6:
            goto label_7;
          case 7:
            goto label_11;
          default:
            int num3 = 1;
            num1 = SmartStackFrame.ingWWy5Qyb1KQO3GlLt() ? num3 : num3;
            continue;
        }
      }
label_11:
      return;
label_12:
      this.MethodID = obj0.GetInt32("UnhandledException.MethodID");
      this.ILOffset = obj0.GetInt32("UnhandledException.ILOffset");
      num2 = 6;
      goto label_8;
label_13:
      // ISSUE: explicit constructor call
      base.\u002Ector();
      num2 = 3;
      goto label_8;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal SmartStackFrame([In] int obj0, [In] object[] obj1, [In] int obj2, [In] int obj3)
    {
      int num1 = 3;
      while (true)
      {
        int num2;
        switch (num1)
        {
          case 0:
          case 3:
            // ISSUE: explicit constructor call
            base.\u002Ector();
            if (SmartStackFrame.TkAhAi5yIheFicHJ1up())
            {
              num1 = 4;
              continue;
            }
            goto case 5;
          case 1:
          case 4:
            this.MethodID = obj0;
            num2 = 2;
            break;
          case 2:
            this.ExceptionStackDepth = obj3;
            goto case 5;
          case 5:
            this.ILOffset = obj2;
            this.Objects = obj1;
            num2 = 6;
            break;
          case 6:
            goto label_9;
          default:
            num1 = 5;
            continue;
        }
        num1 = num2;
      }
label_9:;
    }

    internal static bool TkAhAi5yIheFicHJ1up() => true;

    internal static bool ingWWy5Qyb1KQO3GlLt() => false;
  }
}
