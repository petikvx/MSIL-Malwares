// Decompiled with JetBrains decompiler
// Type: s959478525374724.s169903726244967
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Runtime.CompilerServices;

namespace s959478525374724
{
  internal class s169903726244967<T>
  {
    private Dictionary<long, s169903726244967<T>.s491224531143765> s354350547375222;
    private int s839600127088882;

    public s169903726244967(int initialSize) => this.entries = new Dictionary<long, s169903726244967<T>.s491224531143765>(initialSize);

    public void s446077949235506(
      ulong s748795600360044,
      long s503458948786674,
      T s607029360525183,
      bool s005564508958115 = false)
    {
      s169903726244967<T>.s491224531143765 entry;
      if (!this.entries.TryGetValue((long) s748795600360044, out entry))
      {
        if (s005564508958115)
          s503458948786674 = 0L;
        this.entries.Add((long) s748795600360044, new s169903726244967<T>.s491224531143765(s503458948786674, s748795600360044, s607029360525183));
      }
      else
      {
        s169903726244967<T>.s491224531143765 s491224531143765_1 = entry;
        if (s491224531143765_1.skipAhead != null && s491224531143765_1.skipAhead.startTime <= s503458948786674)
          entry = s491224531143765_1.skipAhead;
        for (; s503458948786674 != entry.s787828705752230; entry = entry.next)
        {
          if (entry.next == null)
            entry.next = new s169903726244967<T>.s491224531143765(s503458948786674, s748795600360044, s607029360525183);
          else if (s503458948786674 < entry.startTime)
          {
            s169903726244967<T>.s491224531143765 s491224531143765_2 = new s169903726244967<T>.s491224531143765(entry);
            entry.startTime = s503458948786674;
            entry.value = s607029360525183;
            entry.next = s491224531143765_2;
          }
          else
            continue;
          s491224531143765_1.skipAhead = entry.next;
          goto label_14;
        }
        entry.value = s607029360525183;
        return;
      }
label_14:
      ++this.count;
    }

    public bool s391861232521470(
      ulong s722210017358594,
      long s362566511567796,
      out T s970600313219127)
    {
      s169903726244967<T>.s491224531143765 s491224531143765_1;
      if (this.entries.TryGetValue((long) s722210017358594, out s491224531143765_1))
      {
        s169903726244967<T>.s491224531143765 s491224531143765_2 = s491224531143765_1;
        if (s491224531143765_2.skipAhead != null && s491224531143765_2.skipAhead.startTime < s362566511567796)
          s491224531143765_1 = s491224531143765_2.skipAhead;
        s169903726244967<T>.s491224531143765 s491224531143765_3 = (s169903726244967<T>.s491224531143765) null;
        while (s362566511567796 >= s491224531143765_1.startTime)
        {
          s491224531143765_3 = s491224531143765_1;
          s491224531143765_1 = s491224531143765_1.next;
          if (s491224531143765_1 == null)
            break;
        }
        if (s491224531143765_3 != null)
        {
          s970600313219127 = s491224531143765_3.value;
          s491224531143765_2.skipAhead = s491224531143765_3;
          return true;
        }
      }
      s970600313219127 = default (T);
      return false;
    }

    public IEnumerable<s169903726244967<T>.s491224531143765> s958901081306297 => (IEnumerable<s169903726244967<T>.s491224531143765>) new s169903726244967<T>.s278339033837803(-2)
    {
      \u003C\u003E4__this = this
    };

    public int s494047121010798 => this.count;

    public void s947240116830439(ulong s861150021098047)
    {
      s169903726244967<T>.s491224531143765 next;
      if (!this.entries.TryGetValue((long) s861150021098047, out next))
        return;
      for (; next != null; next = next.next)
      {
        next.skipAhead = (s169903726244967<T>.s491224531143765) null;
        --this.count;
      }
      this.entries.Remove((long) s861150021098047);
    }

    public class s491224531143765
    {
      internal long s571739450718633;
      internal T s642479669350511;
      internal s169903726244967<T>.s491224531143765 s080766701558970;
      internal s169903726244967<T>.s491224531143765 s991826688342813;
      private int s942174028275361;

      public ulong s987434423274489
      {
        [SpecialName] get => ((s169903726244967<T0>.s491224531143765) this).key;
      }

      public long s787828705752230 => this.startTime;

      public T s557395560024607 => this.value;

      internal s491224531143765(s169903726244967<T>.s491224531143765 entry)
      {
        this.key = entry.key;
        this.startTime = entry.startTime;
        this.value = entry.value;
        this.next = entry.next;
      }

      internal s491224531143765(long startTime100ns, ulong key, T value)
      {
        this.key = key;
        this.startTime = startTime100ns;
        this.value = value;
      }

      [DebuggerHidden]
      public s491224531143765(int _param1)
      {
        // ISSUE: reference to a compiler-generated field
        ((s169903726244967<T>.s278339033837803) this).\u003C\u003E1__state = _param1;
        // ISSUE: reference to a compiler-generated field
        ((s169903726244967<T>.s278339033837803) this).\u003C\u003El__initialThreadId = Environment.CurrentManagedThreadId;
      }
    }
  }
}
