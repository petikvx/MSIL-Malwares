// Decompiled with JetBrains decompiler
// Type: myApp.Getcn
// Assembly: Svchost, Version=1.0.3797.25400, Culture=neutral, PublicKeyToken=null
// MVID: E157A03A-FE69-4E7B-AD46-73B5B6218564
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00006-msil\Backdoor.MSIL.IrcBot.fy-ac791d112cad6f2a883c24cb5a554f1a826fa0afc8bb0e0be6dada5ff2c5a16d.exe

using System.Runtime.InteropServices;
using System.Text;

namespace myApp
{
  internal class Getcn
  {
    private const uint LOCALE_SYSTEM_DEFAULT = 1024;
    private const uint LOCALE_SABBREVCTRYNAME = 7;
    public static string MyCountry = "";

    [DllImport("kernel32.dll")]
    private static extern int GetLocaleInfo(
      uint Locale,
      uint LCType,
      [Out] StringBuilder lpLCData,
      int cchData);

    private static string GetInfo(uint lInfo)
    {
      StringBuilder lpLCData = new StringBuilder(256);
      int localeInfo = Getcn.GetLocaleInfo(1024U, lInfo, lpLCData, lpLCData.Capacity);
      return localeInfo > 0 ? lpLCData.ToString().Substring(0, localeInfo - 1) : string.Empty;
    }

    public static void Get() => Getcn.MyCountry = Getcn.GetInfo(7U);
  }
}
