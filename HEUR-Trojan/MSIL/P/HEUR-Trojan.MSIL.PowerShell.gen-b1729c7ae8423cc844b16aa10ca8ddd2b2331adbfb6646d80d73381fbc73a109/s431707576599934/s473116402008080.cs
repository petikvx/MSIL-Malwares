// Decompiled with JetBrains decompiler
// Type: s431707576599934.s473116402008080
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using FastSerialization;
using s108107958967019;
using s111377166353221;
using s171841645290092;
using s220824736514050;
using s272004370277110;
using s353195373616777;
using s431171512563892;
using s442252528567994;
using s573174190489126;
using s610860560643463;
using s890898970994191;
using System;
using System.Runtime.InteropServices;
using System.Text;

namespace s431707576599934
{
  internal class s473116402008080
  {
    private unsafe s134995860702422.s648877553938236* s025788590715679;

    public unsafe s473116402008080(
      PinnedStreamReader reader,
      int length,
      int fileFormatVersionNumber,
      int pointerSize,
      int processId)
    {
      this.s025788590715679 = (s134995860702422.s648877553938236*) (void*) Marshal.AllocHGlobal(sizeof (s134995860702422.s648877553938236));
      s473116402008080.s187227320753923((void*) this.s025788590715679, sizeof (s134995860702422.s648877553938236));
      if (pointerSize == 4)
        ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s957198854550732 = (ushort) 32;
      else
        ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s957198854550732 = (ushort) 64;
      ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s001274643318731 = processId;
      StreamLabel streamLabel = IStreamWriterExentions.Add(((MemoryStreamReader) reader).Current, length);
      if (3 <= fileFormatVersionNumber)
      {
        this.s356995185714136 = ((MemoryStreamReader) reader).ReadInt32();
        this.s321208722153453 = IStreamWriterExentions.ReadNullTerminatedUnicodeString((IStreamReader) reader, (StringBuilder) null);
        ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s865414040669856 = s473116402008080.s599404567257700(this.s321208722153453);
        this.s255292280396380(reader, fileFormatVersionNumber);
      }
      else
        this.s860469257990120(reader, fileFormatVersionNumber);
      if (((MemoryStreamReader) reader).Current >= streamLabel)
        return;
      this.s782438266010849 = true;
    }

    unsafe ~s473116402008080()
    {
      if ((IntPtr) this.s025788590715679 == IntPtr.Zero)
        return;
      if ((IntPtr) this.s025788590715679->s884679247404646 != IntPtr.Zero)
        Marshal.FreeHGlobal((IntPtr) (void*) this.s025788590715679->s884679247404646);
      Marshal.FreeHGlobal((IntPtr) (void*) this.s025788590715679);
      this.s025788590715679 = (s134995860702422.s648877553938236*) null;
    }

    internal unsafe s134995860702422.s648877553938236* s985892988681894(
      [s660636279470757, In] ref s958455347864096 s794021428573198)
    {
      ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s722228102271116 = (int) s794021428573198.s742954821534335;
      if (s794021428573198.s742954821534335 == s794021428573198.s863109335858573 && s794021428573198.s416671819140825 != -1)
      {
        // ISSUE: cast to a reference type
        // ISSUE: explicit reference operation
        (^(s134995860702422.s436029036576468&) ref this.s025788590715679->s785824337853710).s595311907690614 = (byte) s794021428573198.s416671819140825;
      }
      ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s473266651679490 = s794021428573198.s364664394996257;
      ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s635439134125331 = s794021428573198.s019120708691188;
      this.s025788590715679->s855605335439496 = (ushort) s794021428573198.s022296908351298;
      this.s025788590715679->s066345635431405 = s794021428573198.s923339903279947;
      int num = s794021428573198.s867793899826520;
      if (this.s849102255573632 == s040814293346438.s367897145792312 || this.s849102255573632 == s341710869261760.s847322030468754 && (140 <= this.s061420387666632 && this.s061420387666632 <= 144 || this.s061420387666632 == 190))
        num = 0;
      if (0 < num)
      {
        if ((IntPtr) this.s025788590715679->s884679247404646 == IntPtr.Zero)
          this.s025788590715679->s884679247404646 = (s134995860702422.s042871462687652*) (void*) Marshal.AllocHGlobal(sizeof (s134995860702422.s042871462687652));
        this.s025788590715679->s884679247404646->s270740346342371 = ((int) ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s957198854550732 & 32) == 0 ? (ushort) 6 : (ushort) 5;
        this.s025788590715679->s884679247404646->s711754183083976 = (ushort) (num + 8);
        this.s025788590715679->s884679247404646->s566029008717659 = (ulong) (long) (s794021428573198.s593749945654014 - 8);
        this.s025788590715679->s934424027936993 = (ushort) 1;
      }
      else
        this.s025788590715679->s934424027936993 = (ushort) 0;
      return this.s025788590715679;
    }

    public int s356995185714136 { get; private set; }

    public bool s782438266010849 { get; private set; }

    public string s321208722153453 { get; private set; }

    public string s001275083078655 { get; private set; }

    public unsafe Guid s849102255573632 => ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s865414040669856;

    public unsafe int s061420387666632 => (int) ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s301818044239639;

    public unsafe int s726064504196736 => (int) ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s000023591405563;

    public unsafe ulong s306857269636608 => ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s950345267192601;

    public unsafe int s654964351145752 => (int) ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s306420005180068;

    private unsafe void s255292280396380(PinnedStreamReader s263532581728957, int s957386181054853)
    {
      ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s301818044239639 = (ushort) ((MemoryStreamReader) s263532581728957).ReadInt32();
      this.s001275083078655 = IStreamWriterExentions.ReadNullTerminatedUnicodeString((IStreamReader) s263532581728957, (StringBuilder) null);
      if (this.s001275083078655.EndsWith("Start", StringComparison.OrdinalIgnoreCase))
        ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s611740701286585 = (byte) 1;
      else if (this.s001275083078655.EndsWith("Stop", StringComparison.OrdinalIgnoreCase))
        ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s611740701286585 = (byte) 2;
      if (this.s001275083078655 == "")
        this.s001275083078655 = (string) null;
      ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s950345267192601 = (ulong) ((MemoryStreamReader) s263532581728957).ReadInt64();
      ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s000023591405563 = (byte) ((MemoryStreamReader) s263532581728957).ReadInt32();
      ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s306420005180068 = (byte) ((MemoryStreamReader) s263532581728957).ReadInt32();
    }

    private unsafe void s860469257990120(PinnedStreamReader s597797990955788, int s647793457515212)
    {
      this.s356995185714136 = (int) ((MemoryStreamReader) s597797990955788).Current - s958455347864096.s765252452337159(s647793457515212);
      if (s647793457515212 == 1)
      {
        ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s865414040669856 = IStreamWriterExentions.ReadGuid((IStreamReader) s597797990955788);
      }
      else
      {
        this.s321208722153453 = IStreamWriterExentions.ReadNullTerminatedUnicodeString((IStreamReader) s597797990955788, (StringBuilder) null);
        ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s865414040669856 = s473116402008080.s599404567257700(this.s321208722153453);
      }
      ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s301818044239639 = (ushort) ((MemoryStreamReader) s597797990955788).ReadInt32();
      ((s134995860702422.s728170393225391*) this.s025788590715679)->s870227314561507.s000023591405563 = (byte) ((MemoryStreamReader) s597797990955788).ReadInt32();
      if (0 >= ((MemoryStreamReader) s597797990955788).ReadInt32())
        return;
      this.s255292280396380(s597797990955788, s647793457515212);
    }

    private static unsafe void s187227320753923(void* s948908990748509, int s821015854133245)
    {
      byte* numPtr = (byte*) s948908990748509;
      for (; s821015854133245 > 0; --s821015854133245)
        *numPtr++ = (byte) 0;
    }

    public static Guid s599404567257700(string s247686482410000)
    {
      if (string.IsNullOrEmpty(s247686482410000))
        return Guid.Empty;
      if (s247686482410000 == s727338593376591.s862145521042344)
        return s727338593376591.s606827089803584;
      if (s247686482410000 == s341710869261760.s239863812294667)
        return s341710869261760.s847322030468754;
      if (s247686482410000 == s846447177549074.s354054670061427)
        return s846447177549074.s935498721809907;
      if (s247686482410000 == s040814293346438.s384634916343874)
        return s040814293346438.s367897145792312;
      if (s247686482410000 == s441429739204476.s818593420734379)
        return s441429739204476.s705778716596295;
      if (s247686482410000 == s516912170260088.s686614196082425)
        return s516912170260088.s038302504017622;
      return s247686482410000 == s721791185263115.s508849995152234 ? s721791185263115.s743597547096968 : s820276167648377.s011035710628855(s247686482410000);
    }
  }
}
