// Decompiled with JetBrains decompiler
// Type: ATM_Final.QuickMoneyForm
// Assembly: ICollect, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 87EB3EDA-C82B-436C-8586-AD11341AC415
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.06\HEUR-Trojan.MSIL.VBKrypt.gen-1b3142627fb58811a7d165f0ba285d5f658434737caa0b571f7d37403f9d691d.exe

using System;
using System.ComponentModel;
using System.Data.SqlClient;
using System.Drawing;
using System.Globalization;
using System.Reflection;
using System.Resources;
using System.Windows.Forms;

namespace ATM_Final
{
  public class QuickMoneyForm : Form
  {
    private GlobalDBConnection gdc = new GlobalDBConnection();
    private Show show = new Show();
    private IContainer components = (IContainer) null;
    private Button btn_10KM;
    private Button btn_20KM;
    private Button btn_50KM;
    private Button btn_100KM;
    private Button btn_200KM;
    private Button btn_Back;
    private Button btn_Exit;
    private Button btn_enflag;
    private Button btn_bsflag;
    private PictureBox en_flag;

    public QuickMoneyForm() => this.InitializeComponent();

    private void getRes(CultureInfo ci)
    {
      ResourceManager resourceManager = new ResourceManager("ATM_Final.Lang.langres", Assembly.Load("ATM_Final"));
      this.btn_Back.Text = resourceManager.GetString("back", ci);
      this.btn_Exit.Text = resourceManager.GetString("exit2", ci);
      this.en_flag.Image = (Image) resourceManager.GetObject("flag", ci);
    }

    private void btn_Back_Click(object sender, EventArgs e)
    {
      new WelcomeForm().Show();
      this.Hide();
    }

    private void btn_Exit_Click(object sender, EventArgs e) => Environment.Exit(0);

    private void btn_10KM_Click(object sender, EventArgs e)
    {
      SqlConnection connection1 = new SqlConnection(this.gdc.Con);
      SqlCommand sqlCommand1 = new SqlCommand("Command String", connection1);
      try
      {
        connection1.Open();
        Decimal num1 = 10M;
        Decimal num2 = 0M;
        sqlCommand1.CommandText = "SELECT * FROM [Table] WHERE AccNo = '" + this.show.AccNo.ToString() + "'";
        SqlDataReader sqlDataReader = sqlCommand1.ExecuteReader();
        while (sqlDataReader.Read())
          num2 = Decimal.Parse(sqlDataReader["Balance"].ToString());
        connection1.Close();
        SqlConnection connection2 = new SqlConnection(this.gdc.Con);
        SqlCommand sqlCommand2 = new SqlCommand("Command String", connection2);
        connection2.Open();
        if (num2 >= num1)
        {
          Decimal num3 = num2 - num1;
          sqlCommand2.CommandText = "UPDATE [Table] SET Balance = '" + num3.ToString() + "' WHERE AccNo = '" + this.show.AccNo.ToString() + "'";
          sqlCommand2.ExecuteNonQuery();
          connection2.Close();
          connection2.Dispose();
          int num4 = (int) MessageBox.Show("Withdrawal success!");
          new WelcomeForm().Show();
          this.Hide();
        }
        else
        {
          int num5 = (int) MessageBox.Show("Insufficient funds!");
          connection2.Close();
          connection2.Dispose();
        }
      }
      catch (Exception ex)
      {
        int num = (int) MessageBox.Show(ex.Message);
      }
    }

    private void btn_20KM_Click(object sender, EventArgs e)
    {
      SqlConnection connection1 = new SqlConnection(this.gdc.Con);
      SqlCommand sqlCommand1 = new SqlCommand("Command String", connection1);
      try
      {
        connection1.Open();
        Decimal num1 = 20M;
        Decimal num2 = 0M;
        sqlCommand1.CommandText = "SELECT * FROM [Table] WHERE AccNo = '" + this.show.AccNo.ToString() + "'";
        SqlDataReader sqlDataReader = sqlCommand1.ExecuteReader();
        while (sqlDataReader.Read())
          num2 = Decimal.Parse(sqlDataReader["Balance"].ToString());
        connection1.Close();
        SqlConnection connection2 = new SqlConnection(this.gdc.Con);
        SqlCommand sqlCommand2 = new SqlCommand("Command String", connection2);
        connection2.Open();
        if (num2 >= num1)
        {
          Decimal num3 = num2 - num1;
          sqlCommand2.CommandText = "UPDATE [Table] SET Balance = '" + num3.ToString() + "' WHERE AccNo = '" + this.show.AccNo.ToString() + "'";
          sqlCommand2.ExecuteNonQuery();
          connection2.Close();
          connection2.Dispose();
          int num4 = (int) MessageBox.Show("Withdrawal success!");
          new WelcomeForm().Show();
          this.Hide();
        }
        else
        {
          int num5 = (int) MessageBox.Show("Insufficient funds!");
          connection2.Close();
          connection2.Dispose();
        }
      }
      catch (Exception ex)
      {
        int num = (int) MessageBox.Show(ex.Message);
      }
    }

    private void btn_50KM_Click(object sender, EventArgs e)
    {
      SqlConnection connection1 = new SqlConnection(this.gdc.Con);
      SqlCommand sqlCommand1 = new SqlCommand("Command String", connection1);
      try
      {
        connection1.Open();
        Decimal num1 = 50M;
        Decimal num2 = 0M;
        sqlCommand1.CommandText = "SELECT * FROM [Table] WHERE AccNo = '" + this.show.AccNo.ToString() + "'";
        SqlDataReader sqlDataReader = sqlCommand1.ExecuteReader();
        while (sqlDataReader.Read())
          num2 = Decimal.Parse(sqlDataReader["Balance"].ToString());
        connection1.Close();
        SqlConnection connection2 = new SqlConnection(this.gdc.Con);
        SqlCommand sqlCommand2 = new SqlCommand("Command String", connection2);
        connection2.Open();
        if (num2 >= num1)
        {
          Decimal num3 = num2 - num1;
          sqlCommand2.CommandText = "UPDATE [Table] SET Balance = '" + num3.ToString() + "' WHERE AccNo = '" + this.show.AccNo.ToString() + "'";
          sqlCommand2.ExecuteNonQuery();
          connection2.Close();
          connection2.Dispose();
          int num4 = (int) MessageBox.Show("Withdrawal success!");
          new WelcomeForm().Show();
          this.Hide();
        }
        else
        {
          int num5 = (int) MessageBox.Show("Insufficient funds!");
          connection2.Close();
          connection2.Dispose();
        }
      }
      catch (Exception ex)
      {
        int num = (int) MessageBox.Show(ex.Message);
      }
    }

    private void btn_100KM_Click(object sender, EventArgs e)
    {
      SqlConnection connection1 = new SqlConnection(this.gdc.Con);
      SqlCommand sqlCommand1 = new SqlCommand("Command String", connection1);
      try
      {
        connection1.Open();
        Decimal num1 = 100M;
        Decimal num2 = 0M;
        sqlCommand1.CommandText = "SELECT * FROM [Table] WHERE AccNo = '" + this.show.AccNo.ToString() + "'";
        SqlDataReader sqlDataReader = sqlCommand1.ExecuteReader();
        while (sqlDataReader.Read())
          num2 = Decimal.Parse(sqlDataReader["Balance"].ToString());
        connection1.Close();
        SqlConnection connection2 = new SqlConnection(this.gdc.Con);
        SqlCommand sqlCommand2 = new SqlCommand("Command String", connection2);
        connection2.Open();
        if (num2 >= num1)
        {
          Decimal num3 = num2 - num1;
          sqlCommand2.CommandText = "UPDATE [Table] SET Balance = '" + num3.ToString() + "' WHERE AccNo = '" + this.show.AccNo.ToString() + "'";
          sqlCommand2.ExecuteNonQuery();
          connection2.Close();
          connection2.Dispose();
          int num4 = (int) MessageBox.Show("Withdrawal success!");
          new WelcomeForm().Show();
          this.Hide();
        }
        else
        {
          int num5 = (int) MessageBox.Show("Insufficient funds!");
          connection2.Close();
          connection2.Dispose();
        }
      }
      catch (Exception ex)
      {
        int num = (int) MessageBox.Show(ex.Message);
      }
    }

    private void btn_200KM_Click(object sender, EventArgs e)
    {
      SqlConnection connection1 = new SqlConnection(this.gdc.Con);
      SqlCommand sqlCommand1 = new SqlCommand("Command String", connection1);
      try
      {
        connection1.Open();
        Decimal num1 = 200M;
        Decimal num2 = 0M;
        sqlCommand1.CommandText = "SELECT * FROM [Table] WHERE AccNo = '" + this.show.AccNo.ToString() + "'";
        SqlDataReader sqlDataReader = sqlCommand1.ExecuteReader();
        while (sqlDataReader.Read())
          num2 = Decimal.Parse(sqlDataReader["Balance"].ToString());
        connection1.Close();
        SqlConnection connection2 = new SqlConnection(this.gdc.Con);
        SqlCommand sqlCommand2 = new SqlCommand("Command String", connection2);
        connection2.Open();
        if (num2 >= num1)
        {
          Decimal num3 = num2 - num1;
          sqlCommand2.CommandText = "UPDATE [Table] SET Balance = '" + num3.ToString() + "' WHERE AccNo = '" + this.show.AccNo.ToString() + "'";
          sqlCommand2.ExecuteNonQuery();
          connection2.Close();
          connection2.Dispose();
          int num4 = (int) MessageBox.Show("Withdrawal success!");
          new WelcomeForm().Show();
          this.Hide();
        }
        else
        {
          int num5 = (int) MessageBox.Show("Insufficient funds!");
          connection2.Close();
          connection2.Dispose();
        }
      }
      catch (Exception ex)
      {
        int num = (int) MessageBox.Show(ex.Message);
      }
    }

    private void QuickMoneyForm_Load(object sender, EventArgs e)
    {
    }

    private void btn_enflag_Click(object sender, EventArgs e) => this.getRes(new CultureInfo("en-US"));

    private void btn_bsflag_Click(object sender, EventArgs e) => this.getRes(new CultureInfo("hr-HR"));

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (QuickMoneyForm));
      this.btn_10KM = new Button();
      this.btn_20KM = new Button();
      this.btn_50KM = new Button();
      this.btn_100KM = new Button();
      this.btn_200KM = new Button();
      this.btn_Back = new Button();
      this.btn_Exit = new Button();
      this.btn_enflag = new Button();
      this.btn_bsflag = new Button();
      this.en_flag = new PictureBox();
      ((ISupportInitialize) this.en_flag).BeginInit();
      this.SuspendLayout();
      this.btn_10KM.ForeColor = SystemColors.ActiveCaptionText;
      this.btn_10KM.Location = new Point(93, 28);
      this.btn_10KM.Name = "btn_10KM";
      this.btn_10KM.Size = new Size(132, 33);
      this.btn_10KM.TabIndex = 0;
      this.btn_10KM.Text = "10 KM";
      this.btn_10KM.UseVisualStyleBackColor = true;
      this.btn_10KM.Click += new EventHandler(this.btn_10KM_Click);
      this.btn_20KM.ForeColor = SystemColors.ActiveCaptionText;
      this.btn_20KM.Location = new Point(93, 76);
      this.btn_20KM.Name = "btn_20KM";
      this.btn_20KM.Size = new Size(132, 37);
      this.btn_20KM.TabIndex = 1;
      this.btn_20KM.Text = "20 KM";
      this.btn_20KM.UseVisualStyleBackColor = true;
      this.btn_20KM.Click += new EventHandler(this.btn_20KM_Click);
      this.btn_50KM.ForeColor = SystemColors.ActiveCaptionText;
      this.btn_50KM.Location = new Point(93, 128);
      this.btn_50KM.Name = "btn_50KM";
      this.btn_50KM.Size = new Size(132, 33);
      this.btn_50KM.TabIndex = 2;
      this.btn_50KM.Text = "50 KM";
      this.btn_50KM.UseVisualStyleBackColor = true;
      this.btn_50KM.Click += new EventHandler(this.btn_50KM_Click);
      this.btn_100KM.ForeColor = SystemColors.ActiveCaptionText;
      this.btn_100KM.Location = new Point(93, 176);
      this.btn_100KM.Name = "btn_100KM";
      this.btn_100KM.Size = new Size(132, 35);
      this.btn_100KM.TabIndex = 3;
      this.btn_100KM.Text = "100 KM";
      this.btn_100KM.UseVisualStyleBackColor = true;
      this.btn_100KM.Click += new EventHandler(this.btn_100KM_Click);
      this.btn_200KM.ForeColor = SystemColors.ActiveCaptionText;
      this.btn_200KM.Location = new Point(93, 227);
      this.btn_200KM.Name = "btn_200KM";
      this.btn_200KM.Size = new Size(132, 36);
      this.btn_200KM.TabIndex = 4;
      this.btn_200KM.Text = "200 KM";
      this.btn_200KM.UseVisualStyleBackColor = true;
      this.btn_200KM.Click += new EventHandler(this.btn_200KM_Click);
      this.btn_Back.ForeColor = SystemColors.ActiveCaptionText;
      this.btn_Back.Location = new Point(25, 308);
      this.btn_Back.Name = "btn_Back";
      this.btn_Back.Size = new Size(107, 35);
      this.btn_Back.TabIndex = 5;
      this.btn_Back.Text = "Back";
      this.btn_Back.UseVisualStyleBackColor = true;
      this.btn_Back.Click += new EventHandler(this.btn_Back_Click);
      this.btn_Exit.ForeColor = SystemColors.ActiveCaptionText;
      this.btn_Exit.Location = new Point(195, 308);
      this.btn_Exit.Name = "btn_Exit";
      this.btn_Exit.Size = new Size(106, 35);
      this.btn_Exit.TabIndex = 6;
      this.btn_Exit.Text = "Exit";
      this.btn_Exit.UseVisualStyleBackColor = true;
      this.btn_Exit.Click += new EventHandler(this.btn_Exit_Click);
      this.btn_enflag.BackgroundImage = (Image) componentResourceManager.GetObject("btn_enflag.BackgroundImage");
      this.btn_enflag.Location = new Point(357, 25);
      this.btn_enflag.Name = "btn_enflag";
      this.btn_enflag.Size = new Size(75, 36);
      this.btn_enflag.TabIndex = 9;
      this.btn_enflag.UseVisualStyleBackColor = true;
      this.btn_enflag.Click += new EventHandler(this.btn_enflag_Click);
      this.btn_bsflag.BackgroundImage = (Image) componentResourceManager.GetObject("btn_bsflag.BackgroundImage");
      this.btn_bsflag.Location = new Point(438, 25);
      this.btn_bsflag.Name = "btn_bsflag";
      this.btn_bsflag.Size = new Size(75, 36);
      this.btn_bsflag.TabIndex = 10;
      this.btn_bsflag.UseVisualStyleBackColor = true;
      this.btn_bsflag.Click += new EventHandler(this.btn_bsflag_Click);
      this.en_flag.BackgroundImage = (Image) componentResourceManager.GetObject("en_flag.BackgroundImage");
      this.en_flag.InitialImage = (Image) componentResourceManager.GetObject("en_flag.InitialImage");
      this.en_flag.Location = new Point(387, 278);
      this.en_flag.Name = "en_flag";
      this.en_flag.Size = new Size(125, 65);
      this.en_flag.TabIndex = 11;
      this.en_flag.TabStop = false;
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.BackColor = SystemColors.ActiveCaptionText;
      this.ClientSize = new Size(524, 387);
      this.Controls.Add((Control) this.en_flag);
      this.Controls.Add((Control) this.btn_bsflag);
      this.Controls.Add((Control) this.btn_enflag);
      this.Controls.Add((Control) this.btn_Exit);
      this.Controls.Add((Control) this.btn_Back);
      this.Controls.Add((Control) this.btn_200KM);
      this.Controls.Add((Control) this.btn_100KM);
      this.Controls.Add((Control) this.btn_50KM);
      this.Controls.Add((Control) this.btn_20KM);
      this.Controls.Add((Control) this.btn_10KM);
      this.ForeColor = SystemColors.ControlLightLight;
      this.Icon = (Icon) componentResourceManager.GetObject("$this.Icon");
      this.Name = nameof (QuickMoneyForm);
      this.StartPosition = FormStartPosition.CenterScreen;
      this.Text = nameof (QuickMoneyForm);
      this.Load += new EventHandler(this.QuickMoneyForm_Load);
      ((ISupportInitialize) this.en_flag).EndInit();
      this.ResumeLayout(false);
    }
  }
}
