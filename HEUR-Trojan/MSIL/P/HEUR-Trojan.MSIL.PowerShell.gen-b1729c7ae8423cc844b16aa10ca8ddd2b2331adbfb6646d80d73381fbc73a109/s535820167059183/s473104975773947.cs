// Decompiled with JetBrains decompiler
// Type: s535820167059183.s473104975773947
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using FastSerialization;
using s032321671181028;
using s111377166353221;
using s528813736053581;
using s575771476048267;
using s686708834606903;
using s814626784262558;
using s885500789572734;
using s935466933889679;
using s985393833263885;
using System;
using System.Collections;
using System.Collections.Generic;
using System.Diagnostics;

namespace s535820167059183
{
  public sealed class s473104975773947 : IEnumerable<s034852122986107>, IEnumerable
  {
    internal s953925013719849 s560348430872056;
    internal long s190801437274209;
    internal long s539661139320517;
    internal Predicate<s034852122986107> s741457795040604;
    internal bool s776699072028668;

    public IEnumerable<T> s549818409239436<T>() where T : s034852122986107 => (IEnumerable<T>) new s473104975773947.s761546216366390<T>(-2)
    {
      \u003C\u003E4__this = this
    };

    public s993604466763239 s300461368285923() => new s993604466763239(this);

    public s473104975773947 s316179712299204() => new s473104975773947(this.s560348430872056, this.s190801437274209, this.s539661139320517, this.s741457795040604, true);

    public s473104975773947 s871203376155745(
      DateTime s546170518190737,
      DateTime s911591319580295)
    {
      return this.s655469803769761(this.s560348430872056.s048532042555637(s546170518190737.ToUniversalTime()), this.s560348430872056.s048532042555637(s911591319580295.ToUniversalTime()) + 1L, (Predicate<s034852122986107>) null);
    }

    public s473104975773947 s502405519013118(
      double s121394893380491,
      double s819065993218058)
    {
      return this.s655469803769761(this.s560348430872056.s339143429282736(s121394893380491), this.s560348430872056.s339143429282736(s819065993218058) + 1L, (Predicate<s034852122986107>) null);
    }

    public s473104975773947 s275246233934079(
      Predicate<s034852122986107> s463361873628986)
    {
      return this.s655469803769761(0L, long.MaxValue, s463361873628986);
    }

    public s953925013719849 s720149476373935 => this.s560348430872056;

    public DateTime s114982792477920 => this.s560348430872056.s276830151701033(this.s190801437274209).ToLocalTime();

    public double s605501961081630 => this.s560348430872056.s119039697778322(this.s190801437274209);

    public DateTime s904526987663217 => this.s560348430872056.s276830151701033(this.s539661139320517).ToLocalTime();

    public double s798172460579856 => this.s560348430872056.s119039697778322(this.s539661139320517);

    IEnumerator<s034852122986107> IEnumerable<s034852122986107>.s799133009768384()
    {
      if (this.s560348430872056.s100927375859058)
        throw new NotSupportedException("Enumeration is not supported on real time sessions.");
      return this.s776699072028668 ? (IEnumerator<s034852122986107>) new s473104975773947.s914299964939647(this) : (IEnumerator<s034852122986107>) new s473104975773947.s451710520494501(this);
    }

    internal s473104975773947(s953925013719849 log)
    {
      this.s560348430872056 = log;
      this.s539661139320517 = long.MaxValue - 10L * log.s306774774326568;
    }

    internal s473104975773947(
      s953925013719849 log,
      long startTimeQPC,
      long endTimeQPC,
      Predicate<s034852122986107> predicate,
      bool backwards)
    {
      this.s560348430872056 = log;
      this.s190801437274209 = startTimeQPC;
      this.s539661139320517 = endTimeQPC;
      this.s741457795040604 = predicate;
      this.s776699072028668 = backwards;
    }

    internal s473104975773947 s655469803769761(
      long s279887961567204,
      long s002669884127236,
      Predicate<s034852122986107> s032132264202476)
    {
      if (s032132264202476 == null)
        s032132264202476 = this.s741457795040604;
      else if (this.s741457795040604 != null)
      {
        // ISSUE: object of a compiler-generated type is created
        // ISSUE: variable of a compiler-generated type
        s473104975773947.s546165981547330 s546165981547330 = (s473104975773947.s546165981547330) new s473104975773947.s761546216366390<>();
        // ISSUE: reference to a compiler-generated field
        ((s473104975773947.s761546216366390<>) s546165981547330).s217545490606449 = this.s741457795040604;
        // ISSUE: reference to a compiler-generated field
        s546165981547330.s443337140623595 = s032132264202476;
        // ISSUE: reference to a compiler-generated method
        s032132264202476 = new Predicate<s034852122986107>(s546165981547330.s246746689509409);
      }
      return new s473104975773947(this.s560348430872056, Math.Max(s279887961567204, this.s190801437274209), Math.Min(s002669884127236, this.s539661139320517), s032132264202476, this.s776699072028668);
    }

    IEnumerator IEnumerable.s802137633563263() => throw new NotImplementedException();

    internal abstract class s451710520494501
    {
      protected s473104975773947 events;
      protected internal PinnedStreamReader reader;
      protected internal s726691949965431 lookup;
      protected StreamLabel[] positions;
      protected int indexOnPage;
      protected int pageIndex;
      private int s990970620566322;

      public s034852122986107 s280081056413478 => ((s953925013719849.s002828325856459) this).current;

      public void s741464747388550()
      {
        this.events.s720149476373935.s069408685749785(this.reader);
        this.events.s720149476373935.s465397258898571(this.lookup);
      }

      public void s297883853555552() => throw new Exception("The method or operation is not implemented.");

      protected unsafe s034852122986107 GetNext()
      {
        s034852122986107 next = this.lookup.s128380686175907((s134995860702422.s648877553938236*) this.reader.GetPointer(104));
        if (next.s379087247421555 == ~s531105564102108.Info && next is s721618822471206 s721618822471206)
          s721618822471206.s798794271436155();
        int num = 104 + (next.s268530766974660 + 3 & -4);
        next.s598076025198321 = (s134995860702422.s648877553938236*) this.reader.GetPointer(num);
        next.s969799445044717 = s065940347319222.s790760166376705((IntPtr) (void*) next.s598076025198321, 104);
        IStreamWriterExentions.Skip((IStreamReader) this.reader, num);
        return next;
      }

      public s451710520494501(s473104975773947 events)
        : this(events)
      {
        this.pageIndex = events.s720149476373935.s688522233650520(events.s190801437274209);
        events.s720149476373935.s982058615034618(this.reader, events.s190801437274209, this.pageIndex, out this.indexOnPage, this.positions);
        this.lookup.s667860393794299 = (s130497541240854) (this.pageIndex * 1024 + this.indexOnPage);
      }
    }

    internal sealed class s914299964939647 : 
      s473104975773947.s451710520494501,
      IEnumerator<s034852122986107>,
      IDisposable,
      IEnumerator
    {
      public bool s193961171837440()
      {
        // ISSUE: reference to a compiler-generated field
        do
        {
          // ISSUE: reference to a compiler-generated field
          ((s953925013719849.s002828325856459) this).current = this.GetNext();
          // ISSUE: reference to a compiler-generated field
          // ISSUE: reference to a compiler-generated field
          if (((s953925013719849.s002828325856459) this).current.s218856315967206 == long.MaxValue || ((s953925013719849.s002828325856459) this).current.s218856315967206 > this.events.s539661139320517)
            return false;
        }
        while (this.events.s741457795040604 != null && !this.events.s741457795040604(((s953925013719849.s002828325856459) this).current));
        return true;
      }

      public object s087053748388087 => (object) ((s953925013719849.s002828325856459) this).current;

      public s914299964939647(s473104975773947 events)
        : this(events)
      {
        long s539661139320517 = events.s539661139320517;
        if (s539661139320517 != long.MaxValue)
          ++s539661139320517;
        this.pageIndex = events.s720149476373935.s688522233650520(s539661139320517);
        this.positions = new StreamLabel[1024];
        events.s720149476373935.s982058615034618(this.reader, s539661139320517, this.pageIndex, out this.indexOnPage, this.positions);
      }
    }

    internal sealed class s830194670733234 : 
      s473104975773947.s451710520494501,
      IEnumerator<s034852122986107>,
      IDisposable,
      IEnumerator
    {
      public bool s543987423848658()
      {
        // ISSUE: reference to a compiler-generated field
        do
        {
          if (this.indexOnPage == 0)
          {
            if (this.pageIndex == 0)
              return false;
            --this.pageIndex;
            this.events.s720149476373935.s982058615034618(this.reader, long.MaxValue, this.pageIndex, out this.indexOnPage, this.positions);
          }
          else
            --this.indexOnPage;
          ((MemoryStreamReader) this.reader).Goto((StreamLabel) (long) this.positions[this.indexOnPage]);
          this.lookup.s667860393794299 = (s130497541240854) (this.pageIndex * 1024 + this.indexOnPage);
          // ISSUE: reference to a compiler-generated field
          ((s953925013719849.s002828325856459) this).current = this.GetNext();
          // ISSUE: reference to a compiler-generated field
          if (((s953925013719849.s002828325856459) this).current.s218856315967206 < this.events.s190801437274209)
            return false;
        }
        while (this.events.s741457795040604 != null && !this.events.s741457795040604(((s953925013719849.s002828325856459) this).current));
        return true;
      }

      public object s390154133942801 => (object) ((s953925013719849.s002828325856459) this).current;

      [DebuggerHidden]
      public s830194670733234(int _param1)
      {
        // ISSUE: reference to a compiler-generated field
        ((s473104975773947.s761546216366390<T0>) this).\u003C\u003E1__state = _param1;
        // ISSUE: reference to a compiler-generated field
        ((s473104975773947.s761546216366390<T0>) this).\u003C\u003El__initialThreadId = Environment.CurrentManagedThreadId;
      }
    }
  }
}
