// Decompiled with JetBrains decompiler
// Type: PainterApp.PaintingForm
// Assembly: 太城hضd氏bTنH, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: FB883643-FAF4-44BB-B4FC-F1B0FC1059A6
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.03-msil\Backdoor.Win32.Androm.uluz-2b99f5aaaa6cfc4766e8c7eaafe2cabccccd31ced962d84f0bc1cf97bc9a1e23.exe

using PainterApp.Models;
using System;
using System.ComponentModel;
using System.Drawing;
using System.Windows.Forms;

namespace PainterApp
{
  public class PaintingForm : Form
  {
    private MyColor startColor;
    private int startLineWidth;
    private ShapeType startShapeType;
    private IContainer components = (IContainer) null;
    private PictureBox pictureBox;
    private TextBox ATextBox;
    private TextBox RTextBox;
    private TextBox GTextBox;
    private TextBox BTextBox;
    private Label label1;
    private Label label2;
    private Label label3;
    private Label label4;
    private Button SetColorButton;
    private TextBox LineWidthTextBox;
    private Label label5;
    private Button SetLineWidthButton;
    private Button EllipseButton;
    private Button RectangleButton;
    private Button LineButton;
    private Button CustomShapeButton;
    private PictureBox ColorPreview;
    private Label label6;
    private Panel panel1;
    private Button CancelButton;
    private Panel panel2;
    private Button ClearButton;
    private Button ForwardButton;

    public WinFormsPictureBoxPainter Painter { get; private set; }

    public PaintingForm()
    {
      this.InitializeComponent();
      this.startColor = new MyColor((int) byte.MaxValue, 0, (int) byte.MaxValue, 0);
      this.startLineWidth = 2;
      this.startShapeType = ShapeType.Custom;
    }

    public PaintingForm(MyColor startColor, int startLineWidth, ShapeType startShapeType)
      : this()
    {
      this.startColor = startColor;
      this.startLineWidth = startLineWidth;
      this.startShapeType = startShapeType;
    }

    private void PaintingFormLoad(object sender, EventArgs e)
    {
      this.Painter = new WinFormsPictureBoxPainter(this.pictureBox, this.startShapeType, this.startColor, this.startLineWidth);
      this.PreviewColor(this.Painter.Color);
      this.ATextBox.Text = this.Painter.Color.A.ToString();
      this.RTextBox.Text = this.Painter.Color.R.ToString();
      this.GTextBox.Text = this.Painter.Color.G.ToString();
      this.BTextBox.Text = this.Painter.Color.B.ToString();
      this.LineWidthTextBox.Text = this.Painter.LineWidth.ToString();
    }

    private void PreviewColor(MyColor color)
    {
      if (!color.IsValid)
        return;
      this.ColorPreview.BackColor = color.GetColor();
    }

    private void SetColorButtonClick(object sender, EventArgs e)
    {
      int result1;
      int result2;
      int result3;
      int result4;
      if (int.TryParse(this.ATextBox.Text, out result1) && int.TryParse(this.RTextBox.Text, out result2) && int.TryParse(this.GTextBox.Text, out result3) && int.TryParse(this.BTextBox.Text, out result4))
      {
        MyColor color = new MyColor(result1, result2, result3, result4);
        if (color.IsValid)
        {
          this.Painter.Color = color;
          this.PreviewColor(color);
          return;
        }
      }
      int num = (int) MessageBox.Show("You must enter numbers in the range from 0 to 255");
    }

    private void SetLineWidthButtonClick(object sender, EventArgs e)
    {
      int result;
      if (int.TryParse(this.LineWidthTextBox.Text, out result) && result > 0)
      {
        this.Painter.LineWidth = result;
      }
      else
      {
        int num = (int) MessageBox.Show("You must enter a positive number");
      }
    }

    private void CustomShapeButtonClick(object sender, EventArgs e) => this.Painter.ShapeType = ShapeType.Custom;

    private void LineButtonClick(object sender, EventArgs e) => this.Painter.ShapeType = ShapeType.Line;

    private void RectangleButtonClick(object sender, EventArgs e) => this.Painter.ShapeType = ShapeType.Rectangle;

    private void EllipseButtonClick(object sender, EventArgs e) => this.Painter.ShapeType = ShapeType.Ellipse;

    private void CancelButtonClick(object sender, EventArgs e) => this.Painter.StepBack();

    private void ForwardButtonClick(object sender, EventArgs e) => this.Painter.StepForward();

    private void ClearButtonClick(object sender, EventArgs e) => this.Painter.Clear(true);

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.pictureBox = new PictureBox();
      this.ATextBox = new TextBox();
      this.RTextBox = new TextBox();
      this.GTextBox = new TextBox();
      this.BTextBox = new TextBox();
      this.label1 = new Label();
      this.label2 = new Label();
      this.label3 = new Label();
      this.label4 = new Label();
      this.SetColorButton = new Button();
      this.LineWidthTextBox = new TextBox();
      this.label5 = new Label();
      this.SetLineWidthButton = new Button();
      this.EllipseButton = new Button();
      this.RectangleButton = new Button();
      this.LineButton = new Button();
      this.CustomShapeButton = new Button();
      this.ColorPreview = new PictureBox();
      this.label6 = new Label();
      this.panel1 = new Panel();
      this.CancelButton = new Button();
      this.panel2 = new Panel();
      this.ClearButton = new Button();
      this.ForwardButton = new Button();
      ((ISupportInitialize) this.pictureBox).BeginInit();
      ((ISupportInitialize) this.ColorPreview).BeginInit();
      this.panel1.SuspendLayout();
      this.panel2.SuspendLayout();
      this.SuspendLayout();
      this.pictureBox.Anchor = AnchorStyles.Top | AnchorStyles.Bottom | AnchorStyles.Left | AnchorStyles.Right;
      this.pictureBox.BackColor = Color.White;
      this.pictureBox.BorderStyle = BorderStyle.FixedSingle;
      this.pictureBox.Location = new Point(79, 5);
      this.pictureBox.Name = "pictureBox";
      this.pictureBox.Size = new Size(702, 553);
      this.pictureBox.TabIndex = 0;
      this.pictureBox.TabStop = false;
      this.ATextBox.Location = new Point(26, 47);
      this.ATextBox.Name = "ATextBox";
      this.ATextBox.Size = new Size(47, 20);
      this.ATextBox.TabIndex = 1;
      this.RTextBox.Location = new Point(26, 74);
      this.RTextBox.Name = "RTextBox";
      this.RTextBox.Size = new Size(47, 20);
      this.RTextBox.TabIndex = 2;
      this.GTextBox.Location = new Point(26, 101);
      this.GTextBox.Name = "GTextBox";
      this.GTextBox.Size = new Size(47, 20);
      this.GTextBox.TabIndex = 3;
      this.BTextBox.Location = new Point(26, 128);
      this.BTextBox.Name = "BTextBox";
      this.BTextBox.Size = new Size(47, 20);
      this.BTextBox.TabIndex = 4;
      this.label1.AutoSize = true;
      this.label1.Location = new Point(3, 50);
      this.label1.Name = "label1";
      this.label1.Size = new Size(17, 13);
      this.label1.TabIndex = 5;
      this.label1.Text = "A:";
      this.label2.AutoSize = true;
      this.label2.Location = new Point(3, 77);
      this.label2.Name = "label2";
      this.label2.Size = new Size(18, 13);
      this.label2.TabIndex = 6;
      this.label2.Text = "R:";
      this.label3.AutoSize = true;
      this.label3.Location = new Point(4, 104);
      this.label3.Name = "label3";
      this.label3.Size = new Size(18, 13);
      this.label3.TabIndex = 7;
      this.label3.Text = "G:";
      this.label4.AutoSize = true;
      this.label4.Location = new Point(5, 131);
      this.label4.Name = "label4";
      this.label4.Size = new Size(17, 13);
      this.label4.TabIndex = 8;
      this.label4.Text = "B:";
      this.SetColorButton.Location = new Point(5, 155);
      this.SetColorButton.Name = "SetColorButton";
      this.SetColorButton.Size = new Size(68, 23);
      this.SetColorButton.TabIndex = 9;
      this.SetColorButton.Text = "Apply";
      this.SetColorButton.UseVisualStyleBackColor = true;
      this.SetColorButton.Click += new EventHandler(this.SetColorButtonClick);
      this.LineWidthTextBox.Location = new Point(7, 211);
      this.LineWidthTextBox.Name = "LineWidthTextBox";
      this.LineWidthTextBox.Size = new Size(66, 20);
      this.LineWidthTextBox.TabIndex = 10;
      this.label5.AutoSize = true;
      this.label5.Location = new Point(5, 195);
      this.label5.Name = "label5";
      this.label5.Size = new Size(61, 13);
      this.label5.TabIndex = 11;
      this.label5.Text = "Line Width:";
      this.SetLineWidthButton.Location = new Point(5, 238);
      this.SetLineWidthButton.Name = "SetLineWidthButton";
      this.SetLineWidthButton.Size = new Size(68, 23);
      this.SetLineWidthButton.TabIndex = 12;
      this.SetLineWidthButton.Text = "Apply";
      this.SetLineWidthButton.UseVisualStyleBackColor = true;
      this.SetLineWidthButton.Click += new EventHandler(this.SetLineWidthButtonClick);
      this.EllipseButton.Location = new Point(-1, 90);
      this.EllipseButton.Name = "EllipseButton";
      this.EllipseButton.Size = new Size(67, 23);
      this.EllipseButton.TabIndex = 13;
      this.EllipseButton.Text = "Ellipse";
      this.EllipseButton.UseVisualStyleBackColor = true;
      this.EllipseButton.Click += new EventHandler(this.EllipseButtonClick);
      this.RectangleButton.Location = new Point(-1, 61);
      this.RectangleButton.Name = "RectangleButton";
      this.RectangleButton.Size = new Size(67, 23);
      this.RectangleButton.TabIndex = 14;
      this.RectangleButton.Text = "Rectangle";
      this.RectangleButton.UseVisualStyleBackColor = true;
      this.RectangleButton.Click += new EventHandler(this.RectangleButtonClick);
      this.LineButton.Location = new Point(-1, 32);
      this.LineButton.Name = "LineButton";
      this.LineButton.Size = new Size(67, 23);
      this.LineButton.TabIndex = 15;
      this.LineButton.Text = "Line";
      this.LineButton.UseVisualStyleBackColor = true;
      this.LineButton.Click += new EventHandler(this.LineButtonClick);
      this.CustomShapeButton.Location = new Point(-1, 3);
      this.CustomShapeButton.Name = "CustomShapeButton";
      this.CustomShapeButton.Size = new Size(67, 23);
      this.CustomShapeButton.TabIndex = 16;
      this.CustomShapeButton.Text = "Pencil";
      this.CustomShapeButton.UseVisualStyleBackColor = true;
      this.CustomShapeButton.Click += new EventHandler(this.CustomShapeButtonClick);
      this.ColorPreview.BackColor = SystemColors.Control;
      this.ColorPreview.BorderStyle = BorderStyle.FixedSingle;
      this.ColorPreview.Location = new Point(6, 21);
      this.ColorPreview.Name = "ColorPreview";
      this.ColorPreview.Size = new Size(67, 20);
      this.ColorPreview.TabIndex = 17;
      this.ColorPreview.TabStop = false;
      this.label6.AutoSize = true;
      this.label6.Location = new Point(5, 5);
      this.label6.Name = "label6";
      this.label6.Size = new Size(34, 13);
      this.label6.TabIndex = 18;
      this.label6.Text = "Color:";
      this.panel1.Anchor = AnchorStyles.Bottom | AnchorStyles.Left;
      this.panel1.Controls.Add((Control) this.CustomShapeButton);
      this.panel1.Controls.Add((Control) this.LineButton);
      this.panel1.Controls.Add((Control) this.RectangleButton);
      this.panel1.Controls.Add((Control) this.EllipseButton);
      this.panel1.Location = new Point(6, 444);
      this.panel1.Name = "panel1";
      this.panel1.Size = new Size(67, 115);
      this.panel1.TabIndex = 19;
      this.CancelButton.Location = new Point(-1, 3);
      this.CancelButton.Name = "CancelButton";
      this.CancelButton.Size = new Size(68, 23);
      this.CancelButton.TabIndex = 20;
      this.CancelButton.Text = "Cancel";
      this.CancelButton.UseVisualStyleBackColor = true;
      this.CancelButton.Click += new EventHandler(this.CancelButtonClick);
      this.panel2.Anchor = AnchorStyles.Left;
      this.panel2.Controls.Add((Control) this.ClearButton);
      this.panel2.Controls.Add((Control) this.ForwardButton);
      this.panel2.Controls.Add((Control) this.CancelButton);
      this.panel2.Location = new Point(6, 305);
      this.panel2.Name = "panel2";
      this.panel2.Size = new Size(67, 88);
      this.panel2.TabIndex = 21;
      this.ClearButton.Location = new Point(-1, 61);
      this.ClearButton.Name = "ClearButton";
      this.ClearButton.Size = new Size(66, 23);
      this.ClearButton.TabIndex = 22;
      this.ClearButton.Text = "Cancel all";
      this.ClearButton.UseVisualStyleBackColor = true;
      this.ClearButton.Click += new EventHandler(this.ClearButtonClick);
      this.ForwardButton.Location = new Point(-1, 32);
      this.ForwardButton.Name = "ForwardButton";
      this.ForwardButton.Size = new Size(68, 23);
      this.ForwardButton.TabIndex = 21;
      this.ForwardButton.Text = "Return";
      this.ForwardButton.UseVisualStyleBackColor = true;
      this.ForwardButton.Click += new EventHandler(this.ForwardButtonClick);
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(784, 561);
      this.Controls.Add((Control) this.panel2);
      this.Controls.Add((Control) this.panel1);
      this.Controls.Add((Control) this.label6);
      this.Controls.Add((Control) this.ColorPreview);
      this.Controls.Add((Control) this.SetLineWidthButton);
      this.Controls.Add((Control) this.label5);
      this.Controls.Add((Control) this.LineWidthTextBox);
      this.Controls.Add((Control) this.SetColorButton);
      this.Controls.Add((Control) this.label4);
      this.Controls.Add((Control) this.label3);
      this.Controls.Add((Control) this.label2);
      this.Controls.Add((Control) this.label1);
      this.Controls.Add((Control) this.BTextBox);
      this.Controls.Add((Control) this.GTextBox);
      this.Controls.Add((Control) this.RTextBox);
      this.Controls.Add((Control) this.ATextBox);
      this.Controls.Add((Control) this.pictureBox);
      this.MinimumSize = new Size(200, 525);
      this.Name = nameof (PaintingForm);
      this.Text = "Painter";
      this.Load += new EventHandler(this.PaintingFormLoad);
      ((ISupportInitialize) this.pictureBox).EndInit();
      ((ISupportInitialize) this.ColorPreview).EndInit();
      this.panel1.ResumeLayout(false);
      this.panel2.ResumeLayout(false);
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
