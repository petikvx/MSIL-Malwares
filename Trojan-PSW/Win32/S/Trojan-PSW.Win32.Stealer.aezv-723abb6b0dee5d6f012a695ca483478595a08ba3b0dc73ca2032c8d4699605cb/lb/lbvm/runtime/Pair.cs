// Decompiled with JetBrains decompiler
// Type: org.lb.lbvm.runtime.Pair
// Assembly: ISectionEnt, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 94D57F93-A342-4E0D-9A4D-9518717BA689
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\Trojan-PSW.Win32.Stealer.aezv-723abb6b0dee5d6f012a695ca483478595a08ba3b0dc73ca2032c8d4699605cb.exe

using System.Collections;
using System.Collections.Generic;
using System.Text;

namespace org.lb.lbvm.runtime
{
  internal sealed class Pair : IEnumerable<object>, IEnumerable
  {
    public readonly object First;
    public readonly object Second;

    public Pair(object first, object second)
    {
      this.First = first;
      this.Second = second;
    }

    public IEnumerator<object> GetEnumerator()
    {
      yield return this.First;
      object i = this.Second;
      while (true)
      {
        switch (i)
        {
          case Pair _:
            yield return ((Pair) i).First;
            i = ((Pair) i).Second;
            continue;
          case Nil _:
            goto label_4;
          default:
            goto label_3;
        }
      }
label_3:
      yield return i;
label_4:
      i = (object) null;
    }

    public override string ToString()
    {
      StringBuilder stringBuilder = new StringBuilder("(");
      stringBuilder.Append(this.First);
      object second = this.Second;
      while (true)
      {
        switch (second)
        {
          case Pair _:
            stringBuilder.Append(" ");
            stringBuilder.Append(((Pair) second).First);
            second = ((Pair) second).Second;
            continue;
          case Nil _:
            goto label_4;
          default:
            goto label_3;
        }
      }
label_3:
      stringBuilder.Append(" . ");
      stringBuilder.Append(second);
label_4:
      stringBuilder.Append(")");
      return stringBuilder.ToString();
    }

    IEnumerator IEnumerable.GetEnumerator() => (IEnumerator) this.GetEnumerator();
  }
}
