// Decompiled with JetBrains decompiler
// Type: flac.Io.RiceEncoder
// Assembly: STAThreadAttrib, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 6EE3DE1A-E148-4FBA-A193-65BEA1824C00
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan-PSW.MSIL.Stealer.gen-f6a784c2aa30ddaf03919958455d18bf51533a475c21a73eff578df0174cc5d4.exe

namespace flac.Io
{
  public static class RiceEncoder
  {
    public static void PutResidual(FlacStream stream, int residual, sbyte parameter)
    {
      if (residual < 0)
      {
        residual = residual * -1 - 1;
        residual = residual << 1 | 1;
      }
      else
        residual <<= 1;
      int bitCount = residual >> (int) parameter;
      int bits = residual - (bitCount << (int) parameter);
      Debug.Assert(bitCount < (int) short.MaxValue);
      stream.Writer.WriteUnaryBitStream(bitCount);
      stream.Writer.WriteBits(bits, (int) parameter);
    }
  }
}
