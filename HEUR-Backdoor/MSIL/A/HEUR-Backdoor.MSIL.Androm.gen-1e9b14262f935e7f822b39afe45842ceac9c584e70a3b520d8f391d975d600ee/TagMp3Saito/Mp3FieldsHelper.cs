// Decompiled with JetBrains decompiler
// Type: TagMp3Saito.Mp3FieldsHelper
// Assembly: ManualResetEv, Version=0.7.2.0, Culture=neutral, PublicKeyToken=null
// MVID: 555BB952-8DEA-4CDE-87A4-0E642B4B65E6
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Backdoor.MSIL.Androm.gen-1e9b14262f935e7f822b39afe45842ceac9c584e70a3b520d8f391d975d600ee.exe

using System;
using System.Collections.Generic;
using System.IO;
using System.Text;

namespace TagMp3Saito
{
  public static class Mp3FieldsHelper
  {
    public static List<Mp3Field> GetMp3FieldsFromJSON(string path)
    {
      if (path == null)
        path = Mp3FieldsHelper.GetDefaultPath();
      StreamReader streamReader = new StreamReader(path, Encoding.Unicode);
      string end = streamReader.ReadToEnd();
      streamReader.Close();
      return JSONSerializer.JSonDeserialize<List<Mp3Field>>(end);
    }

    public static void SaveJSON(List<Mp3Field> mp3Fields, string path = null)
    {
      string str = JSONSerializer.JSonSerialize<List<Mp3Field>>(mp3Fields);
      if (path == null)
        path = Mp3FieldsHelper.GetDefaultPath();
      StreamWriter streamWriter = new StreamWriter(path, false, Encoding.Unicode);
      streamWriter.Write(str);
      streamWriter.Flush();
      streamWriter.Close();
    }

    public static string GetDefaultPath() => Environment.CurrentDirectory + "\\columnsConfig.json";
  }
}
