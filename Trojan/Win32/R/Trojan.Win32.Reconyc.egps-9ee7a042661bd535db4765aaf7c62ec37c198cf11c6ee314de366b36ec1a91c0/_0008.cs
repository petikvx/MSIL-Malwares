// Decompiled with JetBrains decompiler
// Type: 
// Assembly: SteamSpy Stub, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 7D4724C0-574D-4BC5-B7E3-5495AC376254
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00006-msil\Trojan.Win32.Reconyc.egps-9ee7a042661bd535db4765aaf7c62ec37c198cf11c6ee314de366b36ec1a91c0.exe

using System;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Diagnostics;
using System.Linq;
using System.Runtime.CompilerServices;
using System.Xml.Linq;

[EditorBrowsable(EditorBrowsableState.Never)]
[DebuggerNonUserCode]
internal sealed class \u0008
{
  [EditorBrowsable(EditorBrowsableState.Never)]
  private \u0008()
  {
  }

  public static string \u0002(IEnumerable<XElement> _param0)
  {
    IEnumerator<XElement> enumerator;
    try
    {
      enumerator = _param0.GetEnumerator();
      if (enumerator.MoveNext())
        return enumerator.Current.Value;
    }
    finally
    {
      enumerator?.Dispose();
    }
    return (string) null;
  }

  public static void \u0002(IEnumerable<XElement> _param0, string _param1)
  {
    IEnumerator<XElement> enumerator;
    try
    {
      enumerator = _param0.GetEnumerator();
      if (!enumerator.MoveNext())
        return;
      enumerator.Current.Value = _param1;
    }
    finally
    {
      enumerator?.Dispose();
    }
  }

  public static string \u0002(IEnumerable<XElement> _param0, XName _param1)
  {
    IEnumerator<XElement> enumerator;
    try
    {
      enumerator = _param0.GetEnumerator();
      if (enumerator.MoveNext())
        return (string) enumerator.Current.Attribute(_param1);
    }
    finally
    {
      enumerator?.Dispose();
    }
    return (string) null;
  }

  public static void \u0002(IEnumerable<XElement> _param0, XName _param1, string _param2)
  {
    IEnumerator<XElement> enumerator;
    try
    {
      enumerator = _param0.GetEnumerator();
      if (!enumerator.MoveNext())
        return;
      enumerator.Current.SetAttributeValue(_param1, (object) _param2);
    }
    finally
    {
      enumerator?.Dispose();
    }
  }

  public static string \u0002(XElement _param0, XName _param1) => (string) _param0.Attribute(_param1);

  public static void \u0002(XElement _param0, XName _param1, string _param2) => _param0.SetAttributeValue(_param1, (object) _param2);

  [EditorBrowsable(EditorBrowsableState.Never)]
  public static XAttribute \u0002(XName _param0, object _param1) => _param1 == null ? (XAttribute) null : new XAttribute(_param0, RuntimeHelpers.GetObjectValue(_param1));

  [EditorBrowsable(EditorBrowsableState.Never)]
  public static XAttribute \u0002(XName _param0, XNamespace _param1)
  {
    XAttribute xattribute = new XAttribute(_param0, (object) _param1.NamespaceName);
    xattribute.AddAnnotation((object) _param1);
    return xattribute;
  }

  [EditorBrowsable(EditorBrowsableState.Never)]
  public static object \u0002(
    string[] _param0,
    XNamespace[] _param1,
    List<XAttribute> _param2,
    object _param3)
  {
    switch (_param3)
    {
      case XElement xelement:
        return (object) \u0008.\u0002(_param0, _param1, _param2, xelement);
      case IEnumerable enumerable:
        return (object) \u0008.\u0002(_param0, _param1, _param2, enumerable);
      default:
        return _param3;
    }
  }

  [EditorBrowsable(EditorBrowsableState.Never)]
  public static IEnumerable \u0002(
    string[] _param0,
    XNamespace[] _param1,
    List<XAttribute> _param2,
    IEnumerable _param3)
  {
    if (_param3 == null)
      return _param3;
    return _param3 is IEnumerable<XElement> source ? (IEnumerable) source.Select<XElement, XElement>(new Func<XElement, XElement>(new \u0008.\u0002(_param0, _param1, _param2).\u0002)) : (IEnumerable) _param3.Cast<object>().Select<object, object>(new Func<object, object>(new \u0008.\u0002(_param0, _param1, _param2).\u0002));
  }

  [EditorBrowsable(EditorBrowsableState.Never)]
  public static XElement \u0002(
    string[] _param0,
    XNamespace[] _param1,
    List<XAttribute> _param2,
    XElement _param3)
  {
    XAttribute nextAttribute;
    if (_param3 != null)
    {
      for (XAttribute xattribute1 = _param3.FirstAttribute; xattribute1 != null; xattribute1 = nextAttribute)
      {
        nextAttribute = xattribute1.NextAttribute;
        if (xattribute1.IsNamespaceDeclaration)
        {
          XNamespace xnamespace1 = xattribute1.Annotation<XNamespace>();
          string localName1 = xattribute1.Name.LocalName;
          if ((object) xnamespace1 != null)
          {
            if (_param0 != null && _param1 != null)
            {
              int num = checked (_param0.Length - 1);
              int index = 0;
              while (index <= num)
              {
                string str = _param0[index];
                XNamespace xnamespace2 = _param1[index];
                if (localName1.Equals(str))
                {
                  if (xnamespace1 == xnamespace2)
                    xattribute1.Remove();
                  xattribute1 = (XAttribute) null;
                  break;
                }
                checked { ++index; }
              }
            }
            if (xattribute1 != null)
            {
              if (_param2 != null)
              {
                int num = checked (_param2.Count - 1);
                int index = 0;
                while (index <= num)
                {
                  XAttribute xattribute2 = _param2[index];
                  string localName2 = xattribute2.Name.LocalName;
                  XNamespace xnamespace3 = xattribute2.Annotation<XNamespace>();
                  if ((object) xnamespace3 != null && localName1.Equals(localName2))
                  {
                    if (xnamespace1 == xnamespace3)
                      xattribute1.Remove();
                    xattribute1 = (XAttribute) null;
                    break;
                  }
                  checked { ++index; }
                }
              }
              if (xattribute1 != null)
              {
                xattribute1.Remove();
                _param2.Add(xattribute1);
              }
            }
          }
        }
      }
    }
    return _param3;
  }

  [DebuggerNonUserCode]
  [EditorBrowsable(EditorBrowsableState.Never)]
  private sealed class \u0002
  {
    private readonly string[] \u0002;
    private readonly XNamespace[] \u0003;
    private readonly List<XAttribute> \u0005;

    [EditorBrowsable(EditorBrowsableState.Never)]
    internal \u0002(string[] _param1, XNamespace[] _param2, List<XAttribute> _param3)
    {
      this.\u0002 = _param1;
      this.\u0003 = _param2;
      this.\u0005 = _param3;
    }

    [EditorBrowsable(EditorBrowsableState.Never)]
    internal XElement \u0002(XElement _param1) => \u0008.\u0002(this.\u0002, this.\u0003, this.\u0005, _param1);

    [EditorBrowsable(EditorBrowsableState.Never)]
    internal object \u0002(object _param1) => _param1 is XElement xelement ? (object) \u0008.\u0002(this.\u0002, this.\u0003, this.\u0005, xelement) : _param1;
  }
}
