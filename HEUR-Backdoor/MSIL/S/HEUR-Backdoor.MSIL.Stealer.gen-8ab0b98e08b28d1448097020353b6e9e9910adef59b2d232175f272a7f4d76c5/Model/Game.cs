// Decompiled with JetBrains decompiler
// Type: AutoJack.Model.Game
// Assembly: LSATRANSLATEDN, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 21C3335F-91C4-4C6A-BCF4-3830BBF13625
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Backdoor.MSIL.Stealer.gen-8ab0b98e08b28d1448097020353b6e9e9910adef59b2d232175f272a7f4d76c5.exe

using System.Collections.Generic;
using System.Linq;

namespace AutoJack.Model
{
  public class Game
  {
    private const int DECKSIZE = 52;

    public bool ShouldWarn { get; set; }

    public int TurnWho { get; set; }

    public Player Player { get; set; }

    public Machine Machine { get; set; }

    internal List<Card> Deck { get; set; }

    public string Winner { get; set; }

    public string Logs { get; set; }

    public Game(Player Player, Machine Machine)
    {
      this.Player = Player;
      this.Machine = Machine;
      this.ShouldWarn = false;
      this.TurnWho = -1;
      this.Winner = string.Empty;
    }

    internal int GetHandSumFor(List<Card> Hand)
    {
      int handSumFor = 0;
      foreach (Card card in Hand)
        handSumFor += card.GetCardValue();
      return handSumFor;
    }

    internal bool CheckIdenticalHand(string Who, string HandName)
    {
      if (Who == "Player" && HandName == "Hand1")
      {
        if (this.Player.Hand1.Count != 2)
          return false;
        if (this.Player.Hand1.ElementAt<Card>(0).GetCardValue() == this.Player.Hand1.ElementAt<Card>(1).GetCardValue())
          return true;
      }
      if (Who == "Player" && HandName == "Hand2")
      {
        if (this.Player.Hand2.Count != 2)
          return false;
        if (this.Player.Hand2.ElementAt<Card>(0).GetCardValue() == this.Player.Hand2.ElementAt<Card>(1).GetCardValue())
          return true;
      }
      if (Who == "Machine" && HandName == "Hand1")
      {
        if (this.Machine.Hand1.Count != 2)
          return false;
        if (this.Machine.Hand1.ElementAt<Card>(0).GetCardValue() == this.Machine.Hand1.ElementAt<Card>(1).GetCardValue())
          return true;
      }
      return Who == "Machine" && HandName == "Hand2" && this.Machine.Hand2.Count == 2 && this.Machine.Hand2.ElementAt<Card>(0).GetCardValue() == this.Machine.Hand2.ElementAt<Card>(1).GetCardValue();
    }
  }
}
