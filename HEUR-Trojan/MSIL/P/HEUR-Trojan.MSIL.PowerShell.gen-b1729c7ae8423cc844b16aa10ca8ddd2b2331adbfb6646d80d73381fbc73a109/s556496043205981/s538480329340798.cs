// Decompiled with JetBrains decompiler
// Type: s556496043205981.s538480329340798
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using s023231967428338;
using s077414222832753;
using s134854913015584;
using s139452803082678;
using s474370615807264;
using s501555885925211;
using s674028910895465;
using s736322905406258;
using System;
using System.Collections.Generic;
using System.IO;

namespace s556496043205981
{
  public class s538480329340798
  {
    internal s275977756270514 s547274587818913;
    internal string s198394544523840;
    internal s404626138245365 s001369360234730;
    internal float s146196484866953;
    internal float s017796430193333;
    internal float s364226190596274;
    internal float s307706308281456;
    internal float s048816825194830;
    internal float s789138399840781;
    internal double s987513584283306;
    internal double s199691912507960;
    private s760696001465171 s944683772699848;
    internal GrowableArray<s745426657201161> s280147559914771;
    internal s612550122142431 s362004578225384;
    internal s612550122142431 s665951372291728;
    internal s538480329340798 s860492981885352;
    internal bool s231288354921345;
    internal bool s906128507860571;
    internal bool s859217343570051;
    internal int s056981997941856;

    public s760696001465171 s340343251344083 => this.s944683772699848;

    public s538480329340798(s538480329340798 template)
    {
      this.s547274587818913 = template.s547274587818913;
      this.s198394544523840 = template.s198394544523840;
      this.s001369360234730 = template.s001369360234730;
      this.s146196484866953 = template.s146196484866953;
      this.s017796430193333 = template.s017796430193333;
      this.s364226190596274 = template.s364226190596274;
      this.s307706308281456 = template.s307706308281456;
      this.s048816825194830 = template.s048816825194830;
      this.s789138399840781 = template.s789138399840781;
      this.s987513584283306 = template.s987513584283306;
      this.s199691912507960 = template.s199691912507960;
      if (template.s362004578225384 != null)
        this.s362004578225384 = template.s362004578225384.s465029128824220();
      if (template.s665951372291728 == null)
        return;
      this.s665951372291728 = template.s665951372291728.s465029128824220();
    }

    public string s174326133568332 => this.s198394544523840;

    public string s303998112399170
    {
      get
      {
        if (!this.s906128507860571)
          return this.s174326133568332;
        return this.s174326133568332 + " {MinDepth " + (object) this.s056981997941856 + "}";
      }
    }

    public s275977756270514 s008179388022316 => this.s547274587818913;

    public float s828902800123744 => this.s146196484866953;

    public float s834962483564504 => this.s146196484866953 / this.s017796430193333;

    public float s023027443179802 => this.s364226190596274;

    public float s703368309722095 => this.s048816825194830;

    public float s989488795270965 => this.s017796430193333;

    public float s100879635994319 => this.s307706308281456;

    public float s737555883722517 => this.s789138399840781;

    public float s983387586889927 => this.s146196484866953 * 100f / this.s001369360234730.s705463550130098;

    public float s465200826471672 => this.s364226190596274 * 100f / this.s001369360234730.s705463550130098;

    public float s803269161089699 => this.s048816825194830 * 100f / this.s001369360234730.s705463550130098;

    public double s979558994253723 => this.s987513584283306;

    [Obsolete("Use FirstTimeRelativeMSec")]
    public double s559121445864617 => this.s987513584283306;

    public double s828111665054224 => this.s199691912507960;

    [Obsolete("Use LastTimeRelativeMSec")]
    public double s707603609435626 => this.s199691912507960;

    public double s429494581413425 => this.s199691912507960 - this.s987513584283306;

    public s404626138245365 s319572717419354 => this.s001369360234730;

    public s612550122142431 s837776692311871 => this.s362004578225384;

    public string s143730209385838
    {
      get => this.s362004578225384 != null ? this.s362004578225384.ToString() : (string) null;
      set
      {
      }
    }

    public s612550122142431 s853100150581933 => this.s665951372291728;

    public string s795301196576544
    {
      get => this.s665951372291728 != null ? this.s665951372291728.ToString() : (string) null;
      set
      {
      }
    }

    public virtual int s568392714540031(
      bool s409451453900976,
      Func<s745426657201161, bool> s100471767398632)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      s538480329340798.s760501968731925 s760501968731925 = (s538480329340798.s760501968731925) new s404626138245365.s430353983325724();
      // ISSUE: reference to a compiler-generated field
      s760501968731925.s369394886361216 = s409451453900976;
      // ISSUE: reference to a compiler-generated field
      s760501968731925.s284853507538250 = s100471767398632;
      if (this.s906128507860571)
      {
        // ISSUE: reference to a compiler-generated field
        return s538480329340798.GetSamplesForTreeNode((s249664905187139) this, true, s760501968731925.s284853507538250, s275977756270514.Invalid);
      }
      // ISSUE: reference to a compiler-generated field
      ((s404626138245365.s430353983325724) s760501968731925).s679693360639560 = 0;
      // ISSUE: reference to a compiler-generated field
      s760501968731925.s619756458225743 = this.s382948428362872();
      // ISSUE: reference to a compiler-generated method
      this.s616178115709724(new Action<s249664905187139>(s760501968731925.s912904938549578));
      // ISSUE: reference to a compiler-generated field
      return ((s404626138245365.s430353983325724) s760501968731925).s679693360639560;
    }

    public virtual void s616178115709724(Action<s249664905187139> s904798371355471)
    {
      if (this is s249664905187139 s249664905187139)
      {
        s904798371355471(s249664905187139);
      }
      else
      {
        if (!this.s231288354921345)
          return;
        for (s538480329340798 s860492981885352 = this.s860492981885352; s860492981885352 != null; s860492981885352 = s860492981885352.s860492981885352)
          s904798371355471(s860492981885352 as s249664905187139);
      }
    }

    public void s407205982320330(TextWriter s447303041812712)
    {
      s447303041812712.Write(" Name=\"{0}\"", (object) s471684335504367.s194952918595166((object) (this.s174326133568332 ?? "")));
      s447303041812712.Write(" ID=\"{0}\"", (object) (int) this.s547274587818913);
      s447303041812712.Write(" InclusiveMetric=\"{0}\"", (object) this.s828902800123744);
      s447303041812712.Write(" ExclusiveMetric=\"{0}\"", (object) this.s023027443179802);
      s447303041812712.Write(" InclusiveCount=\"{0}\"", (object) this.s989488795270965);
      s447303041812712.Write(" ExclusiveCount=\"{0}\"", (object) this.s100879635994319);
      s447303041812712.Write(" FirstTimeRelativeMSec=\"{0:f4}\"", (object) this.s979558994253723);
      s447303041812712.Write(" LastTimeRelativeMSec=\"{0:f4}\"", (object) this.s828111665054224);
    }

    public virtual string s329895292738886()
    {
      StringWriter s447303041812712 = new StringWriter();
      s447303041812712.Write("<Node");
      this.s407205982320330((TextWriter) s447303041812712);
      s447303041812712.Write("/>");
      return s447303041812712.ToString();
    }

    public void s999273518037622()
    {
      Stack<s538480329340798> nodesToFree = new Stack<s538480329340798>();
      nodesToFree.Push(this);
      while (nodesToFree.Count > 0)
        nodesToFree.Pop().FreeMemory(nodesToFree);
    }

    protected virtual void FreeMemory(Stack<s538480329340798> nodesToFree)
    {
      this.s280147559914771.Clear();
      this.s860492981885352 = (s538480329340798) null;
      this.s198394544523840 = (string) null;
      this.s001369360234730 = (s404626138245365) null;
      this.s362004578225384 = (s612550122142431) null;
      this.s665951372291728 = (s612550122142431) null;
    }

    internal s538480329340798(string name, s275977756270514 id, s404626138245365 container)
    {
      int length = name.IndexOf('{');
      if (0 < length)
        name = name.Substring(0, length);
      this.s198394544523840 = name;
      this.s001369360234730 = container;
      this.s547274587818913 = id;
      this.s987513584283306 = double.PositiveInfinity;
      this.s199691912507960 = double.NegativeInfinity;
      if (container.s359436014659191 != null)
        this.s362004578225384 = new s612550122142431((s483909215967189) container.s359436014659191);
      if (container.s432833714659629 != null)
        this.s665951372291728 = new s612550122142431((s483909215967189) container.s432833714659629);
      this.s944683772699848 = (s760696001465171) container.s664865369266915++;
    }

    internal void s959052814350502(
      s538480329340798 s785504966625573,
      bool s348416147252949,
      double s294399182219372 = 1.0,
      bool s704055969061191 = true)
    {
      if (s348416147252949)
      {
        this.s146196484866953 += s785504966625573.s146196484866953 * (float) s294399182219372;
        this.s017796430193333 += s785504966625573.s017796430193333 * (float) s294399182219372;
        if (this.s362004578225384 != null && s785504966625573.s362004578225384 != null)
          this.s362004578225384.s986392919873860(s785504966625573.s362004578225384, s294399182219372);
        if (this.s665951372291728 != null && s785504966625573.s665951372291728 != null)
          this.s665951372291728.s986392919873860(s785504966625573.s665951372291728, s294399182219372);
      }
      if (s704055969061191)
      {
        this.s364226190596274 += s785504966625573.s364226190596274 * (float) s294399182219372;
        this.s307706308281456 += s785504966625573.s307706308281456 * (float) s294399182219372;
        this.s048816825194830 += s785504966625573.s048816825194830 * (float) s294399182219372;
        this.s789138399840781 += s785504966625573.s789138399840781 * (float) s294399182219372;
      }
      if (s785504966625573.s987513584283306 < this.s987513584283306)
        this.s987513584283306 = s785504966625573.s987513584283306;
      if (s785504966625573.s199691912507960 <= this.s199691912507960)
        return;
      this.s199691912507960 = s785504966625573.s199691912507960;
    }

    protected static int GetSamplesForTreeNode(
      s249664905187139 curNode,
      bool exclusive,
      Func<s745426657201161, bool> callback,
      s275977756270514 excludeChildrenWithID)
    {
      int samplesForTreeNode = 0;
      for (int index = 0; index < curNode.s280147559914771.Count; ++index)
      {
        ++samplesForTreeNode;
        if (!callback(curNode.s280147559914771[index]))
          return samplesForTreeNode;
      }
      if (!exclusive && curNode.s941181405381768 != null)
      {
        foreach (s249664905187139 curNode1 in (IEnumerable<s249664905187139>) curNode.s941181405381768)
        {
          if (curNode1.s008179388022316 != excludeChildrenWithID)
            samplesForTreeNode += s538480329340798.GetSamplesForTreeNode(curNode1, exclusive, callback, excludeChildrenWithID);
        }
      }
      return samplesForTreeNode;
    }

    internal virtual s275977756270514 s382948428362872()
    {
      s275977756270514 s275977756270514 = s275977756270514.Invalid;
      if (this.s231288354921345)
        s275977756270514 = this.s008179388022316;
      return s275977756270514;
    }
  }
}
