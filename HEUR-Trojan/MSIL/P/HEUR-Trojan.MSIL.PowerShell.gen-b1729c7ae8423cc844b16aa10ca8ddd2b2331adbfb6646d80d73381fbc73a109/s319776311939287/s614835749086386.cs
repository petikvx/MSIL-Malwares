// Decompiled with JetBrains decompiler
// Type: s319776311939287.s614835749086386
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using s020542426491954;
using s023231967428338;
using s139452803082678;
using s501555885925211;
using s651029396580935;
using System;
using System.Collections.Generic;
using System.Text;

namespace s319776311939287
{
  public class s614835749086386 : s483909215967189
  {
    private readonly s743460949146767[] s183684028700958;
    private readonly List<int>[] s540165794023594;
    private readonly string[] s616018694287605;

    public s614835749086386(
      s404626138245365 tree,
      int[] scenarios,
      int totalScenarios,
      string[] scenarioNames = null)
      : base(tree)
    {
      this.s401191633575528 = totalScenarios;
      this.s196803616524542 = Math.Min(scenarios.Length, this.s196803616524542);
      this.s540165794023594 = new List<int>[this.s196803616524542];
      this.s183684028700958 = new s743460949146767[this.s401191633575528];
      for (int index = 0; index < this.s196803616524542; ++index)
        this.s540165794023594[index] = new List<int>();
      for (int index = 0; index < this.s401191633575528; ++index)
        this.s183684028700958[index] = s743460949146767.Invalid;
      for (int index1 = 0; index1 < scenarios.Length; ++index1)
      {
        int scenario = scenarios[index1];
        int index2 = index1 * this.s196803616524542 / scenarios.Length;
        this.s183684028700958[scenario] = (s743460949146767) index2;
        this.s540165794023594[index2].Add(scenario);
      }
      this.s616018694287605 = scenarioNames;
    }

    public int[] s963955261517814(s743460949146767 s802514320868491) => this.s540165794023594[(int) s802514320868491].ToArray();

    public int[] s070127416108452(
      s743460949146767 s127415245649685,
      s743460949146767 s126359869785232)
    {
      List<int> intList = new List<int>();
      for (s743460949146767 index = s127415245649685; index < s126359869785232; ++index)
        intList.AddRange((IEnumerable<int>) this.s540165794023594[(int) index]);
      return intList.ToArray();
    }

    public virtual void s990827219698921(
      s612550122142431 s574886919480688,
      s124232551204041 s129277408931365)
    {
      s574886919480688.s944316397359904(s129277408931365.s084801687846570, s129277408931365.s449094098304217);
    }

    public string s475472925192781(int s262553712130679) => this.s616018694287605 != null ? this.s616018694287605[s262553712130679] : string.Format("<scenario #{0}>", (object) s262553712130679);

    public virtual string s035988470823127(
      s743460949146767 s232562370682537,
      s743460949146767 s475685354057482,
      s612550122142431 s643500099874153)
    {
      StringBuilder stringBuilder = new StringBuilder();
      for (s743460949146767 index = s232562370682537; index < s475685354057482; ++index)
      {
        if (index == s232562370682537)
          stringBuilder.Append("Scenarios: ");
        foreach (int s262553712130679 in this.s540165794023594[(int) index])
          stringBuilder.AppendFormat("{0}, ", (object) this.s475472925192781(s262553712130679));
      }
      if (2 <= stringBuilder.Length)
        stringBuilder.Remove(stringBuilder.Length - 2, 2);
      return stringBuilder.ToString();
    }

    public virtual string s610996340343223(s612550122142431 s321228040194649)
    {
      float[] s957406938696659 = new float[this.s196803616524542];
      for (int index = 0; index < s321228040194649.s609948992631648; ++index)
      {
        if (this.s183684028700958[index] != s743460949146767.Invalid)
          s957406938696659[(int) this.s183684028700958[index]] += s321228040194649.get_Item(index);
      }
      for (int index = 0; index < s957406938696659.Length; ++index)
        s957406938696659[index] /= (float) this.s540165794023594[index].Count;
      return s483909215967189.s996218342119776(s957406938696659, this.s272419933915247);
    }

    protected override double CalculateScale() => this.CalculateAverageScale(this.s817631873652305.s750600148859172.s853100150581933);
  }
}
