// Decompiled with JetBrains decompiler
// Type: Winter_Sports_Rental.SimulationClock
// Assembly: CLRIPropertyValueImpl, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 890FDB68-4B7D-4035-A759-8056CF611D6F
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.05-msil\Trojan.MSIL.Crypt.hwnc-988ec5d9bc02691882a3180947ee76fabc3629413f79a2e4768b9adb58ba432c.exe

using System.Collections.Generic;

namespace Winter_Sports_Rental
{
  public sealed class SimulationClock
  {
    private int _Time;
    private List<IJob> _JobList;

    private SimulationClock()
    {
      this._JobList = new List<IJob>();
      this._Time = 0;
    }

    public void Attach(ref IJob Job)
    {
      this._JobList.Add(Job);
      Job.setStartTime(this._Time);
    }

    public void Detach(ref IJob Job) => this._JobList.Remove(Job);

    public void Notify()
    {
      try
      {
        foreach (IJob job in this._JobList)
          job.UpdateTime(this._Time);
      }
      finally
      {
        List<IJob>.Enumerator enumerator;
        enumerator.Dispose();
      }
    }

    public void IncrementClock()
    {
      checked { ++this._Time; }
      this.Notify();
    }

    public int getTime() => this._Time;

    public static SimulationClock Instance
    {
      get
      {
        SimulationClock instance;
        return instance;
      }
    }
  }
}
