// Decompiled with JetBrains decompiler
// Type: zL2X6vG.OWPM3BA
// Assembly: gO77Fih, Version=16.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: F43F05C3-DF79-4EF2-8C94-619BF1ED6D3E
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Gorgon.gen-83f6c309f411e1aebbdf75c62f67f163231f1b0ee065936230741272cda1cb9a.exe

using \u0033JGJehp;
using iUayWlk;
using mHcl65S;
using OC1w1EV;
using OQ1QBLE;
using oVkjSvs;
using QLVBrEo;
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Globalization;
using System.Linq;
using zi9HJIz;

namespace zL2X6vG
{
  internal sealed class OWPM3BA : IBinarySerializable, IEquatable<OWPM3BA>
  {
    private Type dkoQ62o;
    private int ySI8nS1;
    private int TMqiA3V;
    private string LMud2Rd;
    private OWPM3BA[] \u0033B2z5HC;
    private NQCvlun \u0035QTsqK8;

    public OWPM3BA()
    {
    }

    public OWPM3BA(Type type) => this.YM5jH59 = type;

    internal OWPM3BA(NQCvlun resolver) => this.\u0035QTsqK8 = resolver;

    [DefaultValue(null)]
    public Type YM5jH59
    {
      get
      {
        if (this.dkoQ62o == (Type) null)
        {
          if (this.\u0035QTsqK8 == null || this.LMud2Rd == null)
            throw new InvalidOperationException(eeRvc28.\u0037GPhFLE);
          Type[] C0sano0 = (Type[]) null;
          if (this.\u0033B2z5HC != null)
            C0sano0 = ((IEnumerable<OWPM3BA>) this.\u0033B2z5HC).Select<OWPM3BA, Type>((Func<OWPM3BA, Type>) (xT5zhaU => xT5zhaU.YM5jH59)).ToArray<Type>();
          this.dkoQ62o = this.\u0035QTsqK8.ZltdKBi(this.LMud2Rd, this.ySI8nS1, C0sano0);
          if (this.dkoQ62o == (Type) null)
            throw new TypeLoadException(string.Format((IFormatProvider) CultureInfo.CurrentCulture, eeRvc28.hJrWLAJ, (object) this.LMud2Rd, (object) this.dkoQ62o));
          if (this.TMqiA3V != 0)
            this.dkoQ62o = this.dkoQ62o.MakeArrayType(this.TMqiA3V);
        }
        return this.dkoQ62o;
      }
      set
      {
        Type type = value;
        if (value != (Type) null)
        {
          if (value.IsArray)
          {
            this.TMqiA3V = type.GetArrayRank();
            type = type.GetElementType();
          }
          this.ySI8nS1 = type.MetadataToken;
          this.LMud2Rd = type.Assembly.FullName;
          if (!type.ContainsGenericParameters)
          {
            Type[] genericArguments = type.GetGenericArguments();
            if (genericArguments != null && genericArguments.Length != 0)
              this.\u0033B2z5HC = ((IEnumerable<Type>) genericArguments).Select<Type, OWPM3BA>((Func<Type, OWPM3BA>) (xPR6WdJ => new OWPM3BA(this.\u0035QTsqK8)
              {
                YM5jH59 = xPR6WdJ
              })).ToArray<OWPM3BA>();
          }
        }
        this.dkoQ62o = value;
      }
    }

    void IBinarySerializable.Bm5dT4b(IWriter qTazGdP)
    {
      if (qTazGdP is IAssemblyDataCacheWriter assemblyDataCacheWriter)
      {
        string assemblyLocation = (string) null;
        if (this.dkoQ62o != (Type) null)
          assemblyLocation = this.dkoQ62o.Assembly.Location;
        assemblyDataCacheWriter.NotifyAssemblyReferenced(this.LMud2Rd, assemblyLocation);
      }
      ((IWriter<int>) qTazGdP).Write(this.ySI8nS1);
      ((IWriter<string>) qTazGdP).Write(this.LMud2Rd);
      qTazGdP.k8IPQcg<OWPM3BA>((IEnumerable<OWPM3BA>) this.\u0033B2z5HC);
      ((IWriter<int>) qTazGdP).Write(this.TMqiA3V);
    }

    void IBinarySerializable.OJ6hk63(IReader _param1)
    {
      this.\u0035QTsqK8 = _param1.Resolver;
      this.ySI8nS1 = _param1.ReadInt32();
      this.LMud2Rd = _param1.ReadString();
      this.\u0033B2z5HC = _param1.YV4eRdg<OWPM3BA>();
      this.TMqiA3V = _param1.ReadInt32();
    }

    public bool voRtUMN(OWPM3BA _param1)
    {
      if (this.ySI8nS1 != _param1.ySI8nS1 || !string.Equals(this.LMud2Rd, _param1.LMud2Rd, StringComparison.OrdinalIgnoreCase))
        return false;
      if (this.\u0033B2z5HC == null && _param1.\u0033B2z5HC == null)
        return true;
      return this.\u0033B2z5HC != null && _param1.\u0033B2z5HC != null && ((IEnumerable<OWPM3BA>) this.\u0033B2z5HC).SequenceEqual<OWPM3BA>((IEnumerable<OWPM3BA>) _param1.\u0033B2z5HC);
    }

    public virtual bool IsoQQFi(object OqW8ZAH)
    {
      if ((object) (OqW8ZAH as Type) != null)
        OqW8ZAH = (object) new OWPM3BA()
        {
          YM5jH59 = (Type) OqW8ZAH
        };
      return OqW8ZAH is OWPM3BA && this.voRtUMN((OWPM3BA) OqW8ZAH);
    }

    public virtual int kXPY1dK() => this.ySI8nS1.GetHashCode() ^ StringComparer.OrdinalIgnoreCase.GetHashCode((object) this.LMud2Rd.GetHashCode()) ^ OWPM3BA.E1ir47I<OWPM3BA>((IEnumerable<OWPM3BA>) this.\u0033B2z5HC) ^ this.TMqiA3V.GetHashCode();

    private static int E1ir47I<T>(IEnumerable<T> bHtlHsJ)
    {
      int num1 = 0;
      if (bHtlHsJ == null)
        return num1.GetHashCode();
      EqualityComparer<T> equalityComparer = EqualityComparer<T>.Default;
      int num2 = 0;
      foreach (T obj in bHtlHsJ)
      {
        num1 ^= equalityComparer.GetHashCode(obj) + num2.GetHashCode();
        ++num2;
      }
      return num1;
    }
  }
}
