// Decompiled with JetBrains decompiler
// Type: C3554254475.C1812594589
// Assembly: Google Software Update, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 1ECCB2B4-E3D0-48EA-84ED-06938D43796B
// Assembly location: C:\Users\Administrateur\Downloads\toto\HEUR-Trojan.MSIL.DelShad.gen-b37761715d5a2405a3fa75abccaf6bb15b7298673aaad91a158725be3c518a87.exe

using \u003Cdion2ntty2ic0uyoe\u003E\u007B43570453\u002D3AD8\u002D4A5B\u002DB273\u002D83DF8156D820\u007D;
using System;
using System.Collections;
using System.Collections.Generic;
using System.Diagnostics;
using System.IO;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Text;
using System.Text.RegularExpressions;
using System.Threading;
using System.Windows.Forms;

namespace C3554254475
{
  public static class C1812594589
  {
    private static bool C3554254475 = true;
    private static ulong? C3554254475 = new ulong?();
    private static bool? C3554254475 = new bool?();
    private static PlatformID? C3554254475 = new PlatformID?();
    private static C3707901625? C3554254475 = new C3707901625?();

    [SpecialName]
    public static bool C3554254475() => C1812594589.C3554254475;

    [SpecialName]
    public static void C3554254475([In] bool obj0) => C1812594589.C3554254475 = obj0;

    [SpecialName]
    public static ulong C3904355907()
    {
      if (C1812594589.C3554254475.HasValue)
        return C1812594589.C3554254475.Value;
      ulong num = 0;
      try
      {
        System.Type type = System.Type.GetType(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CJ());
        if (type != (System.Type) null)
        {
          MethodInfo method = type.GetMethod(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cj(), BindingFlags.Static | BindingFlags.NonPublic);
          if (method != (MethodInfo) null)
          {
            string input = method.Invoke((object) null, (object[]) null) as string;
            if (!string.IsNullOrEmpty(input))
            {
              Match match = Regex.Match(input, DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CK());
              if (match.Success)
                num = C1130791706.C30677878(match.Value);
              else
                Debug.Assert(false);
            }
            else
              Debug.Assert(false);
          }
          else
            Debug.Assert(false);
        }
      }
      catch (Exception ex)
      {
        Debug.Assert(false);
      }
      C1812594589.C3554254475 = new ulong?(num);
      return num;
    }

    public static bool C1255198513()
    {
      byte[] numArray1 = new byte[32];
      byte[] numArray2 = new byte[32];
      bool c3554254475 = C1812594589.C3554254475;
      C1812594589.C3554254475 = true;
      bool flag = C1812594589.C3554254475(numArray1, numArray2, 16UL);
      C1812594589.C3554254475 = c3554254475;
      return flag;
    }

    public static bool C1908338681()
    {
      if (C1812594589.C3554254475.HasValue)
        return C1812594589.C3554254475.Value;
      PlatformID platformId = C1812594589.C1037565863();
      int num;
      switch (platformId)
      {
        case PlatformID.Unix:
        case PlatformID.MacOSX:
          num = 1;
          break;
        default:
          num = platformId == (PlatformID) 128 ? 1 : 0;
          break;
      }
      C1812594589.C3554254475 = new bool?(num != 0);
      return C1812594589.C3554254475.Value;
    }

    public static PlatformID C1037565863()
    {
      if (C1812594589.C3554254475.HasValue)
        return C1812594589.C3554254475.Value;
      C1812594589.C3554254475 = new PlatformID?(Environment.OSVersion.Platform);
      if (C1812594589.C3554254475.Value == PlatformID.Unix && (C1812594589.C3554254475(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Ck(), (string) null) ?? string.Empty).Trim().Equals(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CL(), C1130791706.C3554254475))
        C1812594589.C3554254475 = new PlatformID?(PlatformID.MacOSX);
      return C1812594589.C3554254475.Value;
    }

    public static C3707901625 C112844655()
    {
      if (!C1812594589.C3554254475.HasValue)
      {
        C3707901625 c3707901625 = C3707901625.C3554254475;
        if (!C1812594589.C1908338681())
        {
          c3707901625 = C3707901625.C3904355907;
        }
        else
        {
          try
          {
            string str1 = (Environment.GetEnvironmentVariable(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cl()) ?? string.Empty).Trim();
            string str2 = (Environment.GetEnvironmentVariable(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CM()) ?? string.Empty).Trim();
            StringComparison c3554254475 = C1130791706.C3554254475;
            if (str1.Equals(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cm(), c3554254475))
              c3707901625 = C3707901625.C1037565863;
            else if (str1.Equals(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CN(), c3554254475))
              c3707901625 = C3707901625.C112844655;
            else if (str1.Equals(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cn(), c3554254475))
              c3707901625 = C3707901625.C2746444292;
            else if (str1.Equals(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CO(), c3554254475))
              c3707901625 = C3707901625.C2564639436;
            else if (str1.Equals(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Co(), c3554254475))
              c3707901625 = C3707901625.C3568589458;
            else if (str1.Equals(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CP(), c3554254475))
              c3707901625 = C3707901625.C4024072794;
            else if (str1.Equals(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cp(), c3554254475) || str2.Equals(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CQ(), c3554254475))
              c3707901625 = C3707901625.C1908338681;
            else if (str1.Equals(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cq(), c3554254475))
              c3707901625 = !str2.Equals(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CR(), c3554254475) ? C3707901625.C1255198513 : C3707901625.C3568589458;
            else if (str1.Equals(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cr(), c3554254475))
              c3707901625 = C3707901625.C1255198513;
          }
          catch (Exception ex)
          {
            Debug.Assert(false);
          }
        }
        C1812594589.C3554254475 = new C3707901625?(c3707901625);
      }
      return C1812594589.C3554254475.Value;
    }

    public static string C3554254475([In] string obj0, [In] string obj1) => C1812594589.C3554254475(obj0, obj1, (string) null);

    public static string C3554254475([In] string obj0, [In] string obj1, [In] string obj2) => C1812594589.C3554254475(obj0, obj1, obj2, C2852464175.C3904355907 | C2852464175.C1255198513);

    public static string C3554254475([In] string obj0, [In] string obj1, [In] string obj2, [In] C2852464175 obj3)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      C1812594589.C3904355907 c3904355907 = new C1812594589.C3904355907();
      // ISSUE: reference to a compiler-generated field
      c3904355907.C3554254475 = obj0;
      // ISSUE: reference to a compiler-generated field
      c3904355907.C3904355907 = obj1;
      // ISSUE: reference to a compiler-generated field
      c3904355907.C1255198513 = obj2;
      // ISSUE: reference to a compiler-generated field
      c3904355907.C3554254475 = obj3;
      // ISSUE: reference to a compiler-generated field
      if (c3904355907.C3554254475 == null)
        throw new ArgumentNullException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CS());
      // ISSUE: reference to a compiler-generated field
      if (c3904355907.C3554254475.Length == 0)
        throw new ArgumentException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CS());
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated field
      c3904355907.C3554254475 = (c3904355907.C3554254475 & C2852464175.C3904355907) != 0;
      // ISSUE: reference to a compiler-generated method
      C1812594589.C3554254475 c3554254475 = new C1812594589.C3554254475(c3904355907.C3554254475);
      // ISSUE: reference to a compiler-generated field
      if ((c3904355907.C3554254475 & C2852464175.C1037565863) == 0)
        return c3554254475();
      List<Form> formList = new List<Form>();
      // ISSUE: reference to a compiler-generated field
      if ((c3904355907.C3554254475 & C2852464175.C112844655) != 0)
      {
        foreach (Form openForm in (ReadOnlyCollectionBase) Application.OpenForms)
        {
          if (openForm.Enabled)
          {
            formList.Add(openForm);
            openForm.Enabled = false;
          }
        }
      }
      IAsyncResult asyncResult = c3554254475.BeginInvoke((AsyncCallback) null, (object) null);
      while (!asyncResult.AsyncWaitHandle.WaitOne(0))
      {
        Application.DoEvents();
        Thread.Sleep(2);
      }
      string str = c3554254475.EndInvoke(asyncResult);
      for (int index = formList.Count - 1; index >= 0; --index)
        formList[index].Enabled = true;
      return str;
    }

    private static void C3554254475([In] StreamWriter obj0)
    {
      if (obj0 == null)
      {
        Debug.Assert(false);
      }
      else
      {
        try
        {
          Encoding encoding = obj0.Encoding;
          if (encoding == null)
          {
            Debug.Assert(false);
          }
          else
          {
            byte[] preamble = encoding.GetPreamble();
            if (preamble == null || preamble.Length == 0)
              return;
            try
            {
              FieldInfo field = typeof (StreamWriter).GetField(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cs(), BindingFlags.Instance | BindingFlags.NonPublic);
              if (field != (FieldInfo) null)
              {
                field.SetValue((object) obj0, (object) true);
                return;
              }
            }
            catch (Exception ex)
            {
              Debug.Assert(false);
            }
            FieldInfo field1 = typeof (StreamWriter).GetField(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CT(), BindingFlags.Instance | BindingFlags.NonPublic);
            if (field1 != (FieldInfo) null)
              field1.SetValue((object) obj0, (object) true);
            else
              Debug.Assert(false);
          }
        }
        catch (Exception ex)
        {
          Debug.Assert(false);
        }
      }
    }

    public static bool C3554254475([In] byte[] obj0, [In] byte[] obj1, [In] ulong obj2)
    {
      if (!C1812594589.C3554254475)
        return false;
      KeyValuePair<IntPtr, IntPtr> keyValuePair = C1812594589.C3554254475(obj0, obj1);
      bool flag;
      try
      {
        flag = C543223747.C1255198513(keyValuePair.Key, keyValuePair.Value, obj2);
      }
      catch (Exception ex)
      {
        flag = false;
      }
      if (flag)
        C1812594589.C3554254475(keyValuePair, obj0, obj1);
      C1812594589.C3554254475(keyValuePair);
      return flag;
    }

    public static bool C3554254475([In] uint obj0, out ulong _param1)
    {
      _param1 = 0UL;
      if (!C1812594589.C3554254475)
        return false;
      try
      {
        _param1 = C543223747.C1255198513(obj0);
      }
      catch (Exception ex)
      {
        return false;
      }
      return true;
    }

    private static KeyValuePair<IntPtr, IntPtr> C3554254475(
      [In] byte[] obj0,
      [In] byte[] obj1)
    {
      Debug.Assert(obj0 != null && obj0.Length == 32);
      if (obj0 == null)
        throw new ArgumentNullException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Ct());
      if (obj0.Length != 32)
        throw new ArgumentException();
      Debug.Assert(obj1 != null && obj1.Length == 32);
      if (obj1 == null)
        throw new ArgumentNullException(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CU());
      IntPtr num = obj1.Length == 32 ? Marshal.AllocHGlobal(obj0.Length) : throw new ArgumentException();
      Marshal.Copy(obj0, 0, num, obj0.Length);
      IntPtr destination = Marshal.AllocHGlobal(obj1.Length);
      Marshal.Copy(obj1, 0, destination, obj1.Length);
      return new KeyValuePair<IntPtr, IntPtr>(num, destination);
    }

    private static void C3554254475([In] KeyValuePair<IntPtr, IntPtr> obj0, [In] byte[] obj1, [In] byte[] obj2)
    {
      if (obj0.Key != IntPtr.Zero)
        Marshal.Copy(obj0.Key, obj1, 0, obj1.Length);
      if (!(obj0.Value != IntPtr.Zero))
        return;
      Marshal.Copy(obj0.Value, obj2, 0, obj2.Length);
    }

    private static void C3554254475([In] KeyValuePair<IntPtr, IntPtr> obj0)
    {
      if (obj0.Key != IntPtr.Zero)
        Marshal.FreeHGlobal(obj0.Key);
      if (!(obj0.Value != IntPtr.Zero))
        return;
      Marshal.FreeHGlobal(obj0.Value);
    }

    internal static System.Type C3554254475([In] string obj0)
    {
      if (!string.IsNullOrEmpty(obj0))
        return System.Type.GetType(obj0 + DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cu(), false);
      Debug.Assert(false);
      return (System.Type) null;
    }

    internal static string C3904355907([In] string obj0)
    {
      if (obj0 != null)
        return obj0.Replace(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.ah(), DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CV());
      Debug.Assert(false);
      return string.Empty;
    }

    internal static string C1255198513([In] string obj0)
    {
      if (obj0 != null)
        return obj0;
      Debug.Assert(false);
      return string.Empty;
    }

    internal static string C1908338681([In] string obj0)
    {
      if (obj0 != null)
        return obj0;
      Debug.Assert(false);
      return string.Empty;
    }

    private delegate string C3554254475();
  }
}
