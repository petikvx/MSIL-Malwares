// Decompiled with JetBrains decompiler
// Type: System.Data.SQLite.SQLiteStatementHandle
// Assembly: sysrt, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: F2102D52-57B0-4622-A1CB-9DE0B00E107F
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00100-msil\Trojan-Ransom.Win32.Blocker.hehh-e9e3600777f319c90d3c06bee4af8f501eba42a876d1d5ed7d3de045ff7cba31.exe

using System.Runtime.InteropServices;

namespace System.Data.SQLite
{
  internal class SQLiteStatementHandle : CriticalHandle
  {
    public static implicit operator IntPtr(SQLiteStatementHandle stmt) => stmt.handle;

    public static implicit operator SQLiteStatementHandle(IntPtr stmt) => new SQLiteStatementHandle(stmt);

    private SQLiteStatementHandle(IntPtr stmt)
      : this()
    {
      this.SetHandle(stmt);
    }

    internal SQLiteStatementHandle()
      : base(IntPtr.Zero)
    {
    }

    protected override bool ReleaseHandle()
    {
      try
      {
        SQLiteBase.FinalizeStatement(this);
      }
      catch (SQLiteException ex)
      {
      }
      return true;
    }

    public override bool IsInvalid => this.handle == IntPtr.Zero;
  }
}
