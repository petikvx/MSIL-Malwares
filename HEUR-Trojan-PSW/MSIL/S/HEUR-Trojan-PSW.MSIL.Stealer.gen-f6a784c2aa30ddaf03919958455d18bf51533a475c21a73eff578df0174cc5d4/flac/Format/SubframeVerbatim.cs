// Decompiled with JetBrains decompiler
// Type: flac.Format.SubframeVerbatim
// Assembly: STAThreadAttrib, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 6EE3DE1A-E148-4FBA-A193-65BEA1824C00
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan-PSW.MSIL.Stealer.gen-f6a784c2aa30ddaf03919958455d18bf51533a475c21a73eff578df0174cc5d4.exe

namespace flac.Format
{
  public class SubframeVerbatim : Subframe
  {
    private int bitsPerSampleInFrame_;
    private int frameBlockSize_;

    public void Read(FlacStream stream, int bitsPerSampleInFrame, int frameBlockSize)
    {
      this.bitsPerSampleInFrame_ = bitsPerSampleInFrame;
      this.frameBlockSize_ = frameBlockSize;
      this.samples_ = new uint[this.frameBlockSize_];
      for (int index = 0; index < this.frameBlockSize_; ++index)
        this.samples_[index] = stream.Reader.ReadBitsAsUInt(this.bitsPerSampleInFrame_);
    }

    public override void Write(FlacStream stream) => this.Write_(stream, this.frameBlockSize_);

    public override void Write(FlacStream stream, int count) => this.Write_(stream, count);

    private void Write_(FlacStream stream, int count)
    {
      base.Write(stream);
      for (int index = 0; index < count; ++index)
        stream.Writer.WriteBits(this.samples_[index], this.bitsPerSampleInFrame_);
    }
  }
}
