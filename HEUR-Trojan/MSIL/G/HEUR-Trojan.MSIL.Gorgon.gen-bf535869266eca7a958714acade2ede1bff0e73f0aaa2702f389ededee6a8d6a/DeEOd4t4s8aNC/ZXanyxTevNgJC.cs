// Decompiled with JetBrains decompiler
// Type: DeEOd4t4s8aNC.ZXanyxTevNgJC
// Assembly: Udby4Jt48oXkJ, Version=3.17.2.31, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: 37899E89-D673-4F5B-A193-2E4DF6A54096
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Gorgon.gen-bf535869266eca7a958714acade2ede1bff0e73f0aaa2702f389ededee6a8d6a.exe

using \u0036mHL90hQ651VX;
using BNvIP7u4cdaWJ;
using QqIWQIVQdfvhc;
using RyoVh3LEVVetm;
using System;
using System.Runtime.CompilerServices;
using System.Text.RegularExpressions;
using System.Threading.Tasks;

namespace DeEOd4t4s8aNC
{
  internal class ZXanyxTevNgJC
  {
    private const string hODQhEwqdnWrs = "Common";
    private static readonly NhsSRUyAXTNcO XlKrENhGXV7jk = new NhsSRUyAXTNcO();
    private bool Kp3xXaIPsCloz;

    private void IQqXVMDq9s5Ky(string _param1, bool rvESXyzNCUIMn)
    {
      this.zhjvQCF1C6DTp = ZXanyxTevNgJC.VjXcR1qqYZOqR(_param1);
      this.NyQUHwnQg72Kv = ZXanyxTevNgJC.VQQkJzwGSjqof(this.zhjvQCF1C6DTp);
      this.\u0038wvQX1fU1GhQ4 = !(this.NyQUHwnQg72Kv != 0 & rvESXyzNCUIMn) ? rvESXyzNCUIMn : throw new ArgumentException("Authority validation is not supported for this type of authority", "validateAuthority");
    }

    public ZXanyxTevNgJC(string authority, bool validateAuthority) => this.IQqXVMDq9s5Ky(authority, validateAuthority);

    public Task yJ6bhiGsl5Et9(string cXplqViwojHrd, Up2ciG6wVdM5T MOVzb78NyWtZO)
    {
      // ISSUE: variable of a compiler-generated type
      ZXanyxTevNgJC.\u0035glT64GaU3C3U stateMachine;
      // ISSUE: reference to a compiler-generated field
      stateMachine.j2AzVybrxbOss = this;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u0036OFNPz9OHb5Qm = cXplqViwojHrd;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u00330jJDgwZMuuXX = MOVzb78NyWtZO;
      // ISSUE: reference to a compiler-generated field
      stateMachine.rDsRBTW6gwL5k = AsyncTaskMethodBuilder.Create();
      // ISSUE: cast to a reference type
      // ISSUE: explicit reference operation
      // ISSUE: reference to a compiler-generated field
      (^(Quu9ElPGoolUe.ZDD4rxxKnfC5m&) ref stateMachine).syYNVhBuDDjJQ = -1;
      // ISSUE: reference to a compiler-generated field
      stateMachine.rDsRBTW6gwL5k.Start<ZXanyxTevNgJC.\u0035glT64GaU3C3U>(ref stateMachine);
      // ISSUE: reference to a compiler-generated field
      return stateMachine.rDsRBTW6gwL5k.Task;
    }

    public string zhjvQCF1C6DTp { get; private set; }

    public kb6kJoyftgn0H NyQUHwnQg72Kv { get; private set; }

    public bool \u0038wvQX1fU1GhQ4 { get; private set; }

    public bool XEaOJtCLPPDNT { get; private set; }

    public string b6ouSCA0Lt9nJ { get; set; }

    public string xb97RaFkayVxV { get; set; }

    public string CslPxDlFBDAK5 { get; private set; }

    public string \u0035HKMatvoZ03dI { get; private set; }

    public string ralBQOa67Nr1q { get; private set; }

    public Guid rhafajw6KTC34 { get; set; }

    public Task oTeTIPj0YFwIF(Up2ciG6wVdM5T TMTWiril1mK3D)
    {
      // ISSUE: variable of a compiler-generated type
      ZXanyxTevNgJC.KPvkszftrbKko stateMachine;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u0034XEtvEy9ZIDjd = this;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u0030aO0TA9PXkIGN = TMTWiril1mK3D;
      // ISSUE: reference to a compiler-generated field
      stateMachine.KtrtqTaFe42N4 = AsyncTaskMethodBuilder.Create();
      // ISSUE: cast to a reference type
      // ISSUE: explicit reference operation
      // ISSUE: reference to a compiler-generated field
      (^(ZXanyxTevNgJC.\u0035glT64GaU3C3U&) ref stateMachine).ZUzZzS8ToVlLU = -1;
      // ISSUE: reference to a compiler-generated field
      stateMachine.KtrtqTaFe42N4.Start<ZXanyxTevNgJC.KPvkszftrbKko>(ref stateMachine);
      // ISSUE: reference to a compiler-generated field
      return stateMachine.KtrtqTaFe42N4.Task;
    }

    public void JwlbfuLnMEs4n(string XH52SOBYhFrpK)
    {
      if (!this.XEaOJtCLPPDNT || string.IsNullOrWhiteSpace(XH52SOBYhFrpK))
        return;
      this.yNZqkd0GQ1Gsa(XH52SOBYhFrpK);
      this.Kp3xXaIPsCloz = false;
    }

    internal static kb6kJoyftgn0H VQQkJzwGSjqof(string iySlJjp9Woson)
    {
      if (string.IsNullOrWhiteSpace(iySlJjp9Woson))
        throw new ArgumentNullException("authority");
      Uri uri = Uri.IsWellFormedUriString(iySlJjp9Woson, UriKind.Absolute) ? new Uri(iySlJjp9Woson) : throw new ArgumentException("'authority' should be in Uri format", "authority");
      string str = !(uri.Scheme != "https") ? uri.AbsolutePath.Substring(1) : throw new ArgumentException("'authority' should use the 'https' scheme", "authority");
      if (string.IsNullOrWhiteSpace(str))
        throw new ArgumentException("'authority' Uri should have at least one segment in the path (i.e. https://<host>/<path>/...)", "authority");
      return !ZXanyxTevNgJC.WDap4mhxXTupV(str.Substring(0, str.IndexOf("/", StringComparison.Ordinal))) ? kb6kJoyftgn0H.AAD : kb6kJoyftgn0H.ADFS;
    }

    private static string VjXcR1qqYZOqR(string znfDOJXMUwzP8)
    {
      if (!string.IsNullOrWhiteSpace(znfDOJXMUwzP8) && !znfDOJXMUwzP8.EndsWith("/", StringComparison.OrdinalIgnoreCase))
        znfDOJXMUwzP8 += "/";
      return znfDOJXMUwzP8;
    }

    private static bool WDap4mhxXTupV(string QpLAeGMqRgKjS) => string.Compare(QpLAeGMqRgKjS, "adfs", StringComparison.OrdinalIgnoreCase) == 0;

    private void yNZqkd0GQ1Gsa(string _param1) => this.zhjvQCF1C6DTp = new Regex(Regex.Escape("Common"), RegexOptions.IgnoreCase).Replace(this.zhjvQCF1C6DTp, _param1, 1);
  }
}
