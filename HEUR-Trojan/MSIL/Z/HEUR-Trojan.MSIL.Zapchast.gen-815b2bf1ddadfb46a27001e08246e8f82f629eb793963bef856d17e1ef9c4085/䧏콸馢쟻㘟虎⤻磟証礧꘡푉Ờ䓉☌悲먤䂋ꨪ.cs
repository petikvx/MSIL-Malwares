// Decompiled with JetBrains decompiler
// Type: 䧏콸馢쟻㘟虎⤻磟証礧꘡푉Ờ䓉☌悲먤䂋ꨪ
// Assembly: $77-Venom, Version=2.1.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DC8E8704-647D-4CA7-99AB-BB7BE936B486
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Zapchast.gen-815b2bf1ddadfb46a27001e08246e8f82f629eb793963bef856d17e1ef9c4085.exe

using System;

public class 䧏콸馢쟻㘟虎\u293B磟証礧꘡푉Ờ䓉\uE6E5\u260C悲먤䂋ꨪ
{
  private readonly byte[] 钏ѭ\u2391趖\u0E89礨層凞ꁮ\uEA39瞓闘诛䗪㜚ನ먼㰏丘䋍;
  private readonly object 紖계䜼\uE0CFʄୂﶴ絷\u1B77澛袡腵䯪Ã\uFFFD૯䨡\uF615ᰨ堐;
  private int 뱨魲䰝ଠ휉\uE2AE\uFFFD\u0382Ⳇ앦땂轗捼\uFE54㸾륤\uA7D6\u294A榲莧;
  private int 襄댳㑅佪럈숯쒸摧楐\uFFFD傀\u28F6밙\u0D3C齻ᣌ窏䆤뙴\uE7CC;
  private int \uECFE澤仰怽悸囉姶갖㘝\u0AA9鮱軶\uE495錴姘珏\u327B柦徱ψ;

  public 䧏콸馢쟻㘟虎\u293B磟証礧꘡푉Ờ䓉\uE6E5\u260C悲먤䂋ꨪ(int size)
  {
    this.钏ѭ\u2391趖\u0E89礨層凞ꁮ\uEA39瞓闘诛䗪㜚ನ먼㰏丘䋍 = new byte[size];
    this.紖계䜼\uE0CFʄୂﶴ絷\u1B77澛袡腵䯪Ã\uFFFD૯䨡\uF615ᰨ堐 = new object();
  }

  public int ﱛ䗝\uF4EE춊ጵቦ螅\u279Eҩ豞\uE9A3䁇우敾肓䌹ॉ틔\uE598薅(byte[] data, int offset, int count)
  {
    lock (this.紖계䜼\uE0CFʄୂﶴ絷\u1B77澛袡腵䯪Ã\uFFFD૯䨡\uF615ᰨ堐)
    {
      int num1 = 0;
      if (count > this.钏ѭ\u2391趖\u0E89礨層凞ꁮ\uEA39瞓闘诛䗪㜚ನ먼㰏丘䋍.Length - this.\uECFE澤仰怽悸囉姶갖㘝\u0AA9鮱軶\uE495錴姘珏\u327B柦徱ψ)
        count = this.钏ѭ\u2391趖\u0E89礨層凞ꁮ\uEA39瞓闘诛䗪㜚ನ먼㰏丘䋍.Length - this.\uECFE澤仰怽悸囉姶갖㘝\u0AA9鮱軶\uE495錴姘珏\u327B柦徱ψ;
      int length = Math.Min(this.钏ѭ\u2391趖\u0E89礨層凞ꁮ\uEA39瞓闘诛䗪㜚ನ먼㰏丘䋍.Length - this.뱨魲䰝ଠ휉\uE2AE\uFFFD\u0382Ⳇ앦땂轗捼\uFE54㸾륤\uA7D6\u294A榲莧, count);
      Array.Copy((Array) data, offset, (Array) this.钏ѭ\u2391趖\u0E89礨層凞ꁮ\uEA39瞓闘诛䗪㜚ನ먼㰏丘䋍, this.뱨魲䰝ଠ휉\uE2AE\uFFFD\u0382Ⳇ앦땂轗捼\uFE54㸾륤\uA7D6\u294A榲莧, length);
      this.뱨魲䰝ଠ휉\uE2AE\uFFFD\u0382Ⳇ앦땂轗捼\uFE54㸾륤\uA7D6\u294A榲莧 += length;
      this.뱨魲䰝ଠ휉\uE2AE\uFFFD\u0382Ⳇ앦땂轗捼\uFE54㸾륤\uA7D6\u294A榲莧 %= this.钏ѭ\u2391趖\u0E89礨層凞ꁮ\uEA39瞓闘诛䗪㜚ನ먼㰏丘䋍.Length;
      int num2 = num1 + length;
      if (num2 < count)
      {
        Array.Copy((Array) data, offset + num2, (Array) this.钏ѭ\u2391趖\u0E89礨層凞ꁮ\uEA39瞓闘诛䗪㜚ನ먼㰏丘䋍, this.뱨魲䰝ଠ휉\uE2AE\uFFFD\u0382Ⳇ앦땂轗捼\uFE54㸾륤\uA7D6\u294A榲莧, count - num2);
        this.뱨魲䰝ଠ휉\uE2AE\uFFFD\u0382Ⳇ앦땂轗捼\uFE54㸾륤\uA7D6\u294A榲莧 += count - num2;
        num2 = count;
      }
      this.\uECFE澤仰怽悸囉姶갖㘝\u0AA9鮱軶\uE495錴姘珏\u327B柦徱ψ += num2;
      return num2;
    }
  }

  public int ᯇ팤攖ﶰ衢䩇쫑耙\uEE39ꓝ\u0F0A깃ﻝΘ\u299A\uFFFD煉쨳ꦙ\uFFFD(byte[] data, int offset, int count)
  {
    lock (this.紖계䜼\uE0CFʄୂﶴ絷\u1B77澛袡腵䯪Ã\uFFFD૯䨡\uF615ᰨ堐)
    {
      if (count > this.\uECFE澤仰怽悸囉姶갖㘝\u0AA9鮱軶\uE495錴姘珏\u327B柦徱ψ)
        count = this.\uECFE澤仰怽悸囉姶갖㘝\u0AA9鮱軶\uE495錴姘珏\u327B柦徱ψ;
      int num1 = 0;
      int length = Math.Min(this.钏ѭ\u2391趖\u0E89礨層凞ꁮ\uEA39瞓闘诛䗪㜚ನ먼㰏丘䋍.Length - this.襄댳㑅佪럈숯쒸摧楐\uFFFD傀\u28F6밙\u0D3C齻ᣌ窏䆤뙴\uE7CC, count);
      Array.Copy((Array) this.钏ѭ\u2391趖\u0E89礨層凞ꁮ\uEA39瞓闘诛䗪㜚ನ먼㰏丘䋍, this.襄댳㑅佪럈숯쒸摧楐\uFFFD傀\u28F6밙\u0D3C齻ᣌ窏䆤뙴\uE7CC, (Array) data, offset, length);
      int num2 = num1 + length;
      this.襄댳㑅佪럈숯쒸摧楐\uFFFD傀\u28F6밙\u0D3C齻ᣌ窏䆤뙴\uE7CC += length;
      this.襄댳㑅佪럈숯쒸摧楐\uFFFD傀\u28F6밙\u0D3C齻ᣌ窏䆤뙴\uE7CC %= this.钏ѭ\u2391趖\u0E89礨層凞ꁮ\uEA39瞓闘诛䗪㜚ನ먼㰏丘䋍.Length;
      if (num2 < count)
      {
        Array.Copy((Array) this.钏ѭ\u2391趖\u0E89礨層凞ꁮ\uEA39瞓闘诛䗪㜚ನ먼㰏丘䋍, this.襄댳㑅佪럈숯쒸摧楐\uFFFD傀\u28F6밙\u0D3C齻ᣌ窏䆤뙴\uE7CC, (Array) data, offset + num2, count - num2);
        this.襄댳㑅佪럈숯쒸摧楐\uFFFD傀\u28F6밙\u0D3C齻ᣌ窏䆤뙴\uE7CC += count - num2;
        num2 = count;
      }
      this.\uECFE澤仰怽悸囉姶갖㘝\u0AA9鮱軶\uE495錴姘珏\u327B柦徱ψ -= num2;
      return num2;
    }
  }

  public int MaxLength => this.钏ѭ\u2391趖\u0E89礨層凞ꁮ\uEA39瞓闘诛䗪㜚ನ먼㰏丘䋍.Length;

  public int Count
  {
    get
    {
      lock (this.紖계䜼\uE0CFʄୂﶴ絷\u1B77澛袡腵䯪Ã\uFFFD૯䨡\uF615ᰨ堐)
        return this.\uECFE澤仰怽悸囉姶갖㘝\u0AA9鮱軶\uE495錴姘珏\u327B柦徱ψ;
    }
  }

  public void 뾤\uFFFD㫬\uF2EC뫺뻚ﰐ춏耱ꜗᗦ邀빆됥滛뻹马摙뎈付()
  {
    lock (this.紖계䜼\uE0CFʄୂﶴ絷\u1B77澛袡腵䯪Ã\uFFFD૯䨡\uF615ᰨ堐)
      this.홁ꨘ釕丙ʷ㹥㲧\uFA6Fል\uF639ᓩ̍普\uFFFD췛碶\uEBC4ᣦ徥䵕();
  }

  private void 홁ꨘ釕丙ʷ㹥㲧\uFA6Fል\uF639ᓩ̍普\uFFFD췛碶\uEBC4ᣦ徥䵕()
  {
    this.\uECFE澤仰怽悸囉姶갖㘝\u0AA9鮱軶\uE495錴姘珏\u327B柦徱ψ = 0;
    this.襄댳㑅佪럈숯쒸摧楐\uFFFD傀\u28F6밙\u0D3C齻ᣌ窏䆤뙴\uE7CC = 0;
    this.뱨魲䰝ଠ휉\uE2AE\uFFFD\u0382Ⳇ앦땂轗捼\uFE54㸾륤\uA7D6\u294A榲莧 = 0;
  }

  public void 鬜\u24F5磽\uEF82тビ駤犷\uFFFD怪閊㚉쑜쪲㳇큩䶛踩ඖ\u0BFB(int count)
  {
    lock (this.紖계䜼\uE0CFʄୂﶴ絷\u1B77澛袡腵䯪Ã\uFFFD૯䨡\uF615ᰨ堐)
    {
      if (count >= this.\uECFE澤仰怽悸囉姶갖㘝\u0AA9鮱軶\uE495錴姘珏\u327B柦徱ψ)
      {
        this.홁ꨘ釕丙ʷ㹥㲧\uFA6Fል\uF639ᓩ̍普\uFFFD췛碶\uEBC4ᣦ徥䵕();
      }
      else
      {
        this.\uECFE澤仰怽悸囉姶갖㘝\u0AA9鮱軶\uE495錴姘珏\u327B柦徱ψ -= count;
        this.襄댳㑅佪럈숯쒸摧楐\uFFFD傀\u28F6밙\u0D3C齻ᣌ窏䆤뙴\uE7CC += count;
        this.襄댳㑅佪럈숯쒸摧楐\uFFFD傀\u28F6밙\u0D3C齻ᣌ窏䆤뙴\uE7CC %= this.MaxLength;
      }
    }
  }
}
