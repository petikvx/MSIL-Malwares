// Decompiled with JetBrains decompiler
// Type: SmartAssembly.MemoryManagement.MemoryManager
// Assembly: TAREQ, Version=0.0.0.0, Culture=neutral, PublicKeyToken=939838df495abf94
// MVID: 299C32E1-A9F1-4F0C-A6D0-D8FBCACBFFE5
// Assembly location: C:\Users\Administrateur\Downloads\VirusShare_CryptoRansom_20160715-msil\HEUR-Trojan.MSIL.Generic-d3e050241bc051ef74ac9f29b00a6940e86b7d9a4e379f053af78c7158c7833d.exe

using System;
using System.Diagnostics;
using System.Runtime.InteropServices;
using System.Windows.Forms;

namespace SmartAssembly.MemoryManagement
{
  public sealed class MemoryManager
  {
    internal static MemoryManager \u0001;
    private long \u0001 = DateTime.Now.Ticks;

    [DllImport("kernel32", EntryPoint = "SetProcessWorkingSetSize")]
    private static extern int \u0001(IntPtr _param0, int _param1, int _param2);

    private void \u0001()
    {
      try
      {
        using (Process currentProcess = Process.GetCurrentProcess())
        {
          do
          {
            if (true)
              goto label_4;
label_2:
            continue;
label_4:
            MemoryManager.\u0001(currentProcess.Handle, -1, -1);
            goto label_2;
          }
          while (false);
        }
      }
      catch
      {
      }
    }

    private void \u0001(object _param1, EventArgs _param2)
    {
      try
      {
        long num1;
        if (true)
        {
          DateTime now = DateTime.Now;
          if (true)
            goto label_9;
label_1:
          DateTime dateTime;
          num1 = dateTime.Ticks;
          goto label_10;
label_9:
          dateTime = now;
          goto label_1;
        }
        else
          goto label_11;
label_10:
        long num2 = num1;
label_11:
        num1 = num2;
        if (true)
          goto label_12;
label_4:
        long num3;
        if (true)
          num3 = 10000000L;
        else
          goto label_10;
label_6:
        if (num1 <= num3)
          return;
        this.\u0001 = num2;
        this.\u0001();
        return;
label_12:
        long num4 = this.\u0001;
        if (true)
        {
          num1 -= num4;
          goto label_4;
        }
        else
        {
          num3 = num4;
          goto label_6;
        }
      }
      catch
      {
      }
    }

    internal MemoryManager()
    {
      Application.Idle += new EventHandler(this.\u0001);
      this.\u0001();
    }
  }
}
