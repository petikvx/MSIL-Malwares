// Decompiled with JetBrains decompiler
// Type: 607860947036.163567084209
// Assembly: 569990687827, Version=14.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: 58118FF0-4F0E-4F7B-A626-B24D4B565FEB
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Exploit.MSIL.Shellcode.gen-23ff706959b1522b1ea60243d4aeb9928372332bce1e128933386bf4f714f8ad.exe

using \u003259164374642;
using \u003607860947036;
using Microsoft.VisualStudio.Utilities.Internal;
using System;
using System.IO;

namespace \u003607860947036
{
  internal sealed class \u003163567084209
  {
    private readonly Uri \u003015469799027;

    private \u003163567084209(Uri uri, string hostId)
    {
      this.\u003015469799027 = uri;
      this.\u003259581639358 = this.\u003015469799027.IsFile;
      this.\u003821254168454 = this.\u003015469799027.IsFile ? Path.GetFullPath(this.\u003015469799027.LocalPath) : this.\u003015469799027.AbsoluteUri;
      this.\u003580834248535 = hostId;
    }

    public bool \u003259581639358 { get; }

    public string \u003821254168454 { get; }

    public string \u003580834248535 { get; }

    public static \u003163567084209 \u003052680111972(
      IRegistryTools _param0,
      string _param1,
      string _param2,
      string _param3)
    {
      CodeContract.RequiresArgumentNotNull<IRegistryTools>(_param0, "registryTools");
      CodeContract.RequiresArgumentNotNullAndNotEmpty(_param1, "hostId");
      CodeContract.RequiresArgumentNotNullAndNotEmpty(_param2, "baseUrl");
      CodeContract.RequiresArgumentNotNullAndNotEmpty(_param3, "relativePath");
      Uri uri = new Uri(_param2).\u003608950252554(_param1).\u003608950252554(_param3);
      Tuple<Uri, string> tuple = uri.\u003087738948944();
      string absoluteUri = tuple.Item1.AbsoluteUri;
      object fromCurrentUserRoot = _param0.GetRegistryValueFromCurrentUserRoot("Software\\Microsoft\\VisualStudio\\RemoteControl\\TestUrlMapping", absoluteUri, (object) null);
      if (fromCurrentUserRoot != null)
        uri = new Uri(fromCurrentUserRoot.ToString()).\u003608950252554(tuple.Item2);
      return new \u003163567084209(uri, _param1);
    }
  }
}
