// Decompiled with JetBrains decompiler
// Type: HospitalMgmtSys.Repository_Layer.EmployeeRepo
// Assembly: HospitalMgmtSys, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DCB6B3B1-E0A6-4826-8B58-606618F1AB2B
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Bingoml.gen-9cb0764ab0006460601b25b788c41cf1cd05b40ae92e5928ff13cd8267591767.exe

using HospitalMgmtSys.Data_Layer;
using System.Data;

namespace HospitalMgmtSys.Repository_Layer
{
  public class EmployeeRepo
  {
    public int EmpID { get; set; }

    public string Designation { get; set; }

    public int Salary { get; set; }

    public int CreateEmployee(string designation, int salary, int personid) => DataAccess.ExecuteQuery("insert into employee values('" + designation + "', '" + (object) salary + "', '" + (object) personid + "' )");

    public int UpdateEmployee(int id, string designation, int salary) => DataAccess.ExecuteQuery("update employee\n                            set designation = '" + designation + "',\n                            salary = '" + (object) salary + "'\n                            where empid = '" + (object) id + "';");

    public int DeleteEmployee(int id) => DataAccess.ExecuteQuery(string.Format("DELETE FROM employee WHERE empid = '" + (object) id + "'; "));

    public DataTable GetLastEmployee() => DataAccess.GetDataSet("SELECT TOP 1 * FROM EMPLOYEE ORDER BY personid DESC").Tables[0];
  }
}
