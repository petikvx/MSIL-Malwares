// Decompiled with JetBrains decompiler
// Type: kqgwry9pwXYtAJs2O.6A8vv9cmuNHhQLr36
// Assembly: bouNMGxVgGi4SRgWO, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60
// MVID: 3F6A2AF1-3CCB-4F01-AA36-FA31C2E4CFE8
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Backdoor.MSIL.Agent.gen-bc408b9f362db28b2e931ff336ec5661cc0ce27b0cdc0ce215fec1b7381aca7f.exe

using \u0030yULwemQnpOGKR6Mv;
using \u0033eVYd5LIQhZ7rzGZ2;
using fcxTd0CgJgB8stQvj;
using GUxwlAGXtz8Biqdzq;
using jlhFNVXvwEp5FRUh5;
using Microsoft.TemplateEngine.Abstractions;
using Microsoft.TemplateEngine.Core.Contracts;
using Microsoft.TemplateEngine.Utils;
using Newtonsoft.Json.Linq;
using PgLEPpSpDk54KWT6E;
using System;
using System.Collections.Generic;
using zjOMGQo4U7RNSpo2h;

namespace kqgwry9pwXYtAJs2O
{
  public class \u0036A8vv9cmuNHhQLr36 : IMacro, IIdentifiedComponent, IDeferredMacro
  {
    public Guid Qod9MvF7ZOrGEfkdG => new Guid("6A2C58E5-8743-484B-AF3C-536770D31CEE");

    public string oYKHKZnzUt0sJ80Lt => "join";

    public void \u0033S3BKGzObOiuxMqie(
      IEngineEnvironmentSettings TqiyfV4XC1aI4UJaH,
      IVariableCollection pVlwEWVGBSmvGAZum,
      IMacroConfig MzY6lCfi2jDcdoGCE,
      IParameterSet EwFxdTVvVdhlqY0Al,
      eudKo284TuJqIEahM GXaOdhCLr3CVJab3H)
    {
      if (!(MzY6lCfi2jDcdoGCE is D55ae6euZsvpdxAle d55ae6euZsvpdxAle))
        throw new InvalidCastException("Couldn't cast the rawConfig as ConcatenationMacroConfig");
      List<string> values = new List<string>();
      foreach (KeyValuePair<string, string> keyValuePair in (IEnumerable<KeyValuePair<string, string>>) d55ae6euZsvpdxAle.Ws6cMPB0To4PiFctj)
      {
        switch (keyValuePair.Key)
        {
          case "ref":
            object obj1;
            object obj2;
            string str = ((IDictionary<string, object>) pVlwEWVGBSmvGAZum).TryGetValue(keyValuePair.Value, out obj1) ? obj1?.ToString() ?? "" : (!RuntimeValueUtil.TryGetRuntimeValue(EwFxdTVvVdhlqY0Al, TqiyfV4XC1aI4UJaH, keyValuePair.Value, ref obj2, true) ? string.Empty : obj2.ToString());
            values.Add(str);
            continue;
          case "const":
            values.Add(keyValuePair.Value);
            continue;
          default:
            values.Add(keyValuePair.Value);
            continue;
        }
      }
      string str1 = string.Join(d55ae6euZsvpdxAle.hAibfyGU98N4O87IB, (IEnumerable<string>) values);
      ITemplateParameter itemplateParameter;
      ckgfOYwQVcmI3lHXN parameter;
      if (EwFxdTVvVdhlqY0Al.TryGetParameterDefinition(d55ae6euZsvpdxAle.IBte0MA4Ct9yDydyt, ref itemplateParameter))
      {
        parameter = (ckgfOYwQVcmI3lHXN) itemplateParameter;
        parameter.Cg57rESMJLQIVeHLw = true;
        if (string.IsNullOrEmpty(parameter.\u0038DBEv3DWcN5nNg1o1))
          parameter.\u0038DBEv3DWcN5nNg1o1 = d55ae6euZsvpdxAle.Xu93JSJ3a2AzKBxBb;
      }
      else
        parameter = new ckgfOYwQVcmI3lHXN()
        {
          Cg57rESMJLQIVeHLw = true,
          RWvAX7XIWjB7LsE1n = d55ae6euZsvpdxAle.IBte0MA4Ct9yDydyt,
          \u0038DBEv3DWcN5nNg1o1 = d55ae6euZsvpdxAle.Xu93JSJ3a2AzKBxBb
        };
      ((IDictionary<string, object>) pVlwEWVGBSmvGAZum)[d55ae6euZsvpdxAle.IBte0MA4Ct9yDydyt] = (object) str1;
      GXaOdhCLr3CVJab3H((ITemplateParameter) parameter, str1);
    }

    public IMacroConfig q6KUk2a4nFAZ6mCFG(
      IEngineEnvironmentSettings D7AXf2U6HXxT54Ren,
      IMacroConfig B8qCT1fwIasB2EDj0)
    {
      if (!(B8qCT1fwIasB2EDj0 is KZUSKKOdswxWjB6He kzuskkOdswxWjB6He))
        throw new InvalidCastException("Couldn't cast the rawConfig as a GeneratedSymbolDeferredMacroConfig");
      string empty = string.Empty;
      JToken jtoken1;
      if (kzuskkOdswxWjB6He.dYZjsKaakeS43shkR.TryGetValue("separator", out jtoken1))
        empty = ((object) jtoken1)?.ToString();
      List<KeyValuePair<string, string>> symbols = new List<KeyValuePair<string, string>>();
      JToken jtoken2;
      if (kzuskkOdswxWjB6He.dYZjsKaakeS43shkR.TryGetValue("symbols", out jtoken2))
      {
        foreach (JObject AxYz1PCII8bqfq9z9 in (JArray) jtoken2)
        {
          string key = ((JToken) AxYz1PCII8bqfq9z9).nVxA6yY1QJJUqxmoF("type");
          string str = ((JToken) AxYz1PCII8bqfq9z9).nVxA6yY1QJJUqxmoF("value");
          symbols.Add(new KeyValuePair<string, string>(key, str));
        }
      }
      return (IMacroConfig) new D55ae6euZsvpdxAle(kzuskkOdswxWjB6He.\u0036gh4E6uhQGL10SKFe, kzuskkOdswxWjB6He.xbfbgFpF57ZJB3TfG, (IList<KeyValuePair<string, string>>) symbols, empty);
    }
  }
}
