// Decompiled with JetBrains decompiler
// Type: s281263176400562.s538263490857989
// Assembly: s968508024776124, Version=2.0.47.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: E3596912-35E7-405B-A05A-F5F12AB5E292
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-b1729c7ae8423cc844b16aa10ca8ddd2b2331adbfb6646d80d73381fbc73a109.exe

using s608480027755992;
using System;
using System.Collections.Generic;
using System.IO;

namespace s281263176400562
{
  internal static class s538263490857989
  {
    public static void s040096590396402(string s202024136027402, string s026082258516944) => s538263490857989.s825272688857255(s202024136027402, s026082258516944, SearchOption.AllDirectories);

    public static void s825272688857255(
      string s953958725992734,
      string s113485287288788,
      SearchOption s997238672558303)
    {
      if (!Directory.Exists(s113485287288788))
        Directory.CreateDirectory(s113485287288788);
      foreach (string file in Directory.GetFiles(s953958725992734))
      {
        string s506869461985119 = Path.Combine(s113485287288788, Path.GetFileName(file));
        s916389884151353.s010768774102548(file, s506869461985119);
      }
      if (s997238672558303 != SearchOption.AllDirectories)
        return;
      foreach (string directory in Directory.GetDirectories(s953958725992734))
      {
        string s113485287288788_1 = Path.Combine(s113485287288788, Path.GetFileName(directory));
        s538263490857989.s825272688857255(directory, s113485287288788_1, s997238672558303);
      }
    }

    public static int s638795668894298(string s568113146768545)
    {
      if (!Directory.Exists(s568113146768545))
        return 0;
      int num = 0;
      foreach (string file in Directory.GetFiles(s568113146768545))
      {
        if (!s916389884151353.s760644410246924(file))
          ++num;
      }
      foreach (string directory in Directory.GetDirectories(s568113146768545))
        num += s538263490857989.s638795668894298(directory);
      if (num == 0)
      {
        try
        {
          Directory.Delete(s568113146768545, true);
        }
        catch
        {
          ++num;
        }
      }
      else
        ++num;
      return num;
    }

    public static bool s287869975024417(string s071886655570243, int s099890033995521)
    {
      if (!Directory.Exists(s071886655570243))
        return true;
      string[] directories = Directory.GetDirectories(s071886655570243);
      int num = directories.Length - s099890033995521;
      if (num <= 0)
        return true;
      Array.Sort<string>(directories, (Comparison<string>) ((s622555869137783, s085028988182275) => File.GetLastWriteTimeUtc(s622555869137783).CompareTo(File.GetLastWriteTimeUtc(s085028988182275))));
      bool flag = true;
      for (int index = 0; index < num; ++index)
      {
        try
        {
          Directory.Delete(directories[index]);
        }
        catch (Exception ex)
        {
          flag = false;
        }
      }
      return flag;
    }

    public static IEnumerable<string> s238157146833749(
      string s827207174565244,
      string s934281362278427,
      SearchOption s444700104961959)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      s538263490857989.s357319110131731 s357319110131731 = new s538263490857989.s357319110131731(-2);
      // ISSUE: reference to a compiler-generated field
      ((s538263490857989.s380043525593959) s357319110131731).s017844910451093 = s827207174565244;
      // ISSUE: reference to a compiler-generated field
      ((s538263490857989.s380043525593959) s357319110131731).s790533377591682 = s934281362278427;
      // ISSUE: reference to a compiler-generated field
      ((s538263490857989.s380043525593959) s357319110131731).s760242251720411 = s444700104961959;
      return (IEnumerable<string>) s357319110131731;
    }

    public static IEnumerable<string> s510480812924182(
      string s334506716118728,
      string s928362422140049 = "*")
    {
      return s538263490857989.s238157146833749(s334506716118728, s928362422140049, SearchOption.TopDirectoryOnly);
    }
  }
}
