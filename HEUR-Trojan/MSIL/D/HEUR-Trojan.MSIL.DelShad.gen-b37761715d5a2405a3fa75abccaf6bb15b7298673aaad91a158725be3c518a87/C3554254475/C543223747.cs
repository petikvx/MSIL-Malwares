// Decompiled with JetBrains decompiler
// Type: C3554254475.C543223747
// Assembly: Google Software Update, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 1ECCB2B4-E3D0-48EA-84ED-06938D43796B
// Assembly location: C:\Users\Administrateur\Downloads\toto\HEUR-Trojan.MSIL.DelShad.gen-b37761715d5a2405a3fa75abccaf6bb15b7298673aaad91a158725be3c518a87.exe

using \u003Cdion2ntty2ic0uyoe\u003E\u007B43570453\u002D3AD8\u002D4A5B\u002DB273\u002D83DF8156D820\u007D;
using System;
using System.Diagnostics;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Text;
using System.Windows.Forms;

namespace C3554254475
{
  internal static class C543223747
  {
    internal const int C3554254475 = 260;
    internal const long C3554254475 = -1;
    internal const uint C3554254475 = 1;
    internal const uint C3904355907 = 2;
    internal const uint C1255198513 = 2097152;
    internal const int C3904355907 = 64;
    internal static readonly Guid C3554254475 = new Guid(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CZ());
    private static bool? C3554254475 = new bool?();
    private static System.Type C3554254475 = (System.Type) null;
    private static System.Type C3904355907 = (System.Type) null;
    private const string C3554254475 = "libgcrypt.so.20";
    internal const int C1255198513 = 9;
    internal const int C1908338681 = 1;

    [DllImport("KeePassLibC32.dll", EntryPoint = "TransformKey256")]
    [return: MarshalAs(UnmanagedType.Bool)]
    private static extern bool C3554254475([In] IntPtr obj0, [In] IntPtr obj1, [In] ulong obj2);

    [DllImport("KeePassLibC64.dll", EntryPoint = "TransformKey256")]
    [return: MarshalAs(UnmanagedType.Bool)]
    private static extern bool C3904355907([In] IntPtr obj0, [In] IntPtr obj1, [In] ulong obj2);

    internal static bool C1255198513([In] IntPtr obj0, [In] IntPtr obj1, [In] ulong obj2) => IntPtr.Size == 4 ? C543223747.C3554254475(obj0, obj1, obj2) : C543223747.C3904355907(obj0, obj1, obj2);

    [DllImport("KeePassLibC32.dll", EntryPoint = "TransformKeyBenchmark256")]
    private static extern ulong C3554254475([In] uint obj0);

    [DllImport("KeePassLibC64.dll", EntryPoint = "TransformKeyBenchmark256")]
    private static extern ulong C3904355907([In] uint obj0);

    internal static ulong C1255198513([In] uint obj0) => IntPtr.Size == 4 ? C543223747.C3554254475(obj0) : C543223747.C3904355907(obj0);

    [DllImport("KeePassLibC32.dll", EntryPoint = "ProtectProcessWithDacl")]
    private static extern void C3554254475();

    [DllImport("KeePassLibC64.dll", EntryPoint = "ProtectProcessWithDacl")]
    private static extern void C3904355907();

    internal static void C1255198513()
    {
      try
      {
        if (C1812594589.C1908338681())
          return;
        if (IntPtr.Size == 4)
          C543223747.C3554254475();
        else
          C543223747.C3904355907();
      }
      catch (Exception ex)
      {
        Debug.Assert(false);
      }
    }

    [DllImport("Kernel32.dll", EntryPoint = "CloseHandle", SetLastError = true)]
    [return: MarshalAs(UnmanagedType.Bool)]
    internal static extern bool C3554254475([In] IntPtr obj0);

    [DllImport("Kernel32.dll", EntryPoint = "GetVolumeInformation", CharSet = CharSet.Auto, SetLastError = true)]
    [return: MarshalAs(UnmanagedType.Bool)]
    internal static extern bool C3554254475(
      [In] string obj0,
      [In] StringBuilder obj1,
      [In] uint obj2,
      [In] ref uint obj3,
      [In] ref uint obj4,
      [In] ref uint obj5,
      [In] StringBuilder obj6,
      [In] uint obj7);

    [DllImport("Kernel32.dll", EntryPoint = "MoveFileEx", CharSet = CharSet.Auto, SetLastError = true)]
    [return: MarshalAs(UnmanagedType.Bool)]
    internal static extern bool C3554254475([In] string obj0, [In] string obj1, [In] uint obj2);

    [DllImport("KtmW32.dll", EntryPoint = "CreateTransaction", CharSet = CharSet.Unicode, SetLastError = true)]
    internal static extern IntPtr C3554254475(
      [In] IntPtr obj0,
      [In] IntPtr obj1,
      [In] uint obj2,
      [In] uint obj3,
      [In] uint obj4,
      [In] uint obj5,
      [In] string obj6);

    [DllImport("KtmW32.dll", EntryPoint = "CommitTransaction", SetLastError = true)]
    [return: MarshalAs(UnmanagedType.Bool)]
    internal static extern bool C3904355907([In] IntPtr obj0);

    [DllImport("Kernel32.dll", EntryPoint = "MoveFileTransacted", CharSet = CharSet.Auto, SetLastError = true)]
    [return: MarshalAs(UnmanagedType.Bool)]
    internal static extern bool C3554254475(
      [In] string obj0,
      [In] string obj1,
      [In] IntPtr obj2,
      [In] IntPtr obj3,
      [In] uint obj4,
      [In] IntPtr obj5);

    [DllImport("Shell32.dll", EntryPoint = "SHGetKnownFolderPath")]
    private static extern int C3554254475(
      [In] ref Guid obj0,
      [In] uint obj1,
      [In] IntPtr obj2,
      out IntPtr _param3);

    [DllImport("ShlWApi.dll", EntryPoint = "PathRelativePathTo", CharSet = CharSet.Auto)]
    [return: MarshalAs(UnmanagedType.Bool)]
    internal static extern bool C3554254475(
      [Out] StringBuilder _param0,
      [In] string _param1,
      [In] uint obj2,
      [In] string _param3,
      [In] uint obj4);

    [DllImport("ShlWApi.dll", EntryPoint = "StrCmpLogicalW", CharSet = CharSet.Unicode)]
    private static extern int C3554254475([In] string obj0, [In] string obj1);

    private static void C1908338681()
    {
      try
      {
        C543223747.C3554254475(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cv(), DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cv());
        C543223747.C3554254475 = new bool?(true);
      }
      catch (Exception ex)
      {
        C543223747.C3554254475 = new bool?(false);
      }
    }

    [SpecialName]
    internal static bool C1037565863()
    {
      if (!C543223747.C3554254475.HasValue)
        C543223747.C1908338681();
      return C543223747.C3554254475.Value;
    }

    internal static int C3904355907([In] string obj0, [In] string obj1)
    {
      if (C543223747.C1037565863())
        return C543223747.C3554254475(obj0, obj1);
      Debug.Assert(false);
      return string.Compare(obj0, obj1, true);
    }

    internal static string C3554254475([In] Guid obj0)
    {
      if (Marshal.SystemDefaultCharSize != 2)
      {
        Debug.Assert(false);
        return string.Empty;
      }
      IntPtr zero = IntPtr.Zero;
      try
      {
        if (C543223747.C3554254475(ref obj0, 0U, IntPtr.Zero, out zero) == 0)
        {
          if (zero != IntPtr.Zero)
            return Marshal.PtrToStringUni(zero);
          Debug.Assert(false);
        }
      }
      catch (Exception ex)
      {
        Debug.Assert(false);
      }
      finally
      {
        try
        {
          if (zero != IntPtr.Zero)
            Marshal.FreeCoTaskMem(zero);
        }
        catch (Exception ex)
        {
          Debug.Assert(false);
        }
      }
      return string.Empty;
    }

    [DllImport("libX11", EntryPoint = "XSetClassHint")]
    private static extern int C3554254475([In] IntPtr obj0, [In] IntPtr obj1, [In] IntPtr obj2);

    private static System.Type C3554254475([In] bool obj0)
    {
      if (C543223747.C3554254475 == (System.Type) null)
        C543223747.C3554254475 = System.Type.GetType(typeof (CheckState).AssemblyQualifiedName.Replace(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CW(), DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cw()), obj0, true);
      return C543223747.C3554254475;
    }

    private static System.Type C3904355907([In] bool obj0)
    {
      if (C543223747.C3904355907 == (System.Type) null)
        C543223747.C3904355907 = System.Type.GetType(typeof (CheckState).AssemblyQualifiedName.Replace(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CW(), DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CX()), obj0, true);
      return C543223747.C3904355907;
    }

    internal static void C3554254475([In] Form obj0, [In] string obj1, [In] string obj2)
    {
      if (obj0 == null)
      {
        Debug.Assert(false);
      }
      else
      {
        if (C1812594589.C1037565863() == PlatformID.MacOSX)
          return;
        try
        {
          IntPtr num1 = (IntPtr) C543223747.C3554254475(true).GetField(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cx(), BindingFlags.Static | BindingFlags.NonPublic).GetValue((object) null);
          System.Type type = C543223747.C3904355907(true);
          object obj = type.GetMethod(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.CY(), BindingFlags.Static | BindingFlags.Public).Invoke((object) null, new object[1]
          {
            (object) obj0.Handle
          });
          IntPtr num2 = (IntPtr) type.GetField(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Cy(), BindingFlags.Instance | BindingFlags.NonPublic).GetValue(obj);
          C543223747.C3554254475 structure = new C543223747.C3554254475();
          structure.C3554254475 = Marshal.StringToCoTaskMemAnsi(obj1 ?? string.Empty);
          structure.C3904355907 = Marshal.StringToCoTaskMemAnsi(obj2 ?? string.Empty);
          IntPtr ptr = Marshal.AllocCoTaskMem(Marshal.SizeOf<C543223747.C3554254475>(structure));
          Marshal.StructureToPtr<C543223747.C3554254475>(structure, ptr, false);
          C543223747.C3554254475(num1, num2, ptr);
          Marshal.FreeCoTaskMem(ptr);
          Marshal.FreeCoTaskMem(structure.C3554254475);
          Marshal.FreeCoTaskMem(structure.C3904355907);
        }
        catch (Exception ex)
        {
          Debug.Assert(false);
        }
      }
    }

    [DllImport("libgcrypt.so.20", EntryPoint = "gcry_check_version")]
    internal static extern IntPtr C1255198513([In] IntPtr obj0);

    [DllImport("libgcrypt.so.20", EntryPoint = "gcry_cipher_open")]
    internal static extern uint C3554254475([In] ref IntPtr obj0, [In] int obj1, [In] int obj2, [In] uint obj3);

    [DllImport("libgcrypt.so.20", EntryPoint = "gcry_cipher_close")]
    internal static extern void C1908338681([In] IntPtr obj0);

    [DllImport("libgcrypt.so.20", EntryPoint = "gcry_cipher_setkey")]
    internal static extern uint C3904355907([In] IntPtr obj0, [In] IntPtr obj1, [In] IntPtr obj2);

    [DllImport("libgcrypt.so.20", EntryPoint = "gcry_cipher_encrypt")]
    internal static extern uint C3554254475(
      [In] IntPtr obj0,
      [In] IntPtr obj1,
      [In] IntPtr obj2,
      [In] IntPtr obj3,
      [In] IntPtr obj4);

    private struct C3554254475
    {
      public IntPtr C3554254475;
      public IntPtr C3904355907;
    }
  }
}
