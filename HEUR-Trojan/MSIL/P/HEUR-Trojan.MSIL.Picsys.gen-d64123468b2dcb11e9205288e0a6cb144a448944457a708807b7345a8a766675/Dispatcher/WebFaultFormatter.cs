// Decompiled with JetBrains decompiler
// Type: System.ServiceModel.Dispatcher.WebFaultFormatter
// Assembly: Microsoft.Transactions.Bridge, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 51116F84-6FE2-4BD6-A908-2C88E06F45BB
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.07\HEUR-Trojan.MSIL.Picsys.gen-d64123468b2dcb11e9205288e0a6cb144a448944457a708807b7345a8a766675.exe

using System.Runtime;
using System.ServiceModel.Channels;

namespace System.ServiceModel.Dispatcher
{
  internal class WebFaultFormatter : IDispatchFaultFormatter, IDispatchFaultFormatterWrapper
  {
    private IDispatchFaultFormatter faultFormatter;

    internal WebFaultFormatter(IDispatchFaultFormatter faultFormatter) => this.faultFormatter = faultFormatter;

    public MessageFault Serialize(FaultException faultException, out string action)
    {
      try
      {
        return this.faultFormatter.Serialize(faultException, out action);
      }
      catch (Exception ex)
      {
        if (Fx.IsFatal(ex))
        {
          throw;
        }
        else
        {
          action = (string) null;
          return MessageFault.Default;
        }
      }
    }

    public IDispatchFaultFormatter InnerFaultFormatter
    {
      get => this.faultFormatter;
      set => this.faultFormatter = value;
    }
  }
}
