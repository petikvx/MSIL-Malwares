// Decompiled with JetBrains decompiler
// Type: s778197286190734.s925951592459057
// Assembly: s778197286190734, Version=16.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: B8DB6840-BCA0-4EC3-93C1-1E026E238560
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan.MSIL.PowerShell.gen-541fbec081719c440d95155189e5f90573351b94bbae41393656e91ca641bffa.exe

using MySql.Data.MySqlClient;
using s507292234282099;
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Data.Common;
using System.Drawing;
using System.IO;
using System.Windows.Forms;

namespace s778197286190734
{
  public class s925951592459057 : Form
  {
    public static List<s439108322267089> s279609901789673 = new List<s439108322267089>();
    private MySqlConnection s845501380418453;
    private IContainer s701602129452943 = (IContainer) null;
    private Panel s968982591025373;
    private Button s019855770578292;
    private s671180858778338 s479280825512769;
    private s670552820824405 s237486534632279;

    public s925951592459057() => this.s110023533926669();

    private void s059922430367203(object s728536673364046, EventArgs s109617408189106)
    {
      if (this.s019855770578292.Text.Contains("Tambah"))
      {
        this.s019855770578292.Text = "Tampil Film";
        ((DbConnection) this.s845501380418453).Close();
        this.s237486534632279.s818237004616572((s443341113588128) 1);
      }
      else
      {
        this.s019855770578292.Text = "Tambah Film";
        this.s479280825512769.BringToFront();
        this.s005086762243457();
      }
    }

    private void s017719787277722(object s106709462637840, EventArgs s470644964786860) => this.s479280825512769.BringToFront();

    public void s315707870596665()
    {
      if (((DbConnection) this.s845501380418453).State == ConnectionState.Open)
      {
        ((DbConnection) this.s845501380418453).Close();
        ((DbConnection) this.s845501380418453).Open();
      }
      if (((DbConnection) this.s845501380418453).State == ConnectionState.Open)
        return;
      ((DbConnection) this.s845501380418453).Open();
    }

    public void s005086762243457()
    {
      this.s315707870596665();
      s925951592459057.s279609901789673.Clear();
      this.s479280825512769.s798254980401694.Controls.Clear();
      MySqlCommand mySqlCommand = new MySqlCommand();
      mySqlCommand.Connection = this.s845501380418453;
      ((DbCommand) mySqlCommand).CommandText = "SELECT id_film,judul,sinopsis,gambar FROM daftar_film";
      MySqlDataAdapter mySqlDataAdapter = new MySqlDataAdapter(mySqlCommand);
      DataTable dataTable = new DataTable();
      ((DbDataAdapter) mySqlDataAdapter).Fill(dataTable);
      for (int index = 0; index < dataTable.Rows.Count; ++index)
      {
        s439108322267089 s439108322267089 = new s439108322267089();
        s439108322267089.s976151485318157 = dataTable.Rows[index][0].ToString();
        s439108322267089.s370064673239183 = dataTable.Rows[index][1].ToString();
        s439108322267089.s907183904428459 = dataTable.Rows[index][2].ToString();
        MemoryStream memoryStream = new MemoryStream((byte[]) dataTable.Rows[index][3]);
        s439108322267089.s033505130659656 = Image.FromStream((Stream) memoryStream);
        s439108322267089.s446333226289077 = new Action<string>(this.s971520097999958);
        s439108322267089.s971971344100342 = new Action<string>(this.s679937318350731);
        s925951592459057.s279609901789673.Add(s439108322267089);
      }
      this.s479280825512769.s798254980401694.Controls.AddRange((Control[]) s925951592459057.s279609901789673.ToArray());
    }

    private void s016490306983983()
    {
      this.s237486534632279.s226923941026871 = new Action(this.s965336818968012);
      this.s237486534632279.s564752635691933 = new Action<string>(this.s547966522847121);
      this.s237486534632279.s493708225311335 = new Action(this.s981367448318896);
    }

    private void s084181569942209(object s871236548274800, EventArgs s017211402378576)
    {
      this.s845501380418453 = new MySqlConnection("Server=localhost;Database=bioskop_tixket_id;Uid=root;Pwd=;");
      try
      {
        this.s315707870596665();
        Console.WriteLine("Connection Berhasil dibuka!!!");
      }
      catch (MySqlException ex)
      {
        int num = (int) MessageBox.Show("Error: " + ((Exception) ex).Message);
      }
      this.s005086762243457();
      this.s016490306983983();
    }

    private void s981367448318896()
    {
      OpenFileDialog openFileDialog1 = new OpenFileDialog();
      openFileDialog1.Filter = "Choose Image(*.jpg; *.png)|*.jpg; *.png";
      OpenFileDialog openFileDialog2 = openFileDialog1;
      if (openFileDialog2.ShowDialog() != DialogResult.OK)
        return;
      this.s237486534632279.s340261070393196 = Image.FromFile(openFileDialog2.FileName);
    }

    private void s965336818968012()
    {
      this.s315707870596665();
      MySqlCommand mySqlCommand = new MySqlCommand();
      mySqlCommand.Connection = this.s845501380418453;
      ((DbCommand) mySqlCommand).CommandText = "INSERT INTO daftar_film (id_film,judul,sinopsis,gambar,nama_bioskop,lokasi,harga,jadwal_tayang,durasi_film_menit) values (@id_film,@judul,@sinopsis,@gambar,@nama_bioskop,@lokasi,@harga,@jadwal_tayang,@durasi_film_menit)";
      mySqlCommand.Parameters.AddWithValue("@id_film", (object) ((s945425152999808) this.s237486534632279).get_IdFilm());
      mySqlCommand.Parameters.AddWithValue("@judul", (object) this.s237486534632279.s535671550962423);
      mySqlCommand.Parameters.AddWithValue("@sinopsis", (object) this.s237486534632279.s729319128496241);
      MemoryStream memoryStream = new MemoryStream();
      this.s237486534632279.s340261070393196.Save((Stream) memoryStream, this.s237486534632279.s340261070393196.RawFormat);
      byte[] array = memoryStream.ToArray();
      mySqlCommand.Parameters.AddWithValue("@gambar", (object) array);
      mySqlCommand.Parameters.AddWithValue("@nama_bioskop", (object) this.s237486534632279.s286560423927579);
      mySqlCommand.Parameters.AddWithValue("@lokasi", (object) this.s237486534632279.s306521580331369);
      mySqlCommand.Parameters.AddWithValue("@harga", (object) this.s237486534632279.s733643296396524);
      mySqlCommand.Parameters.AddWithValue("@jadwal_tayang", (object) this.s237486534632279.s579036351732085);
      mySqlCommand.Parameters.AddWithValue("@durasi_film_menit", (object) this.s237486534632279.s653306740007107);
      try
      {
        int num1 = ((DbCommand) mySqlCommand).ExecuteNonQuery();
        if (num1 > 0)
        {
          int num2 = (int) MessageBox.Show("Data berhasil dimasukkan!!!");
          Console.WriteLine("{0} row/rows affected", (object) num1);
        }
        else
        {
          int num3 = (int) MessageBox.Show("Data tidak berhasil diinput, Try Again!!!");
        }
      }
      catch (MySqlException ex)
      {
        int num = (int) MessageBox.Show("Error Data tidak berhasil diInput\n" + ((Exception) ex).Message);
      }
      ((DbConnection) this.s845501380418453).Close();
    }

    private void s679937318350731(string s020416155564437)
    {
      try
      {
        this.s315707870596665();
        MySqlCommand mySqlCommand = new MySqlCommand();
        mySqlCommand.Connection = this.s845501380418453;
        ((DbCommand) mySqlCommand).CommandText = "DELETE FROM daftar_film WHERE id_film = @idFilm";
        mySqlCommand.Parameters.AddWithValue("@idFilm", (object) s020416155564437);
        int num = ((DbCommand) mySqlCommand).ExecuteNonQuery();
        ((DbConnection) this.s845501380418453).Close();
        if (num <= 0 || MessageBox.Show(string.Format("data dengan id {0} berhasil dihapus", (object) s020416155564437)) != DialogResult.OK)
          return;
        this.s005086762243457();
      }
      catch (MySqlException ex)
      {
        int num = (int) MessageBox.Show("Error: " + ((Exception) ex).Message);
      }
    }

    private void s971520097999958(string s446525901525894)
    {
      try
      {
        this.s315707870596665();
        this.s019855770578292.Text = "Tampil Film";
        this.s237486534632279.s818237004616572((s443341113588128) 0);
        MySqlCommand mySqlCommand = new MySqlCommand();
        mySqlCommand.Connection = this.s845501380418453;
        ((DbCommand) mySqlCommand).CommandText = "SELECT id_film,judul,sinopsis,gambar,nama_bioskop,lokasi,harga,jadwal_tayang,durasi_film_menit FROM daftar_film WHERE id_film = @idFilm";
        mySqlCommand.Parameters.AddWithValue("@idFilm", (object) s446525901525894);
        MySqlDataReader mySqlDataReader = mySqlCommand.ExecuteReader();
        if (!((DbDataReader) mySqlDataReader).Read())
          return;
        this.s237486534632279.s596061146319067 = ((DbDataReader) mySqlDataReader)["id_film"].ToString();
        this.s237486534632279.s535671550962423 = ((DbDataReader) mySqlDataReader)["judul"].ToString();
        this.s237486534632279.s729319128496241 = ((DbDataReader) mySqlDataReader)["sinopsis"].ToString();
        this.s237486534632279.s286560423927579 = ((DbDataReader) mySqlDataReader)["nama_bioskop"].ToString();
        this.s237486534632279.s306521580331369 = ((DbDataReader) mySqlDataReader)["lokasi"].ToString();
        this.s237486534632279.s733643296396524 = (int) ((DbDataReader) mySqlDataReader)["harga"];
        this.s237486534632279.s579036351732085 = (DateTime) ((DbDataReader) mySqlDataReader)["jadwal_tayang"];
        this.s237486534632279.s653306740007107 = (int) ((DbDataReader) mySqlDataReader)["durasi_film_menit"];
        this.s237486534632279.s340261070393196 = Image.FromStream((Stream) new MemoryStream((byte[]) ((DbDataReader) mySqlDataReader)["gambar"]));
      }
      catch (MySqlException ex)
      {
        int num = (int) MessageBox.Show("Error: " + ((Exception) ex).Message);
      }
    }

    private void s547966522847121(string s507069161741905)
    {
      this.s315707870596665();
      MySqlCommand mySqlCommand = new MySqlCommand("UPDATE daftar_film SET judul = @judul,sinopsis = @sinopsis,gambar = @gambar,nama_bioskop = @nama_bioskop,lokasi = @lokasi,harga = @harga,jadwal_tayang = @jadwal_tayang,durasi_film_menit = @durasi_film_menit WHERE id_film = @id_film", this.s845501380418453);
      mySqlCommand.Parameters.AddWithValue("@id_film", (object) s507069161741905);
      mySqlCommand.Parameters.AddWithValue("@judul", (object) this.s237486534632279.s535671550962423);
      mySqlCommand.Parameters.AddWithValue("@sinopsis", (object) this.s237486534632279.s729319128496241);
      MemoryStream memoryStream = new MemoryStream();
      this.s237486534632279.s340261070393196.Save((Stream) memoryStream, this.s237486534632279.s340261070393196.RawFormat);
      byte[] array = memoryStream.ToArray();
      mySqlCommand.Parameters.AddWithValue("@gambar", (object) array);
      mySqlCommand.Parameters.AddWithValue("@nama_bioskop", (object) this.s237486534632279.s286560423927579);
      mySqlCommand.Parameters.AddWithValue("@lokasi", (object) this.s237486534632279.s306521580331369);
      mySqlCommand.Parameters.AddWithValue("@harga", (object) this.s237486534632279.s733643296396524);
      mySqlCommand.Parameters.AddWithValue("@jadwal_tayang", (object) this.s237486534632279.s579036351732085);
      mySqlCommand.Parameters.AddWithValue("@durasi_film_menit", (object) this.s237486534632279.s653306740007107);
      try
      {
        int num1 = ((DbCommand) mySqlCommand).ExecuteNonQuery();
        if (num1 > 0)
        {
          int num2 = (int) MessageBox.Show("Data berhasil diperbaharui!!!");
          Console.WriteLine("{0} row/rows affected", (object) num1);
        }
        else
        {
          int num3 = (int) MessageBox.Show("Data tidak berhasil diperbaharui, Try Again!!!");
        }
      }
      catch (MySqlException ex)
      {
        int num = (int) MessageBox.Show("Error Data tidak berhasil diperbaharui\n" + ((Exception) ex).Message);
      }
      ((DbConnection) this.s845501380418453).Close();
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.s701602129452943 != null)
        this.s701602129452943.Dispose();
      base.Dispose(disposing);
    }

    private void s110023533926669()
    {
      this.s968982591025373 = new Panel();
      this.s237486534632279 = new s670552820824405();
      this.s479280825512769 = new s671180858778338();
      this.s019855770578292 = new Button();
      this.s968982591025373.SuspendLayout();
      this.SuspendLayout();
      this.s968982591025373.Controls.Add((Control) this.s237486534632279);
      this.s968982591025373.Controls.Add((Control) this.s479280825512769);
      this.s968982591025373.Location = new Point(12, 54);
      this.s968982591025373.Name = "panel1";
      this.s968982591025373.Size = new Size(1045, 476);
      this.s968982591025373.TabIndex = 2;
      this.s237486534632279.s493708225311335 = (Action) null;
      this.s237486534632279.s653306740007107 = 0;
      this.s237486534632279.s340261070393196 = (Image) null;
      this.s237486534632279.s733643296396524 = 1000;
      this.s237486534632279.s596061146319067 = (string) null;
      this.s237486534632279.s226923941026871 = (Action) null;
      this.s237486534632279.s579036351732085 = new DateTime(2019, 6, 19, 0, 0, 0, 0);
      this.s237486534632279.s535671550962423 = (string) null;
      this.s237486534632279.Location = new Point(0, 0);
      this.s237486534632279.s306521580331369 = (string) null;
      this.s237486534632279.s286560423927579 = (string) null;
      this.s237486534632279.Name = "tambahFilmControl1";
      this.s237486534632279.s729319128496241 = (string) null;
      this.s237486534632279.Size = new Size(1045, 476);
      this.s237486534632279.TabIndex = 1;
      this.s479280825512769.BorderStyle = BorderStyle.FixedSingle;
      this.s479280825512769.Location = new Point(0, 0);
      this.s479280825512769.Name = "daftarFilmControl1";
      this.s479280825512769.Size = new Size(1045, 476);
      this.s479280825512769.TabIndex = 0;
      this.s019855770578292.Location = new Point(926, 11);
      this.s019855770578292.Name = "tambahFilmButton";
      this.s019855770578292.Size = new Size(131, 37);
      this.s019855770578292.TabIndex = 3;
      this.s019855770578292.Text = "Tambah Film";
      this.s019855770578292.UseVisualStyleBackColor = true;
      this.s019855770578292.Click += new EventHandler(this.s059922430367203);
      this.AutoScaleDimensions = new SizeF(8f, 16f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(1072, 542);
      this.Controls.Add((Control) this.s019855770578292);
      this.Controls.Add((Control) this.s968982591025373);
      this.Name = nameof (s925951592459057);
      this.StartPosition = FormStartPosition.CenterScreen;
      this.Text = "Admin Tixket ID";
      this.Load += new EventHandler(this.s017719787277722);
      this.Shown += new EventHandler(this.s084181569942209);
      this.s968982591025373.ResumeLayout(false);
      this.ResumeLayout(false);
    }
  }
}
