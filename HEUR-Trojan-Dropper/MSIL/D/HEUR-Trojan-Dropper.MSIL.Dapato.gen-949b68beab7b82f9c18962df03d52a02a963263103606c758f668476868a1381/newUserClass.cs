// Decompiled with JetBrains decompiler
// Type: AltiumManager.newUserClass
// Assembly: LeOcHwILpefYMF8, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: A7C159C0-2645-0515-18CC-33AA0158F2C6
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.06-msil\HEUR-Trojan-Dropper.MSIL.Dapato.gen-949b68beab7b82f9c18962df03d52a02a963263103606c758f668476868a1381.exe

using AltiumManager.AltiumDatabaseDataSetTableAdapters;
using System;
using System.Data;
using System.Text.RegularExpressions;

namespace AltiumManager
{
  public class newUserClass
  {
    private string pUserName;
    private string pUserPass;
    private string pUserRole;
    private string pUserEmail;

    public string userName
    {
      get
      {
label_7:
        int num1 = 12;
        int num2 = -62;
        string pUserName;
        while (true)
        {
          switch ((num2 ^ 94) + 103)
          {
            case 0:
              RuntimeMethodHandle runtimeMethodHandle1 = __methodref (newUserClass.get_userName);
              num2 = -57;
              continue;
            case 1:
              switch (num1)
              {
                case 107:
                  pUserName = this.pUserName;
                  num1 = 10;
                  goto label_1;
                case 108:
                  RuntimeMethodHandle runtimeMethodHandle2 = __methodref (newUserClass.checkAllData);
                  num1 = 11;
                  goto label_1;
                case 109:
                case 110:
                  goto label_10;
                default:
                  num2 = -59;
                  continue;
              }
            case 2:
              goto label_7;
            case 3:
label_1:
              num1 ^= 103;
              break;
          }
          num2 = sandBoxPart.\uEB44\uF432\uF881\uF8EC\uE0C2\uE511\uEEC6\uE36D\uF8FE\uEE87\uEB15\uE281(106);
        }
label_10:
        return pUserName;
      }
      set => this.pUserName = value;
    }

    public string userPassword
    {
      get
      {
label_4:
        int num1 = AltiumDatabaseDataSet.\uF5B4\uEBB6\uED16\uE0FF\uE59B\uF026\uEFAB\uE051\uE189\uE10C\uF7F9\uF6D6(68);
        int num2 = 13;
        string pUserPass;
        while (true)
        {
          switch (num2 ^ 104)
          {
            case 98:
              goto label_4;
            case 99:
              switch (num1 + 102)
              {
                case 0:
                case 3:
                  goto label_10;
                case 1:
                  RuntimeMethodHandle runtimeMethodHandle1 = __methodref (newUserClass.get_userRole);
                  num1 = AltiumDatabaseDataSet.ReleasedComponentsRowChangeEvent.\uE4B1\uE099\uEB2D\uF713\uEFE2\uE494\uE2B4\uEB29\uE7EC\uF1B8\uE270\uF6F7(62);
                  goto label_1;
                case 2:
                  pUserPass = this.pUserPass;
                  num1 = -3;
                  goto label_1;
                default:
                  num2 = 10;
                  continue;
              }
            case 100:
              RuntimeMethodHandle runtimeMethodHandle2 = __methodref (newUserClass.userAvailable);
              num2 = 12;
              continue;
            case 101:
label_1:
              num1 ^= 103;
              break;
          }
          num2 = 11;
        }
label_10:
        return pUserPass;
      }
      set => this.pUserPass = value;
    }

    public string userRole
    {
      get
      {
label_6:
        int num1 = AltiumDatabaseDataSet.ReleasedComponentsRowChangeEvent.\uE4B1\uE099\uEB2D\uF713\uEFE2\uE494\uE2B4\uEB29\uE7EC\uF1B8\uE270\uF6F8(77);
        int num2 = -2;
        string pUserRole;
        while (true)
        {
          switch ((num2 ^ 94) + 99)
          {
            case 0:
              switch (num1 + 100)
              {
                case 0:
                  pUserRole = this.pUserRole;
                  num1 = -11;
                  goto label_1;
                case 1:
                case 3:
                  goto label_10;
                case 2:
                  RuntimeMethodHandle runtimeMethodHandle1 = __methodref (newUserClass.get_userEmail);
                  num1 = -10;
                  goto label_1;
                default:
                  num2 = sandBoxPart.\uEB44\uF432\uF881\uF8EC\uE0C2\uE511\uEEC6\uE36D\uF8FE\uEE87\uEB15\uE281(83);
                  continue;
              }
            case 1:
              goto label_6;
            case 2:
              RuntimeMethodHandle runtimeMethodHandle2 = __methodref (newUserClass.get_userEmail);
              num2 = -63;
              continue;
            case 3:
label_1:
              num1 ^= 104;
              break;
          }
          num2 = AltiumDatabaseDataSet.ReleasedComponentsRowChangeEvent.\uE4B1\uE099\uEB2D\uF713\uEFE2\uE494\uE2B4\uEB29\uE7EC\uF1B8\uE270\uF6F8(93);
        }
label_10:
        return pUserRole;
      }
      set => this.pUserRole = value;
    }

    public string userEmail
    {
      get
      {
label_7:
        int num1 = 15;
        int num2 = 8;
        string pUserEmail;
        while (true)
        {
          switch (num2 ^ 107)
          {
            case 96:
              RuntimeMethodHandle runtimeMethodHandle1 = __methodref (newUserClass.get_userRole);
              num2 = 11;
              continue;
            case 97:
              switch (num1)
              {
                case 103:
                  RuntimeMethodHandle runtimeMethodHandle2 = __methodref (newUserClass.checkAllData);
                  num1 = 1;
                  goto label_1;
                case 104:
                case 106:
                  goto label_10;
                case 105:
                  pUserEmail = this.pUserEmail;
                  num1 = 14;
                  goto label_1;
                default:
                  num2 = 9;
                  continue;
              }
            case 98:
              goto label_7;
            case 99:
label_1:
              num1 ^= 102;
              break;
          }
          num2 = 10;
        }
label_10:
        return pUserEmail;
      }
      set => this.pUserEmail = value;
    }

    public bool checkAllData()
    {
      bool flag;
      if ((!(Microsoft.VisualBasic.CompilerServices.Operators.CompareString(this.pUserName, "", false) == 0 | Microsoft.VisualBasic.CompilerServices.Operators.CompareString(this.pUserPass, "", false) == 0 | Microsoft.VisualBasic.CompilerServices.Operators.CompareString(this.pUserRole, "", false) == 0 | Microsoft.VisualBasic.CompilerServices.Operators.CompareString(this.pUserEmail, "", false) == 0) ? 1 : 0) == 0)
      {
        flag = false;
        if (!flag)
          goto label_13;
      }
label_6:
      int num1 = 7;
      int num2 = 4;
      while (true)
      {
        switch (num2 ^ 100)
        {
          case 93:
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle1 = __methodref (newUserClass.get_userPassword);
            num2 = 57;
            continue;
          case 94:
            goto label_6;
          case 95:
            switch (num1)
            {
              case 106:
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle2 = __methodref (newUserClass.userAvailable);
                num1 = 6;
                goto label_2;
              case 107:
                flag = true;
                num1 = 0;
                goto label_2;
              case 108:
                if (!flag)
                {
                  num1 = 1;
                  goto label_2;
                }
                else
                  goto label_13;
              case 109:
                goto label_13;
              default:
                num2 = 58;
                continue;
            }
          case 96:
label_2:
            num1 ^= 108;
            break;
        }
        num2 = 59;
      }
label_13:
      return flag;
    }

    public bool userAvailable(AltiumDatabaseDataSet.UsersDataTable tempData)
    {
label_6:
      int num1 = 7;
      int num2 = 14;
      while (true)
      {
        switch (num2 ^ 108)
        {
          case 95:
            UsersTableAdapter usersTableAdapter;
            DataRow[] dataRowArray;
            bool flag;
            switch (num1)
            {
              case 108:
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle1 = __methodref (newUserClass.\u002Ector);
                num1 = 6;
                goto label_1;
              case 109:
                usersTableAdapter = new UsersTableAdapter();
                num1 = 26;
                goto label_1;
              case 110:
                dataRowArray = tempData.Select("Username = '" + this.pUserName + "'");
                num1 = 5;
                goto label_1;
              case 111:
                flag = dataRowArray.Length == 0;
                num1 = 27;
                goto label_1;
              case 112:
                usersTableAdapter.Fill(tempData);
                num1 = 4;
                goto label_1;
              case 113:
                if (flag)
                {
                  num1 = 24;
                  goto label_1;
                }
                else
                  goto label_16;
              case 114:
                goto label_15;
              default:
                num2 = 12;
                continue;
            }
          case 96:
            goto label_6;
          case 97:
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle2 = __methodref (newUserClass.set_userRole);
            num2 = 13;
            continue;
          case 98:
label_1:
            num1 ^= 106;
            break;
        }
        num2 = 51;
      }
label_15:
      int num3 = 0;
      goto label_17;
label_16:
      num3 = 1;
label_17:
      bool flag1;
      if (num3 == 0)
      {
        flag1 = true;
        if (flag1)
          goto label_20;
      }
      flag1 = false;
      if (!flag1)
        ;
label_20:
      return flag1;
    }

    public bool checkEmail()
    {
label_7:
      int num1 = 2;
      int num2 = -7;
      while (true)
      {
        switch ((num2 ^ 102) + 100)
        {
          case 0:
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle1 = __methodref (newUserClass.userAvailable);
            num2 = -6;
            continue;
          case 1:
            Match match;
            bool success;
            string pattern;
            switch (num1)
            {
              case 96:
                success = match.Success;
                num1 = 3;
                goto label_1;
              case 97:
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle2 = __methodref (newUserClass.get_userRole);
                num1 = 1;
                goto label_1;
              case 98:
                pattern = "^[a-zA-Z][\\w\\.-]*[a-zA-Z0-9]@[a-zA-Z0-9][\\w\\.-]*[a-zA-Z0-9]\\.[a-zA-Z][a-zA-Z\\.]*[a-zA-Z]$";
                num1 = 4;
                goto label_1;
              case 99:
                if (success)
                {
                  num1 = 5;
                  goto label_1;
                }
                else
                  goto label_15;
              case 100:
                match = Regex.Match(this.pUserEmail, pattern);
                num1 = 0;
                goto label_1;
              case 101:
                goto label_14;
              default:
                num2 = AltiumDatabaseDataSet.ReleasedComponentsRowChangeEvent.\uE4B1\uE099\uEB2D\uF713\uEFE2\uE494\uE2B4\uEB29\uE7EC\uF1B8\uE270\uF6F8(90);
                continue;
            }
          case 2:
            goto label_7;
          case 3:
label_1:
            num1 ^= 96;
            break;
        }
        num2 = AltiumDatabaseDataSet.\uF5B4\uEBB6\uED16\uE0FF\uE59B\uF026\uEFAB\uE051\uE189\uE10C\uF7F9\uF6D6(68);
      }
label_14:
      int num3 = 0;
      goto label_16;
label_15:
      num3 = 1;
label_16:
      bool flag;
      if (num3 == 0)
      {
        flag = true;
        if (flag)
          goto label_19;
      }
      flag = false;
      if (!flag)
        ;
label_19:
      return flag;
    }
  }
}
