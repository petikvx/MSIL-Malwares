// Decompiled with JetBrains decompiler
// Type: SmartAssembly.SmartExceptionsCore.SmartStackFrame
// Assembly: 1, Version=8.93.47.49, Culture=neutral, PublicKeyToken=null
// MVID: DFA8ED2E-5616-44FF-892B-A77949B35FF3
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00080-msil\Trojan-Ransom.Win32.Foreign.mxlc-0e45041763d0a87cf14d630d0ef61ca2fbfdc37f1c8a9944dd0c3cfd1cf0aa8a.exe

using \u000E;
using System;
using System.Runtime.InteropServices;
using System.Runtime.Serialization;

namespace SmartAssembly.SmartExceptionsCore
{
  [Serializable]
  public class SmartStackFrame : ISerializable
  {
    public readonly int MethodID;
    public readonly object[] Objects;
    public readonly int ILOffset;
    public readonly int ExceptionStackDepth;

    public virtual void GetObjectData([In] SerializationInfo obj0, [In] StreamingContext obj1)
    {
      obj0.AddValue(\u0003.\u0001(8569), (object) this.MethodID, typeof (int));
      obj0.AddValue(\u0003.\u0001(8606), (object) this.ILOffset, typeof (int));
      obj0.AddValue(\u0003.\u0001(8643), (object) this.ExceptionStackDepth, typeof (int));
      int num1;
      if (this.Objects != null)
      {
        num1 = this.Objects.Length;
        goto label_4;
      }
label_2:
      if (true)
        num1 = 0;
      else
        goto label_14;
label_4:
      int num2 = num1;
      int index;
      if (true)
      {
        obj0.AddValue(\u0003.\u0001(8696), (object) num2, typeof (int));
        index = 0;
        goto label_17;
      }
      else
        goto label_2;
label_14:
      int num3 = index;
      int num4 = 1;
label_15:
      if (num4 != 0)
        index = num3 + num4;
      else
        goto label_18;
label_17:
      int num5 = index;
      num4 = num2;
      num3 = num5;
label_18:
      if (true)
      {
        if (num3 >= num4)
          return;
        string name = string.Format(\u0003.\u0001(8741), (object) index);
        try
        {
          while (this.Objects[index] != null)
          {
            if (true)
            {
              if (true)
              {
                obj0.AddValue(name, (object) (this.Objects[index].GetType().ToString() + \u0003.\u0001(8786) + this.Objects[index]), typeof (string));
                goto label_14;
              }
              else
                break;
            }
          }
          obj0.AddValue(name, (object) null, typeof (object));
          goto label_14;
        }
        catch (Exception ex)
        {
          goto label_14;
        }
      }
      else
        goto label_15;
    }

    internal SmartStackFrame([In] SerializationInfo obj0, [In] StreamingContext obj1)
    {
      this.MethodID = obj0.GetInt32(\u0003.\u0001(8569));
      this.ILOffset = obj0.GetInt32(\u0003.\u0001(8606));
      this.ExceptionStackDepth = obj0.GetInt32(\u0003.\u0001(8643));
      int int32 = obj0.GetInt32(\u0003.\u0001(8696));
      this.Objects = new object[int32];
      for (int index = 0; index < int32; ++index)
      {
        try
        {
          this.Objects[index] = obj0.GetValue(string.Format(\u0003.\u0001(8741), (object) index), typeof (string));
        }
        catch (Exception ex)
        {
          this.Objects[index] = (object) \u0003.\u0001(8791);
        }
      }
    }

    internal SmartStackFrame([In] int obj0, [In] object[] obj1, [In] int obj2, [In] int obj3)
    {
      this.MethodID = obj0;
      this.ExceptionStackDepth = obj3;
      this.ILOffset = obj2;
      this.Objects = obj1;
    }
  }
}
