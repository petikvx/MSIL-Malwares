// Decompiled with JetBrains decompiler
// Type: EKn6zSx.XJHmHNK
// Assembly: VMhE6rW, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B5BD6AAE-8F60-4702-9F4C-7D1F52881D1D
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan.MSIL.DOTHETUK.gen-c413ea7ab3bca263ab28cd4b1960189ef02ef5c7f94660193091bdf1c1edbeb0.exe

using FC4O5E9;
using Microsoft.Ingestion.Shared.Metrics;
using NLog;
using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Net.Http;
using System.Runtime.CompilerServices;
using System.Threading;
using System.Threading.Tasks;

namespace EKn6zSx
{
  internal class XJHmHNK : DelegatingHandler
  {
    private const string DyYy259 = "2xx";
    private const string OtnWoLt = "4xx";
    private const string RCWcslw = "5xx";
    private const string BGYTxNt = "UnknownErrors";
    private const string fcgSxJN = "Redacted";
    private static readonly ILogger SYETgGp = (ILogger) LogManager.GetLogger("Microsoft.Ingestion.Shared.WebApi.Client");
    private readonly bool uiRYiBU;
    private readonly bool CIIPMUM;
    private readonly bool Bjeunl2;

    public XJHmHNK(bool shouldLogRequest, bool shouldLogException, bool shouldRecordMetrics)
    {
      this.uiRYiBU = shouldLogRequest;
      this.CIIPMUM = shouldLogException;
      this.Bjeunl2 = shouldRecordMetrics;
    }

    protected override Task<HttpResponseMessage> SendAsync(
      HttpRequestMessage request,
      CancellationToken cancellationToken)
    {
      // ISSUE: variable of a compiler-generated type
      XJHmHNK.wwfU2XZ stateMachine;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u0035gnodlg = this;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u0033HfBl64 = request;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u0032KRYCsE = cancellationToken;
      // ISSUE: reference to a compiler-generated field
      stateMachine.tfN9ITU = AsyncTaskMethodBuilder<HttpResponseMessage>.Create();
      // ISSUE: cast to a reference type
      // ISSUE: explicit reference operation
      // ISSUE: reference to a compiler-generated field
      (^(fJYBXke.\u0037s9augZ&) ref stateMachine).Xve4x7k = -1;
      // ISSUE: reference to a compiler-generated field
      stateMachine.tfN9ITU.Start<XJHmHNK.wwfU2XZ>(ref stateMachine);
      // ISSUE: reference to a compiler-generated field
      return stateMachine.tfN9ITU.Task;
    }

    private Task w3LcGH3(
      Stopwatch h9NxWFp,
      HttpRequestMessage XSdHTau,
      HttpResponseMessage iZ90bw6,
      Exception hlx5oO5)
    {
      // ISSUE: variable of a compiler-generated type
      XJHmHNK.\u00390Eqn5g stateMachine;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u0037TinVRB = this;
      // ISSUE: reference to a compiler-generated field
      stateMachine.ItSodb0 = h9NxWFp;
      // ISSUE: reference to a compiler-generated field
      stateMachine.e7whN4u = XSdHTau;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u0034L6gtml = iZ90bw6;
      // ISSUE: reference to a compiler-generated field
      stateMachine.XZ3rm5Q = hlx5oO5;
      // ISSUE: reference to a compiler-generated field
      stateMachine.O6q6SOp = AsyncTaskMethodBuilder.Create();
      // ISSUE: cast to a reference type
      // ISSUE: explicit reference operation
      // ISSUE: reference to a compiler-generated field
      (^(XJHmHNK.wwfU2XZ&) ref stateMachine).K9btyed = -1;
      // ISSUE: reference to a compiler-generated field
      stateMachine.O6q6SOp.Start<XJHmHNK.\u00390Eqn5g>(ref stateMachine);
      // ISSUE: reference to a compiler-generated field
      return stateMachine.O6q6SOp.Task;
    }

    private static Task KwM1yEX(
      bool _param0,
      IDependentServiceMetrics cIYHLZ5,
      TimeSpan fZHmZdY,
      string gJhyp3S,
      IDictionary<string, string> S0t7RYz)
    {
      // ISSUE: variable of a compiler-generated type
      XJHmHNK.jzG7WjM stateMachine;
      // ISSUE: reference to a compiler-generated field
      stateMachine.\u0032xYnSpV = _param0;
      // ISSUE: reference to a compiler-generated field
      stateMachine.VwzCK04 = cIYHLZ5;
      // ISSUE: reference to a compiler-generated field
      stateMachine.cf1SGcU = fZHmZdY;
      // ISSUE: reference to a compiler-generated field
      stateMachine.bhMhObH = gJhyp3S;
      // ISSUE: reference to a compiler-generated field
      stateMachine.V3tEV5W = S0t7RYz;
      // ISSUE: reference to a compiler-generated field
      stateMachine.sqBasPQ = AsyncTaskMethodBuilder.Create();
      // ISSUE: cast to a reference type
      // ISSUE: explicit reference operation
      // ISSUE: reference to a compiler-generated field
      (^(XJHmHNK.\u00390Eqn5g&) ref stateMachine).d16C0tt = -1;
      // ISSUE: reference to a compiler-generated field
      stateMachine.sqBasPQ.Start<XJHmHNK.jzG7WjM>(ref stateMachine);
      // ISSUE: reference to a compiler-generated field
      return stateMachine.sqBasPQ.Task;
    }

    private Task IXiiivM(
      HttpRequestMessage JJwoavO,
      HttpResponseMessage mz0U3b0,
      Exception xQ68g1x)
    {
      // ISSUE: variable of a compiler-generated type
      XJHmHNK.\u0030gMpKTn stateMachine;
      // ISSUE: reference to a compiler-generated field
      stateMachine.cqfDEua = this;
      // ISSUE: reference to a compiler-generated field
      stateMachine.JhTX0eo = JJwoavO;
      // ISSUE: reference to a compiler-generated field
      stateMachine.d4cYz7R = mz0U3b0;
      // ISSUE: reference to a compiler-generated field
      stateMachine.gjCwX89 = xQ68g1x;
      // ISSUE: reference to a compiler-generated field
      stateMachine.FgibKJ2 = AsyncTaskMethodBuilder.Create();
      // ISSUE: cast to a reference type
      // ISSUE: explicit reference operation
      // ISSUE: reference to a compiler-generated field
      (^(XJHmHNK.jzG7WjM&) ref stateMachine).SVTk0YD = -1;
      // ISSUE: reference to a compiler-generated field
      stateMachine.FgibKJ2.Start<XJHmHNK.\u0030gMpKTn>(ref stateMachine);
      // ISSUE: reference to a compiler-generated field
      return stateMachine.FgibKJ2.Task;
    }
  }
}
