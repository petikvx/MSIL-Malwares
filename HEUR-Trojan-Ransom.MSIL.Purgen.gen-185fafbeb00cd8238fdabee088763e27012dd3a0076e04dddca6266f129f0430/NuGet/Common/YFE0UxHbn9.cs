// Decompiled with JetBrains decompiler
// Type: NuGet.Common.YFE0UxHbn9
// Assembly: Ty6CWyxFEL, Version=5.0.0.2, Culture=neutral, PublicKeyToken=31bf3856ad364e35
// MVID: 271E2DAF-741A-443A-8BCF-B62C509DDC38
// Assembly location: C:\Users\Administrateur\Downloads\toto\HEUR-Trojan-Ransom.MSIL.Purgen.gen-185fafbeb00cd8238fdabee088763e27012dd3a0076e04dddca6266f129f0430.exe

using System;
using System.Collections.Generic;
using System.Diagnostics;

namespace NuGet.Common
{
  public class YFE0UxHbn9 : IDisposable
  {
    private DateTimeOffset JOKxrODgVu;
    private Stopwatch euz9Z0JuyS;
    private Stopwatch QbI6oK8xeV = new Stopwatch();
    private List<Tuple<string, TimeSpan>> aNwDaClzWc;

    public UTUYfUaZ8B \u0037G6ITrynWW { get; set; }

    public Guid lTLJ8EI2qK { get; }

    public Guid yIlxwhun5W { get; }

    public static INuGetTelemetryService dv45WynV21 { get; set; }

    public YFE0UxHbn9(Guid parentId)
      : this(parentId, Guid.Empty, (UTUYfUaZ8B) null)
    {
    }

    public YFE0UxHbn9(Guid parentId, Guid opeartionId)
      : this(parentId, opeartionId, (UTUYfUaZ8B) null)
    {
    }

    public YFE0UxHbn9(Guid parentId, Guid opeartionId, UTUYfUaZ8B telemetryEvent)
    {
      this.\u0037G6ITrynWW = telemetryEvent;
      this.lTLJ8EI2qK = parentId;
      this.yIlxwhun5W = opeartionId;
      this.JOKxrODgVu = DateTimeOffset.Now;
      this.euz9Z0JuyS = Stopwatch.StartNew();
      this.aNwDaClzWc = new List<Tuple<string, TimeSpan>>();
    }

    public void epBbLCATcs() => this.QbI6oK8xeV.Restart();

    public void LOc8FqRMOI(string eiKV6gg0Hx)
    {
      this.QbI6oK8xeV.Stop();
      this.aNwDaClzWc.Add(new Tuple<string, TimeSpan>(eiKV6gg0Hx, this.QbI6oK8xeV.Elapsed));
    }

    public void jo1RWbEF0V()
    {
      this.euz9Z0JuyS.Stop();
      if (YFE0UxHbn9.dv45WynV21 == null || this.\u0037G6ITrynWW == null)
        return;
      DateTimeOffset now = DateTimeOffset.Now;
      this.\u0037G6ITrynWW.set_Item("StartTime", (object) this.JOKxrODgVu.ToString());
      this.\u0037G6ITrynWW.set_Item("EndTime", (object) now.ToString());
      UTUYfUaZ8B utuYfUaZ8B1 = this.\u0037G6ITrynWW;
      TimeSpan elapsed = this.euz9Z0JuyS.Elapsed;
      // ISSUE: variable of a boxed type
      __Boxed<double> totalSeconds1 = (ValueType) elapsed.TotalSeconds;
      utuYfUaZ8B1.set_Item("Duration", (object) totalSeconds1);
      if (this.lTLJ8EI2qK != Guid.Empty)
        this.\u0037G6ITrynWW.set_Item("ParentId", (object) this.lTLJ8EI2qK.ToString());
      if (this.yIlxwhun5W != Guid.Empty)
        this.\u0037G6ITrynWW.set_Item("OperationId", (object) this.yIlxwhun5W.ToString());
      foreach (Tuple<string, TimeSpan> tuple in this.aNwDaClzWc)
      {
        UTUYfUaZ8B utuYfUaZ8B2 = this.\u0037G6ITrynWW;
        string key = tuple.Item1;
        elapsed = tuple.Item2;
        // ISSUE: variable of a boxed type
        __Boxed<double> totalSeconds2 = (ValueType) elapsed.TotalSeconds;
        utuYfUaZ8B2.set_Item(key, (object) totalSeconds2);
      }
      YFE0UxHbn9.dv45WynV21.EmitTelemetryEvent(this.\u0037G6ITrynWW);
    }

    public static void eTfLlW0qF0(UTUYfUaZ8B LddFeAOFfk) => YFE0UxHbn9.dv45WynV21?.EmitTelemetryEvent(LddFeAOFfk);

    public static YFE0UxHbn9 XOhKbqTH2O(Guid _param0, string fkfea9L4mW) => new YFE0UxHbn9(_param0, Guid.NewGuid(), (UTUYfUaZ8B) null)
    {
      \u0037G6ITrynWW = new UTUYfUaZ8B(fkfea9L4mW)
    };

    public static YFE0UxHbn9 Tbxmal2ceV(Guid _param0) => new YFE0UxHbn9(_param0, Guid.NewGuid(), (UTUYfUaZ8B) null);

    public static YFE0UxHbn9 asIcBZ7k5p() => new YFE0UxHbn9(Guid.Empty, Guid.NewGuid(), (UTUYfUaZ8B) null);
  }
}
