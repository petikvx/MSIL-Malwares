// Decompiled with JetBrains decompiler
// Type: NjpgsHLgJ3LyJaWbT.44ejJJqGQCSJdAGBL
// Assembly: bouNMGxVgGi4SRgWO, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60
// MVID: 3F6A2AF1-3CCB-4F01-AA36-FA31C2E4CFE8
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Backdoor.MSIL.Agent.gen-bc408b9f362db28b2e931ff336ec5661cc0ce27b0cdc0ce215fec1b7381aca7f.exe

using \u0033eVYd5LIQhZ7rzGZ2;
using \u0039HX5Aek4AH7BMok38;
using fcxTd0CgJgB8stQvj;
using GUxwlAGXtz8Biqdzq;
using jlhFNVXvwEp5FRUh5;
using Microsoft.TemplateEngine.Abstractions;
using Microsoft.TemplateEngine.Core.Contracts;
using Newtonsoft.Json.Linq;
using PgLEPpSpDk54KWT6E;
using System;
using System.Collections.Generic;

namespace NjpgsHLgJ3LyJaWbT
{
  public class \u00344ejJJqGQCSJdAGBL : IMacro, IIdentifiedComponent, IDeferredMacro
  {
    public Guid BkfL6SAMk01iuR78e => new Guid("10919008-4E13-4FA8-825C-3B4DA855578E");

    public string \u0039oylnO0JZBBfJDrc9 => "guid";

    public void P9g2P0Q8XtDNCbJFx(
      IEngineEnvironmentSettings IjnYWKCc2BfZFYTrX,
      IVariableCollection Str4gUxMtBUFNZ7bt,
      IMacroConfig fPIYEEOaoGdUAc9vD,
      IParameterSet L2pxM70RpW6CADJiu,
      eudKo284TuJqIEahM _param5)
    {
      if (!(fPIYEEOaoGdUAc9vD is oJmXY9C9XmHFpFl9E jmXy9C9XmHfpFl9E))
        throw new InvalidCastException("Couldn't cast the rawConfig as 44ejJJqGQCSJdAGBLConfig");
      string str1 = string.IsNullOrEmpty(jmXy9C9XmHfpFl9E.G4pnnAnj2MiZoLUEm) ? oJmXY9C9XmHFpFl9E.B65q0wPENIWtkTq5R : jmXy9C9XmHfpFl9E.G4pnnAnj2MiZoLUEm;
      Guid guid = Guid.NewGuid();
      for (int index = 0; index < str1.Length; ++index)
      {
        string str2 = char.IsUpper(str1[index]) ? guid.ToString(str1[index].ToString()).ToUpperInvariant() : guid.ToString(str1[index].ToString()).ToLowerInvariant();
        ckgfOYwQVcmI3lHXN parameter = new ckgfOYwQVcmI3lHXN()
        {
          Cg57rESMJLQIVeHLw = true,
          RWvAX7XIWjB7LsE1n = jmXy9C9XmHfpFl9E.yC2j5pJY3xp5RV5t4 + "-" + str1[index].ToString(),
          \u0038DBEv3DWcN5nNg1o1 = jmXy9C9XmHfpFl9E.MWQ0MWFhp9ILFthMp
        };
        ((IDictionary<string, object>) Str4gUxMtBUFNZ7bt)[parameter.RWvAX7XIWjB7LsE1n] = (object) str2;
        _param5((ITemplateParameter) parameter, str2);
      }
      ITemplateParameter itemplateParameter;
      ckgfOYwQVcmI3lHXN parameter1;
      if (L2pxM70RpW6CADJiu.TryGetParameterDefinition(jmXy9C9XmHfpFl9E.yC2j5pJY3xp5RV5t4, ref itemplateParameter))
      {
        parameter1 = (ckgfOYwQVcmI3lHXN) itemplateParameter;
        parameter1.Cg57rESMJLQIVeHLw = true;
      }
      else
        parameter1 = new ckgfOYwQVcmI3lHXN()
        {
          Cg57rESMJLQIVeHLw = true,
          RWvAX7XIWjB7LsE1n = jmXy9C9XmHfpFl9E.yC2j5pJY3xp5RV5t4
        };
      ((IDictionary<string, object>) Str4gUxMtBUFNZ7bt)[jmXy9C9XmHfpFl9E.yC2j5pJY3xp5RV5t4] = (object) guid.ToString(jmXy9C9XmHfpFl9E.EJGQZw4mweEy6Ccfg);
      _param5((ITemplateParameter) parameter1, guid.ToString(jmXy9C9XmHfpFl9E.EJGQZw4mweEy6Ccfg));
    }

    public IMacroConfig QPrcPlZAhIMcQlpSI(
      IEngineEnvironmentSettings lOUYoFVnE0MhU3HJm,
      IMacroConfig Z81SjGY9jJM15sWFq)
    {
      if (!(Z81SjGY9jJM15sWFq is KZUSKKOdswxWjB6He kzuskkOdswxWjB6He))
        throw new InvalidCastException("Couldn't cast the rawConfig as a GeneratedSymbolDeferredMacroConfig");
      JToken jtoken1;
      kzuskkOdswxWjB6He.dYZjsKaakeS43shkR.TryGetValue("format", out jtoken1);
      string format = ((object) jtoken1)?.ToString();
      JToken jtoken2;
      kzuskkOdswxWjB6He.dYZjsKaakeS43shkR.TryGetValue("defaultFormat", out jtoken2);
      string defaultFormat = ((object) jtoken2)?.ToString();
      return (IMacroConfig) new oJmXY9C9XmHFpFl9E(kzuskkOdswxWjB6He.\u0036gh4E6uhQGL10SKFe, kzuskkOdswxWjB6He.xbfbgFpF57ZJB3TfG, format, defaultFormat);
    }
  }
}
