// Decompiled with JetBrains decompiler
// Type: SpiritIslandCompanion.Card
// Assembly: ToBase64Transf, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 6B961B69-7A46-441C-8970-EA733FFAA49A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\UDS-Trojan.MSIL.Taskun-094a8b4449d8406e1d2f8f2e0a596a95110d93b1631a4761efffd63689323aa3.exe

using System.ComponentModel;
using System.Windows.Controls;
using System.Windows.Media;

namespace SpiritIslandCompanion
{
  public abstract class Card : Image, INotifyPropertyChanged
  {
    private int _id;
    private ImageSource _frontImagePath;
    private ImageSource _backImagePath;

    public event PropertyChangedEventHandler PropertyChanged;

    private void NotifyPropertyChanged([CallerMemberName] string propertyName = null)
    {
      if (this.PropertyChanged == null)
        return;
      this.PropertyChanged((object) this, new PropertyChangedEventArgs(propertyName));
    }

    public int Id
    {
      get => this._id;
      set => this._id = value;
    }

    public ImageSource FrontSide
    {
      get => this._frontImagePath;
      set => this._frontImagePath = value;
    }

    public ImageSource BackSide
    {
      get => this._backImagePath;
      set => this._backImagePath = value;
    }

    public void FlipCard()
    {
      if (this.Source != this.BackSide)
        return;
      this.Source = this.FrontSide;
      this.NotifyPropertyChanged();
    }

    public bool IsFaceUp() => this.Source == this.FrontSide;

    public Card(int id, ImageSource front, ImageSource back, int height, int width)
    {
      this._id = id;
      this.Height = (double) height;
      this.Width = (double) width;
      this.FrontSide = front;
      this.BackSide = back;
      this.Source = this.BackSide;
      this.Stretch = Stretch.UniformToFill;
    }
  }
}
