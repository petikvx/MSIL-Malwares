// Decompiled with JetBrains decompiler
// Type: ?4?
// Assembly: wLoader, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 89823795-D5B3-4CC9-949D-6649607AF138
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00080-msil\Trojan-Ransom.Win32.Blocker.bndr-d893b556a8d0493f8839c80049bd91fd0bdbcb93646edcc7b2f28d89325ced11.exe

using System;
using System.IO;

public sealed class \u003F4\u003F
{
  private byte[] \u003F0\u003F;
  private uint \u003F0\u003F;
  private uint \u003F5\u003F;
  private uint \u003F9\u003F;
  private Stream \u003F0\u003F;

  public void \u003F1\u003F(uint _param1)
  {
    if ((int) this.\u003F5\u003F != (int) _param1)
      goto label_5;
label_1:
    this.\u003F5\u003F = _param1;
    int num = 0;
    while (true)
    {
      switch (num)
      {
        case 0:
          this.\u003F0\u003F = 0U;
          num = 1;
          continue;
        case 1:
          this.\u003F9\u003F = 0U;
          num = 2;
          continue;
        default:
          goto label_6;
      }
    }
label_6:
    return;
label_5:
    this.\u003F0\u003F = new byte[(IntPtr) _param1];
    goto label_1;
  }

  public void \u003F1\u003F(Stream _param1, bool _param2)
  {
    this.\u003F1\u003F();
    int num = 0;
    while (true)
    {
      switch (num)
      {
        case 0:
          this.\u003F0\u003F = _param1;
          num = 1;
          continue;
        case 1:
          if (!_param2)
          {
            this.\u003F9\u003F = 0U;
            num = 2;
            continue;
          }
          goto label_6;
        default:
          goto label_4;
      }
    }
label_4:
    this.\u003F0\u003F = 0U;
    return;
label_6:;
  }

  public void \u003F1\u003F(Stream _param1) => this.\u003F1\u003F(_param1, false);

  public void \u003F1\u003F()
  {
    this.\u003F2\u003F();
    this.\u003F0\u003F = (Stream) null;
  }

  public void \u003F2\u003F()
  {
    uint count = this.\u003F0\u003F - this.\u003F9\u003F;
    int num = 0;
    while (true)
    {
      switch (num)
      {
        case 0:
          if (count != 0U)
          {
            this.\u003F0\u003F.Write(this.\u003F0\u003F, (int) this.\u003F9\u003F, (int) count);
            num = 1;
            continue;
          }
          goto label_6;
        case 1:
          if (this.\u003F0\u003F >= this.\u003F5\u003F)
            goto label_7;
label_5:
          this.\u003F9\u003F = this.\u003F0\u003F;
          num = 2;
          continue;
label_7:
          this.\u003F0\u003F = 0U;
          goto label_5;
        default:
          goto label_8;
      }
    }
label_8:
    return;
label_6:;
  }

  public void \u003F1\u003F(uint _param1, uint _param2)
  {
    uint num1 = (uint) ((int) this.\u003F0\u003F - (int) _param1 - 1);
    int num2 = 0;
    while (true)
    {
      switch (num2)
      {
        case 0:
          if (num1 >= this.\u003F5\u003F)
          {
            num1 += this.\u003F5\u003F;
            num2 = 1;
            continue;
          }
          goto case 1;
        case 1:
          if (_param2 > 0U)
          {
            if (num1 >= this.\u003F5\u003F)
              goto label_9;
label_4:
            this.\u003F0\u003F[(IntPtr) this.\u003F0\u003F++] = this.\u003F0\u003F[(IntPtr) num1++];
            num2 = 2;
            continue;
label_9:
            num1 = 0U;
            goto label_4;
          }
          else
            goto label_10;
        default:
          if (this.\u003F0\u003F >= this.\u003F5\u003F)
            goto label_11;
label_6:
          --_param2;
          goto case 1;
label_11:
          this.\u003F2\u003F();
          goto label_6;
      }
    }
label_10:;
  }

  public void \u003F1\u003F(byte _param1)
  {
    this.\u003F0\u003F[(IntPtr) this.\u003F0\u003F++] = _param1;
    if (this.\u003F0\u003F < this.\u003F5\u003F)
      return;
    this.\u003F2\u003F();
  }

  public byte \u003F1\u003F(uint _param1)
  {
    uint index = (uint) ((int) this.\u003F0\u003F - (int) _param1 - 1);
    if (index >= this.\u003F5\u003F)
      goto label_2;
label_1:
    return this.\u003F0\u003F[(IntPtr) index];
label_2:
    index += this.\u003F5\u003F;
    goto label_1;
  }
}
