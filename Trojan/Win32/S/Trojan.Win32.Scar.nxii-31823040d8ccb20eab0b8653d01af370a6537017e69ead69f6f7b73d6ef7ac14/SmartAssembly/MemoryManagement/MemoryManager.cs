// Decompiled with JetBrains decompiler
// Type: SmartAssembly.MemoryManagement.MemoryManager
// Assembly: BitGenerator, Version=37.0.2.5583, Culture=neutral, PublicKeyToken=70e4c26ef2031892
// MVID: D3922F89-E00A-4D10-8BC9-9309D5539F14
// Assembly location: C:\Users\Administrateur\Downloads\VirusShare_CryptoRansom_20160715-msil\Trojan.Win32.Scar.nxii-31823040d8ccb20eab0b8653d01af370a6537017e69ead69f6f7b73d6ef7ac14.exe

using System;
using System.Diagnostics;
using System.Runtime.InteropServices;
using System.Windows.Forms;

namespace SmartAssembly.MemoryManagement
{
  public sealed class MemoryManager
  {
    internal static MemoryManager \u0001;
    private long \u0001 = DateTime.Now.Ticks;

    [DllImport("kernel32", EntryPoint = "SetProcessWorkingSetSize")]
    private static extern int \u0001(IntPtr _param0, int _param1, int _param2);

    private void \u0001()
    {
      try
      {
        using (Process currentProcess = Process.GetCurrentProcess())
        {
          do
          {
            if (true)
              goto label_4;
label_2:
            continue;
label_4:
            MemoryManager.\u0001(currentProcess.Handle, -1, -1);
            goto label_2;
          }
          while (false);
        }
      }
      catch
      {
      }
    }

    private void \u0001(object _param1, EventArgs _param2)
    {
      try
      {
        long num1;
        if (true)
        {
          DateTime now = DateTime.Now;
          if (true)
            goto label_9;
label_1:
          DateTime dateTime;
          num1 = dateTime.Ticks;
          goto label_10;
label_9:
          dateTime = now;
          goto label_1;
        }
        else
          goto label_11;
label_10:
        long num2 = num1;
label_11:
        num1 = num2;
        if (true)
          goto label_12;
label_4:
        long num3;
        if (true)
          num3 = 10000000L;
        else
          goto label_10;
label_6:
        if (num1 <= num3)
          return;
        this.\u0001 = num2;
        this.\u0001();
        return;
label_12:
        long num4 = this.\u0001;
        if (true)
        {
          num1 -= num4;
          goto label_4;
        }
        else
        {
          num3 = num4;
          goto label_6;
        }
      }
      catch
      {
      }
    }

    internal MemoryManager()
    {
      Application.Idle += new EventHandler(this.\u0001);
      this.\u0001();
    }
  }
}
