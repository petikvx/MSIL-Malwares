// Decompiled with JetBrains decompiler
// Type: ueLJGJbeRFZOq.tCyICKPEHtVB
// Assembly: Svchost, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: B0EDCE10-9F20-42C9-8790-E70D370F9841
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2021.06-msil\HEUR-Trojan-Ransom.Win32.Generic-9bf0633f41d2962ba5e2895ece2ef9fa7b546ada311ca30f330f0d261a7fb184.exe

using System;
using System.Collections;
using System.Collections.Generic;
using System.IO;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

namespace ueLJGJbeRFZOq
{
  public sealed class tCyICKPEHtVB : IEnumerable<string>, IEnumerable
  {
    private Dictionary<ulong, MfCRkKvYSremtJ> FaEmDwLGknL;
    private Dictionary<ulong, MfCRkKvYSremtJ> XCLjqRfOfyrl;
    private readonly string rOJjIOviiRdAL;

    public tCyICKPEHtVB([In] string obj0) => this.rOJjIOviiRdAL = obj0;

    IEnumerator IEnumerable.GetEnumerator() => (IEnumerator) this.GetEnumerator();

    public IEnumerator<string> GetEnumerator() => (IEnumerator<string>) new tCyICKPEHtVB.pwNcNduZxoW(0)
    {
      WGdARPEwdUDnfb = this
    };

    private void EuaSYbXuDaAaIXX()
    {
      if (this.FaEmDwLGknL != null)
        return;
      new NsgdkUCziu().EEHCdCakbQjF(this.rOJjIOviiRdAL, (HashSet<string>) null, out this.FaEmDwLGknL, out this.XCLjqRfOfyrl);
    }

    private sealed class pwNcNduZxoW : IEnumerator<string>, IDisposable, IEnumerator
    {
      private string FTPLHMdKEjMdoVR;
      private int HmxYVKFLeZPxH;
      public tCyICKPEHtVB WGdARPEwdUDnfb;
      public List<string> sGxrxuMRBai;
      public MfCRkKvYSremtJ pVvCFVGoLsRvwW;
      public MfCRkKvYSremtJ dyTOZgeOCnpPhP;
      public int ozaGghPjzuA;
      public string epVGChuLKsT;
      public Dictionary<ulong, MfCRkKvYSremtJ>.ValueCollection.Enumerator mzCRnvyOIcqf;

      bool IEnumerator.MoveNext()
      {
        // ISSUE: fault handler
        try
        {
          switch (this.HmxYVKFLeZPxH)
          {
            case 0:
              this.HmxYVKFLeZPxH = -1;
              this.WGdARPEwdUDnfb.EuaSYbXuDaAaIXX();
              this.sGxrxuMRBai = new List<string>();
              this.mzCRnvyOIcqf = this.WGdARPEwdUDnfb.FaEmDwLGknL.Values.GetEnumerator();
              this.HmxYVKFLeZPxH = 1;
              break;
            case 2:
              this.HmxYVKFLeZPxH = 1;
              break;
            default:
label_11:
              return false;
          }
          while (this.mzCRnvyOIcqf.MoveNext())
          {
            this.pVvCFVGoLsRvwW = this.mzCRnvyOIcqf.Current;
            this.sGxrxuMRBai.Clear();
            this.dyTOZgeOCnpPhP = this.pVvCFVGoLsRvwW;
            this.ozaGghPjzuA = -1;
            do
            {
              if (this.dyTOZgeOCnpPhP.get_ParentFrn() != 0UL)
                this.sGxrxuMRBai.Add(this.dyTOZgeOCnpPhP.get_Name());
              this.dyTOZgeOCnpPhP = !this.WGdARPEwdUDnfb.FaEmDwLGknL.ContainsKey(this.dyTOZgeOCnpPhP.get_ParentFrn()) ? (!this.WGdARPEwdUDnfb.XCLjqRfOfyrl.ContainsKey(this.dyTOZgeOCnpPhP.get_ParentFrn()) ? (MfCRkKvYSremtJ) null : this.WGdARPEwdUDnfb.XCLjqRfOfyrl[this.dyTOZgeOCnpPhP.get_ParentFrn()]) : this.WGdARPEwdUDnfb.FaEmDwLGknL[this.dyTOZgeOCnpPhP.get_ParentFrn()];
            }
            while (this.dyTOZgeOCnpPhP != null && ++this.ozaGghPjzuA < 1000);
            if (this.sGxrxuMRBai.Count != 0)
            {
              this.sGxrxuMRBai.Reverse();
              this.epVGChuLKsT = this.WGdARPEwdUDnfb.rOJjIOviiRdAL + (object) '\\' + Path.Combine(this.sGxrxuMRBai.ToArray());
              this.FTPLHMdKEjMdoVR = this.epVGChuLKsT;
              this.HmxYVKFLeZPxH = 2;
              return true;
            }
          }
          this.\u003C\u003Em__Finally7();
          goto label_11;
        }
        __fault
        {
          this.System\u002EIDisposable\u002EDispose();
        }
      }

      [SpecialName]
      string IEnumerator<string>.get_Current() => this.FTPLHMdKEjMdoVR;

      void IEnumerator.Reset() => throw new NotSupportedException();

      void IDisposable.Dispose()
      {
        switch (this.HmxYVKFLeZPxH)
        {
          case 1:
          case 2:
            try
            {
            }
            finally
            {
              this.\u003C\u003Em__Finally7();
            }
            break;
        }
      }

      [SpecialName]
      object IEnumerator.get_Current() => (object) this.FTPLHMdKEjMdoVR;

      public pwNcNduZxoW([In] int obj0) => this.HmxYVKFLeZPxH = obj0;

      private void \u003C\u003Em__Finally7()
      {
        this.HmxYVKFLeZPxH = -1;
        this.mzCRnvyOIcqf.Dispose();
      }
    }
  }
}
