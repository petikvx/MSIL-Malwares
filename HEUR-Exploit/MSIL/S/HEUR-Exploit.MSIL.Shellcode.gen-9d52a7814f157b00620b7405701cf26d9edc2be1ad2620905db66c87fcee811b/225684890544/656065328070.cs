// Decompiled with JetBrains decompiler
// Type: 225684890544.656065328070
// Assembly: 341658236064, Version=3.1.2.23007, Culture=neutral, PublicKeyToken=31bf3856ad364e35
// MVID: 307D4BC7-4605-49A1-A696-CC8CC5C1D6BD
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Exploit.MSIL.Shellcode.gen-9d52a7814f157b00620b7405701cf26d9edc2be1ad2620905db66c87fcee811b.exe

using \u003196074163299;
using \u003225684890544;
using \u003283463724127;
using \u003530072175527;
using \u003788780786144;
using \u003860488407208;
using \u003896890811494;
using \u003942160936230;
using \u003951866665551;
using \u003964494052960;
using \u003988334853529;
using Microsoft.Build.Framework;
using Microsoft.Build.Utilities;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;

namespace \u003225684890544
{
  public class \u003656065328070 : \u003281886728672
  {
    private HashSet<ITaskItem> \u003694414710153 = new HashSet<ITaskItem>();
    private HashSet<ITaskItem> \u003916144673448 = new HashSet<ITaskItem>();
    private HashSet<\u003614480395534> \u003799308757809 = new HashSet<\u003614480395534>();
    private HashSet<\u003614480395534> \u003049255465338 = new HashSet<\u003614480395534>();

    public ITaskItem[] \u003514798523675 { get; set; }

    public ITaskItem[] \u003598826735380 { get; set; }

    public ITaskItem[] \u003413367608977 { get; set; }

    public ITaskItem[] \u003149320747938 { get; set; }

    public ITaskItem[] \u003255234907135 { get; set; }

    public string[] \u003441591804533 { get; set; }

    public ITaskItem[] \u003115303864768 { get; set; }

    [Output]
    public ITaskItem[] \u003763553438614 { get; set; }

    [Output]
    public ITaskItem[] \u003848071868854 { get; set; }

    [Output]
    public ITaskItem[] \u003714143330639 { get; set; }

    protected override void ExecuteCore()
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      \u003656065328070.\u003032729974853 obj1 = (\u003656065328070.\u003032729974853) new \u003941192554085.\u003651611175534();
      // ISSUE: reference to a compiler-generated field
      obj1.\u003179288739965 = this;
      // ISSUE: reference to a compiler-generated field
      ((\u003941192554085.\u003651611175534) obj1).\u003761989055289 = this.\u003868242702593;
      \u003606916204896 packageRank = new \u003606916204896(this.\u003441591804533);
      \u003148504927892<\u003614480395534> packageOverrideResolver = new \u003148504927892<\u003614480395534>(this.\u003115303864768);
      IEnumerable<\u003614480395534> second = (IEnumerable<\u003614480395534>) null;
      if (this.\u003255234907135 != null && ((IEnumerable<ITaskItem>) this.\u003255234907135).Any<ITaskItem>())
      {
        // ISSUE: object of a compiler-generated type is created
        // ISSUE: variable of a compiler-generated type
        \u003656065328070.\u003481723960294 obj2 = (\u003656065328070.\u003481723960294) new \u003656065328070.\u003032729974853();
        // ISSUE: reference to a compiler-generated field
        obj2.\u003959355107207 = obj1;
        // ISSUE: reference to a compiler-generated field
        ((\u003656065328070.\u003032729974853) obj2).\u003517878213943 = new \u003470330703403(this.BuildEngine4);
        // ISSUE: reference to a compiler-generated method
        second = (IEnumerable<\u003614480395534>) ((IEnumerable<ITaskItem>) this.\u003255234907135).SelectMany<ITaskItem, \u003614480395534>(new Func<ITaskItem, IEnumerable<\u003614480395534>>(obj2.\u003531056743346)).ToArray<\u003614480395534>();
      }
      \u003614480395534[] array1 = this.\u003664431180757(this.\u003514798523675, \u003676020296296.Reference).ToArray<\u003614480395534>();
      // ISSUE: reference to a compiler-generated field
      using (\u003366071738828<\u003614480395534> obj3 = new \u003366071738828<\u003614480395534>(packageRank, packageOverrideResolver, ((\u003941192554085.\u003651611175534) obj1).\u003761989055289))
      {
        obj3.ResolveConflicts((IEnumerable<\u003614480395534>) array1, (Func<\u003614480395534, string>) (_param1 => \u003621632334933.\u003300283336363(_param1.\u003584310474156)), new \u003171769210753<\u003614480395534>(this.\u003306726383655), true);
        if (second != null)
          obj3.ResolveConflicts(second, (Func<\u003614480395534, string>) (_param1 => _param1.\u003043906825606), new \u003171769210753<\u003614480395534>(this.\u003306726383655), true);
      }
      this.\u003799308757809.ExceptWith((IEnumerable<\u003614480395534>) this.\u003049255465338);
      IEnumerable<\u003614480395534> array2;
      IEnumerable<\u003614480395534> array3;
      // ISSUE: reference to a compiler-generated field
      using (\u003366071738828<\u003614480395534> obj4 = new \u003366071738828<\u003614480395534>(packageRank, packageOverrideResolver, ((\u003941192554085.\u003651611175534) obj1).\u003761989055289))
      {
        obj4.ResolveConflicts((IEnumerable<\u003614480395534>) array1, (Func<\u003614480395534, string>) (_param1 => \u003621632334933.\u003063121877142(_param1.\u003584310474156)), new \u003171769210753<\u003614480395534>(this.\u003495860066742), true);
        array2 = (IEnumerable<\u003614480395534>) this.\u003664431180757(this.\u003598826735380, \u003676020296296.CopyLocal).ToArray<\u003614480395534>();
        obj4.ResolveConflicts(array2, (Func<\u003614480395534, string>) (_param1 => \u003621632334933.\u003846707379051(_param1.\u003584310474156)), new \u003171769210753<\u003614480395534>(this.\u003495860066742), true);
        array3 = (IEnumerable<\u003614480395534>) this.\u003664431180757(this.\u003413367608977, \u003676020296296.Runtime).ToArray<\u003614480395534>();
        obj4.ResolveConflicts(array3, (Func<\u003614480395534, string>) (_param1 => \u003621632334933.\u003846707379051(_param1.\u003584310474156)), new \u003171769210753<\u003614480395534>(this.\u003495860066742), true);
      }
      // ISSUE: reference to a compiler-generated field
      using (\u003366071738828<\u003614480395534> obj5 = new \u003366071738828<\u003614480395534>(packageRank, packageOverrideResolver, ((\u003941192554085.\u003651611175534) obj1).\u003761989055289))
      {
        ITaskItem[] source = this.\u003149320747938;
        // ISSUE: reference to a compiler-generated method
        IEnumerable<\u003614480395534> first = (source != null ? ((IEnumerable<ITaskItem>) source).SelectMany<ITaskItem, \u003614480395534>(new Func<ITaskItem, IEnumerable<\u003614480395534>>(obj1.\u003313499700542)) : (IEnumerable<\u003614480395534>) null) ?? Enumerable.Empty<\u003614480395534>();
        if (second != null)
          first = first.Concat<\u003614480395534>(second);
        obj5.ResolveConflicts(first, (Func<\u003614480395534, string>) (_param1 => _param1.\u003043906825606), (\u003171769210753<\u003614480395534>) ((_param1, _param2) => { }), true);
        // ISSUE: reference to a compiler-generated method
        obj5.ResolveConflicts(((IEnumerable<\u003614480395534>) array1).Where<\u003614480395534>(new Func<\u003614480395534, bool>(obj1.\u003586186873749)), (Func<\u003614480395534, string>) (_param1 => \u003621632334933.\u003304008854687(_param1.\u003584310474156)), new \u003171769210753<\u003614480395534>(this.\u003495860066742), false);
        // ISSUE: reference to a compiler-generated method
        obj5.ResolveConflicts(array2.Where<\u003614480395534>(new Func<\u003614480395534, bool>(obj1.\u003845906705887)), (Func<\u003614480395534, string>) (_param1 => _param1.\u003043906825606), new \u003171769210753<\u003614480395534>(this.\u003495860066742), false);
        obj5.ResolveConflicts(array3, (Func<\u003614480395534, string>) (_param1 => _param1.\u003043906825606), new \u003171769210753<\u003614480395534>(this.\u003495860066742), false);
      }
      this.\u003763553438614 = this.\u003402497127751(this.\u003514798523675, (ICollection<ITaskItem>) this.\u003694414710153);
      this.\u003848071868854 = this.\u003402497127751(this.\u003598826735380, (ICollection<ITaskItem>) this.\u003916144673448);
      this.\u003714143330639 = this.\u003004234525571((ICollection<\u003614480395534>) this.\u003049255465338);
      // ISSUE: variable of a compiler-generated type
      \u003656065328070.\u003032729974853 obj6 = obj1;
      ITaskItem[] source1 = this.\u003763553438614;
      HashSet<string> stringSet = new HashSet<string>((source1 != null ? ((IEnumerable<ITaskItem>) source1).Select<ITaskItem, string>((Func<ITaskItem, string>) (_param1 => _param1.ItemSpec)) : (IEnumerable<string>) null) ?? Enumerable.Empty<string>(), (IEqualityComparer<string>) StringComparer.OrdinalIgnoreCase);
      // ISSUE: reference to a compiler-generated field
      obj6.\u003127662060882 = stringSet;
      // ISSUE: reference to a compiler-generated method
      this.\u003763553438614 = this.\u003633153740040(this.\u003763553438614, (IEnumerable<ITaskItem>) this.\u003799308757809.Select<\u003614480395534, string>((Func<\u003614480395534, string>) (_param1 => Path.GetFileNameWithoutExtension(_param1.\u003043906825606))).Where<string>(new Func<string, bool>(obj1.\u003648344880324)).Select<string, TaskItem>((Func<string, TaskItem>) (_param1 => new TaskItem(_param1))));
    }

    private ITaskItem[] \u003633153740040(
      ITaskItem[] _param1,
      IEnumerable<ITaskItem> _param2)
    {
      return _param1 == null || _param1.Length == 0 ? (_param2 == null ? (ITaskItem[]) null : _param2.ToArray<ITaskItem>()) : (_param2 == null || !_param2.Any<ITaskItem>() ? _param1 : ((IEnumerable<ITaskItem>) _param1).Concat<ITaskItem>(_param2).ToArray<ITaskItem>());
    }

    private ITaskItem[] \u003004234525571(ICollection<\u003614480395534> _param1)
    {
      ITaskItem[] taskItemArray = new ITaskItem[_param1.Count];
      int num = 0;
      foreach (\u003614480395534 obj in (IEnumerable<\u003614480395534>) _param1)
        taskItemArray[num++] = this.\u003861337562232(obj);
      return taskItemArray;
    }

    private ITaskItem \u003861337562232(\u003614480395534 _param1)
    {
      TaskItem taskItem = new TaskItem(_param1.\u003397650414515);
      if (_param1.\u003344890224524 != null)
      {
        taskItem.SetMetadata("ConflictItemType", _param1.\u003039882606153.ToString());
        taskItem.SetMetadata("NuGetPackageId", _param1.\u003344890224524);
      }
      return (ITaskItem) taskItem;
    }

    private IEnumerable<\u003614480395534> \u003664431180757(
      ITaskItem[] _param1,
      \u003676020296296 _param2)
    {
      // ISSUE: object of a compiler-generated type is created
      // ISSUE: variable of a compiler-generated type
      \u003656065328070.\u003930670779421 obj = (\u003656065328070.\u003930670779421) new \u003656065328070.\u003126565090994();
      // ISSUE: reference to a compiler-generated field
      ((\u003656065328070.\u003126565090994) obj).\u003477312821710 = _param2;
      // ISSUE: reference to a compiler-generated method
      return _param1 == null ? Enumerable.Empty<\u003614480395534>() : ((IEnumerable<ITaskItem>) _param1).Select<ITaskItem, \u003614480395534>(new Func<ITaskItem, \u003614480395534>(obj.\u003661362268871));
    }

    private void \u003306726383655(\u003614480395534 _param1, \u003614480395534 _param2)
    {
      if (_param2.\u003039882606153 == \u003676020296296.Reference)
      {
        this.\u003694414710153.Add(_param2.\u003584310474156);
        if (_param1.\u003039882606153 == \u003676020296296.Platform)
          this.\u003799308757809.Add(_param1);
      }
      this.\u003049255465338.Add(_param2);
    }

    private void \u003495860066742(\u003614480395534 _param1, \u003614480395534 _param2)
    {
      if (_param2.\u003039882606153 == \u003676020296296.Reference)
        _param2.\u003584310474156.SetMetadata("Private", "False");
      else if (_param2.\u003039882606153 == \u003676020296296.CopyLocal)
        this.\u003916144673448.Add(_param2.\u003584310474156);
      this.\u003049255465338.Add(_param2);
    }

    private ITaskItem[] \u003402497127751(
      ITaskItem[] _param1,
      ICollection<ITaskItem> _param2)
    {
      if (_param2.Count == 0)
        return _param1;
      ITaskItem[] source = new ITaskItem[_param1.Length - _param2.Count];
      int count = 0;
      foreach (ITaskItem taskItem in _param1)
      {
        if (!_param2.Contains(taskItem))
        {
          if (count >= source.Length)
            throw new ArgumentException("Items from conflicts were missing from original");
          source[count++] = taskItem;
        }
      }
      return count != source.Length ? ((IEnumerable<ITaskItem>) source).Take<ITaskItem>(count).ToArray<ITaskItem>() : source;
    }

    public \u003656065328070()
      : base()
    {
    }
  }
}
