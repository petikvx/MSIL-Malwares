// Decompiled with JetBrains decompiler
// Type: bY1AeAvZXhx9ZnK9Va6.TAQqdpvQeYV7ExqOMro
// Assembly: AtgKeTgIXi0NOxFvE8tEswi1COXf3H4TT4P, Version=3.4.5.2, Culture=neutral, PublicKeyToken=null
// MVID: DE6FA1DA-75EC-4782-A24C-14945C61DB00
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Trojan-Spy.MSIL.Stealer.gen-f5f395386557cfda1e1bad2c1ca2b0b6d72c47026ed046e8005e8d6e3593d4b0.exe

using g64451Zt6WfafRp1SB3;
using System;
using System.Drawing;
using System.Drawing.Drawing2D;
using System.Drawing.Imaging;
using System.IO;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

namespace bY1AeAvZXhx9ZnK9Va6
{
  internal static class TAQqdpvQeYV7ExqOMro
  {
    [MethodImpl(MethodImplOptions.NoInlining)]
    public static Image kjTiHdFu7N(object _param0, int _param1, int _param2, int _param3)
    {
      TAQqdpvQeYV7ExqOMro.BepWuvTBktupDX4lsrC();
      int num;
      if (!TAQqdpvQeYV7ExqOMro.sefI9PTL9JlQXMVMkMG())
      {
        if (true)
        {
          num = 5;
          goto label_7;
        }
      }
      else
        goto label_3;
label_2:
      bool flag;
      Image image1;
      if (!flag)
      {
        image1 = (Image) new Bitmap((Image) _param0, _param1, _param2);
        num = 6;
        goto label_7;
      }
      else
        goto label_6;
label_3:
      num = 1;
      if (true)
        goto label_7;
      else
        goto label_19;
label_6:
      Image image2 = (Image) _param0;
      goto label_19;
label_7:
      while (true)
      {
        switch (num)
        {
          case 0:
          case 5:
            flag = _param3 >= 100;
            num = 3;
            continue;
          case 1:
          case 2:
            goto label_6;
          case 3:
            goto label_2;
          case 4:
            goto label_19;
          case 6:
            goto label_9;
          default:
            num = 4;
            continue;
        }
      }
label_9:
      try
      {
        ImageCodecInfo imageCodecInfo = (ImageCodecInfo) TAQqdpvQeYV7ExqOMro.FeDAM9TRFvyxv3ekEyI(TAQqdpvQeYV7ExqOMro.VwdSVFTyuChSR7vLS7v(24572));
        Encoder quality = Encoder.Quality;
        EncoderParameters encoderParameters = new EncoderParameters(1);
        EncoderParameter encoderParameter = new EncoderParameter(quality, (long) _param3);
        TAQqdpvQeYV7ExqOMro.mgWaXcT2mVK4bsCEMkA((object) encoderParameters)[0] = (object) encoderParameter;
        MemoryStream memoryStream = new MemoryStream();
        TAQqdpvQeYV7ExqOMro.hQXt2oTCDJtdvOaxlDo((object) image1, (object) memoryStream, (object) imageCodecInfo, (object) encoderParameters);
        Image image3 = (Image) TAQqdpvQeYV7ExqOMro.HdATB5TATFn8iKI1gJk((object) memoryStream);
        ImageAttributes imageAttributes = new ImageAttributes();
        Graphics graphics = (Graphics) TAQqdpvQeYV7ExqOMro.Is3K6nTe0HavwZ6L1gs((object) image3);
        try
        {
          TAQqdpvQeYV7ExqOMro.KqhtytT9cNgMOCLrjxk((object) graphics, InterpolationMode.NearestNeighbor);
          TAQqdpvQeYV7ExqOMro.BepWuvTBktupDX4lsrC();
          switch (TAQqdpvQeYV7ExqOMro.sefI9PTL9JlQXMVMkMG() ? 3 : 2)
          {
            case 0:
            case 2:
              TAQqdpvQeYV7ExqOMro.mAXg4M60c7ZfJ1N4lXC((object) graphics, (object) image3, new Rectangle(Point.Empty, TAQqdpvQeYV7ExqOMro.uv8dw7TuDHRl6gKRnLr((object) image3)), 0, 0, TAQqdpvQeYV7ExqOMro.O6yNkmTzrV1e2FoVQIf((object) image3), TAQqdpvQeYV7ExqOMro.btQW7i617IYO0IMXnQf((object) image3), GraphicsUnit.Pixel, (object) imageAttributes);
              break;
          }
        }
        finally
        {
          if (graphics != null)
            TAQqdpvQeYV7ExqOMro.mHveel6ObvPGVP5Ll1k((object) graphics);
        }
        image2 = image3;
      }
      finally
      {
        if (image1 != null)
          TAQqdpvQeYV7ExqOMro.mHveel6ObvPGVP5Ll1k((object) image1);
      }
label_19:
      return image2;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    private static ImageCodecInfo apbi6rbfx1(object _param0)
    {
      int num = 10;
      if (true)
        goto label_4;
      else
        goto label_11;
label_2:
      int index;
      bool flag;
      if (!flag)
      {
        ++index;
        if (TAQqdpvQeYV7ExqOMro.BepWuvTBktupDX4lsrC())
          num = 7;
        else
          goto label_11;
      }
      else
        goto label_8;
label_4:
      ImageCodecInfo[] imageCodecInfoArray1;
      ImageCodecInfo imageCodecInfo1;
      ImageCodecInfo[] imageCodecInfoArray2;
      while (true)
      {
        switch (num)
        {
          case 0:
          case 12:
            goto label_16;
          case 1:
            goto label_8;
          case 2:
            goto label_2;
          case 3:
          case 5:
          case 7:
            goto label_11;
          case 4:
            flag = TAQqdpvQeYV7ExqOMro.hX4E846pSHYGWe2jnAC(TAQqdpvQeYV7ExqOMro.aMB6Z36hirebn8Zp1R5((object) imageCodecInfo1), _param0);
            num = 2;
            continue;
          case 6:
            index = 0;
            num = TAQqdpvQeYV7ExqOMro.sefI9PTL9JlQXMVMkMG() ? 8 : 5;
            continue;
          case 8:
          case 9:
            goto label_14;
          case 10:
            imageCodecInfoArray2 = (ImageCodecInfo[]) TAQqdpvQeYV7ExqOMro.Ojjk4q6ilQV0f285FKq();
            num = 11;
            continue;
          case 11:
            imageCodecInfoArray1 = imageCodecInfoArray2;
            if (!TAQqdpvQeYV7ExqOMro.sefI9PTL9JlQXMVMkMG())
            {
              num = 6;
              continue;
            }
            goto label_8;
          default:
            if (true)
            {
              num = 1;
              continue;
            }
            goto case 6;
        }
      }
label_8:
      ImageCodecInfo imageCodecInfo2 = imageCodecInfo1;
      if (!TAQqdpvQeYV7ExqOMro.sefI9PTL9JlQXMVMkMG())
      {
        num = 0;
        goto label_4;
      }
      else
        goto label_16;
label_11:
      if (index < imageCodecInfoArray1.Length)
      {
        imageCodecInfo1 = imageCodecInfoArray1[index];
        if (true)
        {
          num = 4;
          goto label_4;
        }
        else
          goto label_2;
      }
label_14:
      imageCodecInfo2 = (ImageCodecInfo) null;
      num = 12;
      goto label_4;
label_16:
      return imageCodecInfo2;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static byte[] T4uijLVPg8(object _param0)
    {
      MemoryStream memoryStream = new MemoryStream();
      try
      {
        TAQqdpvQeYV7ExqOMro.pTqWTi63QaChQGRIy4E(_param0, (object) memoryStream, TAQqdpvQeYV7ExqOMro.iKaqmV6MtwjgpUBvNke());
        return (byte[]) TAQqdpvQeYV7ExqOMro.D6yCTo6xn8jqZ1VcdVG((object) memoryStream);
      }
      finally
      {
        if (memoryStream != null)
          TAQqdpvQeYV7ExqOMro.mHveel6ObvPGVP5Ll1k((object) memoryStream);
      }
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object VwdSVFTyuChSR7vLS7v(int _param0) => (object) Uth8UtZvw8ZIl76OhNg.UebKOWRTN5(_param0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object FeDAM9TRFvyxv3ekEyI([In] object obj0) => (object) TAQqdpvQeYV7ExqOMro.apbi6rbfx1(obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object mgWaXcT2mVK4bsCEMkA([In] object obj0) => (object) ((EncoderParameters) obj0).Param;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void hQXt2oTCDJtdvOaxlDo([In] object obj0, [In] object obj1, [In] object obj2, [In] object obj3) => ((Image) obj0).Save((Stream) obj1, (ImageCodecInfo) obj2, (EncoderParameters) obj3);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object HdATB5TATFn8iKI1gJk([In] object obj0) => (object) Image.FromStream((Stream) obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object Is3K6nTe0HavwZ6L1gs([In] object obj0) => (object) Graphics.FromImage((Image) obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void KqhtytT9cNgMOCLrjxk([In] object obj0, [In] InterpolationMode obj1) => ((Graphics) obj0).InterpolationMode = obj1;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static Size uv8dw7TuDHRl6gKRnLr([In] object obj0) => ((Image) obj0).Size;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static int O6yNkmTzrV1e2FoVQIf([In] object obj0) => ((Image) obj0).Width;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static int btQW7i617IYO0IMXnQf([In] object obj0) => ((Image) obj0).Height;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void mAXg4M60c7ZfJ1N4lXC(
      [In] object obj0,
      [In] object obj1,
      [In] Rectangle obj2,
      [In] int obj3,
      [In] int obj4,
      [In] int obj5,
      [In] int obj6,
      [In] GraphicsUnit obj7,
      [In] object obj8)
    {
      ((Graphics) obj0).DrawImage((Image) obj1, obj2, obj3, obj4, obj5, obj6, obj7, (ImageAttributes) obj8);
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void mHveel6ObvPGVP5Ll1k([In] object obj0) => ((IDisposable) obj0).Dispose();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool BepWuvTBktupDX4lsrC() => true;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool sefI9PTL9JlQXMVMkMG() => false;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object Ojjk4q6ilQV0f285FKq() => (object) ImageCodecInfo.GetImageEncoders();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object aMB6Z36hirebn8Zp1R5([In] object obj0) => (object) ((ImageCodecInfo) obj0).MimeType;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool hX4E846pSHYGWe2jnAC([In] object obj0, [In] object obj1) => (string) obj0 == (string) obj1;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object iKaqmV6MtwjgpUBvNke() => (object) ImageFormat.Jpeg;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void pTqWTi63QaChQGRIy4E([In] object obj0, [In] object obj1, [In] object obj2) => ((Image) obj0).Save((Stream) obj1, (ImageFormat) obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object D6yCTo6xn8jqZ1VcdVG([In] object obj0) => (object) ((MemoryStream) obj0).ToArray();
  }
}
