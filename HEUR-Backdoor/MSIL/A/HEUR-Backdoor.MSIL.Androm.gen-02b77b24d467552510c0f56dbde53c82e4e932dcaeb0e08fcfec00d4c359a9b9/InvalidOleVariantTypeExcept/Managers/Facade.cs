// Decompiled with JetBrains decompiler
// Type: InvalidOleVariantTypeExcept.Managers.Facade
// Assembly: InvalidOleVariantTypeExcept, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 9E82E8E9-C8CD-41F7-BA61-2A9379AE4148
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Backdoor.MSIL.Androm.gen-02b77b24d467552510c0f56dbde53c82e4e932dcaeb0e08fcfec00d4c359a9b9.exe

using InvalidOleVariantTypeExcept.Filters;
using InvalidOleVariantTypeExcept.Messages;
using System;
using System.Data.OleDb;
using System.Runtime.CompilerServices;
using TGL.Bridges;
using TGL.Licensing;

namespace InvalidOleVariantTypeExcept.Managers
{
  public class Facade : BaseBridge
  {
    private OleDbConnection tag;

    [MethodImpl(MethodImplOptions.NoInlining)]
    public Facade(string var1)
    {
      int num1 = 2;
      while (true)
      {
        int num2;
        switch (num1)
        {
          case 0:
          case 2:
            UtilsContextLicense.ListWorker();
            num2 = 3;
            break;
          case 1:
          case 3:
            goto label_2;
          case 4:
            goto label_6;
          default:
            num2 = 4;
            break;
        }
        num1 = num2;
      }
label_2:
      // ISSUE: explicit constructor call
      base.\u002Ector();
label_6:
      try
      {
        this.tag = new OleDbConnection(var1);
        int num3 = 2;
        while (true)
        {
          switch (num3)
          {
            case 0:
            case 2:
              goto label_8;
            case 1:
              goto label_12;
            case 3:
              goto label_13;
            default:
              num3 = 3;
              continue;
          }
        }
label_8:
        this.tag.Open();
        return;
label_12:
        return;
label_13:;
      }
      catch (Exception ex)
      {
        throw new Exception(RoleValueFilter.RestartVisitor(920) + ex.Message);
      }
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public override void InitResolver() => this.tag.Close();

    [MethodImpl(MethodImplOptions.NoInlining)]
    public override void ConcatResolver(PoolFieldMessage item)
    {
      int num1 = 2;
      if (true)
        goto label_2;
label_1:
      bool flag;
      if (!flag)
      {
        try
        {
          OleDbCommand oleDbCommand = new OleDbCommand();
          int num2 = 3;
          while (true)
          {
            int num3 = num2;
            while (true)
            {
              switch (num3)
              {
                case 0:
                  goto label_8;
                case 1:
                  goto label_12;
                case 2:
                case 9:
                  goto label_10;
                case 3:
                  goto label_7;
                case 4:
                  goto label_16;
                case 5:
                case 7:
                  goto label_11;
                case 6:
                  oleDbCommand.Prepare();
                  if (true)
                  {
                    num3 = 4;
                    continue;
                  }
                  goto label_10;
                case 8:
                  goto label_17;
                case 10:
                  goto label_18;
                default:
                  int num4 = 8;
                  num3 = Facade.ReflectInfo() ? num4 : num4;
                  continue;
              }
            }
label_7:
            oleDbCommand.Connection = this.tag;
            num2 = 0;
            continue;
label_8:
            oleDbCommand.CommandText = RoleValueFilter.RestartVisitor(1072);
            num2 = 9;
            continue;
label_10:
            oleDbCommand.Parameters.Add(RoleValueFilter.RestartVisitor(1264), OleDbType.VarChar, 20).Value = (object) item.StartRecord();
            num2 = 1;
            continue;
label_11:
            oleDbCommand.Parameters.Add(RoleValueFilter.RestartVisitor(1312), OleDbType.Integer, 11).Value = (object) item.CloneRecord();
            num2 = 6;
            continue;
label_12:
            oleDbCommand.Parameters.Add(RoleValueFilter.RestartVisitor(1280), OleDbType.VarChar, 20).Value = (object) this.SetupRecord(item.VerifyRecord());
            goto label_17;
label_16:
            oleDbCommand.ExecuteNonQuery();
            num2 = 10;
            continue;
label_17:
            oleDbCommand.Parameters.Add(RoleValueFilter.RestartVisitor(1294), OleDbType.Integer, 11).Value = (object) item.Points;
            num2 = 7;
          }
label_18:
          return;
        }
        catch (Exception ex)
        {
          throw new Exception(RoleValueFilter.RestartVisitor(1336) + item.StartRecord() + RoleValueFilter.RestartVisitor(1394));
        }
      }
      else
        goto label_5;
label_2:
      while (true)
      {
        switch (num1)
        {
          case 0:
          case 2:
            flag = item == null;
            if (Facade.InvokeInfo())
            {
              num1 = 3;
              continue;
            }
            goto label_5;
          case 1:
          case 3:
            goto label_1;
          case 4:
            goto label_5;
          default:
            num1 = 4;
            continue;
        }
      }
label_5:
      throw new Exception(RoleValueFilter.RestartVisitor(1022));
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public override void CompareResolver(PoolFieldMessage spec)
    {
      int num1 = 3;
      bool flag;
      while (true)
      {
        switch (num1)
        {
          case 0:
          case 3:
            flag = spec == null;
            if (true)
            {
              num1 = 2;
              continue;
            }
            goto label_2;
          case 1:
          case 2:
            goto label_2;
          case 4:
            goto label_6;
          default:
            num1 = 4;
            continue;
        }
      }
label_2:
      if (!flag)
      {
        try
        {
          OleDbCommand oleDbCommand = new OleDbCommand();
          int num2 = 5;
          if (true)
            goto label_10;
label_8:
          oleDbCommand.Prepare();
          if (!Facade.ReflectInfo())
          {
            num2 = 7;
            goto label_10;
          }
label_9:
          oleDbCommand.Parameters.Add(RoleValueFilter.RestartVisitor(1312), OleDbType.Integer, 11).Value = (object) spec.CloneRecord();
          goto label_14;
label_10:
          while (true)
          {
            switch (num2)
            {
              case 0:
              case 5:
                goto label_15;
              case 1:
                goto label_14;
              case 2:
                oleDbCommand.Parameters.Add(RoleValueFilter.RestartVisitor(1294), OleDbType.Integer, 11).Value = (object) spec.Points;
                if (true)
                {
                  num2 = 3;
                  continue;
                }
                goto case 8;
              case 3:
                goto label_9;
              case 4:
                goto label_8;
              case 6:
              case 7:
                oleDbCommand.ExecuteNonQuery();
                num2 = 9;
                continue;
              case 8:
                oleDbCommand.CommandText = RoleValueFilter.RestartVisitor(1404);
                if (Facade.InvokeInfo())
                {
                  num2 = 2;
                  continue;
                }
                goto label_14;
              case 9:
                goto label_17;
              default:
                int num3 = 1;
                num2 = Facade.ReflectInfo() ? num3 : num3;
                continue;
            }
          }
label_17:
          return;
label_14:
          oleDbCommand.Parameters.Add(RoleValueFilter.RestartVisitor(1264), OleDbType.VarChar, 20).Value = (object) spec.StartRecord();
          if (true)
          {
            num2 = 4;
            goto label_10;
          }
label_15:
          oleDbCommand.Connection = this.tag;
          num2 = 8;
          goto label_10;
        }
        catch (Exception ex)
        {
          throw new Exception(RoleValueFilter.RestartVisitor(1566) + spec.StartRecord() + RoleValueFilter.RestartVisitor(1394));
        }
      }
label_6:
      throw new Exception(RoleValueFilter.RestartVisitor(1022));
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public override PoolFieldMessage ReadResolver(PoolFieldMessage init)
    {
      int num1 = 2;
      bool flag1;
      while (true)
      {
        switch (num1)
        {
          case 0:
          case 2:
            flag1 = init == null;
            num1 = 3;
            continue;
          case 1:
          case 3:
            goto label_2;
          case 4:
            goto label_5;
          default:
            if (Facade.InvokeInfo())
            {
              num1 = 4;
              continue;
            }
            goto label_5;
        }
      }
label_2:
      if (!flag1)
      {
        try
        {
          OleDbCommand oleDbCommand = new OleDbCommand();
          int num2 = 10;
          PoolFieldMessage poolFieldMessage;
          while (true)
          {
            int num3 = num2;
            OleDbDataReader oleDbDataReader;
            bool flag2;
            while (true)
            {
              switch (num3)
              {
                case 0:
                  goto label_8;
                case 1:
                case 3:
                  oleDbCommand.Parameters.Add(RoleValueFilter.RestartVisitor(1280), OleDbType.VarChar, 25).Value = (object) this.SetupRecord(init.VerifyRecord());
                  if (true)
                  {
                    num3 = 12;
                    continue;
                  }
                  goto label_20;
                case 2:
                case 6:
                  goto label_9;
                case 4:
                  goto label_16;
                case 5:
                  poolFieldMessage.CancelRecord(oleDbDataReader.GetInt32(2));
                  if (true)
                  {
                    num3 = 4;
                    continue;
                  }
                  goto case 8;
                case 7:
                  if (flag2)
                  {
                    if (Facade.InvokeInfo())
                    {
                      num3 = 0;
                      continue;
                    }
                    goto case 1;
                  }
                  else
                    goto label_16;
                case 8:
                  poolFieldMessage.Points = oleDbDataReader.GetInt32(1);
                  int num4 = 5;
                  num3 = Facade.ReflectInfo() ? num4 : num4;
                  continue;
                case 9:
                  oleDbDataReader = oleDbCommand.ExecuteReader();
                  poolFieldMessage = (PoolFieldMessage) null;
                  flag2 = oleDbDataReader.Read();
                  goto case 7;
                case 10:
                  oleDbCommand.Connection = this.tag;
                  num3 = 13;
                  continue;
                case 11:
                  goto label_20;
                case 12:
                  oleDbCommand.Prepare();
                  num3 = 9;
                  continue;
                case 13:
                  oleDbCommand.CommandText = RoleValueFilter.RestartVisitor(1622);
                  if (true)
                  {
                    num3 = 6;
                    continue;
                  }
                  goto case 9;
                case 14:
                  goto label_23;
                default:
                  goto label_14;
              }
            }
label_8:
            poolFieldMessage = new PoolFieldMessage();
            num2 = 11;
            continue;
label_9:
            oleDbCommand.Parameters.Add(RoleValueFilter.RestartVisitor(1264), OleDbType.VarChar, 25).Value = (object) init.StartRecord();
            num2 = 1;
            continue;
label_14:
            num2 = 7;
            continue;
label_16:
            oleDbDataReader.Close();
            num2 = 14;
            continue;
label_20:
            poolFieldMessage.PublishRecord(oleDbDataReader.GetString(0));
            num2 = 8;
          }
label_23:
          return poolFieldMessage;
        }
        catch (Exception ex)
        {
          throw new Exception(RoleValueFilter.RestartVisitor(1788) + init.StartRecord() + RoleValueFilter.RestartVisitor(1836) + ex.Message);
        }
      }
label_5:
      throw new Exception(RoleValueFilter.RestartVisitor(1022));
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public override bool CountResolver(string spec)
    {
      int num1 = 4;
      bool flag1;
      while (true)
      {
        int num2 = num1;
        bool flag2;
        while (true)
        {
          switch (num2)
          {
            case 0:
            case 4:
              goto label_7;
            case 1:
              if (!flag2)
                goto label_8;
              else
                goto case 2;
            case 2:
            case 3:
              flag1 = false;
              if (true)
              {
                num2 = 5;
                continue;
              }
              goto case 1;
            case 5:
              goto label_21;
            default:
              if (true)
              {
                num2 = 3;
                continue;
              }
              goto label_7;
          }
        }
label_7:
        flag2 = string.IsNullOrWhiteSpace(spec);
        num1 = 1;
      }
label_8:
      try
      {
        OleDbCommand oleDbCommand = new OleDbCommand();
        int num3 = 8;
        bool flag3;
        while (true)
        {
          int num4 = num3;
          while (true)
          {
            switch (num4)
            {
              case 0:
                goto label_13;
              case 1:
              case 2:
                oleDbCommand.Parameters.Add(RoleValueFilter.RestartVisitor(1264), OleDbType.VarChar, 20).Value = (object) spec;
                if (true)
                {
                  num4 = 4;
                  continue;
                }
                goto label_19;
              case 3:
              case 5:
                goto label_17;
              case 4:
                goto label_9;
              case 6:
                oleDbCommand.CommandText = RoleValueFilter.RestartVisitor(1848);
                int num5 = 1;
                num4 = Facade.ReflectInfo() ? num5 : num5;
                continue;
              case 7:
                goto label_15;
              case 8:
                goto label_16;
              case 9:
                goto label_19;
              default:
                goto label_12;
            }
          }
label_9:
          oleDbCommand.Prepare();
          goto label_15;
label_12:
          num3 = 7;
          continue;
label_13:
          OleDbDataReader oleDbDataReader;
          oleDbDataReader.Close();
          num3 = 9;
          continue;
label_15:
          oleDbDataReader = oleDbCommand.ExecuteReader();
          num3 = 3;
          continue;
label_16:
          oleDbCommand.Connection = this.tag;
          num3 = 6;
          continue;
label_17:
          flag3 = oleDbDataReader.Read();
          num3 = 0;
        }
label_19:
        flag1 = flag3;
      }
      catch (Exception ex)
      {
        throw new Exception(RoleValueFilter.RestartVisitor(1942));
      }
label_21:
      return flag1;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public override string ToString() => RoleValueFilter.RestartVisitor(2010);

    internal static bool InvokeInfo() => true;

    internal static bool ReflectInfo() => false;
  }
}
