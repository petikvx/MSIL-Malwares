// Decompiled with JetBrains decompiler
// Type: 642194741347.186197762616
// Assembly: 052709057542, Version=16.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a
// MVID: 359C9CB9-9F6B-407E-806A-B212EE061A4B
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.03\HEUR-Exploit.MSIL.Shellcode.gen-863aa9d936ae1e503405345248a0f92c12efaa795df31afd30568cac9e6c7a0e.exe

using \u003488566072194;
using \u003642194741347;
using \u003906611120407;
using EnvDTE;
using Microsoft.AspNet.Scaffolding;
using Microsoft.WebTools.Shared.VS.Helpers;
using System;
using System.IO;
using System.Reflection;
using VSLangProj;

namespace \u003642194741347
{
  [Serializable]
  internal class \u003186197762616
  {
    private const string \u003951010450090 = "Microsoft.WebTools.Scaffolding.EF{0}.dll";
    private const string \u003604553715468 = "System.Data.Entity, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089";
    private const string \u003280598041384 = "EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089";
    public const string \u003479651924938 = "System.Data.Objects.ObjectContext";
    public const string \u003006884699647 = "System.Data.Entity.Core.Objects.ObjectContext";
    private AssemblyName \u003739848527982;

    private \u003186197762616(
      string shimAssemblyFile,
      string entityFrameworkAssemblyName,
      string objectContextTypeName)
    {
      this.\u003249349967453 = shimAssemblyFile;
      this.\u003403886929276 = entityFrameworkAssemblyName;
      this.\u003940952133083 = objectContextTypeName;
    }

    public static \u003186197762616 \u003818164256493(
      IServiceProvider _param0,
      Project _param1)
    {
      if (_param0 == null)
        throw new ArgumentNullException("serviceProvider");
      Version version = _param1 != null ? \u003186197762616.\u003136297915564(_param1) : throw new ArgumentNullException("project");
      if (version == (Version) null || version.Major < 5 || version.Major > 6)
        throw new InvalidOperationException(\u003887654838092.\u003431310802493);
      IVisualStudioInformation service = IServiceProviderExtensions.GetService<IVisualStudioInformation>(_param0);
      string shimAssemblyFile = \u003186197762616.\u003425875035816(version, service);
      string str1;
      string str2;
      if (version.Major == 5)
      {
        str1 = "System.Data.Entity, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089";
        str2 = "System.Data.Objects.ObjectContext";
      }
      else
      {
        if (version.Major != 6)
          throw new InvalidOperationException(\u003887654838092.\u003431310802493);
        str1 = "EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089";
        str2 = "System.Data.Entity.Core.Objects.ObjectContext";
      }
      string entityFrameworkAssemblyName = str1;
      string objectContextTypeName = str2;
      return new \u003186197762616(shimAssemblyFile, entityFrameworkAssemblyName, objectContextTypeName);
    }

    public string \u003403886929276 { get; private set; }

    public string \u003940952133083 { get; private set; }

    public string \u003249349967453 { get; private set; }

    public AssemblyName \u003808663517377
    {
      get
      {
        if (this.\u003739848527982 == null)
          this.\u003739848527982 = AssemblyName.GetAssemblyName(this.\u003249349967453);
        return this.\u003739848527982;
      }
    }

    private static Version \u003136297915564(Project _param0)
    {
      Reference reference = \u003932824046626.\u003666105789424(_param0);
      return reference != null ? new Version(reference.Version) : (Version) null;
    }

    private static string \u003425875035816(Version _param0, IVisualStudioInformation _param1)
    {
      string path2 = string.Format("Microsoft.WebTools.Scaffolding.EF{0}.dll", (object) _param0.Major);
      return Path.Combine(_param1.ScaffoldingInstallDirectory, path2);
    }
  }
}
