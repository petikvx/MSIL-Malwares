// Decompiled with JetBrains decompiler
// Type: Automata.DrawThing
// Assembly: KeyValuePairTypeIn, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 5BC10340-E19B-4E23-8390-67C019FFF1B3
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.01-msil\HEUR-Trojan.Win32.Generic-d8c6555cb1a96eccd43acde476d43d9c68a39cb56c508416393bbee50249b6b7.exe

using System;
using System.Collections;
using System.Collections.Generic;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.Runtime.InteropServices;
using System.Text;

namespace Automata
{
  public class DrawThing
  {
    public string GetDotGraphString<T>(IAmMachine<T> machine, IEnumerable<IAmState<T>> states)
    {
label_1:
      int num1 = -263313461;
      StringBuilder stringBuilder;
      while (true)
      {
        uint num2;
        switch ((num2 = (uint) (num1 ^ -653182780)) % 4U)
        {
          case 0:
            goto label_1;
          case 1:
            num1 = (int) num2 * 635530341 ^ -1079937381;
            continue;
          case 3:
            stringBuilder = DrawThing.\u206A‫⁯‬‎‏​⁯⁪⁯‎‮‭⁮‫⁫‬‭‌‫⁯⁯‎⁬⁫‪⁮‍‍‬‍‫‫⁬‫⁬‎‬‌‬‮();
            DrawThing.\u206D⁯‫‭⁬‪‍‍‍‬⁮‫‬‍⁮​​⁫⁮⁭⁯​‭‭⁭‎‏⁫⁯⁭‫‫‎‮⁭​⁯⁬‏‫‮(stringBuilder, \u003CModule\u003E.\u200C‬‪‮⁫⁪‎⁭‬‫‪​‮⁯⁭⁭‮⁭‍⁭‭‏‮‌‌‮‏‏‎⁭‌‌⁬‍‭​‬‍‬‮‮<string>(176218372U));
            num1 = (int) num2 * -1461116454 ^ 1280845843;
            continue;
          default:
            goto label_5;
        }
      }
label_5:
      IEnumerator<IAmState<T>> enumerator1 = states.GetEnumerator();
      try
      {
label_36:
        if (DrawThing.\u200F‮‬‌‎‮⁪⁫⁭⁬⁫‪‍‬‬⁯‬‫⁮‮‮‎‎‪⁮⁮‏‏‪‬⁮⁬⁭‬‭‎‫⁭‭‮((IEnumerator) enumerator1))
        {
label_13:
          IAmState<T> current1 = enumerator1.Current;
          int num3 = -929712057;
          string str1;
          bool flag1;
          bool flag2;
          while (true)
          {
            uint num4;
            switch ((num4 = (uint) (num3 ^ -653182780)) % 11U)
            {
              case 0:
                flag1 = DrawThing.\u202C‮⁮⁫‪⁯​‬⁮⁮‎‮‮‭‏‍‏⁭‫⁯‎‏‎‮⁮‬⁭‪⁭‪⁪⁬‮‭‌⁮‬‮‎‌‮((object) machine.State, (object) current1);
                num3 = (int) num4 * -1245814485 ^ -107842211;
                continue;
              case 1:
                goto label_13;
              case 2:
                num3 = (int) num4 * -409759672 ^ -664307987;
                continue;
              case 4:
                num3 = -897027109;
                continue;
              case 5:
                flag2 = flag1;
                num3 = (int) num4 * -282554472 ^ 1382645672;
                continue;
              case 6:
                str1 = current1.Name;
                num3 = (int) num4 * -1279787876 ^ 976513064;
                continue;
              case 7:
                str1 = DrawThing.\u202E‏⁭‮⁪⁪⁬‏​⁪‪​⁮​‬⁯‪‪‮‭‍⁭​‎‌‮⁭⁯‭​⁪⁭‭‎‏‭‭‮‮⁬‮(str1, \u003CModule\u003E.\u206E‭​‏⁮‌⁯‍‮⁪⁪‍‮⁮⁬⁭‎‪‏‭‎⁫‏⁬⁪‌⁬‎‮‭⁬‍⁯‬‏⁫⁭‎⁪⁯‮<string>(1296607997U));
                num3 = (int) num4 * -836917319 ^ 406761709;
                continue;
              case 8:
                num3 = (int) num4 * -21677580 ^ 941488377;
                continue;
              case 9:
                DrawThing.\u206D⁯‫‭⁬‪‍‍‍‬⁮‫‬‍⁮​​⁫⁮⁭⁯​‭‭⁭‎‏⁫⁯⁭‫‫‎‮⁭​⁯⁬‏‫‮(DrawThing.\u206F‏‪‫⁪⁪‬‏‮⁬‏‫‏‍‭⁮⁬⁮‍⁪‏⁭‭‮‍⁬‬‌‍‪‌⁬‎⁬‍‫⁫​‪‎‮(stringBuilder, \u003CModule\u003E.\u200C‬‪‮⁫⁪‎⁭‬‫‪​‮⁯⁭⁭‮⁭‍⁭‭‏‮‌‌‮‏‏‎⁭‌‌⁬‍‭​‬‍‬‮‮<string>(2928931523U)), str1);
                num3 = -103502612;
                continue;
              case 10:
                int num5 = flag2 ? -307268393 : (num5 = -550161347);
                num3 = num5 ^ (int) num4 * -550201296;
                continue;
              default:
                goto label_18;
            }
          }
label_18:
          IEnumerator<IAmTransition<T>> enumerator2 = current1.Transitions.GetEnumerator();
          try
          {
label_26:
            int num6 = !DrawThing.\u200F‮‬‌‎‮⁪⁫⁭⁬⁫‪‍‬‬⁯‬‫⁮‮‮‎‎‪⁮⁮‏‏‪‬⁮⁬⁭‬‭‎‫⁭‭‮((IEnumerator) enumerator2) ? -1283469137 : (num6 = -635031024);
            string str2;
            IAmTransition<T> current2;
            while (true)
            {
              uint num7;
              switch ((num7 = (uint) (num6 ^ -653182780)) % 8U)
              {
                case 0:
                  str2 = DrawThing.\u200F‫⁬⁭‎‮‪‬‏⁬⁮⁭⁯‏⁭⁯​‮⁫⁮‌⁯‏‬⁮⁮⁪‍⁭⁮‏‎⁯​⁫‌​​‪⁭‮(\u003CModule\u003E.\u202D⁬‮‬‪⁪⁪‏‮‬‬⁯⁫‮⁮‌‌⁮‪‫‎⁯‌‏⁬​‎‭​‏‏⁮‍‍‍‎‭‪⁫‮‮<string>(2059605831U), (object) current1.Name, (object) current2.Target.Name);
                  num6 = (int) num7 * -1300783859 ^ -691489939;
                  continue;
                case 1:
                  DrawThing.\u206D⁯‫‭⁬‪‍‍‍‬⁮‫‬‍⁮​​⁫⁮⁭⁯​‭‭⁭‎‏⁫⁯⁭‫‫‎‮⁭​⁯⁬‏‫‮(DrawThing.\u206F‏‪‫⁪⁪‬‏‮⁬‏‫‏‍‭⁮⁬⁮‍⁪‏⁭‭‮‍⁬‬‌‍‪‌⁬‎⁬‍‫⁫​‪‎‮(stringBuilder, \u003CModule\u003E.\u200C‬‪‮⁫⁪‎⁭‬‫‪​‮⁯⁭⁭‮⁭‍⁭‭‏‮‌‌‮‏‏‎⁭‌‌⁬‍‭​‬‍‬‮‮<string>(2928931523U)), str2);
                  num6 = (int) num7 * -594769822 ^ 2146209000;
                  continue;
                case 2:
                  num6 = -635031024;
                  continue;
                case 4:
                  current2 = enumerator2.Current;
                  num6 = -1447645725;
                  continue;
                case 5:
                  goto label_26;
                case 6:
                  num6 = (int) num7 * 2037994602 ^ -736948411;
                  continue;
                case 7:
                  num6 = (int) num7 * 1217950550 ^ 609866902;
                  continue;
                default:
                  goto label_33;
              }
            }
          }
          finally
          {
            if (enumerator2 != null)
            {
label_29:
              int num8 = -1018742040;
              while (true)
              {
                uint num9;
                switch ((num9 = (uint) (num8 ^ -653182780)) % 3U)
                {
                  case 0:
                    goto label_29;
                  case 2:
                    DrawThing.\u200E‌⁫‭‌‭‌‪‫‬⁯‭​‍‬‮​‫‪⁬‍‌‍‎‪⁬⁯‬​⁮‎‫⁫‍⁪⁪⁭​⁯⁯‮((IDisposable) enumerator2);
                    num8 = (int) num9 * -122689229 ^ 2137708551;
                    continue;
                  default:
                    goto label_32;
                }
              }
            }
label_32:;
          }
label_33:;
        }
        else
          goto label_37;
label_34:
        int num10 = -1066724765;
label_35:
        uint num11;
        switch ((num11 = (uint) (num10 ^ -653182780)) % 3U)
        {
          case 0:
            goto label_34;
          case 2:
            goto label_36;
          default:
            goto label_43;
        }
label_37:
        num10 = -1468260792;
        goto label_35;
      }
      finally
      {
        if (enumerator1 != null)
        {
label_39:
          int num12 = -1207003199;
          while (true)
          {
            uint num13;
            switch ((num13 = (uint) (num12 ^ -653182780)) % 3U)
            {
              case 0:
                goto label_39;
              case 2:
                DrawThing.\u200E‌⁫‭‌‭‌‪‫‬⁯‭​‍‬‮​‫‪⁬‍‌‍‎‪⁬⁯‬​⁮‎‫⁫‍⁪⁪⁭​⁯⁯‮((IDisposable) enumerator1);
                num12 = (int) num13 * -110810753 ^ -1400776150;
                continue;
              default:
                goto label_42;
            }
          }
        }
label_42:;
      }
label_43:
      DrawThing.\u206D⁯‫‭⁬‪‍‍‍‬⁮‫‬‍⁮​​⁫⁮⁭⁯​‭‭⁭‎‏⁫⁯⁭‫‫‎‮⁭​⁯⁬‏‫‮(stringBuilder, \u003CModule\u003E.\u206C⁯‌‪‏‎‍‮‬‮‍‭⁬⁭‫‌‌⁯​‮⁪⁫‫‍⁭⁮‏⁪‎‏⁯‌‌⁬​‮‭‌‏‪‮<string>(3019928138U));
      return DrawThing.\u206F​‎⁭⁫‍‌‎​⁪⁯‮‎⁮‭​‎‮‬⁪‭‎‮⁪‎‎‍‪‫‎‪⁮‫‎‍‍‪‎‏‭‮((object) stringBuilder);
    }

    public Image CreateGraphImage(string s)
    {
      string str1 = DrawThing.\u206F‎‪⁮​⁪⁪‎‫⁬​‍​‍‭⁮⁭‎‎⁮‎‮‮​‌‪⁮⁬‭⁪⁮⁫‫‎⁬‪⁬⁫⁫‪‮(\u003CModule\u003E.\u202D⁬‮‬‪⁪⁪‏‮‬‬⁯⁫‮⁮‌‌⁮‪‫‎⁯‌‏⁬​‎‭​‏‏⁮‍‍‍‎‭‪⁫‮‮<string>(3262456273U), (object) DateTime.UtcNow.Ticks);
label_1:
      int num1 = -174662977;
      Process process;
      string str2;
      Image graphImage;
      ProcessStartInfo processStartInfo1;
      string str3;
      while (true)
      {
        uint num2;
        switch ((num2 = (uint) (num1 ^ -1743750931)) % 8U)
        {
          case 0:
            goto label_1;
          case 1:
            DrawThing.\u200C​‫‏‏‬‬‫‍⁫‭‭‌⁭⁯⁮⁬⁬‍⁭​‌⁭‏‬‏⁬‮​‌‭‍‎‪​⁮‎‪⁮‮‮(process);
            graphImage = DrawThing.\u206C‭​‍‎‏‮‎⁮‭‍‏‫‎‮⁯‮‏⁯‪‭⁮‌‪‎⁯‍‫​‎⁪⁫⁪​⁭⁬⁪‏⁭⁭‮(DrawThing.\u202E‏⁭‮⁪⁪⁬‏​⁪‪​⁮​‬⁯‪‪‮‭‍⁭​‎‌‮⁭⁯‭​⁪⁭‭‎‏‭‭‮‮⁬‮(str2, \u003CModule\u003E.\u206C⁯‌‪‏‎‍‮‬‮‍‭⁬⁭‫‌‌⁯​‮⁪⁫‫‍⁭⁮‏⁪‎‏⁯‌‌⁬​‮‭‌‏‪‮<string>(2844319836U)));
            num1 = (int) num2 * -588948578 ^ -385784220;
            continue;
          case 2:
            str3 = DrawThing.\u202E‏⁭‮⁪⁪⁬‏​⁪‪​⁮​‬⁯‪‪‮‭‍⁭​‎‌‮⁭⁯‭​⁪⁭‭‎‏‭‭‮‮⁬‮(str1, \u003CModule\u003E.\u206E‭​‏⁮‌⁯‍‮⁪⁪‍‮⁮⁬⁭‎‪‏‭‎⁫‏⁬⁪‌⁬‎‮‭⁬‍⁯‬‏⁫⁭‎⁪⁯‮<string>(571433617U));
            num1 = (int) num2 * -1906021453 ^ 1259410317;
            continue;
          case 3:
            ProcessStartInfo processStartInfo2 = DrawThing.\u202A⁬‏⁭⁮‎⁭⁭‬⁮‬‮⁭‏⁪‎⁯‮⁭​‬⁮⁭‏‌⁫⁭‫‪‫‭⁬⁫‫⁪⁬‫⁪⁪‏‮();
            DrawThing.\u206D​‭⁫‍‮⁬‬⁬‮‬‍​‫‌⁮‮‏⁮​‍‌‌​‏‫‌‭⁯‬‏‪⁫‪‌⁪‪‌‭⁫‮(processStartInfo2, \u003CModule\u003E.\u206C⁯‌‪‏‎‍‮‬‮‍‭⁬⁭‫‌‌⁯​‮⁪⁫‫‍⁭⁮‏⁪‎‏⁯‌‌⁬​‮‭‌‏‪‮<string>(2568718033U));
            DrawThing.\u200F⁭‌⁫‭⁭‪⁪⁮‎⁮‏⁬‬‌⁭‍⁯‪‬​‍​‍⁮‫⁭‎‬‪‭​‭​‌‍⁪⁬‮‏‮(processStartInfo2, \u003CModule\u003E.\u206C‌‌⁯‪⁭‌‫​⁫​‭⁭‪⁫⁪‬‮‏⁮‌⁪‬‬⁮​⁯‌‭‪‍⁯‭⁫‎​⁭​​⁪‮<string>(3984808903U));
            DrawThing.\u206D‬‍⁫⁯⁮⁪‎‎⁪‫‮⁬‪‍⁫‬⁭‪‫‏‪‭⁪⁮⁭⁪⁬‫‍‬‌‍⁫⁯⁮⁬‬⁫⁪‮(processStartInfo2, DrawThing.\u206F‎‪⁮​⁪⁪‎‫⁬​‍​‍‭⁮⁭‎‎⁮‎‮‮​‌‪⁮⁬‭⁪⁮⁫‫‎⁬‪⁬⁫⁫‪‮(\u003CModule\u003E.\u200C‬‪‮⁫⁪‎⁭‬‫‪​‮⁯⁭⁭‮⁭‍⁭‭‏‮‌‌‮‏‏‎⁭‌‌⁬‍‭​‬‍‬‮‮<string>(2949230923U), (object) str2));
            processStartInfo1 = processStartInfo2;
            num1 = (int) num2 * -647941675 ^ -1391667690;
            continue;
          case 4:
            process = DrawThing.\u206D‮⁪‪⁪‪‪⁪⁯⁬‭​‫⁯⁭⁭‎‮⁮⁭⁬‪‎‪‬⁯⁬‬‏‬‍‍⁭‮‪‏‫⁪‪‬‮(processStartInfo1);
            num1 = (int) num2 * -775205918 ^ 1839006388;
            continue;
          case 5:
            DrawThing.\u202D​​⁪​‫⁮‮⁪‍‬⁪⁪‮‎‬⁬⁭⁯​⁮⁭‌⁭‏⁪⁯⁭‮‍‮⁭‌‭‪‏⁭​⁭‏‮(str2, s);
            num1 = (int) num2 * 919256349 ^ 364386351;
            continue;
          case 6:
            str2 = DrawThing.\u200C‏⁪‏⁪​‭⁮‫‭​⁫‎⁬‮‌‬⁬‪‬‫⁫‫‫‎‫‫⁬‌⁮​⁬‮⁯⁮‌‎‫⁪‎‮(\u003CModule\u003E.\u206C‌‌⁯‪⁭‌‫​⁫​‭⁭‪⁫⁪‬‮‏⁮‌⁪‬‬⁮​⁯‌‭‪‍⁯‭⁫‎​⁭​​⁪‮<string>(986172575U), str3);
            num1 = (int) num2 * -1301988585 ^ 1653011282;
            continue;
          default:
            goto label_9;
        }
      }
label_9:
      return graphImage;
    }

    static StringBuilder \u206A‫⁯‬‎‏​⁯⁪⁯‎‮‭⁮‫⁫‬‭‌‫⁯⁯‎⁬⁫‪⁮‍‍‬‍‫‫⁬‫⁬‎‬‌‬‮() => new StringBuilder();

    static StringBuilder \u206D⁯‫‭⁬‪‍‍‍‬⁮‫‬‍⁮​​⁫⁮⁭⁯​‭‭⁭‎‏⁫⁯⁭‫‫‎‮⁭​⁯⁬‏‫‮(
      [In] StringBuilder obj0,
      [In] string obj1)
    {
      return obj0.AppendLine(obj1);
    }

    static bool \u202C‮⁮⁫‪⁯​‬⁮⁮‎‮‮‭‏‍‏⁭‫⁯‎‏‎‮⁮‬⁭‪⁭‪⁪⁬‮‭‌⁮‬‮‎‌‮([In] object obj0, [In] object obj1) => obj0.Equals(obj1);

    static string \u202E‏⁭‮⁪⁪⁬‏​⁪‪​⁮​‬⁯‪‪‮‭‍⁭​‎‌‮⁭⁯‭​⁪⁭‭‎‏‭‭‮‮⁬‮([In] string obj0, [In] string obj1) => obj0 + obj1;

    static StringBuilder \u206F‏‪‫⁪⁪‬‏‮⁬‏‫‏‍‭⁮⁬⁮‍⁪‏⁭‭‮‍⁬‬‌‍‪‌⁬‎⁬‍‫⁫​‪‎‮(
      [In] StringBuilder obj0,
      [In] string obj1)
    {
      return obj0.Append(obj1);
    }

    static string \u200F‫⁬⁭‎‮‪‬‏⁬⁮⁭⁯‏⁭⁯​‮⁫⁮‌⁯‏‬⁮⁮⁪‍⁭⁮‏‎⁯​⁫‌​​‪⁭‮(
      [In] string obj0,
      [In] object obj1,
      [In] object obj2)
    {
      return string.Format(obj0, obj1, obj2);
    }

    static bool \u200F‮‬‌‎‮⁪⁫⁭⁬⁫‪‍‬‬⁯‬‫⁮‮‮‎‎‪⁮⁮‏‏‪‬⁮⁬⁭‬‭‎‫⁭‭‮([In] IEnumerator obj0) => obj0.MoveNext();

    static void \u200E‌⁫‭‌‭‌‪‫‬⁯‭​‍‬‮​‫‪⁬‍‌‍‎‪⁬⁯‬​⁮‎‫⁫‍⁪⁪⁭​⁯⁯‮([In] IDisposable obj0) => obj0.Dispose();

    static string \u206F​‎⁭⁫‍‌‎​⁪⁯‮‎⁮‭​‎‮‬⁪‭‎‮⁪‎‎‍‪‫‎‪⁮‫‎‍‍‪‎‏‭‮([In] object obj0) => obj0.ToString();

    static string \u206F‎‪⁮​⁪⁪‎‫⁬​‍​‍‭⁮⁭‎‎⁮‎‮‮​‌‪⁮⁬‭⁪⁮⁫‫‎⁬‪⁬⁫⁫‪‮([In] string obj0, [In] object obj1) => string.Format(obj0, obj1);

    static string \u200C‏⁪‏⁪​‭⁮‫‭​⁫‎⁬‮‌‬⁬‪‬‫⁫‫‫‎‫‫⁬‌⁮​⁬‮⁯⁮‌‎‫⁪‎‮([In] string obj0, [In] string obj1) => Path.Combine(obj0, obj1);

    static void \u202D​​⁪​‫⁮‮⁪‍‬⁪⁪‮‎‬⁬⁭⁯​⁮⁭‌⁭‏⁪⁯⁭‮‍‮⁭‌‭‪‏⁭​⁭‏‮([In] string obj0, [In] string obj1) => File.WriteAllText(obj0, obj1);

    static ProcessStartInfo \u202A⁬‏⁭⁮‎⁭⁭‬⁮‬‮⁭‏⁪‎⁯‮⁭​‬⁮⁭‏‌⁫⁭‫‪‫‭⁬⁫‫⁪⁬‫⁪⁪‏‮() => new ProcessStartInfo();

    static void \u206D​‭⁫‍‮⁬‬⁬‮‬‍​‫‌⁮‮‏⁮​‍‌‌​‏‫‌‭⁯‬‏‪⁫‪‌⁪‪‌‭⁫‮([In] ProcessStartInfo obj0, [In] string obj1) => obj0.WorkingDirectory = obj1;

    static void \u200F⁭‌⁫‭⁭‪⁪⁮‎⁮‏⁬‬‌⁭‍⁯‪‬​‍​‍⁮‫⁭‎‬‪‭​‭​‌‍⁪⁬‮‏‮([In] ProcessStartInfo obj0, [In] string obj1) => obj0.FileName = obj1;

    static void \u206D‬‍⁫⁯⁮⁪‎‎⁪‫‮⁬‪‍⁫‬⁭‪‫‏‪‭⁪⁮⁭⁪⁬‫‍‬‌‍⁫⁯⁮⁬‬⁫⁪‮([In] ProcessStartInfo obj0, [In] string obj1) => obj0.Arguments = obj1;

    static Process \u206D‮⁪‪⁪‪‪⁪⁯⁬‭​‫⁯⁭⁭‎‮⁮⁭⁬‪‎‪‬⁯⁬‬‏‬‍‍⁭‮‪‏‫⁪‪‬‮([In] ProcessStartInfo obj0) => Process.Start(obj0);

    static void \u200C​‫‏‏‬‬‫‍⁫‭‭‌⁭⁯⁮⁬⁬‍⁭​‌⁭‏‬‏⁬‮​‌‭‍‎‪​⁮‎‪⁮‮‮([In] Process obj0) => obj0.WaitForExit();

    static Image \u206C‭​‍‎‏‮‎⁮‭‍‏‫‎‮⁯‮‏⁯‪‭⁮‌‪‎⁯‍‫​‎⁪⁫⁪​⁭⁬⁪‏⁭⁭‮([In] string obj0) => Image.FromFile(obj0);
  }
}
