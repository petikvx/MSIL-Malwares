// Decompiled with JetBrains decompiler
// Type: Oversikt.Form_Login
// Assembly: UCOMIEnumConnecti, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 5D827560-3619-4F41-B7F7-70598092DF43
// Assembly location: C:\Users\Administrateur\Downloads\Bazaar.2022.05\Backdoor.MSIL.Crysan.egg-57798b73d1c044cbf668948774c77628154f6bcacd563b69df088f38b2645fd0.exe

using System;
using System.ComponentModel;
using System.Drawing;
using System.IO;
using System.Windows.Forms;

namespace Oversikt
{
  public class Form_Login : Form
  {
    private IContainer components = (IContainer) null;
    private static object RegistrationContext;
    private GroupBox gb_login;
    private Label label2;
    private Label Label_korisnicko_ime;
    private Button bt_enter;
    private TextBox tb_password;
    private TextBox tb_username;

    public Form_Login() => this.InitializeComponent();

    private void bt_enter_Click(object sender, EventArgs e)
    {
      StreamReader streamReader = new StreamReader("C:\\\\Student\\Nalozi\\Nalozi.txt");
      Form_Login._login login = new Form_Login._login();
      bool flag = false;
      login.username = this.tb_username.Text;
      login.password = this.tb_password.Text;
      while (!streamReader.EndOfStream && !flag)
      {
        login.temp.username = (string) null;
        login.temp.password = (string) null;
        login.temp.s = (string) null;
        login.temp.rec = (string) null;
        login.temp.tip = (byte) 3;
        int num1 = 0;
        login.temp.s = streamReader.ReadLine();
        int length = login.temp.s.Length;
        for (int index = 0; index < length; ++index)
        {
          if (login.temp.s[index] != ' ' && login.temp.s[index] != ';')
            login.temp.rec += login.temp.s[index].ToString();
          if (login.temp.s[index] == ' ' || login.temp.s[index] == ';')
          {
            ++num1;
            switch (num1)
            {
              case 1:
                login.temp.username = login.temp.rec;
                login.temp.rec = (string) null;
                break;
              case 2:
                login.temp.password = login.temp.rec;
                login.temp.rec = (string) null;
                break;
              case 3:
                login.temp.tip = Convert.ToByte(login.temp.rec);
                login.temp.rec = (string) null;
                break;
            }
          }
        }
        if (login.temp.username == login.username && login.temp.password == login.password)
        {
          login.tip = login.temp.tip;
          flag = true;
          switch (login.tip)
          {
            case 0:
              this.Hide();
              int num2 = (int) new Form_Student().ShowDialog();
              break;
            case 1:
              this.Hide();
              int num3 = (int) new Form_Profesor().ShowDialog();
              break;
          }
        }
      }
      if (flag)
        return;
      int num = (int) MessageBox.Show("neispravno korisnicko ime i/ili lozinka");
      this.tb_username.Text = (string) null;
      this.tb_password.Text = (string) null;
    }

    private void Form_Login_Load(object sender, EventArgs e)
    {
      if (!Directory.Exists("C:\\\\Student\\Nalozi"))
        Directory.CreateDirectory("C:\\\\Student\\Nalozi");
      if (!Directory.Exists("C:\\\\Student\\Datoteke"))
        Directory.CreateDirectory("C:\\\\Student\\Datoteke");
      if (!Directory.Exists("C:\\\\Student\\Lista"))
        Directory.CreateDirectory("C:\\\\Student\\Lista");
      if (File.Exists("C:\\\\Student\\Nalozi\\Nalozi.txt"))
        return;
      using (StreamWriter streamWriter = new StreamWriter("C:\\\\Student\\Nalozi\\Nalozi.txt", true))
      {
        streamWriter.WriteLine("Dimitrije Stanisic 1;");
        streamWriter.WriteLine("Vukasin Jocic 0;");
        streamWriter.WriteLine("Petar Velickovic 1;");
        streamWriter.WriteLine("Pavle Milicevic 0;");
      }
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private static Font WWWWWWWWWWWWWWWWWWW() => new Font("Microsoft Sans Serif", 15.75f, FontStyle.Regular, GraphicsUnit.Point, (byte) 238);

    private void InitializeComponent()
    {
      this.gb_login = new GroupBox();
      this.label2 = new Label();
      this.Label_korisnicko_ime = new Label();
      this.bt_enter = new Button();
      this.tb_password = new TextBox();
      this.tb_username = new TextBox();
      this.gb_login.SuspendLayout();
      this.SuspendLayout();
      this.gb_login.Controls.Add((Control) this.label2);
      this.gb_login.Controls.Add((Control) this.Label_korisnicko_ime);
      this.gb_login.Controls.Add((Control) this.bt_enter);
      this.gb_login.Controls.Add((Control) this.tb_password);
      this.gb_login.Controls.Add((Control) this.tb_username);
      this.gb_login.Location = new Point(32, 29);
      this.gb_login.Margin = new Padding(8, 7, 8, 7);
      this.gb_login.Name = "gb_login";
      this.gb_login.Padding = new Padding(8, 7, 8, 7);
      this.gb_login.Size = new Size(693, 565);
      this.gb_login.TabIndex = 0;
      this.gb_login.TabStop = false;
      this.gb_login.Text = "Login";
      this.label2.AutoSize = true;
      this.label2.Location = new Point(16, 262);
      this.label2.Margin = new Padding(8, 0, 8, 0);
      this.label2.Name = "label2";
      this.label2.Size = new Size(114, 32);
      this.label2.TabIndex = 4;
      this.label2.Text = "Lozinka";
      this.Label_korisnicko_ime.AutoSize = true;
      this.Label_korisnicko_ime.Location = new Point(16, 95);
      this.Label_korisnicko_ime.Margin = new Padding(8, 0, 8, 0);
      this.Label_korisnicko_ime.Name = "Label_korisnicko_ime";
      this.Label_korisnicko_ime.Size = new Size(200, 32);
      this.Label_korisnicko_ime.TabIndex = 3;
      this.Label_korisnicko_ime.Text = "Korisnicko ime";
      this.bt_enter.Font = Form_Login.WWWWWWWWWWWWWWWWWWW();
      this.bt_enter.Location = new Point(24, 339);
      this.bt_enter.Margin = new Padding(8, 7, 8, 7);
      this.bt_enter.Name = "bt_enter";
      this.bt_enter.Size = new Size(653, 110);
      this.bt_enter.TabIndex = 2;
      this.bt_enter.Text = "&Enter";
      this.bt_enter.UseVisualStyleBackColor = true;
      this.bt_enter.Click += new EventHandler(this.bt_enter_Click);
      this.tb_password.Location = new Point(309, (int) byte.MaxValue);
      this.tb_password.Margin = new Padding(8, 7, 8, 7);
      this.tb_password.Name = "tb_password";
      this.tb_password.Size = new Size(361, 38);
      this.tb_password.TabIndex = 1;
      this.tb_password.UseSystemPasswordChar = true;
      this.tb_username.AutoCompleteSource = AutoCompleteSource.FileSystem;
      this.tb_username.Location = new Point(309, 88);
      this.tb_username.Margin = new Padding(8, 7, 8, 7);
      this.tb_username.Name = "tb_username";
      this.tb_username.Size = new Size(361, 38);
      this.tb_username.TabIndex = 0;
      this.AutoScaleDimensions = new SizeF(16f, 31f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.ClientSize = new Size(779, 622);
      this.Controls.Add((Control) this.gb_login);
      this.FormBorderStyle = FormBorderStyle.SizableToolWindow;
      this.Margin = new Padding(8, 7, 8, 7);
      this.Name = nameof (Form_Login);
      this.Load += new EventHandler(this.Form_Login_Load);
      this.gb_login.ResumeLayout(false);
      this.gb_login.PerformLayout();
      this.ResumeLayout(false);
    }

    public struct _temp
    {
      public string username;
      public string password;
      public byte tip;
      public string s;
      public string rec;

      public _temp(string username, string password, string s, byte tip, string rec)
      {
        this.username = username;
        this.password = password;
        this.s = s;
        this.rec = rec;
        this.tip = tip;
      }
    }

    public struct _login
    {
      public string username;
      public string password;
      public byte tip;
      public Form_Login._temp temp;

      public _login(string username, string password, byte tip, Form_Login._temp temp)
      {
        this.username = username;
        this.password = password;
        this.tip = tip;
        this.temp = temp;
      }
    }
  }
}
